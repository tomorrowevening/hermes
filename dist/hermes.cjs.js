"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const h=require("three"),bn=require("tweakpane"),yn=require("@tweakpane/plugin-essentials"),S=require("react"),Jt=require("framer-motion");function xn(e){const n=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const a in e)if(a!=="default"){const t=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,t.get?t:{enumerable:!0,get:()=>e[a]})}}return n.default=e,Object.freeze(n)}const Cn=xn(yn),It=()=>{},Sn=()=>{};function Ve(e){return e.substring(0,1).toUpperCase()+e.substring(1)}function Ue(e,n,a){return Math.min(n,Math.max(e,a))}function kt(e,n,a){return(a-e)/(n-e)}function jt(e,n,a){return e*(1-a)+n*a}function En(e,n){const a=e-n;return Math.sqrt(a*a)}function Qt(){return Math.round(Math.random()*1e6).toString()}function en(e){return e.r!==void 0&&e.g!==void 0&&e.b!==void 0}function tn(e){const n=Math.round(e.r*255),a=Math.round(e.g*255),t=Math.round(e.b*255),i=u=>{const f=u.toString(16);return f.length===1?"0"+f:f},r=i(n),l=i(a),c=i(t);return"#"+r+l+c}function tt(e,n=1){return Number(e.toFixed(n))}exports.totalThreeObjects=0;const nn=()=>{exports.totalThreeObjects=0},Nt=e=>{if(!e)return;let n=e.name.replace(" ","");n.length===0&&(n=`obj_${exports.totalThreeObjects}`,exports.totalThreeObjects++),e.parent!==null&&e.parent.uuid.length>0&&(n=`${e.parent.uuid}.${n}`),e.uuid=n,e.children.forEach(a=>{Nt(a)})},wn=e=>{e?.dispose()},an=e=>{e&&(Array.isArray(e)?e.forEach(n=>n.dispose()):e.dispose())},Lt=e=>{if(e){for(;e.children.length>0;){const n=e.children[0];n.type==="Audio"?(n.pause(),n.parent&&n.parent.remove(n)):Lt(n)}if(e.parent&&e.parent.remove(e),e.isMesh){const n=e;n.geometry?.dispose(),an(n.material)}e.dispose!==void 0&&e.dispose()}};class On{components=new Map;listen;_appID="";_debugEnabled;_broadcastChannel=void 0;_webSocket=void 0;_mode="app";_connected=!1;_useBC=!1;constructor(n,a,t=!0){this._appID=n,this._debugEnabled=a,a&&(this._useBC=t,t?(this._broadcastChannel=new BroadcastChannel(n),this._broadcastChannel.addEventListener("message",this.messageHandler)):(this._webSocket=new WebSocket(n),this._webSocket.addEventListener("open",this.openHandler),this._webSocket.addEventListener("close",this.closeHandler),this._webSocket.addEventListener("message",this.messageHandler)))}addComponent(n,a){this.components.set(n,a)}dispose(){this._broadcastChannel!==void 0&&this._broadcastChannel.removeEventListener("message",this.messageHandler),this._webSocket!==void 0&&(this._webSocket.removeEventListener("open",this.openHandler),this._webSocket.removeEventListener("close",this.closeHandler),this._webSocket.removeEventListener("message",this.messageHandler)),this.components.forEach(n=>{n.dispose()}),this.components.clear()}send(n){this._mode!==n.target&&(this._useBC?this._broadcastChannel?.postMessage(n):this._connected&&this._webSocket?.send(JSON.stringify(n)))}messageHandler=n=>{this.listen!==void 0&&(this._useBC?this.listen(n.data):this.listen(JSON.parse(n.data)))};openHandler=()=>{this._connected=!0};closeHandler=()=>{this._connected=!1};get appID(){return this._appID}get connected(){return this._connected}get debugEnabled(){return this._debugEnabled}get mode(){return this._mode}get isApp(){return this._mode==="app"}get editor(){return this._mode==="editor"}set editor(n){n&&(this._mode="editor")}}const L=new h.EventDispatcher,F={CUSTOM:"ToolEvents::custom",SELECT_DROPDOWN:"ToolEvents::selectDropdown",DRAG_UPDATE:"ToolEvents::dragUpdate",SET_SCENE:"ToolEvents::setScene",GET_OBJECT:"ToolEvents::getObject",SET_OBJECT:"ToolEvents::setObject",UPDATE_OBJECT:"ToolEvents::updateObject",CREATE_TEXTURE:"ToolEvents::createTexture",REQUEST_METHOD:"ToolEvents::requestMethod",ADD_CAMERA:"ToolEvents::addCamera",REMOVE_CAMERA:"ToolEvents::removeCamera"};class lt{app;constructor(n){this.app=n}dispose(){}handleApp(n,a,t){}handleEditor(n,a,t){}}class Mn extends lt{selectDropdown(n,a){this.app.send({event:"selectComponent",target:"app",data:{dropdown:n,value:a}})}updateDropdown(n,a){this.app.send({event:"draggableListUpdate",target:"app",data:{dropdown:n,value:a}})}handleApp(n,a,t){switch(t.event){case"selectComponent":L.dispatchEvent({type:F.SELECT_DROPDOWN,value:t.data});break;case"draggableListUpdate":L.dispatchEvent({type:F.DRAG_UPDATE,value:t.data});break}}}class xt extends lt{project;sheets=new Map;sheetObjects=new Map;sheetObjectCBs=new Map;sheetObjectUnsubscribe=new Map;activeSheet;studio=void 0;static rafDriver=void 0;dispose(){this.project=void 0,this.sheets=new Map,this.sheetObjects=new Map,this.sheetObjectCBs=new Map,this.sheetObjectUnsubscribe=new Map}sheet(n){if(this.project===void 0){console.error("Theatre Project hasn't been created yet.");return}let a=this.sheets.get(n);return a!==void 0||(a=this.project?.sheet(n),this.sheets.set(n,a)),a}playSheet(n,a){this.sheet(n)?.sequence.play(a),this.app.send({event:"playSheet",target:"editor",data:{sheet:n,value:a}})}pauseSheet(n){this.sheet(n)?.sequence.pause(),this.app.send({event:"pauseSheet",target:"editor",data:{sheet:n}})}clearSheetObjects(n){this.sheetObjects.forEach((a,t)=>{t.search(`${n}_`)>-1&&this.unsubscribe(a)})}sheetObject(n,a,t,i){if(this.project===void 0){console.error("Theatre Project hasn't been created yet.");return}const r=this.sheet(n);if(r===void 0)return;const l=`${n}_${a}`;let c=this.sheetObjects.get(l);c!==void 0?c=r.object(a,{...t,...c.value},{reconfigure:!0}):c=r.object(a,t),this.sheetObjects.set(l,c),this.sheetObjectCBs.set(l,i!==void 0?i:It);const u=c.onValuesChange(f=>{if(this.app.editor){for(const g in f){const x=f[g];typeof x=="object"&&en(x)&&(f[g]={r:x.r,g:x.g,b:x.b,a:x.a})}this.app.send({event:"updateSheetObject",target:"app",data:{sheet:n,sheetObject:l,values:f}})}const p=this.sheetObjectCBs.get(l);p!==void 0&&p(f)});return this.sheetObjectUnsubscribe.set(l,u),c}unsubscribe(n){if(this.project===void 0){console.error("Theatre Project hasn't been created yet.");return}const a=n.address.sheetId,t=n.address.objectKey;this.sheets.get(a)?.detachObject(t);const r=`${a}_${t}`,l=this.sheetObjectUnsubscribe.get(r);l!==void 0&&(this.sheetObjects.delete(r),this.sheetObjectCBs.delete(r),this.sheetObjectUnsubscribe.delete(r),l())}handleApp(n,a,t){const i=a;let r;switch(t.event){case"setSheet":r=i.sheets.get(t.data.sheet),r!==void 0&&(i.activeSheet=r,this.studio?.setSelection([r]));break;case"setSheetObject":r=i.sheetObjects.get(`${t.data.sheet}_${t.data.key}`),r!==void 0&&this.studio?.setSelection([r]);break;case"updateSheetObject":r=i.sheets.get(t.data.sheet),r!==void 0&&r.sequence.pause(),r=i.sheetObjectCBs.get(t.data.sheetObject),r!==void 0&&r(t.data.values);break;case"updateTimeline":r=i.sheets.get(t.data.sheet),i.activeSheet!==void 0&&(i.activeSheet.sequence.position=t.data.position);break}}handleEditor(n,a,t){if(n.editor){const i=a;switch(t.event){case"playSheet":i.sheet(t.data.sheet)?.sequence.play(t.data.value);break;case"pauseSheet":i.sheet(t.data.sheet)?.sequence.pause();break}}}handleEditorApp(n,a){if(n.editor){this.studio?.ui.restore(),this.studio?.onSelectionChange(l=>{l.length<1||l.forEach(c=>{let u=c.address.sheetId,f="setSheet",p={};switch(c.type){case"Theatre_Sheet_PublicAPI":f="setSheet",p={sheet:c.address.sheetId},a.activeSheet=a.sheets.get(c.address.sheetId);break;case"Theatre_SheetObject_PublicAPI":f="setSheetObject",u+=`_${c.address.objectKey}`,p={id:u,sheet:c.address.sheetId,key:c.address.objectKey},a.activeSheet=a.sheets.get(c.address.sheetId);break}n.send({event:f,target:"app",data:p})})});let t=-1;const i=()=>{if(xt.rafDriver?.tick(performance.now()),a.activeSheet!==void 0&&t!==a.activeSheet.sequence.position){t=a.activeSheet.sequence.position;const l=a.activeSheet;n.send({event:"updateTimeline",target:"app",data:{position:t,sheet:l.address.sheetId}})}},r=()=>{i(),requestAnimationFrame(r)};i(),r()}else this.studio?.ui.hide()}}function _n(e,n,a){if(e.editor){a.ui.restore(),a.onSelectionChange(l=>{l.length<1||l.forEach(c=>{let u=c.address.sheetId,f="setSheet",p={};switch(c.type){case"Theatre_Sheet_PublicAPI":f="setSheet",p={sheet:c.address.sheetId},n.activeSheet=n.sheets.get(c.address.sheetId);break;case"Theatre_SheetObject_PublicAPI":f="setSheetObject",u+=`_${c.address.objectKey}`,p={id:u,sheet:c.address.sheetId,key:c.address.objectKey},n.activeSheet=n.sheets.get(c.address.sheetId);break}e.send({event:f,target:"app",data:p})})});let t=-1;const i=()=>{if(xt.rafDriver?.tick(performance.now()),n.activeSheet!==void 0&&t!==n.activeSheet.sequence.position){t=n.activeSheet.sequence.position;const l=n.activeSheet;e.send({event:"updateTimeline",target:"app",data:{position:t,sheet:l.address.sheetId}})}},r=()=>{i(),requestAnimationFrame(r)};i(),r()}else a.ui.hide()}function Tn(e){if(e.name==="cameras")return"camera";if(e.name==="interactive")return"interactive";if(e.name==="lights")return"light";if(e.name==="ui")return"ui";if(e.name==="utils")return"utils";const n=e.type;return n.search("Helper")>-1?"icon_utils":n.search("Camera")>-1?"camera":n.search("Light")>-1?"light":"obj3D"}function rn(e){const n={name:e.name,type:e.type,uuid:e.uuid,children:[]};return e.children.forEach(a=>{n.children.push(rn(a))}),n}function Rn(e){const n={};for(const a in e){const t=e[a].value;n[a]={value:t},t===null?n[a].value={src:""}:t.isTexture&&(n[a].value={src:t.image.src})}return n}function Pn(e){switch(e){case"blendSrcAlpha":case"blendDstAlpha":case"blendEquationAlpha":case"clippingPlanes":case"shadowSide":case"precision":return!0}return!1}function Qe(e){const n={};for(const a in e){if(a.substring(0,1)==="_"||a.substring(0,2)==="is"||Pn(a))continue;const t=typeof e[a],i=e[a];switch(t){case"boolean":case"number":case"string":n[a]=i;break;case"object":if(i!==null)if(n[a]=i,i.isTexture)if(i instanceof h.Texture){const r=i.source.toJSON();n[a]={src:r.url}}else i instanceof h.CubeTexture&&(console.log("env map"),console.log(i.source.data),console.log(i.source.toJSON()),n[a]={src:""});else a==="uniforms"&&(n[a]=Rn(n[a]));else n[a]={src:""};break}}return n}function Mt(e){e.updateMatrix();const n={name:e.name,type:e.type,uuid:e.uuid,visible:e.visible,matrix:e.matrix.elements,animations:[],material:void 0,perspectiveCameraInfo:void 0,orthographicCameraInfo:void 0,lightInfo:void 0};e.animations.forEach(t=>{n.animations.push({name:t.name,duration:t.duration,blendMode:t.blendMode})});const a=e.type.toLowerCase();if(a.search("mesh")>-1){const t=e;if(Array.isArray(t.material)){const i=[];t.material.forEach(r=>{i.push(Qe(r))}),n.material=i}else n.material=Qe(t.material)}else if(a.search("points")>-1){const t=e;if(Array.isArray(t.material)){const i=[];t.material.forEach(r=>{i.push(Qe(r))}),n.material=i}else n.material=Qe(t.material)}else if(a.search("line")>-1){const t=e;if(Array.isArray(t.material)){const i=[];t.material.forEach(r=>{i.push(Qe(r))}),n.material=i}else n.material=Qe(t.material)}else a.search("camera")>-1?e.type==="PerspectiveCamera"?n.perspectiveCameraInfo={fov:e.fov,zoom:e.zoom,near:e.near,far:e.far,focus:e.focus,aspect:e.aspect,filmGauge:e.filmGauge,filmOffset:e.filmOffset}:e.type==="OrthographicCamera"&&(n.orthographicCameraInfo={zoom:e.zoom,near:e.near,far:e.far,left:e.left,right:e.right,top:e.top,bottom:e.bottom}):a.search("light")>-1&&(n.lightInfo={color:e.color,intensity:e.intensity,decay:e.decay,distance:e.distance,angle:e.angle,penumbra:e.penumbra,groundColor:e.groundColor,width:e.width,height:e.height});return n}function An(e,n){const a=n.split(".");switch(a.length){case 1:return e[a[0]];case 2:return e[a[0]][a[1]];case 3:return e[a[0]][a[1]][a[2]];case 4:return e[a[0]][a[1]][a[2]][a[3]];case 5:return e[a[0]][a[1]][a[2]][a[3]][a[4]];case 6:return e[a[0]][a[1]][a[2]][a[3]][a[4]][a[5]]}}function D(e,n,a){const t=n.split(".");switch(t.length){case 1:e[t[0]]=a;break;case 2:e[t[0]][t[1]]=a;break;case 3:e[t[0]][t[1]][t[2]]=a;break;case 4:e[t[0]][t[1]][t[2]][t[3]]=a;break;case 5:e[t[0]][t[1]][t[2]][t[3]][t[4]]=a;break}}function bt(e){return new Promise((n,a)=>{const t=new Image;t.onload=()=>{const i=new h.Texture(t);i.wrapS=h.RepeatWrapping,i.wrapT=h.RepeatWrapping,i.needsUpdate=!0,n(i)},t.onerror=a,t.src=e})}class kn extends lt{scene=void 0;renderer=void 0;getObject(n){this.app.debugEnabled&&this.app.send({event:"getObject",target:"app",data:n})}setObject(n){const a=Mt(n);this.app.send({event:"setObject",target:"editor",data:a})}requestMethod(n,a,t,i){this.app.send({event:"requestMethod",target:"app",data:{uuid:n,key:a,value:t,subitem:i}})}updateObject(n,a,t){this.app.send({event:"updateObject",target:"app",data:{uuid:n,key:a,value:t}})}createTexture(n,a,t){this.app.send({event:"createTexture",target:"app",data:{uuid:n,key:a,value:t}})}setScene(n){if(n===void 0||(this.scene=n,!this.app.debugEnabled))return;nn(),Nt(this.scene);const a=rn(this.scene);this.app.send({event:"setScene",target:"editor",data:a})}addCamera(n){if(!this.app.debugEnabled)return;const a=Mt(n);this.app.send({event:"addCamera",target:"editor",data:a})}removeCamera(n){if(!this.app.debugEnabled)return;const a=Mt(n);this.app.send({event:"removeCamera",target:"editor",data:a})}handleApp(n,a,t){switch(t.event){case"getObject":L.dispatchEvent({type:F.GET_OBJECT,value:t.data});break;case"updateObject":L.dispatchEvent({type:F.UPDATE_OBJECT,value:t.data});break;case"createTexture":L.dispatchEvent({type:F.CREATE_TEXTURE,value:t.data});break;case"requestMethod":L.dispatchEvent({type:F.REQUEST_METHOD,value:t.data});break}}handleEditor(n,a,t){switch(t.event){case"setObject":L.dispatchEvent({type:F.SET_OBJECT,value:t.data});break;case"setScene":L.dispatchEvent({type:F.SET_SCENE,value:t.data});break;case"addCamera":L.dispatchEvent({type:F.ADD_CAMERA,value:t.data});break;case"removeCamera":L.dispatchEvent({type:F.REMOVE_CAMERA,value:t.data});break}}resize(n,a){this.renderer?.setSize(n,a)}set dpr(n){this.renderer?.setPixelRatio(Ue(1,2,n))}get dpr(){return this.renderer!==void 0?this.renderer?.getPixelRatio():1}get width(){return this.renderer!==void 0?this.renderer?.domElement.width/this.dpr:0}get height(){return this.renderer!==void 0?this.renderer?.domElement.height/this.dpr:0}get canvas(){return this.renderer!==void 0?this.renderer?.domElement:null}}class jn extends lt{bindCBs;buttonCBs;pane=void 0;appCallbacks=0;editorCallbacks=0;inspectorFolder=void 0;constructor(n){super(n),this.bindCBs=new Map,this.buttonCBs=new Map,n.editor&&this.createGUI()}createGUI(){this.pane=new bn.Pane({title:"GUI"}),this.pane.registerPlugin(Cn)}dispose(){this.bindCBs.clear(),this.buttonCBs.clear(),this.appCallbacks=0,this.editorCallbacks=0,this.app.editor&&(this.pane?.dispose(),this.pane=void 0)}addFolder(n,a=void 0,t=void 0){if(this.app.editor)return this.pane===void 0&&this.createGUI(),(t!==void 0?t:this.pane).addFolder({title:n,...a});this.app.send({event:"addFolder",target:"app",data:{name:n,params:a,parent:t}})}get bindID(){return`debug_${Math.max(this.appCallbacks,this.editorCallbacks)}`}bind(n,a,t,i=void 0){const r=this.bindID,l=t.onChange!==void 0?t.onChange:It;this.bindCBs.set(r,l),this.app.editor?(this.pane===void 0&&this.createGUI(),(i!==void 0?i:this.pane).addBinding(n,a,t).on("change",u=>{this.app.send({event:"updateBind",target:"app",data:{id:r,value:u.value}})}),this.editorCallbacks++):(this.app.send({event:"bindObject",target:"app",data:{id:r,name:a,params:t,parent:i}}),this.appCallbacks++)}triggerBind(n,a){const t=this.bindCBs.get(n);t!==void 0?t(a):console.warn(`No callback for: ${n}`,a)}button(n,a,t=void 0){const i=this.bindID;this.buttonCBs.set(i,a),this.app.editor?(this.pane===void 0&&this.createGUI(),(t!==void 0?t:this.pane).addButton({title:n}).on("click",()=>{this.app.send({event:"clickButton",target:"app",data:{id:i}})}),this.editorCallbacks++):(this.app.send({event:"addButton",target:"app",data:{id:i,name:n,callback:a,parent:t}}),this.appCallbacks++)}triggerButton(n){const a=this.buttonCBs.get(n);a!==void 0&&a()}createInspector(){this.inspectorFolder=this.addFolder("Inspector",this.pane)}clearInspector(){const n=this.inspectorFolder.children.length-1;for(let a=n;a>-1;--a)this.inspectorFolder.remove(this.inspectorFolder.children[a])}handleApp(n,a,t){const i=a;switch(t.event){case"addFolder":i.addFolder(t.data.name,t.data.params,t.data.parent);break;case"bindObject":i.bind(t.data.name,t.data.params,t.data.parent);break;case"updateBind":i.triggerBind(t.data.id,t.data.value);break;case"addButton":i.button(t.data.name,t.data.callback,t.data.parent);break;case"clickButton":i.triggerButton(t.data.id);break}}}var Dt={exports:{}},rt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ht;function Dn(){if(Ht)return rt;Ht=1;var e=S,n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),t=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(c,u,f){var p,g={},x=null,K=null;f!==void 0&&(x=""+f),u.key!==void 0&&(x=""+u.key),u.ref!==void 0&&(K=u.ref);for(p in u)t.call(u,p)&&!r.hasOwnProperty(p)&&(g[p]=u[p]);if(c&&c.defaultProps)for(p in u=c.defaultProps,u)g[p]===void 0&&(g[p]=u[p]);return{$$typeof:n,type:c,key:x,ref:K,props:g,_owner:i.current}}return rt.Fragment=a,rt.jsx=l,rt.jsxs=l,rt}var st={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $t;function In(){return $t||($t=1,process.env.NODE_ENV!=="production"&&function(){var e=S,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),P=Symbol.iterator,G="@@iterator";function A(s){if(s===null||typeof s!="object")return null;var m=P&&s[P]||s[G];return typeof m=="function"?m:null}var T=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function H(s){{for(var m=arguments.length,y=new Array(m>1?m-1:0),E=1;E<m;E++)y[E-1]=arguments[E];B("error",s,y)}}function B(s,m,y){{var E=T.ReactDebugCurrentFrame,$=E.getStackAddendum();$!==""&&(m+="%s",y=y.concat([$]));var q=y.map(function(I){return String(I)});q.unshift("Warning: "+m),Function.prototype.apply.call(console[s],console,q)}}var te=!1,ae=!1,xe=!1,Z=!1,pe=!1,ue;ue=Symbol.for("react.module.reference");function we(s){return!!(typeof s=="string"||typeof s=="function"||s===t||s===r||pe||s===i||s===f||s===p||Z||s===K||te||ae||xe||typeof s=="object"&&s!==null&&(s.$$typeof===x||s.$$typeof===g||s.$$typeof===l||s.$$typeof===c||s.$$typeof===u||s.$$typeof===ue||s.getModuleId!==void 0))}function Oe(s,m,y){var E=s.displayName;if(E)return E;var $=m.displayName||m.name||"";return $!==""?y+"("+$+")":y}function me(s){return s.displayName||"Context"}function U(s){if(s==null)return null;if(typeof s.tag=="number"&&H("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case t:return"Fragment";case a:return"Portal";case r:return"Profiler";case i:return"StrictMode";case f:return"Suspense";case p:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case c:var m=s;return me(m)+".Consumer";case l:var y=s;return me(y._context)+".Provider";case u:return Oe(s,s.render,"ForwardRef");case g:var E=s.displayName||null;return E!==null?E:U(s.type)||"Memo";case x:{var $=s,q=$._payload,I=$._init;try{return U(I(q))}catch{return null}}}return null}var ge=Object.assign,w=0,Ce,Me,Re,_e,Te,Pe,De;function Ie(){}Ie.__reactDisabledLog=!0;function ie(){{if(w===0){Ce=console.log,Me=console.info,Re=console.warn,_e=console.error,Te=console.group,Pe=console.groupCollapsed,De=console.groupEnd;var s={configurable:!0,enumerable:!0,value:Ie,writable:!0};Object.defineProperties(console,{info:s,log:s,warn:s,error:s,group:s,groupCollapsed:s,groupEnd:s})}w++}}function Se(){{if(w--,w===0){var s={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:ge({},s,{value:Ce}),info:ge({},s,{value:Me}),warn:ge({},s,{value:Re}),error:ge({},s,{value:_e}),group:ge({},s,{value:Te}),groupCollapsed:ge({},s,{value:Pe}),groupEnd:ge({},s,{value:De})})}w<0&&H("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var He=T.ReactCurrentDispatcher,$e;function he(s,m,y){{if($e===void 0)try{throw Error()}catch($){var E=$.stack.trim().match(/\n( *(at )?)/);$e=E&&E[1]||""}return`
`+$e+s}}var v=!1,b;{var O=typeof WeakMap=="function"?WeakMap:Map;b=new O}function N(s,m){if(!s||v)return"";{var y=b.get(s);if(y!==void 0)return y}var E;v=!0;var $=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var q;q=He.current,He.current=null,ie();try{if(m){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(ke){E=ke}Reflect.construct(s,[],I)}else{try{I.call()}catch(ke){E=ke}s.call(I.prototype)}}else{try{throw Error()}catch(ke){E=ke}s()}}catch(ke){if(ke&&E&&typeof ke.stack=="string"){for(var j=ke.stack.split(`
`),fe=E.stack.split(`
`),ee=j.length-1,ne=fe.length-1;ee>=1&&ne>=0&&j[ee]!==fe[ne];)ne--;for(;ee>=1&&ne>=0;ee--,ne--)if(j[ee]!==fe[ne]){if(ee!==1||ne!==1)do if(ee--,ne--,ne<0||j[ee]!==fe[ne]){var ye=`
`+j[ee].replace(" at new "," at ");return s.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",s.displayName)),typeof s=="function"&&b.set(s,ye),ye}while(ee>=1&&ne>=0);break}}}finally{v=!1,He.current=q,Se(),Error.prepareStackTrace=$}var Je=s?s.displayName||s.name:"",Vt=Je?he(Je):"";return typeof s=="function"&&b.set(s,Vt),Vt}function re(s,m,y){return N(s,!1)}function _(s){var m=s.prototype;return!!(m&&m.isReactComponent)}function M(s,m,y){if(s==null)return"";if(typeof s=="function")return N(s,_(s));if(typeof s=="string")return he(s);switch(s){case f:return he("Suspense");case p:return he("SuspenseList")}if(typeof s=="object")switch(s.$$typeof){case u:return re(s.render);case g:return M(s.type,m,y);case x:{var E=s,$=E._payload,q=E._init;try{return M(q($),m,y)}catch{}}}return""}var V=Object.prototype.hasOwnProperty,se={},oe=T.ReactDebugCurrentFrame;function k(s){if(s){var m=s._owner,y=M(s.type,s._source,m?m.type:null);oe.setExtraStackFrame(y)}else oe.setExtraStackFrame(null)}function W(s,m,y,E,$){{var q=Function.call.bind(V);for(var I in s)if(q(s,I)){var j=void 0;try{if(typeof s[I]!="function"){var fe=Error((E||"React class")+": "+y+" type `"+I+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof s[I]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw fe.name="Invariant Violation",fe}j=s[I](m,I,E,y,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(ee){j=ee}j&&!(j instanceof Error)&&(k($),H("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",E||"React class",y,I,typeof j),k(null)),j instanceof Error&&!(j.message in se)&&(se[j.message]=!0,k($),H("Failed %s type: %s",y,j.message),k(null))}}}var Q=Array.isArray;function Ae(s){return Q(s)}function Xe(s){{var m=typeof Symbol=="function"&&Symbol.toStringTag,y=m&&s[Symbol.toStringTag]||s.constructor.name||"Object";return y}}function ut(s){try{return dt(s),!1}catch{return!0}}function dt(s){return""+s}function ht(s){if(ut(s))return H("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Xe(s)),dt(s)}var Ne=T.ReactCurrentOwner,nt={key:!0,ref:!0,__self:!0,__source:!0},at,ft,Ze;Ze={};function St(s){if(V.call(s,"ref")){var m=Object.getOwnPropertyDescriptor(s,"ref").get;if(m&&m.isReactWarning)return!1}return s.ref!==void 0}function Et(s){if(V.call(s,"key")){var m=Object.getOwnPropertyDescriptor(s,"key").get;if(m&&m.isReactWarning)return!1}return s.key!==void 0}function pt(s,m){if(typeof s.ref=="string"&&Ne.current&&m&&Ne.current.stateNode!==m){var y=U(Ne.current.type);Ze[y]||(H('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',U(Ne.current.type),s.ref),Ze[y]=!0)}}function Le(s,m){{var y=function(){at||(at=!0,H("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",m))};y.isReactWarning=!0,Object.defineProperty(s,"key",{get:y,configurable:!0})}}function Ut(s,m){{var y=function(){ft||(ft=!0,H("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",m))};y.isReactWarning=!0,Object.defineProperty(s,"ref",{get:y,configurable:!0})}}var o=function(s,m,y,E,$,q,I){var j={$$typeof:n,type:s,key:m,ref:y,props:I,_owner:q};return j._store={},Object.defineProperty(j._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(j,"_self",{configurable:!1,enumerable:!1,writable:!1,value:E}),Object.defineProperty(j,"_source",{configurable:!1,enumerable:!1,writable:!1,value:$}),Object.freeze&&(Object.freeze(j.props),Object.freeze(j)),j};function C(s,m,y,E,$){{var q,I={},j=null,fe=null;y!==void 0&&(ht(y),j=""+y),Et(m)&&(ht(m.key),j=""+m.key),St(m)&&(fe=m.ref,pt(m,$));for(q in m)V.call(m,q)&&!nt.hasOwnProperty(q)&&(I[q]=m[q]);if(s&&s.defaultProps){var ee=s.defaultProps;for(q in ee)I[q]===void 0&&(I[q]=ee[q])}if(j||fe){var ne=typeof s=="function"?s.displayName||s.name||"Unknown":s;j&&Le(I,ne),fe&&Ut(I,ne)}return o(s,j,fe,$,E,Ne.current,I)}}var R=T.ReactCurrentOwner,z=T.ReactDebugCurrentFrame;function J(s){if(s){var m=s._owner,y=M(s.type,s._source,m?m.type:null);z.setExtraStackFrame(y)}else z.setExtraStackFrame(null)}var ve;ve=!1;function de(s){return typeof s=="object"&&s!==null&&s.$$typeof===n}function wt(){{if(R.current){var s=U(R.current.type);if(s)return`

Check the render method of \``+s+"`."}return""}}function Ot(s){{if(s!==void 0){var m=s.fileName.replace(/^.*[\\\/]/,""),y=s.lineNumber;return`

Check your code at `+m+":"+y+"."}return""}}var it={};function Ee(s){{var m=wt();if(!m){var y=typeof s=="string"?s:s.displayName||s.name;y&&(m=`

Check the top-level render call using <`+y+">.")}return m}}function be(s,m){{if(!s._store||s._store.validated||s.key!=null)return;s._store.validated=!0;var y=Ee(m);if(it[y])return;it[y]=!0;var E="";s&&s._owner&&s._owner!==R.current&&(E=" It was passed a child from "+U(s._owner.type)+"."),J(s),H('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',y,E),J(null)}}function ze(s,m){{if(typeof s!="object")return;if(Ae(s))for(var y=0;y<s.length;y++){var E=s[y];de(E)&&be(E,m)}else if(de(s))s._store&&(s._store.validated=!0);else if(s){var $=A(s);if(typeof $=="function"&&$!==s.entries)for(var q=$.call(s),I;!(I=q.next()).done;)de(I.value)&&be(I.value,m)}}}function Ye(s){{var m=s.type;if(m==null||typeof m=="string")return;var y;if(typeof m=="function")y=m.propTypes;else if(typeof m=="object"&&(m.$$typeof===u||m.$$typeof===g))y=m.propTypes;else return;if(y){var E=U(m);W(y,s.props,"prop",E,s)}else if(m.PropTypes!==void 0&&!ve){ve=!0;var $=U(m);H("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",$||"Unknown")}typeof m.getDefaultProps=="function"&&!m.getDefaultProps.isReactClassApproved&&H("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ge(s){{for(var m=Object.keys(s.props),y=0;y<m.length;y++){var E=m[y];if(E!=="children"&&E!=="key"){J(s),H("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",E),J(null);break}}s.ref!==null&&(J(s),H("Invalid attribute `ref` supplied to `React.Fragment`."),J(null))}}function We(s,m,y,E,$,q){{var I=we(s);if(!I){var j="";(s===void 0||typeof s=="object"&&s!==null&&Object.keys(s).length===0)&&(j+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var fe=Ot($);fe?j+=fe:j+=wt();var ee;s===null?ee="null":Ae(s)?ee="array":s!==void 0&&s.$$typeof===n?(ee="<"+(U(s.type)||"Unknown")+" />",j=" Did you accidentally export a JSX literal instead of a component?"):ee=typeof s,H("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",ee,j)}var ne=C(s,m,y,$,q);if(ne==null)return ne;if(I){var ye=m.children;if(ye!==void 0)if(E)if(Ae(ye)){for(var Je=0;Je<ye.length;Je++)ze(ye[Je],s);Object.freeze&&Object.freeze(ye)}else H("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ze(ye,s)}return s===t?Ge(ne):Ye(ne),ne}}function pn(s,m,y){return We(s,m,y,!0)}function mn(s,m,y){return We(s,m,y,!1)}var gn=mn,vn=pn;st.Fragment=t,st.jsx=gn,st.jsxs=vn}()),st}process.env.NODE_ENV==="production"?Dt.exports=Dn():Dt.exports=In();var d=Dt.exports;function Ft(e){return e.title.search("<")>-1?d.jsx("button",{className:"svg",dangerouslySetInnerHTML:{__html:e.title}}):d.jsx("button",{children:e.title})}const Nn=d.jsxs("svg",{className:"closeIcon",width:"14",height:"14",fill:"none",stroke:"#666666",strokeMiterlimit:"10",children:[d.jsx("circle",{cx:"7",cy:"7",r:"6"}),d.jsx("line",{x1:"4",y1:"4",x2:"10",y2:"10"}),d.jsx("line",{x1:"4",y1:"10",x2:"10",y2:"4"})]}),Ln=d.jsx("svg",{className:"dragIcon",width:"14",height:"14",fill:"#666666",stroke:"none",children:d.jsx("path",{d:`M10.43,4H3.57C3.26,4,3,4.22,3,4.5v1C3,5.78,3.26,6,3.57,6h6.86C10.74,6,11,5.78,11,5.5v-1
C11,4.22,10.74,4,10.43,4z M10.43,8H3.57C3.26,8,3,8.22,3,8.5v1C3,9.78,3.26,10,3.57,10h6.86C10.74,10,11,9.78,11,9.5v-1
C11,8.22,10.74,8,10.43,8z`})});function sn(e){return d.jsx(Jt.Reorder.Item,{value:e.title,children:d.jsxs("div",{children:[Ln,d.jsx("span",{children:e.title}),d.jsx("button",{className:"closeIcon",onClick:()=>{e.onDelete(e.index)},children:Nn})]})},e.title)}function on(e){const[n,a]=S.useState(!1),[t,i]=S.useState(e.options),r=f=>{e.onDragComplete(f),i(f)},l=f=>{const p=[...t];p.splice(f,1),r(p)},c=[];t.forEach((f,p)=>{c.push(d.jsx(sn,{index:p,title:f,onDelete:l},f))});let u="dropdown draggable";return e.subdropdown&&(u+=" subdropdown"),d.jsxs("div",{className:u,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[d.jsx(Ft,{title:e.title}),d.jsx(Jt.Reorder.Group,{axis:"y",values:t,onReorder:r,style:{visibility:n?"visible":"hidden"},children:c})]})}function cn(e){const[n,a]=S.useState(!1),t=[];e.options.map((r,l)=>{e.onSelect!==void 0&&(r.onSelect=e.onSelect),t.push(d.jsx(ln,{option:r},l))});let i="dropdown";return e.subdropdown&&(i+=" subdropdown"),d.jsxs("div",{className:i,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[d.jsx(Ft,{title:e.title}),d.jsx("ul",{style:{visibility:n?"visible":"hidden"},children:t})]})}function ln(e){const{option:n}=e,[a,t]=S.useState("");let i;switch(n.type){case"draggable":i=d.jsx(on,{title:n.title,options:n.value,onDragComplete:r=>{n.onDragComplete!==void 0&&n.onDragComplete(r)},subdropdown:!0});break;case"dropdown":i=d.jsx(cn,{title:n.title,options:n.value,onSelect:n.onSelect,subdropdown:!0});break;case"option":i=d.jsx("button",{onClick:()=>{n.onSelect!==void 0&&n.onSelect(n.value),n.selectable&&(a!==n.title?t(n.title):t(""))},children:n.title});break}return d.jsx("li",{className:a===n.title?"selected":"",children:i},Qt())}function Fn(e,n,a){function t(r){switch(n.forEach(l=>{l.callback(e,l.remote,r)}),r.event){case"custom":L.dispatchEvent({type:F.CUSTOM,value:r.data});break}}function i(r){switch(a.forEach(l=>{l.callback(e,l.remote,r)}),r.event){case"custom":L.dispatchEvent({type:F.CUSTOM,value:r.data});break}}e.listen=r=>{r.target==="editor"?i(r):t(r)}}function Ct(e){const[n,a]=S.useState(e.open!==void 0?e.open:!0),t=!n||e.children===void 0;return d.jsxs("div",{className:`accordion ${t?"hide":""}`,children:[d.jsxs("button",{className:"toggle",onClick:()=>{const i=!n;e.onToggle!==void 0&&e.onToggle(i),a(i)},children:[d.jsx("p",{className:`status ${n?"open":""}`,children:"Toggle"}),d.jsx("p",{className:"label",children:Ve(e.label)})]}),e.button,d.jsx("div",{className:n?"open":"",children:d.jsx("div",{children:e.children})})]})}function Bt(e){const[n,a]=S.useState(!1),t=e.child!==void 0&&e.child.children.length>0,i=[];return e.child!==void 0&&e.child.children.length>0&&e.child.children.map(r=>{i.push(d.jsx(Bt,{child:r,three:e.three},Math.random()))}),d.jsx(d.Fragment,{children:e.child!==void 0&&d.jsxs("div",{className:"childObject",children:[d.jsxs("div",{className:"child",children:[t?d.jsx("button",{className:"status",style:{backgroundPositionX:n?"-14px":"2px"},onClick:()=>{a(!n)}}):null,d.jsx("button",{className:"name",style:{left:t?"20px":"5px"},onClick:()=>{e.child!==void 0&&(e.three.getObject(e.child.uuid),n||a(!0))},children:e.child.name.length>0?`${e.child.name} (${e.child.type})`:`${e.child.type}::${e.child.uuid}`}),d.jsx("div",{className:`icon ${Tn(e.child)}`})]}),d.jsx("div",{className:n?"open":"",children:d.jsx("div",{className:"container",children:i})})]},Math.random())})}function un(e){const n=[];return e.child?.children.map(a=>{n.push(d.jsx(Bt,{child:a,three:e.three},Math.random()))}),d.jsx("div",{className:`scene ${e.class!==void 0?e.class:""}`,children:n})}const Bn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5klEQVRoge2Y0Q6EIAwE6cX//+X6cCFpSMEKVTdk501OpRNKiyelFC0b8Ps6gCwoggZF0KAIGhRBgyJoUAQNiqCxjciR9SLV//eZiAyvK3U8i/QVaQO2YyLSFVvlkdTKDjJCukh2ykR5ZEW+kHmlatl90RaBtDkK/w7CYhuRUEO0ee3l+J3m55Vm+17vtwjTnV1V3QA8qfbeUXCzRWDpiLLS+OyzvRW7IzW9R+okvclsqR09743bo0yUpc1+lSJvNsa002+Euk9GKzV7SmZDRIMiaFAEDYqgQRE0KIIGRdCgCBoUQeMEMERadX7YUz8AAAAASUVORK5CYII=";function Un(e){return"items"in e}function Ke(e){const n=[];return e.items.forEach(a=>{Un(a)?n.push(d.jsx(Ke,{title:Ve(a.title),items:a.items},Math.random())):n.push(d.jsx(ct,{title:a.title,prop:a.prop,value:a.value,type:a.type,min:a.min,max:a.max,step:a.step,disabled:a.disabled,options:a.options,onChange:(t,i)=>{a.onChange!==void 0&&a.onChange(t,i)}},Math.random()))}),d.jsx(Ct,{label:e.title,open:e.expanded===!0,children:n})}function Vn(e){return!(e==="alphaHash"||e==="alphaToCoverage"||e==="attenuationDistance"||e==="blendAlpha"||e==="blendColor"||e==="blendDstAlpha"||e==="colorWrite"||e==="combine"||e==="defaultAttributeValues"||e==="depthFunc"||e==="forceSinglePass"||e==="glslVersion"||e==="linecap"||e==="linejoin"||e==="linewidth"||e==="normalMapType"||e==="precision"||e==="premultipliedAlpha"||e==="shadowSide"||e==="toneMapped"||e==="uniformsGroups"||e==="uniformsNeedUpdate"||e==="userData"||e==="vertexColors"||e==="version"||e==="wireframeLinecap"||e==="wireframeLinejoin"||e==="wireframeLinewidth"||e.slice(0,4)==="clip"||e.slice(0,7)==="polygon"||e.slice(0,7)==="stencil"||e.slice(0,2)==="is")}function Y(e){switch(e){case"alphaMap":return"Alpha Map";case"anisotropyMap":return"Anisotropy Map";case"anisotropyRotation":return"Anisotropy Rotation";case"aoMap":return"AO Map";case"aoMapIntensity":return"AO Map Intensity";case"attenuationColor":return"Attenuation Color";case"blendAlpha":return"Blend Alpha";case"blendColor":return"Blend Color";case"blendDst":return"Blend Dst";case"blendDstAlpha":return"Blend Dst Alha";case"blendEquation":return"Blend Equation";case"blendEquationAlpha":return"Blend Equation Alpha";case"blending":return"Blending";case"blendSrc":return"Blend Src";case"blendSrcAlpha":return"Blend Src Alpha";case"bumpMap":return"Bump Map";case"bumpScale":return"Bump Scale";case"clearcoatMap":return"Clearcoat Map";case"clearcoatNormalMap":return"Clearcoat Normal Map";case"clearcoatNormalScale":return"Clearcoat Normal Scale";case"clearcoatRoughness":return"Clearcoat Roughness";case"clearcoatRoughnessMap":return"Clearcoat Roughness Map";case"color":return"Color";case"defines":return"Defines";case"depthTest":return"Depth Test";case"depthWrite":return"Depth Write";case"displacementBias":return"Displacement Bias";case"displacementMap":return"Displacement Map";case"displacementScale":return"Displacement Scale";case"dithering":return"Dithering";case"emissive":return"Emissive";case"emissiveMap":return"Emissive Map";case"emissiveIntensity":return"Emissive Intensity";case"envMap":return"Environment Map";case"envMapIntensity":return"Environment Map Intensity";case"extensions":return"Extensions";case"flatShading":return"Flat Shading";case"fragmentShader":return"Fragment Shader";case"fog":return"Fog";case"gradientMap":return"Gradient Map";case"ior":return"IOR";case"iridescenceIOR":return"Iridescence IOR";case"iridescenceMap":return"Iridescence Map";case"iridescenceThicknessMap":return"Iridescence Thickness Map";case"iridescenceThicknessRange":return"Iridescence Thickness Range";case"lights":return"Lights";case"lightMap":return"Light Map";case"lightMapIntensity":return"Light Map Intensity";case"map":return"Map";case"matcap":return"Matcap";case"metalness":return"Metalness";case"metalnessMap":return"Metalness Map";case"name":return"Name";case"normalMap":return"Normal Map";case"normalScale":return"Normal Scale";case"opacity":return"Opacity";case"reflectivity":return"Reflectivity";case"refractionRatio":return"Refraction Ratio";case"roughness":return"Roughness";case"roughnessMap":return"Roughness Map";case"sheenColor":return"Sheen Color";case"sheenColorMap":return"Sheen Color Map";case"sheenRoughness":return"Sheen Roughness";case"sheenRoughnessMap":return"Sheen Roughness Map";case"shininess":return"Shininess";case"side":return"Side";case"size":return"Size";case"sizeAttenuation":return"Size Attenuation";case"specular":return"Specular";case"specularColor":return"Specular Color";case"specularColorMap":return"Specular Color Map";case"specularIntensity":return"Specular Intensity";case"specularIntensityMap":return"Specular Map Intensity";case"thickness":return"Thickness";case"thicknessMap":return"Thickness Map";case"transmission":return"Transmission";case"transmissionMap":return"Transmission Map";case"transparent":return"Transparent";case"type":return"Type";case"uuid":return"UUID";case"uniforms":return"Uniforms";case"vertexShader":return"Vertex Shader";case"visible":return"Visible";case"wireframe":return"Wireframe"}return e}function dn(e){return e.toLowerCase().search("intensity")>-1||e==="anisotropyRotation"||e==="blendAlpha"||e==="bumpScale"||e==="clearcoatRoughness"||e==="displacementBias"||e==="displacementScale"||e==="metalness"||e==="opacity"||e==="reflectivity"||e==="refractionRatio"||e==="roughness"||e==="sheenRoughness"||e==="thickness"}function Hn(){const e=document.createElement("input");return e.type="file",new Promise((n,a)=>{e.addEventListener("change",function(){if(e.files===null)a();else{const t=e.files[0],i=new FileReader;i.onload=function(r){n(r.target.result)},i.readAsDataURL(t)}}),e.click()})}const $n=[{title:"Front",value:h.FrontSide},{title:"Back",value:h.BackSide},{title:"Double",value:h.DoubleSide}],zn=[{title:"No Blending",value:h.NoBlending},{title:"Normal",value:h.NormalBlending},{title:"Additive",value:h.AdditiveBlending},{title:"Subtractive",value:h.SubtractiveBlending},{title:"Multiply",value:h.MultiplyBlending},{title:"Custom",value:h.CustomBlending}],Yn=[{title:"Add",value:h.AddEquation},{title:"Subtract",value:h.SubtractEquation},{title:"Reverse Subtract",value:h.ReverseSubtractEquation},{title:"Min",value:h.MinEquation},{title:"Max",value:h.MaxEquation}],Gn=[{title:"Zero",valye:h.ZeroFactor},{title:"One",valye:h.OneFactor},{title:"Src Color",valye:h.SrcColorFactor},{title:"One Minus Src Color",valye:h.OneMinusSrcColorFactor},{title:"Src Alpha",valye:h.SrcAlphaFactor},{title:"One Minus Src Alpha",valye:h.OneMinusSrcAlphaFactor},{title:"Dst Alpha",valye:h.DstAlphaFactor},{title:"One Minus Dst Alpha",valye:h.OneMinusDstAlphaFactor},{title:"Dst Color",valye:h.DstColorFactor},{title:"One Minus Dst Color",valye:h.OneMinusDstColorFactor},{title:"Src Alpha Saturate",valye:h.SrcAlphaSaturateFactor},{title:"Constant Color",valye:h.ConstantColorFactor},{title:"One Minus Constant Color",valye:h.OneMinusConstantColorFactor},{title:"Constant Alpha",valye:h.ConstantAlphaFactor},{title:"One Minus Constant Alpha",valye:h.OneMinusConstantAlphaFactor}],Wn=[{title:"Zero",valye:h.ZeroFactor},{title:"One",valye:h.OneFactor},{title:"Src Color",valye:h.SrcColorFactor},{title:"One Minus Src Color",valye:h.OneMinusSrcColorFactor},{title:"Src Alpha",valye:h.SrcAlphaFactor},{title:"One Minus Src Alpha",valye:h.OneMinusSrcAlphaFactor},{title:"Dst Alpha",valye:h.DstAlphaFactor},{title:"One Minus Dst Alpha",valye:h.OneMinusDstAlphaFactor},{title:"Dst Color",valye:h.DstColorFactor},{title:"One Minus Dst Color",valye:h.OneMinusDstColorFactor},{title:"Constant Color",valye:h.ConstantColorFactor},{title:"One Minus Constant Color",valye:h.OneMinusConstantColorFactor},{title:"Constant Alpha",valye:h.ConstantAlphaFactor},{title:"One Minus Constant Alpha",valye:h.OneMinusConstantAlphaFactor}];function ot(e,n){e.needsUpdate=!0,e.type="option",e.options=n}function qn(e,n,a,t){return{type:"boolean",title:Y(e),prop:e,value:n,needsUpdate:!0,onChange:(i,r)=>{t.updateObject(a.uuid,`material.${e}`,r),t.updateObject(a.uuid,"material.needsUpdate",!0);const l=t.scene?.getObjectByProperty("uuid",a.uuid);l!==void 0&&D(l,`material.${e}`,r)}}}function Kn(e,n,a,t){const i={type:"number",title:Y(e),prop:e,value:n,min:void 0,max:void 0,step:.01,needsUpdate:!0,onChange:(r,l)=>{t.updateObject(a.uuid,`material.${e}`,l),t.updateObject(a.uuid,"material.needsUpdate",!0);const c=t.scene?.getObjectByProperty("uuid",a.uuid);c!==void 0&&D(c,`material.${e}`,l)}};switch(e){case"blending":ot(i,zn);break;case"blendDst":ot(i,Wn);break;case"blendEquation":ot(i,Yn);break;case"blendSrc":ot(i,Gn);break;case"side":ot(i,$n);break}return dn(e)&&(i.value=Number(n),i.type="range",i.min=0,i.max=1,i.step=.01),i}function Xn(e,n,a,t){const i={type:"string",title:Y(e),prop:e,value:n,needsUpdate:!0,onChange:(l,c)=>{t.updateObject(a.uuid,`material.${e}`,c),t.updateObject(a.uuid,"material.needsUpdate",!0);const u=t.scene?.getObjectByProperty("uuid",a.uuid);u!==void 0&&D(u,`material.${e}`,c)}};return(e==="vertexShader"||e==="fragmentShader")&&(i.disabled=!1,i.latest=i.value,i.onChange=(l,c)=>{i.latest=c}),i}function _t(e){return e.x!==void 0&&e.y!==void 0&&e.z===void 0}function Tt(e){return e.x!==void 0&&e.y!==void 0&&e.z!==void 0&&e.w===void 0}function Rt(e){return e.x!==void 0&&e.y!==void 0&&e.z!==void 0&&e.w!==void 0}function Zn(e,n,a,t){const i=[];if(n.isColor)return{title:Y(e),prop:e,type:"color",value:n,onChange:(r,l)=>{const c=new h.Color(l);t.updateObject(a.uuid,`material.${e}`,c);const u=t.scene?.getObjectByProperty("uuid",a.uuid);u!==void 0&&D(u,`material.${e}`,c)}};if(Array.isArray(n)){for(const r in n)i.push({title:`${r}`,type:`${typeof n[r]}`,value:n[r],onChange:(l,c)=>{t.updateObject(a.uuid,`material.${e}`,c);const u=t.scene?.getObjectByProperty("uuid",a.uuid);u!==void 0&&D(u,`material.${e}`,c)}});return{title:Y(e),items:i}}else{if(_t(n))return{title:Y(e),prop:e,type:"vector2",value:n,onChange:(r,l)=>{t.updateObject(a.uuid,`material.${e}`,l);const c=t.scene?.getObjectByProperty("uuid",a.uuid);c!==void 0&&D(c,`material.${e}`,l)}};if(Tt(n))return{title:Y(e),prop:e,type:"grid3",value:n,onChange:(r,l)=>{t.updateObject(a.uuid,`material.${e}`,l);const c=t.scene?.getObjectByProperty("uuid",a.uuid);c!==void 0&&D(c,`material.${e}`,l)}};if(Rt(n))return{title:Y(e),prop:e,type:"grid4",value:n,onChange:(r,l)=>{t.updateObject(a.uuid,`material.${e}`,l);const c=t.scene?.getObjectByProperty("uuid",a.uuid);c!==void 0&&D(c,`material.${e}`,l)}};if(n.src!==void 0)return{title:Y(e),type:"image",value:n,onChange:(r,l)=>{t.createTexture(a.uuid,`material.${r}`,l);const c=t.scene?.getObjectByProperty("uuid",a.uuid);c!==void 0&&bt(l).then(u=>{D(c,`material.${r}`,u),D(c,"material.needsUpdate",!0)})}};switch(e){case"defines":for(const r in n)i.push({title:Ve(`${r}`),type:"string",value:n[r].toString(),disabled:!0});if(i.length>0)return{title:Y(e),items:i};break;case"extensions":for(const r in n)i.push({title:Ve(`${r}`),type:"boolean",value:n[r],disabled:!0});if(i.length>0)return{title:Y(e),items:i};break;case"uniforms":for(const r in n){const l=n[r].value,c=typeof l;if(l.isColor)i.push({title:Y(r),prop:r,type:"color",value:l,onChange:(u,f)=>{const p=new h.Color(f);t.updateObject(a.uuid,`material.uniforms.${r}.value`,p);const g=t.scene?.getObjectByProperty("uuid",a.uuid);g!==void 0&&D(g,`material.uniforms.${r}.value`,p)}});else if(Array.isArray(l)){const u=[];for(const f in l)u.push({title:`${f}`,type:`${typeof l[f]}`,value:l[f],onChange:(p,g)=>{t.updateObject(a.uuid,`material.uniforms.${r}.value.${f}`,g);const x=t.scene?.getObjectByProperty("uuid",a.uuid);x!==void 0&&D(x,`material.uniforms.${r}.value.${f}`,g)}});i.push({title:Y(r),items:u})}else if(_t(l))i.push({title:`${Y(r)}`,prop:r,type:"vector2",value:l,onChange:(u,f)=>{t.updateObject(a.uuid,`material.uniforms.${r}.value`,f);const p=t.scene?.getObjectByProperty("uuid",a.uuid);p!==void 0&&D(p,`material.uniforms.${r}.value`,f)}});else if(Tt(l))i.push({title:`${Y(r)}`,prop:r,type:"grid3",value:l,onChange:(u,f)=>{t.updateObject(a.uuid,`material.uniforms.${r}.value`,f);const p=t.scene?.getObjectByProperty("uuid",a.uuid);p!==void 0&&D(p,`material.uniforms.${r}.value`,f)}});else if(Rt(l))i.push({title:`${Y(r)}`,prop:r,type:"grid4",value:l,onChange:(u,f)=>{t.updateObject(a.uuid,`material.uniforms.${r}.value`,f);const p=t.scene?.getObjectByProperty("uuid",a.uuid);p!==void 0&&D(p,`material.uniforms.${r}.value`,f)}});else if(c==="number"){const u={title:Y(r),prop:r,type:"number",value:l,step:.01,onChange:(f,p)=>{t.updateObject(a.uuid,`material.uniforms.${r}.value`,p);const g=t.scene?.getObjectByProperty("uuid",a.uuid);g!==void 0&&D(g,`material.uniforms.${r}.value`,p)}};dn(r)&&(u.type="range",u.min=0,u.max=1),i.push(u)}else if(c==="string")i.push({title:Y(r),prop:r,type:c,value:l,onChange:(u,f)=>{t.updateObject(a.uuid,`material.uniforms.${r}.value`,f);const p=t.scene?.getObjectByProperty("uuid",a.uuid);p!==void 0&&D(p,`material.uniforms.${r}.value`,f)}});else if(l.src!==void 0)i.push({title:Y(r),type:"image",value:l.src,onChange:(u,f)=>{const p=`material.uniforms.${r}.value`;t.createTexture(a.uuid,p,f);const g=t.scene?.getObjectByProperty("uuid",a.uuid);g!==void 0&&bt(f).then(x=>{D(g,p,x),D(g,"material.needsUpdate",!0)})}});else if(l.elements!==void 0)i.push({title:`${Y(r)}`,prop:r,type:l.elements.length>9?"grid4":"grid3",value:l,onChange:(u,f)=>{t.updateObject(a.uuid,`material.uniforms.${r}.value`,f);const p=t.scene?.getObjectByProperty("uuid",a.uuid);p!==void 0&&D(p,`material.uniforms.${r}.value`,f)}});else{const u=[],f=l;for(const p in f){const g=p,x=f[p],K=typeof x,P=`material.uniforms.${r}.value.${g}`;x.isColor?u.push({title:Y(g),prop:g,type:"color",value:x,onChange:(G,A)=>{const T=new h.Color(A);t.updateObject(a.uuid,P,T);const H=t.scene?.getObjectByProperty("uuid",a.uuid);H!==void 0&&D(H,P,T)}}):_t(x)?u.push({title:`${Y(g)}`,prop:g,type:"vector2",value:x,onChange:(G,A)=>{t.updateObject(a.uuid,P,A);const T=t.scene?.getObjectByProperty("uuid",a.uuid);T!==void 0&&D(T,P,A)}}):Tt(x)?u.push({title:`${Y(g)}`,prop:g,type:"vector3",value:x,onChange:(G,A)=>{t.updateObject(a.uuid,P,A);const T=t.scene?.getObjectByProperty("uuid",a.uuid);T!==void 0&&D(T,P,A)}}):Rt(x)?u.push({title:`${Y(g)}`,prop:g,type:"vector4",value:x,onChange:(G,A)=>{t.updateObject(a.uuid,P,A);const T=t.scene?.getObjectByProperty("uuid",a.uuid);T!==void 0&&D(T,P,A)}}):K==="number"?u.push({title:Y(g),prop:g,type:"number",value:x,step:.01,onChange:(G,A)=>{t.updateObject(a.uuid,P,A);const T=t.scene?.getObjectByProperty("uuid",a.uuid);T!==void 0&&D(T,P,A)}}):K==="string"?u.push({title:Y(g),prop:g,type:"string",value:x,onChange:(G,A)=>{t.updateObject(a.uuid,P,A);const T=t.scene?.getObjectByProperty("uuid",a.uuid);T!==void 0&&D(T,P,A)}}):x.src!==void 0?u.push({title:Y(g),type:"image",value:x.src,onChange:(G,A)=>{t.createTexture(a.uuid,P,A);const T=t.scene?.getObjectByProperty("uuid",a.uuid);T!==void 0&&bt(A).then(H=>{D(T,P,H),D(T,"material.needsUpdate",!0)})}}):x.elements!==void 0&&u.push({title:Y(g),prop:g,type:x.elements.length>9?"grid4":"grid3",value:x,step:.01,onChange:(G,A)=>{t.updateObject(a.uuid,P,A);const T=t.scene?.getObjectByProperty("uuid",a.uuid);T!==void 0&&D(T,P,A)}})}u.length>0&&(u.sort((p,g)=>p.title<g.title?-1:p.title>g.title?1:0),i.push({title:Ve(r),items:u}))}}if(i.sort((r,l)=>r.title<l.title?-1:r.title>l.title?1:0),i.length>0)return{title:Y(e),items:i};break;default:console.log(">>> other prop to add...",e);break}}}function zt(e,n,a){const t=[];for(const i in e){if(!Vn(i))continue;const r=typeof e[i],l=e[i];if(r==="boolean")t.push(qn(i,l,n,a));else if(r==="number")t.push(Kn(i,l,n,a));else if(r==="string")t.push(Xn(i,l,n,a));else if(r==="object"){const c=Zn(i,l,n,a);c!==void 0&&t.push(c)}else l!==void 0&&console.log("other:",i,r,l)}return t.sort((i,r)=>i.title<r.title?-1:i.title>r.title?1:0),t.push({title:"Update Material",type:"button",onChange:()=>{a.updateObject(n.uuid,"material.needsUpdate",!0)}}),t}function Jn(e,n){const a=e.material;if(Array.isArray(a)){const t=[],i=a.length;for(let r=0;r<i;r++)t.push(d.jsx(Ke,{title:`Material ${r}`,items:zt(a[r],e,n)},`Material ${r}`));return d.jsx(d.Fragment,{children:t})}else return d.jsx(Ke,{title:"Material",items:zt(a,e,n)})}function Yt(e){const n=S.useRef(null),a=S.useRef(null),[t,i]=S.useState(e.value),r=l=>{const c=l.target.value;i(c),e.onChange!==void 0&&e.onChange(e.prop,c)};return S.useEffect(()=>{let l=!1,c=-1,u=0,f=t;const p=P=>{l=!0,u=f,c=P.clientX},g=P=>{if(!l)return;const G=e.step!==void 0?e.step:1,A=(P.clientX-c)*G;f=Number((u+A).toFixed(4)),e.min!==void 0&&(f=Math.max(f,e.min)),e.max!==void 0&&(f=Math.min(f,e.max)),n.current!==null&&(n.current.value=f.toString()),e.type==="range"&&a.current!==null&&(a.current.value=f.toString()),e.onChange!==void 0&&e.onChange(e.prop,f)},x=()=>{l=!1},K=()=>{l=!1};return e.labelRef.current?.addEventListener("mousedown",p,!1),document.addEventListener("mouseup",x,!1),document.addEventListener("mousemove",g,!1),document.addEventListener("contextmenu",K,!1),()=>{e.labelRef.current?.removeEventListener("mousedown",p),document.removeEventListener("mouseup",x),document.removeEventListener("mousemove",g),document.removeEventListener("contextmenu",K)}},[t]),d.jsxs(d.Fragment,{children:[e.type==="number"&&d.jsx("input",{alt:e.alt,className:e.className,ref:n,type:"number",value:t,min:e.min,max:e.max,step:e.step,disabled:e.disabled,onChange:r}),e.type==="range"&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"text",value:t.toString(),onChange:r,disabled:e.disabled,ref:n,className:"min"}),d.jsx("input",{disabled:e.disabled,type:"range",value:t,min:e.min,max:e.max,step:e.step,onChange:r,ref:a})]})]})}function Qn(e){const n=S.useRef(null),a=S.useRef(null),t=S.useRef(null),i=S.useRef(null),r=S.useRef(null),l=S.useRef(null),[c,u]=S.useState(e.value),[f,p]=S.useState({min:e.min,max:e.max}),[g,x]=S.useState(!1);function K(){g||(window.addEventListener("mousemove",G),window.addEventListener("mouseup",P),window.addEventListener("mouseup",P),x(!0))}function P(){window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",P),x(!1)}function G(B){const te=r.current.getBoundingClientRect(),ae=Ue(0,99,B.clientX-te.left)/99,xe=Ue(0,99,B.clientY-te.top)/99,Z=tt(jt(f.min,f.max,ae),3),pe=tt(jt(f.min,f.max,xe),3);e.onChange({target:{value:{x:Z,y:pe}}}),u({x:Z,y:pe})}function A(B){let te=c.x,ae=c.y;B.target===n.current?te=Number(B.target.value):ae=Number(B.target.value),u({x:te,y:ae})}function T(){const B=Number(t.current.value);p({min:B,max:f.max}),(c.x<B||c.y<B)&&u({x:Ue(B,f.max,c.x),y:Ue(B,f.max,c.y)})}function H(){const B=Number(i.current.value);p({min:f.min,max:B}),(c.x>B||c.y>B)&&u({x:Ue(f.min,B,c.x),y:Ue(f.min,B,c.y)})}return S.useEffect(()=>{const B=kt(f.min,f.max,c.x),te=kt(f.min,f.max,c.y);l.current.style.left=`${B*100}%`,l.current.style.top=`${te*100}%`},[f,c]),d.jsxs("div",{className:"vector2",children:[d.jsxs("div",{className:"fields",children:[d.jsxs("div",{children:[d.jsx("label",{children:"X:"}),d.jsx("input",{ref:n,type:"number",value:c.x,min:f.min,max:f.max,step:.01,onChange:A})]}),d.jsxs("div",{children:[d.jsx("label",{children:"Y:"}),d.jsx("input",{ref:a,type:"number",value:c.y,min:f.min,max:f.max,step:.01,onChange:A})]}),d.jsxs("div",{children:[d.jsx("label",{children:"Min:"}),d.jsx("input",{ref:t,type:"number",value:f.min,step:.01,onChange:T})]}),d.jsxs("div",{children:[d.jsx("label",{children:"Max:"}),d.jsx("input",{ref:i,type:"number",value:f.max,step:.01,onChange:H})]})]}),d.jsxs("div",{className:"input",ref:r,onMouseDown:K,onMouseUp:P,children:[d.jsx("div",{className:"x"}),d.jsx("div",{className:"y"}),d.jsx("div",{className:"pt",ref:l})]})]})}function ea(e){const[n,a]=S.useState(e.value),t=l=>{const{alt:c,value:u}=l.target,f={...n};f[c]=Number(u),console.log(c,f),a(f),e.onChange({target:{value:f}})},i=l=>{const{alt:c,value:u}=l.target,f=Number(c),p={...n};p.elements[f]=Number(u),a(p)},r=[];if(e.value.elements===void 0){const l=n;["x","y","z"].forEach(u=>{r.push(d.jsxs("div",{children:[d.jsx("label",{children:u.toUpperCase()}),d.jsx("input",{alt:u,type:"number",value:l[u],step:.01,onChange:t})]},u))})}else{const l=n;for(let c=0;c<9;c++){const u=(c+1).toString();r.push(d.jsxs("div",{children:[d.jsx("label",{children:u}),d.jsx("input",{alt:c.toString(),type:"number",value:l.elements[c],step:.01,onChange:i})]},u))}}return d.jsx("div",{className:"grid3",children:r})}function ta(e){const[n,a]=S.useState(e.value),t=l=>{const{alt:c,value:u}=l.target,f={...n};f[c]=Number(u),console.log(c,f),a(f),e.onChange({target:{value:f}})},i=l=>{const{alt:c,value:u}=l.target,f=Number(c),p={...n};p.elements[f]=Number(u),a(p)},r=[];if(e.value.elements===void 0){const l=n;["x","y","z","w"].forEach(u=>{r.push(d.jsxs("div",{children:[d.jsx("label",{children:u.toUpperCase()}),d.jsx("input",{alt:u,type:"number",value:l[u],step:.01,onChange:t})]},u))})}else{const l=n;for(let c=0;c<16;c++){const u=(c+1).toString();r.push(d.jsxs("div",{children:[d.jsx("label",{children:u}),d.jsx("input",{alt:c.toString(),type:"number",value:l.elements[c],step:.01,onChange:i})]},u))}}return d.jsx("div",{className:"grid4",children:r})}function ct(e){let n=e.value;n!==void 0&&n.isColor!==void 0&&(n=tn(e.value));const[a,t]=S.useState(n),i=S.useRef(null),r=S.useRef(null),l=p=>{let g=p.target.value;e.type==="boolean"?g=p.target.checked:e.type==="option"&&(g=e.options[g].value),t(g),e.onChange!==void 0&&e.onChange(e.prop!==void 0?e.prop:e.title,g)},c={};e.disabled&&(c.opacity=.8);const u=e.type==="string"&&(a.length>100||a.search(`
`)>-1),f=u||e.type==="image"||e.type==="vector2";return d.jsxs("div",{className:`field ${f?"block":""}`,style:c,children:[e.type!=="button"&&d.jsx("label",{ref:i,children:Ve(e.title)},"fieldLabel"),e.type==="string"&&!u&&d.jsx("input",{type:"text",disabled:e.disabled,onChange:l,value:a}),e.type==="string"&&u&&d.jsx("textarea",{cols:50,rows:10,disabled:e.disabled!==void 0?e.disabled:!0,onChange:l,value:a}),e.type==="boolean"&&d.jsx("input",{type:"checkbox",disabled:e.disabled,onChange:l,checked:a}),e.type==="number"&&d.jsx(Yt,{value:a,type:e.type,prop:e.prop!==void 0?e.prop:e.title,min:e.min,max:e.max,step:e.step,disabled:e.disabled,labelRef:i,onChange:e.onChange}),e.type==="range"&&d.jsx(Yt,{value:a,type:e.type,prop:e.prop!==void 0?e.prop:e.title,min:e.min,max:e.max,step:e.step,disabled:e.disabled,labelRef:i,onChange:e.onChange}),e.type==="color"&&d.jsxs(d.Fragment,{children:[d.jsx("input",{type:"text",value:a.toString(),onChange:l,disabled:e.disabled,className:"color"}),d.jsx("input",{type:"color",value:a,onChange:l,disabled:e.disabled})]}),e.type==="button"&&d.jsx("button",{disabled:e.disabled,onClick:()=>{e.onChange!==void 0&&e.onChange(e.prop!==void 0?e.prop:e.title,!0)},children:e.title}),e.type==="image"&&d.jsx("img",{ref:r,onClick:()=>{Hn().then(p=>{r.current.src=p,e.onChange!==void 0&&e.onChange(e.prop!==void 0?e.prop:e.title,p)})},src:a.length>0?a:Bn}),e.type==="option"&&d.jsx(d.Fragment,{children:d.jsx("select",{onChange:l,disabled:e.disabled,defaultValue:e.value,children:e.options?.map((p,g)=>d.jsx("option",{value:p.value,children:Ve(p.title)},g))})}),e.type==="vector2"&&d.jsx(Qn,{value:a,min:0,max:1,onChange:l}),e.type==="grid3"&&d.jsx(ea,{value:a,onChange:l}),e.type==="grid4"&&d.jsx(ta,{value:a,onChange:l})]})}function Gt(e){switch(e){case"fov":return"FOV";case"zoom":return"Zoom";case"near":return"Near";case"far":return"Far";case"focus":return"Focus";case"aspect":return"Aspect";case"filmGauge":return"Film Gauge";case"filmOffset":return"Film Offset";case"left":return"Left";case"right":return"Right";case"top":return"Top";case"bottom":return"Bottom"}return e}function na(e,n){const a=[];if(e.perspectiveCameraInfo!==void 0)for(const t in e.perspectiveCameraInfo)a.push({title:Gt(t),prop:t,type:"number",step:.01,value:e.perspectiveCameraInfo[t],onChange:(i,r)=>{n.updateObject(e.uuid,i,r),n.requestMethod(e.uuid,"updateProjectionMatrix");const l=n.scene?.getObjectByProperty("uuid",e.uuid);l!==void 0&&(D(l,i,r),l.updateProjectionMatrix())}});else if(e.orthographicCameraInfo!==void 0)for(const t in e.orthographicCameraInfo)a.push({title:Gt(t),prop:t,type:"number",step:.01,value:e.perspectiveCameraInfo[t],onChange:(i,r)=>{n.updateObject(e.uuid,i,r),n.requestMethod(e.uuid,"updateProjectionMatrix");const l=n.scene?.getObjectByProperty("uuid",e.uuid);l!==void 0&&(D(l,i,r),l.updateProjectionMatrix())}});return d.jsx(Ke,{title:"Camera",items:a})}const aa=Math.PI/180,ia=180/Math.PI;function et(e,n,a,t,i){return t+(e-n)*(i-t)/(a-n)}function ra(e){return e*aa}function Pt(e){return e*ia}function sa(e,n){const a=new h.Matrix4;a.elements=e.matrix;const t=new h.Vector3,i=new h.Euler,r=new h.Vector3;e.uuid.length>0&&(t.setFromMatrixPosition(a),i.setFromRotationMatrix(a),r.setFromMatrixScale(a));const l=(u,f)=>{n.updateObject(e.uuid,u,f);const p=n.scene?.getObjectByProperty("uuid",e.uuid);p!==void 0&&D(p,u,f)},c=(u,f)=>{l(u,ra(f))};return d.jsx(Ke,{title:"Transform",items:[{title:"Position X",prop:"position.x",type:"number",value:t.x,onChange:l},{title:"Position Y",prop:"position.y",type:"number",value:t.y,onChange:l},{title:"Position Z",prop:"position.z",type:"number",value:t.z,onChange:l},{title:"Rotation X",prop:"rotation.x",type:"number",value:tt(Pt(i.x)),min:-360,max:360,step:.1,onChange:c},{title:"Rotation Y",prop:"rotation.y",type:"number",value:tt(Pt(i.y)),min:-360,max:360,step:.1,onChange:c},{title:"Rotation Z",prop:"rotation.z",type:"number",value:tt(Pt(i.z)),min:-360,max:360,step:.1,onChange:c},{title:"Scale X",prop:"scale.x",type:"number",value:r.x,step:.01,onChange:l},{title:"Scale Y",prop:"scale.y",type:"number",value:r.y,step:.01,onChange:l},{title:"Scale Z",prop:"scale.z",type:"number",value:r.z,step:.01,onChange:l}]})}function Wt(e){switch(e){case"color":return"Color";case"intensity":return"Intensity";case"decay":return"Decay";case"distance":return"Distance";case"angle":return"Angle";case"penumbra":return"Penumbra";case"groundColor":return"Ground Color";case"width":return"Width";case"height":return"Height"}return e}function oa(e,n){const a=[];if(e.lightInfo!==void 0)for(const t in e.lightInfo){const i=e.lightInfo[t];i!==void 0&&(i.isColor!==void 0?a.push({title:Wt(t),prop:t,type:"color",value:i,onChange:(r,l)=>{const c=new h.Color(l);n.updateObject(e.uuid,r,c);const u=n.scene?.getObjectByProperty("uuid",e.uuid);u!==void 0&&D(u,r,c)}}):a.push({title:Wt(t),prop:t,type:typeof i,value:i,step:typeof i=="number"?.01:void 0,onChange:(r,l)=>{n.updateObject(e.uuid,r,l);const c=n.scene?.getObjectByProperty("uuid",e.uuid);c!==void 0&&D(c,r,l)}}))}return d.jsx(Ke,{title:"Light",items:a})}function ca(e,n){const a=[],t=[];let i=0;e.animations.forEach(c=>{i=Math.max(i,c.duration),c.duration>0&&t.push({title:c.name,items:[{title:"Duration",type:"number",value:c.duration,disabled:!0},{title:"Blend Mode",type:"option",disabled:!0,options:[{title:"Normal",value:2500},{title:"Additive",value:2501}]}]})}),a.push({title:"Animations",items:t});const r=n.scene?.getObjectByProperty("uuid",e.uuid);let l=!1;if(r!==void 0){const c=r.mixer;if(l=c!==void 0,l){const u=[{title:"Time Scale",type:"range",value:c.timeScale,step:.01,min:-1,max:2,onChange:(f,p)=>{c.timeScale=p,n.updateObject(e.uuid,"mixer.timeScale",p)}}];u.push({title:"Stop All",type:"button",onChange:()=>{c.stopAllAction(),n.requestMethod(e.uuid,"stopAllAction",void 0,"mixer")}}),a.push({title:"Mixer",items:u})}}return d.jsx(Ke,{title:"Animation",items:a})}const hn={name:"",uuid:"",type:"",visible:!1,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],animations:[],material:void 0,perspectiveCameraInfo:void 0,orthographicCameraInfo:void 0,lightInfo:void 0};let ce={...hn};function fn(e){const[n,a]=S.useState(-1);S.useEffect(()=>{function l(u){ce={...u.value},a(Date.now())}function c(){ce={...hn},a(Date.now())}return L.addEventListener(F.SET_SCENE,c),L.addEventListener(F.SET_OBJECT,l),()=>{L.removeEventListener(F.SET_SCENE,c),L.removeEventListener(F.SET_OBJECT,l)}},[]);const t=ce.type.toLowerCase(),i=ce.animations.length>0||ce.mixer!==void 0,r=t.search("mesh")>-1||t.search("line")>-1||t.search("points")>-1;return d.jsx(Ct,{label:"Inspector",children:d.jsx("div",{id:"Inspector",className:e.class,children:ce.uuid.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs(d.Fragment,{children:[d.jsx(ct,{type:"string",title:"Name",prop:"name",value:ce.name,disabled:!0}),d.jsx(ct,{type:"string",title:"Type",prop:"type",value:ce.type,disabled:!0}),d.jsx(ct,{type:"string",title:"UUID",prop:"uuid",value:ce.uuid,disabled:!0}),d.jsx(ct,{type:"boolean",title:"Visible",prop:"visible",value:ce.visible,onChange:(l,c)=>{e.three.updateObject(ce.uuid,l,c);const u=e.three.scene?.getObjectByProperty("uuid",ce.uuid);u!==void 0&&D(u,l,c)}})]}),d.jsxs(d.Fragment,{children:[sa(ce,e.three),i?ca(ce,e.three):null,t.search("camera")>-1?na(ce,e.three):null,t.search("light")>-1?oa(ce,e.three):null,r?Jn(ce,e.three):null]})]})},n)},"Inspector")}function la(e){const[n,a]=S.useState(e.scene);S.useEffect(()=>{const r=l=>{a(l.value)};return L.addEventListener(F.SET_SCENE,r),()=>{L.removeEventListener(F.SET_SCENE,r)}},[]);const t=n!==null,i="Hierarchy - "+(t?`${n?.name}`:"No Scene");return d.jsxs("div",{id:"SidePanel",children:[d.jsx(Ct,{label:i,open:!0,children:d.jsx(d.Fragment,{children:t&&d.jsx(un,{child:n,three:e.three})})}),d.jsx(fn,{three:e.three})]},"SidePanel")}function ua(e){function n(){return e.three.scene===void 0?(console.log("No scene:",e.three),!1):!0}const a=c=>{if(!n())return;const u=e.three.scene?.getObjectByProperty("uuid",c.value);u!==void 0&&e.three.setObject(u)},t=(c,u,f)=>{if(!n())return;const p=e.three.scene?.getObjectByProperty("uuid",c);p!==void 0&&D(p,u,f)},i=c=>{if(!n())return;const u=c.value,{key:f,value:p,uuid:g}=u;t(g,f,p)},r=c=>{if(!n())return;const u=c.value;bt(u.value).then(f=>{t(u.uuid,u.key,f),t(u.uuid,"material.needsUpdate",!0)})},l=c=>{if(!n())return;const{key:u,uuid:f,value:p,subitem:g}=c.value,x=e.three.scene?.getObjectByProperty("uuid",f);if(x!==void 0)try{g!==void 0?An(x,g)[u](p):x[u](p)}catch(K){console.log("Error requesting method:"),console.log(K),console.log(u),console.log(p)}};return S.useEffect(()=>(L.addEventListener(F.GET_OBJECT,a),L.addEventListener(F.UPDATE_OBJECT,i),L.addEventListener(F.CREATE_TEXTURE,r),L.addEventListener(F.REQUEST_METHOD,l),()=>{L.removeEventListener(F.GET_OBJECT,a),L.removeEventListener(F.UPDATE_OBJECT,i),L.removeEventListener(F.CREATE_TEXTURE,r),L.removeEventListener(F.REQUEST_METHOD,l)}),[]),null}class da extends h.Line{constructor(n,a){const t=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],i=new h.BufferGeometry;i.setAttribute("position",new h.Float32BufferAttribute(t,3)),i.computeBoundingSphere();const r=new h.LineBasicMaterial({fog:!1});super(i,r),this.light=n,this.color=a,this.type="RectAreaLightHelper";const l=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],c=new h.BufferGeometry;c.setAttribute("position",new h.Float32BufferAttribute(l,3)),c.computeBoundingSphere(),this.add(new h.Mesh(c,new h.MeshBasicMaterial({side:h.BackSide,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);const n=this.material.color,a=Math.max(n.r,n.g,n.b);a>1&&n.multiplyScalar(1/a),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const qt={type:"change"},At={type:"start"},Kt={type:"end"},mt=new h.Ray,Xt=new h.Plane,ha=Math.cos(70*h.MathUtils.DEG2RAD);class fa extends h.EventDispatcher{constructor(n,a){super(),this.object=n,this.domElement=a,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new h.Vector3,this.cursor=new h.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:h.MOUSE.ROTATE,MIDDLE:h.MOUSE.DOLLY,RIGHT:h.MOUSE.PAN},this.touches={ONE:h.TOUCH.ROTATE,TWO:h.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return c.phi},this.getAzimuthalAngle=function(){return c.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(o){o.addEventListener("keydown",nt),this._domElementKeyEvents=o},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",nt),this._domElementKeyEvents=null},this.saveState=function(){t.target0.copy(t.target),t.position0.copy(t.object.position),t.zoom0=t.object.zoom},this.reset=function(){t.target.copy(t.target0),t.object.position.copy(t.position0),t.object.zoom=t.zoom0,t.object.updateProjectionMatrix(),t.dispatchEvent(qt),t.update(),r=i.NONE},this.update=function(){const o=new h.Vector3,C=new h.Quaternion().setFromUnitVectors(n.up,new h.Vector3(0,1,0)),R=C.clone().invert(),z=new h.Vector3,J=new h.Quaternion,ve=new h.Vector3,de=2*Math.PI;return function(Ot=null){const it=t.object.position;o.copy(it).sub(t.target),o.applyQuaternion(C),c.setFromVector3(o),t.autoRotate&&r===i.NONE&&me(we(Ot)),t.enableDamping?(c.theta+=u.theta*t.dampingFactor,c.phi+=u.phi*t.dampingFactor):(c.theta+=u.theta,c.phi+=u.phi);let Ee=t.minAzimuthAngle,be=t.maxAzimuthAngle;isFinite(Ee)&&isFinite(be)&&(Ee<-Math.PI?Ee+=de:Ee>Math.PI&&(Ee-=de),be<-Math.PI?be+=de:be>Math.PI&&(be-=de),Ee<=be?c.theta=Math.max(Ee,Math.min(be,c.theta)):c.theta=c.theta>(Ee+be)/2?Math.max(Ee,c.theta):Math.min(be,c.theta)),c.phi=Math.max(t.minPolarAngle,Math.min(t.maxPolarAngle,c.phi)),c.makeSafe(),t.enableDamping===!0?t.target.addScaledVector(p,t.dampingFactor):t.target.add(p),t.target.sub(t.cursor),t.target.clampLength(t.minTargetRadius,t.maxTargetRadius),t.target.add(t.cursor),t.zoomToCursor&&xe||t.object.isOrthographicCamera?c.radius=Te(c.radius):c.radius=Te(c.radius*f),o.setFromSpherical(c),o.applyQuaternion(R),it.copy(t.target).add(o),t.object.lookAt(t.target),t.enableDamping===!0?(u.theta*=1-t.dampingFactor,u.phi*=1-t.dampingFactor,p.multiplyScalar(1-t.dampingFactor)):(u.set(0,0,0),p.set(0,0,0));let ze=!1;if(t.zoomToCursor&&xe){let Ye=null;if(t.object.isPerspectiveCamera){const Ge=o.length();Ye=Te(Ge*f);const We=Ge-Ye;t.object.position.addScaledVector(te,We),t.object.updateMatrixWorld()}else if(t.object.isOrthographicCamera){const Ge=new h.Vector3(ae.x,ae.y,0);Ge.unproject(t.object),t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/f)),t.object.updateProjectionMatrix(),ze=!0;const We=new h.Vector3(ae.x,ae.y,0);We.unproject(t.object),t.object.position.sub(We).add(Ge),t.object.updateMatrixWorld(),Ye=o.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),t.zoomToCursor=!1;Ye!==null&&(this.screenSpacePanning?t.target.set(0,0,-1).transformDirection(t.object.matrix).multiplyScalar(Ye).add(t.object.position):(mt.origin.copy(t.object.position),mt.direction.set(0,0,-1).transformDirection(t.object.matrix),Math.abs(t.object.up.dot(mt.direction))<ha?n.lookAt(t.target):(Xt.setFromNormalAndCoplanarPoint(t.object.up,t.target),mt.intersectPlane(Xt,t.target))))}else t.object.isOrthographicCamera&&(ze=f!==1,ze&&(t.object.zoom=Math.max(t.minZoom,Math.min(t.maxZoom,t.object.zoom/f)),t.object.updateProjectionMatrix()));return f=1,xe=!1,ze||z.distanceToSquared(t.object.position)>l||8*(1-J.dot(t.object.quaternion))>l||ve.distanceToSquared(t.target)>0?(t.dispatchEvent(qt),z.copy(t.object.position),J.copy(t.object.quaternion),ve.copy(t.target),!0):!1}}(),this.dispose=function(){t.domElement.removeEventListener("contextmenu",Ze),t.domElement.removeEventListener("pointerdown",k),t.domElement.removeEventListener("pointercancel",Q),t.domElement.removeEventListener("wheel",ut),t.domElement.removeEventListener("pointermove",W),t.domElement.removeEventListener("pointerup",Q),t._domElementKeyEvents!==null&&(t._domElementKeyEvents.removeEventListener("keydown",nt),t._domElementKeyEvents=null)};const t=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let r=i.NONE;const l=1e-6,c=new h.Spherical,u=new h.Spherical;let f=1;const p=new h.Vector3,g=new h.Vector2,x=new h.Vector2,K=new h.Vector2,P=new h.Vector2,G=new h.Vector2,A=new h.Vector2,T=new h.Vector2,H=new h.Vector2,B=new h.Vector2,te=new h.Vector3,ae=new h.Vector2;let xe=!1;const Z=[],pe={};let ue=!1;function we(o){return o!==null?2*Math.PI/60*t.autoRotateSpeed*o:2*Math.PI/60/60*t.autoRotateSpeed}function Oe(o){const C=Math.abs(o*.01);return Math.pow(.95,t.zoomSpeed*C)}function me(o){u.theta-=o}function U(o){u.phi-=o}const ge=function(){const o=new h.Vector3;return function(R,z){o.setFromMatrixColumn(z,0),o.multiplyScalar(-R),p.add(o)}}(),w=function(){const o=new h.Vector3;return function(R,z){t.screenSpacePanning===!0?o.setFromMatrixColumn(z,1):(o.setFromMatrixColumn(z,0),o.crossVectors(t.object.up,o)),o.multiplyScalar(R),p.add(o)}}(),Ce=function(){const o=new h.Vector3;return function(R,z){const J=t.domElement;if(t.object.isPerspectiveCamera){const ve=t.object.position;o.copy(ve).sub(t.target);let de=o.length();de*=Math.tan(t.object.fov/2*Math.PI/180),ge(2*R*de/J.clientHeight,t.object.matrix),w(2*z*de/J.clientHeight,t.object.matrix)}else t.object.isOrthographicCamera?(ge(R*(t.object.right-t.object.left)/t.object.zoom/J.clientWidth,t.object.matrix),w(z*(t.object.top-t.object.bottom)/t.object.zoom/J.clientHeight,t.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),t.enablePan=!1)}}();function Me(o){t.object.isPerspectiveCamera||t.object.isOrthographicCamera?f/=o:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function Re(o){t.object.isPerspectiveCamera||t.object.isOrthographicCamera?f*=o:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),t.enableZoom=!1)}function _e(o,C){if(!t.zoomToCursor)return;xe=!0;const R=t.domElement.getBoundingClientRect(),z=o-R.left,J=C-R.top,ve=R.width,de=R.height;ae.x=z/ve*2-1,ae.y=-(J/de)*2+1,te.set(ae.x,ae.y,1).unproject(t.object).sub(t.object.position).normalize()}function Te(o){return Math.max(t.minDistance,Math.min(t.maxDistance,o))}function Pe(o){g.set(o.clientX,o.clientY)}function De(o){_e(o.clientX,o.clientX),T.set(o.clientX,o.clientY)}function Ie(o){P.set(o.clientX,o.clientY)}function ie(o){x.set(o.clientX,o.clientY),K.subVectors(x,g).multiplyScalar(t.rotateSpeed);const C=t.domElement;me(2*Math.PI*K.x/C.clientHeight),U(2*Math.PI*K.y/C.clientHeight),g.copy(x),t.update()}function Se(o){H.set(o.clientX,o.clientY),B.subVectors(H,T),B.y>0?Me(Oe(B.y)):B.y<0&&Re(Oe(B.y)),T.copy(H),t.update()}function He(o){G.set(o.clientX,o.clientY),A.subVectors(G,P).multiplyScalar(t.panSpeed),Ce(A.x,A.y),P.copy(G),t.update()}function $e(o){_e(o.clientX,o.clientY),o.deltaY<0?Re(Oe(o.deltaY)):o.deltaY>0&&Me(Oe(o.deltaY)),t.update()}function he(o){let C=!1;switch(o.code){case t.keys.UP:o.ctrlKey||o.metaKey||o.shiftKey?U(2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):Ce(0,t.keyPanSpeed),C=!0;break;case t.keys.BOTTOM:o.ctrlKey||o.metaKey||o.shiftKey?U(-2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):Ce(0,-t.keyPanSpeed),C=!0;break;case t.keys.LEFT:o.ctrlKey||o.metaKey||o.shiftKey?me(2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):Ce(t.keyPanSpeed,0),C=!0;break;case t.keys.RIGHT:o.ctrlKey||o.metaKey||o.shiftKey?me(-2*Math.PI*t.rotateSpeed/t.domElement.clientHeight):Ce(-t.keyPanSpeed,0),C=!0;break}C&&(o.preventDefault(),t.update())}function v(o){if(Z.length===1)g.set(o.pageX,o.pageY);else{const C=Le(o),R=.5*(o.pageX+C.x),z=.5*(o.pageY+C.y);g.set(R,z)}}function b(o){if(Z.length===1)P.set(o.pageX,o.pageY);else{const C=Le(o),R=.5*(o.pageX+C.x),z=.5*(o.pageY+C.y);P.set(R,z)}}function O(o){const C=Le(o),R=o.pageX-C.x,z=o.pageY-C.y,J=Math.sqrt(R*R+z*z);T.set(0,J)}function N(o){t.enableZoom&&O(o),t.enablePan&&b(o)}function re(o){t.enableZoom&&O(o),t.enableRotate&&v(o)}function _(o){if(Z.length==1)x.set(o.pageX,o.pageY);else{const R=Le(o),z=.5*(o.pageX+R.x),J=.5*(o.pageY+R.y);x.set(z,J)}K.subVectors(x,g).multiplyScalar(t.rotateSpeed);const C=t.domElement;me(2*Math.PI*K.x/C.clientHeight),U(2*Math.PI*K.y/C.clientHeight),g.copy(x)}function M(o){if(Z.length===1)G.set(o.pageX,o.pageY);else{const C=Le(o),R=.5*(o.pageX+C.x),z=.5*(o.pageY+C.y);G.set(R,z)}A.subVectors(G,P).multiplyScalar(t.panSpeed),Ce(A.x,A.y),P.copy(G)}function V(o){const C=Le(o),R=o.pageX-C.x,z=o.pageY-C.y,J=Math.sqrt(R*R+z*z);H.set(0,J),B.set(0,Math.pow(H.y/T.y,t.zoomSpeed)),Me(B.y),T.copy(H);const ve=(o.pageX+C.x)*.5,de=(o.pageY+C.y)*.5;_e(ve,de)}function se(o){t.enableZoom&&V(o),t.enablePan&&M(o)}function oe(o){t.enableZoom&&V(o),t.enableRotate&&_(o)}function k(o){t.enabled!==!1&&(Z.length===0&&(t.domElement.setPointerCapture(o.pointerId),t.domElement.addEventListener("pointermove",W),t.domElement.addEventListener("pointerup",Q)),St(o),o.pointerType==="touch"?at(o):Ae(o))}function W(o){t.enabled!==!1&&(o.pointerType==="touch"?ft(o):Xe(o))}function Q(o){switch(Et(o),Z.length){case 0:t.domElement.releasePointerCapture(o.pointerId),t.domElement.removeEventListener("pointermove",W),t.domElement.removeEventListener("pointerup",Q),t.dispatchEvent(Kt),r=i.NONE;break;case 1:const C=Z[0],R=pe[C];at({pointerId:C,pageX:R.x,pageY:R.y});break}}function Ae(o){let C;switch(o.button){case 0:C=t.mouseButtons.LEFT;break;case 1:C=t.mouseButtons.MIDDLE;break;case 2:C=t.mouseButtons.RIGHT;break;default:C=-1}switch(C){case h.MOUSE.DOLLY:if(t.enableZoom===!1)return;De(o),r=i.DOLLY;break;case h.MOUSE.ROTATE:if(o.ctrlKey||o.metaKey||o.shiftKey){if(t.enablePan===!1)return;Ie(o),r=i.PAN}else{if(t.enableRotate===!1)return;Pe(o),r=i.ROTATE}break;case h.MOUSE.PAN:if(o.ctrlKey||o.metaKey||o.shiftKey){if(t.enableRotate===!1)return;Pe(o),r=i.ROTATE}else{if(t.enablePan===!1)return;Ie(o),r=i.PAN}break;default:r=i.NONE}r!==i.NONE&&t.dispatchEvent(At)}function Xe(o){switch(r){case i.ROTATE:if(t.enableRotate===!1)return;ie(o);break;case i.DOLLY:if(t.enableZoom===!1)return;Se(o);break;case i.PAN:if(t.enablePan===!1)return;He(o);break}}function ut(o){t.enabled===!1||t.enableZoom===!1||r!==i.NONE||(o.preventDefault(),t.dispatchEvent(At),$e(dt(o)),t.dispatchEvent(Kt))}function dt(o){const C=o.deltaMode,R={clientX:o.clientX,clientY:o.clientY,deltaY:o.deltaY};switch(C){case 1:R.deltaY*=16;break;case 2:R.deltaY*=100;break}return o.ctrlKey&&!ue&&(R.deltaY*=10),R}function ht(o){o.key==="Control"&&(ue=!0,t.domElement.getRootNode().addEventListener("keyup",Ne,{passive:!0,capture:!0}))}function Ne(o){o.key==="Control"&&(ue=!1,t.domElement.getRootNode().removeEventListener("keyup",Ne,{passive:!0,capture:!0}))}function nt(o){t.enabled===!1||t.enablePan===!1||he(o)}function at(o){switch(pt(o),Z.length){case 1:switch(t.touches.ONE){case h.TOUCH.ROTATE:if(t.enableRotate===!1)return;v(o),r=i.TOUCH_ROTATE;break;case h.TOUCH.PAN:if(t.enablePan===!1)return;b(o),r=i.TOUCH_PAN;break;default:r=i.NONE}break;case 2:switch(t.touches.TWO){case h.TOUCH.DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;N(o),r=i.TOUCH_DOLLY_PAN;break;case h.TOUCH.DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;re(o),r=i.TOUCH_DOLLY_ROTATE;break;default:r=i.NONE}break;default:r=i.NONE}r!==i.NONE&&t.dispatchEvent(At)}function ft(o){switch(pt(o),r){case i.TOUCH_ROTATE:if(t.enableRotate===!1)return;_(o),t.update();break;case i.TOUCH_PAN:if(t.enablePan===!1)return;M(o),t.update();break;case i.TOUCH_DOLLY_PAN:if(t.enableZoom===!1&&t.enablePan===!1)return;se(o),t.update();break;case i.TOUCH_DOLLY_ROTATE:if(t.enableZoom===!1&&t.enableRotate===!1)return;oe(o),t.update();break;default:r=i.NONE}}function Ze(o){t.enabled!==!1&&o.preventDefault()}function St(o){Z.push(o.pointerId)}function Et(o){delete pe[o.pointerId];for(let C=0;C<Z.length;C++)if(Z[C]==o.pointerId){Z.splice(C,1);return}}function pt(o){let C=pe[o.pointerId];C===void 0&&(C=new h.Vector2,pe[o.pointerId]=C),C.set(o.pageX,o.pageY)}function Le(o){const C=o.pointerId===Z[0]?Z[1]:Z[0];return pe[C]}t.domElement.addEventListener("contextmenu",Ze),t.domElement.addEventListener("pointerdown",k),t.domElement.addEventListener("pointercancel",Q),t.domElement.addEventListener("wheel",ut,{passive:!1}),t.domElement.getRootNode().addEventListener("keydown",ht,{passive:!0,capture:!0}),this.update()}}const yt=e=>{const[n,a]=S.useState(e.options[e.index]),t=()=>{e.onToggle(!e.open)},i=r=>{r!==n&&(e.onSelect(r),a(r)),e.onToggle(!1)};return d.jsxs("div",{className:`dropdown ${e.up===!0?"up":""}`,children:[d.jsx("div",{className:"dropdown-toggle",onClick:t,children:n}),e.open&&d.jsx("ul",{className:"dropdown-menu",children:e.options.map(r=>d.jsx("li",{onClick:()=>i(r),children:r},r))})]})},qe=S.forwardRef(function(n,a){const[t,i]=S.useState(!1),r=n.options.indexOf(n.camera.name);return d.jsxs("div",{className:"CameraWindow",children:[d.jsx("div",{ref:a,className:"clickable",onClick:()=>{t&&i(!1)}}),d.jsx(yt,{index:r,open:t,options:n.options,onSelect:n.onSelect,onToggle:l=>{i(l)},up:!0})]})});class pa extends h.ShaderMaterial{constructor(n){super({extensions:{derivatives:!0},glslVersion:h.GLSL3,side:h.DoubleSide,transparent:!0,uniforms:{uScale:{value:n?.scale!==void 0?n?.scale:.1},uDivisions:{value:n?.divisions!==void 0?n?.divisions:10},uColor:{value:n?.color!==void 0?n?.color:new h.Color(16777215)},uDistance:{value:n?.distance!==void 0?n?.distance:1e4},uSubgridOpacity:{value:n?.subgridOpacity!==void 0?n?.subgridOpacity:.15},uGridOpacity:{value:n?.gridOpacity!==void 0?n?.gridOpacity:.25}},vertexShader:`out vec3 worldPosition;
      uniform float uDistance;
      
      void main() {
        // Scale the plane by the drawing distance
        worldPosition = position.xzy * uDistance;
        worldPosition.xz += cameraPosition.xz;
      
        gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);
      }`,fragmentShader:`out vec4 fragColor;
      in vec3 worldPosition;
      
      uniform float uDivisions;
      uniform float uScale;
      uniform vec3 uColor;
      uniform float uDistance;
      uniform float uSubgridOpacity;
      uniform float uGridOpacity;
      
      float getGrid(float gapSize) {
        vec2 worldPositionByDivision = worldPosition.xz / gapSize;
      
        // Inverted, 0 where line, >1 where there's no line
        // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing
        // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both
        // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,
        // otherwise only one side of the line will be anti-aliased
        vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;
        float gridLine = min(grid.x, grid.y);
      
        // Uninvert and clamp
        return 1.0 - min(gridLine, 1.0);
      }
      
      void main() {
        float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);
        float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);
      
        // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.
        // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.
        float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));
        float gridPower = subGridPower * uDivisions;
      
        // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third
        float nextGridPower = gridPower * uDivisions;
      
        // 1 where grid, 0 where no grid
        float subgrid = getGrid(subGridPower * uScale);
        float grid = getGrid(gridPower * uScale);
        float nextGrid = getGrid(nextGridPower * uScale);
      
        // Where we are between the introduction of the current grid power and when we switch to the next grid power
        float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);
      
        // The last x percentage of the current step over which we want to fade
        float fadeRange = 0.3;
      
        // We calculate the fade percentage from the step percentage and the fade range
        float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;
      
        // Set base opacity based on how close we are to the drawing distance, with a cubic falloff
        float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);
      
        // Shade the subgrid
        fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);
      
        // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers
        float fadeCoefficient = 0.5;
      
        // Shade the grid
        fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);
      
        // Shade the next grid
        fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);
      
        if (fragColor.a <= 0.0) discard;
      }`,name:"InfiniteGrid",depthWrite:!1})}}class ma extends h.Mesh{gridMaterial;constructor(){const n=new pa;super(new h.PlaneGeometry(2,2),n),this.gridMaterial=n,this.frustumCulled=!1,this.name="InfiniteGridHelper",this.position.y=.1}update(){this.gridMaterial.needsUpdate=!0}}const ga=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>

	#if defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
}`,va=`
#include <common>
#include <uv_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {
	#include <clipping_planes_fragment>
	gl_FragColor = vec4(vec3(vUv, 0.0), 1.0);
}`;class ba extends h.ShaderMaterial{constructor(){super({defines:{USE_UV:""},vertexShader:ga,fragmentShader:va})}}let gt="Renderer",je,vt=!1,Zt=!1,X=null,le=null,Fe=null,Be=null;function ya(e){const n=e.three.app.appID,a=localStorage.getItem(`${n}_mode`),t=localStorage.getItem(`${n}_tlCam`)!==null?localStorage.getItem(`${n}_tlCam`):"Debug",i=localStorage.getItem(`${n}_trCam`)!==null?localStorage.getItem(`${n}_trCam`):"Orthographic",r=localStorage.getItem(`${n}_blCam`)!==null?localStorage.getItem(`${n}_blCam`):"Front",l=localStorage.getItem(`${n}_brCam`)!==null?localStorage.getItem(`${n}_brCam`):"Top",c=S.useMemo(()=>new Map,[]),u=S.useMemo(()=>new Map,[]),f=S.useMemo(()=>new Map,[]),p=S.useMemo(()=>new Map,[]),g=S.useMemo(()=>new h.Scene,[]),x=S.useMemo(()=>new h.Group,[]),K=S.useMemo(()=>new ma,[]),P=S.useMemo(()=>new h.AxesHelper(500),[]),G=S.useMemo(()=>new h.AxesHelper(100),[]),A=S.useMemo(()=>new h.MeshDepthMaterial,[]),T=S.useMemo(()=>new h.MeshNormalMaterial,[]),H=S.useMemo(()=>new ba,[]),B=S.useMemo(()=>new h.MeshBasicMaterial({opacity:.33,transparent:!0,wireframe:!0}),[]);function te(v,b){const O=new h.OrthographicCamera(-100,100,100,-100,50,3e3);return O.name=v,O.position.copy(b),O.lookAt(0,0,0),c.set(v,O),O}const ae=["Renderer","Depth","Normals","UVs","Wireframe"],xe=["Single","Side by Side","Stacked","Quad"],Z=S.useRef(null),pe=S.useRef(null),ue=S.useRef(null),we=S.useRef(null),Oe=S.useRef(null),me=S.useRef(null),[U,ge]=S.useState(a!==null?a:"Single"),[w,Ce]=S.useState(null),[Me,Re]=S.useState(!1),[_e,Te]=S.useState(!1),[Pe,De]=S.useState(!1),[,Ie]=S.useState(Date.now());localStorage.setItem(`${n}_mode`,U),localStorage.setItem(`${n}_tlCam`,t),localStorage.setItem(`${n}_trCam`,i),localStorage.setItem(`${n}_blCam`,r),localStorage.setItem(`${n}_brCam`,l);const ie=(v,b)=>{const O=u.get(v.name);O!==void 0&&O.dispose(),u.delete(v.name);const N=f.get(v.name);N!==void 0&&(g.remove(N),N.dispose()),f.delete(v.name);const re=new fa(v,b);switch(re.enableDamping=!0,re.dampingFactor=.05,v.name){case"Top":case"Bottom":case"Left":case"Right":case"Front":case"Back":re.enableRotate=!1;break}if(u.set(v.name,re),v instanceof h.PerspectiveCamera){const _=new h.CameraHelper(v);f.set(v.name,_),g.add(_)}},Se=v=>{const b=f.get(v.name);b!==void 0&&(g.remove(b),b.dispose(),f.delete(v.name));const O=u.get(v.name);O!==void 0&&(O.dispose(),u.delete(v.name))},He=()=>{u.forEach((v,b)=>{v.dispose();const O=f.get(b);O!==void 0&&(g.remove(O),O.dispose()),f.delete(b),u.delete(b)}),u.clear(),f.clear()},$e=()=>{switch(U){case"Single":ie(X,ue.current);break;case"Side by Side":case"Stacked":ie(X,ue.current),ie(le,we.current);break;case"Quad":ie(X,ue.current),ie(le,we.current),ie(Fe,Oe.current),ie(Be,me.current);break}};S.useEffect(()=>{const v=new h.WebGLRenderer({canvas:Z.current,stencil:!1});v.autoClear=!1,v.shadowMap.enabled=!0,v.setPixelRatio(devicePixelRatio),v.setClearColor(0),e.three.renderer=v,Ce(v)},[]),S.useEffect(()=>{g.name="Debug Scene",g.uuid="",x.name="helpers",g.add(x),x.add(K),P.name="axisHelper",x.add(P),G.name="interactionHelper",x.add(G),G.visible=!1,te("Top",new h.Vector3(0,1e3,0)),te("Bottom",new h.Vector3(0,-1e3,0)),te("Left",new h.Vector3(-1e3,0,0)),te("Right",new h.Vector3(1e3,0,0)),te("Front",new h.Vector3(0,0,1e3)),te("Back",new h.Vector3(0,0,-1e3)),te("Orthographic",new h.Vector3(1e3,1e3,1e3));const v=new h.PerspectiveCamera(60,1,50,3e3);v.name="Debug",v.position.set(500,500,500),v.lookAt(0,0,0),c.set("Debug",v),X=c.get(localStorage.getItem(`${n}_tlCam`)),le=c.get(localStorage.getItem(`${n}_trCam`)),Fe=c.get(localStorage.getItem(`${n}_blCam`)),Be=c.get(localStorage.getItem(`${n}_brCam`))},[]),S.useEffect(()=>{const v=()=>{p.forEach(_=>{x.remove(_),_.dispose()}),p.clear()},b=()=>{je.traverse(_=>{if(_.type.search("Light")>-1){let M;switch(_.type){case"DirectionalLight":M=new h.DirectionalLightHelper(_),M.name=`${_.name}Helper`,p.set(_.name,M),x.add(M);break;case"HemisphereLight":M=new h.HemisphereLightHelper(_,250),M.name=`${_.name}Helper`,p.set(_.name,M),x.add(M);break;case"RectAreaLight":M=new da(_),M.name=`${_.name}Helper`,p.set(_.name,M),x.add(M);break;case"PointLight":M=new h.PointLightHelper(_),M.name=`${_.name}Helper`,p.set(_.name,M),x.add(M);break;case"SpotLight":M=new h.SpotLightHelper(_),M.name=`${_.name}Helper`,p.set(_.name,M),x.add(M);break}}})},O=_=>{v(),Lt(je),g.remove(je);const M=e.scenes.get(_.value.name);if(M!==void 0){const V=new M;e.onSceneSet!==void 0&&e.onSceneSet(V),je=V,e.three.scene=je,g.add(je),Zt=!0,b()}},N=_=>{const M=_.value,V=e.three.scene?.getObjectByProperty("uuid",M.uuid);V!==void 0&&c.set(M.name,V),Ie(Date.now())},re=_=>{c.delete(_.value.name),Ie(Date.now())};return L.addEventListener(F.SET_SCENE,O),L.addEventListener(F.ADD_CAMERA,N),L.addEventListener(F.REMOVE_CAMERA,re),()=>{L.removeEventListener(F.SET_SCENE,O),L.removeEventListener(F.ADD_CAMERA,N),L.removeEventListener(F.REMOVE_CAMERA,re)}},[]),S.useEffect(()=>{if(w===null)return;let v=window.innerWidth,b=window.innerHeight,O=Math.floor(v/2),N=Math.floor(b/2),re=-1;const _=()=>{v=window.innerWidth-300,b=window.innerHeight,O=Math.floor(v/2),N=Math.floor(b/2),w.setSize(v,b);let k=v,W=b;switch(U){case"Side by Side":k=O,W=b;break;case"Stacked":k=v,W=N;break;case"Quad":k=O,W=N;break}c.forEach(Q=>{Q instanceof h.OrthographicCamera?(Q.left=k/-2,Q.right=k/2,Q.top=W/2,Q.bottom=W/-2,Q.updateProjectionMatrix()):Q instanceof h.PerspectiveCamera&&(Q.aspect=k/W,Q.updateProjectionMatrix(),f.get(Q.name)?.update())})},M=()=>{w.setViewport(0,0,v,b),w.setScissor(0,0,v,b),w.render(g,X)},V=()=>{if(U==="Side by Side")w.setViewport(0,0,O,b),w.setScissor(0,0,O,b),w.render(g,X),w.setViewport(O,0,O,b),w.setScissor(O,0,O,b),w.render(g,le);else{const k=b-N;w.setViewport(0,k,v,N),w.setScissor(0,k,v,N),w.render(g,X),w.setViewport(0,0,v,N),w.setScissor(0,0,v,N),w.render(g,le)}},se=()=>{let k=0,W=0;W=b-N,k=0,w.setViewport(k,W,O,N),w.setScissor(k,W,O,N),w.render(g,X),k=O,w.setViewport(k,W,O,N),w.setScissor(k,W,O,N),w.render(g,le),W=0,k=0,w.setViewport(k,W,O,N),w.setScissor(k,W,O,N),w.render(g,Fe),k=O,w.setViewport(k,W,O,N),w.setScissor(k,W,O,N),w.render(g,Be)},oe=()=>{switch(u.forEach(k=>{k.update()}),e.onSceneUpdate!==void 0&&Zt&&e.onSceneUpdate(je),w.clear(),U){case"Single":M();break;case"Side by Side":case"Stacked":V();break;case"Quad":se();break}re=requestAnimationFrame(oe)};return $e(),window.addEventListener("resize",_),_(),oe(),()=>{window.removeEventListener("resize",_),cancelAnimationFrame(re),re=-1}},[U,w]),S.useEffect(()=>{if(w!==null){const v=new h.Raycaster,b=new h.Vector2,O=(M,V,se,oe)=>{switch(U){case"Quad":M<se?V<oe?v.setFromCamera(b,X):v.setFromCamera(b,Fe):V<oe?v.setFromCamera(b,le):v.setFromCamera(b,Be);break;case"Side by Side":M<se?v.setFromCamera(b,X):v.setFromCamera(b,le);break;case"Single":v.setFromCamera(b,X);break;case"Stacked":V<oe?v.setFromCamera(b,X):v.setFromCamera(b,le);break}},N=M=>{if(!vt)return;const V=new h.Vector2;w.getSize(V);const se=Math.min(M.clientX,V.x),oe=Math.min(M.clientY,V.y);b.x=et(se,0,V.x,-1,1),b.y=et(oe,0,V.y,1,-1);const k=V.x/2,W=V.y/2,Q=()=>{se<k?b.x=et(se,0,k,-1,1):b.x=et(se,k,V.x,-1,1)},Ae=()=>{oe<W?b.y=et(oe,0,W,1,-1):b.y=et(oe,W,V.y,1,-1)};switch(U){case"Quad":Q(),Ae();break;case"Side by Side":Q();break;case"Stacked":Ae(),Ae();break}O(se,oe,k,W);const Xe=v.intersectObjects(je.children);Xe.length>0&&G.position.copy(Xe[0].point)},re=M=>{if(!vt)return;const V=new h.Vector2;if(w.getSize(V),M.clientX>=V.x)return;N(M);const se=v.intersectObjects(je.children);se.length>0&&e.three.getObject(se[0].object.uuid)},_=pe.current;return _.addEventListener("mousemove",N,!1),_.addEventListener("click",re,!1),()=>{_.removeEventListener("mousemove",N),_.removeEventListener("click",re)}}},[U,w]);const he=[];return c.forEach((v,b)=>{he.push(b)}),d.jsxs("div",{className:"multiview",children:[d.jsx("canvas",{ref:Z}),w!==null&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`cameras ${U==="Single"||U==="Stacked"?"single":""}`,ref:pe,children:[U==="Single"&&d.jsx(d.Fragment,{children:d.jsx(qe,{camera:X,options:he,ref:ue,onSelect:v=>{u.get(X.name)?.dispose();const b=c.get(v);b!==void 0&&(Se(X),X=b,localStorage.setItem(`${n}_tlCam`,b.name),ie(b,ue.current))}})}),(U==="Side by Side"||U==="Stacked")&&d.jsxs(d.Fragment,{children:[d.jsx(qe,{camera:X,options:he,ref:ue,onSelect:v=>{u.get(X.name)?.dispose();const b=c.get(v);b!==void 0&&(Se(X),X=b,localStorage.setItem(`${n}_tlCam`,b.name),ie(b,ue.current))}}),d.jsx(qe,{camera:le,options:he,ref:we,onSelect:v=>{u.get(le.name)?.dispose();const b=c.get(v);b!==void 0&&(Se(le),le=b,localStorage.setItem(`${n}_trCam`,b.name),ie(b,we.current))}})]}),U==="Quad"&&d.jsxs(d.Fragment,{children:[d.jsx(qe,{camera:X,options:he,ref:ue,onSelect:v=>{u.get(X.name)?.dispose();const b=c.get(v);b!==void 0&&(Se(X),X=b,localStorage.setItem(`${n}_tlCam`,b.name),ie(b,ue.current))}}),d.jsx(qe,{camera:le,options:he,ref:we,onSelect:v=>{u.get(le.name)?.dispose();const b=c.get(v);b!==void 0&&(Se(le),le=b,localStorage.setItem(`${n}_trCam`,b.name),ie(b,we.current))}}),d.jsx(qe,{camera:Fe,options:he,ref:Oe,onSelect:v=>{u.get(Fe.name)?.dispose();const b=c.get(v);b!==void 0&&(Se(Fe),Fe=b,localStorage.setItem(`${n}_blCam`,b.name),ie(b,Oe.current))}}),d.jsx(qe,{camera:Be,options:he,ref:me,onSelect:v=>{u.get(Be.name)?.dispose();const b=c.get(v);b!==void 0&&(Se(Be),Be=b,localStorage.setItem(`${n}_brCam`,b.name),ie(b,me.current))}})]})]}),d.jsxs("div",{className:"settings",children:[d.jsx(yt,{index:xe.indexOf(U),options:xe,onSelect:v=>{v!==U&&(He(),ge(v))},open:Me,onToggle:v=>{Re(v),_e&&Te(!1),Pe&&De(!1)}}),d.jsx(yt,{index:ae.indexOf(gt),options:ae,onSelect:v=>{if(v!==gt)switch(gt=v,gt){case"Depth":g.overrideMaterial=A;break;case"Normals":g.overrideMaterial=T;break;default:case"Renderer":g.overrideMaterial=null;break;case"Wireframe":g.overrideMaterial=B;break;case"UVs":g.overrideMaterial=H;break}},open:_e,onToggle:v=>{Me&&Re(!1),Te(v),Pe&&De(!1)}}),d.jsx(yt,{index:0,options:["Orbit Mode","Selection Mode"],onSelect:v=>{vt=v==="Selection Mode",G.visible=vt},open:Pe,onToggle:v=>{Me&&Re(!1),_e&&Te(!1),De(v)}})]})]})]})}function xa(e){return d.jsxs("div",{className:"editor",ref:e.ref,style:e.style,children:[d.jsx("div",{className:"header",children:e.header}),e.children,d.jsx("div",{className:"footer",children:e.footer})]})}exports.Accordion=Ct;exports.Application=On;exports.BaseRemote=lt;exports.ChildObject=Bt;exports.ContainerObject=un;exports.Draggable=on;exports.DraggableItem=sn;exports.Dropdown=cn;exports.DropdownItem=ln;exports.Editor=xa;exports.Inspector=fn;exports.MultiView=ya;exports.NavButton=Ft;exports.RemoteComponents=Mn;exports.RemoteController=Fn;exports.RemoteTheatre=xt;exports.RemoteThree=kn;exports.RemoteTweakpane=jn;exports.SceneInspector=ua;exports.SidePanel=la;exports.ToolEvents=F;exports.capitalize=Ve;exports.clamp=Ue;exports.colorToHex=tn;exports.debugDispatcher=L;exports.defaultTheatreCallback=Sn;exports.dispose=Lt;exports.disposeMaterial=an;exports.disposeTexture=wn;exports.distance=En;exports.hierarchyUUID=Nt;exports.isColor=en;exports.mix=jt;exports.noop=It;exports.normalize=kt;exports.randomID=Qt;exports.resetThreeObjects=nn;exports.round=tt;exports.theatreEditorApp=_n;
