var gIe=Object.defineProperty;var vIe=(t,e,n)=>e in t?gIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var tr=(t,e,n)=>(vIe(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Ki=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xge={exports:{}},dI={},Sge={exports:{}},Er={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_=Symbol.for("react.element"),yIe=Symbol.for("react.portal"),bIe=Symbol.for("react.fragment"),_Ie=Symbol.for("react.strict_mode"),wIe=Symbol.for("react.profiler"),xIe=Symbol.for("react.provider"),SIe=Symbol.for("react.context"),EIe=Symbol.for("react.forward_ref"),CIe=Symbol.for("react.suspense"),PIe=Symbol.for("react.memo"),MIe=Symbol.for("react.lazy"),Ume=Symbol.iterator;function TIe(t){return t===null||typeof t!="object"?null:(t=Ume&&t[Ume]||t["@@iterator"],typeof t=="function"?t:null)}var Ege={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cge=Object.assign,Pge={};function mg(t,e,n){this.props=t,this.context=e,this.refs=Pge,this.updater=n||Ege}mg.prototype.isReactComponent={};mg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mge(){}Mge.prototype=mg.prototype;function m$(t,e,n){this.props=t,this.context=e,this.refs=Pge,this.updater=n||Ege}var g$=m$.prototype=new Mge;g$.constructor=m$;Cge(g$,mg.prototype);g$.isPureReactComponent=!0;var zme=Array.isArray,Tge=Object.prototype.hasOwnProperty,v$={current:null},kge={key:!0,ref:!0,__self:!0,__source:!0};function Age(t,e,n){var r,i={},o=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(o=""+e.key),e)Tge.call(e,r)&&!kge.hasOwnProperty(r)&&(i[r]=e[r]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var m=Array(d),v=0;v<d;v++)m[v]=arguments[v+2];i.children=m}if(t&&t.defaultProps)for(r in d=t.defaultProps,d)i[r]===void 0&&(i[r]=d[r]);return{$$typeof:o_,type:t,key:o,ref:u,props:i,_owner:v$.current}}function kIe(t,e){return{$$typeof:o_,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function y$(t){return typeof t=="object"&&t!==null&&t.$$typeof===o_}function AIe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vme=/\/+/g;function DV(t,e){return typeof t=="object"&&t!==null&&t.key!=null?AIe(""+t.key):e.toString(36)}function Bk(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(o){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o_:case yIe:u=!0}}if(u)return u=t,i=i(u),t=r===""?"."+DV(u,0):r,zme(i)?(n="",t!=null&&(n=t.replace(Vme,"$&/")+"/"),Bk(i,e,n,"",function(v){return v})):i!=null&&(y$(i)&&(i=kIe(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(Vme,"$&/")+"/")+t)),e.push(i)),1;if(u=0,r=r===""?".":r+":",zme(t))for(var d=0;d<t.length;d++){o=t[d];var m=r+DV(o,d);u+=Bk(o,e,n,m,i)}else if(m=TIe(t),typeof m=="function")for(t=m.call(t),d=0;!(o=t.next()).done;)o=o.value,m=r+DV(o,d++),u+=Bk(o,e,n,m,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function OT(t,e,n){if(t==null)return t;var r=[],i=0;return Bk(t,r,"","",function(o){return e.call(n,o,i++)}),r}function IIe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Da={current:null},Uk={transition:null},RIe={ReactCurrentDispatcher:Da,ReactCurrentBatchConfig:Uk,ReactCurrentOwner:v$};Er.Children={map:OT,forEach:function(t,e,n){OT(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return OT(t,function(){e++}),e},toArray:function(t){return OT(t,function(e){return e})||[]},only:function(t){if(!y$(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Er.Component=mg;Er.Fragment=bIe;Er.Profiler=wIe;Er.PureComponent=m$;Er.StrictMode=_Ie;Er.Suspense=CIe;Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RIe;Er.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cge({},t.props),i=t.key,o=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,u=v$.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var d=t.type.defaultProps;for(m in e)Tge.call(e,m)&&!kge.hasOwnProperty(m)&&(r[m]=e[m]===void 0&&d!==void 0?d[m]:e[m])}var m=arguments.length-2;if(m===1)r.children=n;else if(1<m){d=Array(m);for(var v=0;v<m;v++)d[v]=arguments[v+2];r.children=d}return{$$typeof:o_,type:t.type,key:i,ref:o,props:r,_owner:u}};Er.createContext=function(t){return t={$$typeof:SIe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xIe,_context:t},t.Consumer=t};Er.createElement=Age;Er.createFactory=function(t){var e=Age.bind(null,t);return e.type=t,e};Er.createRef=function(){return{current:null}};Er.forwardRef=function(t){return{$$typeof:EIe,render:t}};Er.isValidElement=y$;Er.lazy=function(t){return{$$typeof:MIe,_payload:{_status:-1,_result:t},_init:IIe}};Er.memo=function(t,e){return{$$typeof:PIe,type:t,compare:e===void 0?null:e}};Er.startTransition=function(t){var e=Uk.transition;Uk.transition={};try{t()}finally{Uk.transition=e}};Er.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Er.useCallback=function(t,e){return Da.current.useCallback(t,e)};Er.useContext=function(t){return Da.current.useContext(t)};Er.useDebugValue=function(){};Er.useDeferredValue=function(t){return Da.current.useDeferredValue(t)};Er.useEffect=function(t,e){return Da.current.useEffect(t,e)};Er.useId=function(){return Da.current.useId()};Er.useImperativeHandle=function(t,e,n){return Da.current.useImperativeHandle(t,e,n)};Er.useInsertionEffect=function(t,e){return Da.current.useInsertionEffect(t,e)};Er.useLayoutEffect=function(t,e){return Da.current.useLayoutEffect(t,e)};Er.useMemo=function(t,e){return Da.current.useMemo(t,e)};Er.useReducer=function(t,e,n){return Da.current.useReducer(t,e,n)};Er.useRef=function(t){return Da.current.useRef(t)};Er.useState=function(t){return Da.current.useState(t)};Er.useSyncExternalStore=function(t,e,n){return Da.current.useSyncExternalStore(t,e,n)};Er.useTransition=function(){return Da.current.useTransition()};Er.version="18.2.0";Sge.exports=Er;var ut=Sge.exports;const Ige=wge(ut);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DIe=ut,OIe=Symbol.for("react.element"),LIe=Symbol.for("react.fragment"),NIe=Object.prototype.hasOwnProperty,FIe=DIe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BIe={key:!0,ref:!0,__self:!0,__source:!0};function Rge(t,e,n){var r,i={},o=null,u=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)NIe.call(e,r)&&!BIe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:OIe,type:t,key:o,ref:u,props:i,_owner:FIe.current}}dI.Fragment=LIe;dI.jsx=Rge;dI.jsxs=Rge;xge.exports=dI;var Ve=xge.exports,kH={},Dge={exports:{}},T0={},Oge={exports:{}},Lge={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Ne,ht){var pt=Ne.length;Ne.push(ht);e:for(;0<pt;){var It=pt-1>>>1,tn=Ne[It];if(0<i(tn,ht))Ne[It]=ht,Ne[pt]=tn,pt=It;else break e}}function n(Ne){return Ne.length===0?null:Ne[0]}function r(Ne){if(Ne.length===0)return null;var ht=Ne[0],pt=Ne.pop();if(pt!==ht){Ne[0]=pt;e:for(var It=0,tn=Ne.length,pn=tn>>>1;It<pn;){var ft=2*(It+1)-1,kt=Ne[ft],Xt=ft+1,Ut=Ne[Xt];if(0>i(kt,pt))Xt<tn&&0>i(Ut,kt)?(Ne[It]=Ut,Ne[Xt]=pt,It=Xt):(Ne[It]=kt,Ne[ft]=pt,It=ft);else if(Xt<tn&&0>i(Ut,pt))Ne[It]=Ut,Ne[Xt]=pt,It=Xt;else break e}}return ht}function i(Ne,ht){var pt=Ne.sortIndex-ht.sortIndex;return pt!==0?pt:Ne.id-ht.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var m=[],v=[],x=1,S=null,T=3,R=!1,G=!1,L=!1,B=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(Ne){for(var ht=n(v);ht!==null;){if(ht.callback===null)r(v);else if(ht.startTime<=Ne)r(v),ht.sortIndex=ht.expirationTime,e(m,ht);else break;ht=n(v)}}function Y(Ne){if(L=!1,V(Ne),!G)if(n(m)!==null)G=!0,ze(me);else{var ht=n(v);ht!==null&&At(Y,ht.startTime-Ne)}}function me(Ne,ht){G=!1,L&&(L=!1,z(ve),ve=-1),R=!0;var pt=T;try{for(V(ht),S=n(m);S!==null&&(!(S.expirationTime>ht)||Ne&&!Te());){var It=S.callback;if(typeof It=="function"){S.callback=null,T=S.priorityLevel;var tn=It(S.expirationTime<=ht);ht=t.unstable_now(),typeof tn=="function"?S.callback=tn:S===n(m)&&r(m),V(ht)}else r(m);S=n(m)}if(S!==null)var pn=!0;else{var ft=n(v);ft!==null&&At(Y,ft.startTime-ht),pn=!1}return pn}finally{S=null,T=pt,R=!1}}var q=!1,ae=null,ve=-1,W=5,se=-1;function Te(){return!(t.unstable_now()-se<W)}function dt(){if(ae!==null){var Ne=t.unstable_now();se=Ne;var ht=!0;try{ht=ae(!0,Ne)}finally{ht?He():(q=!1,ae=null)}}else q=!1}var He;if(typeof C=="function")He=function(){C(dt)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,gt=xe.port2;xe.port1.onmessage=dt,He=function(){gt.postMessage(null)}}else He=function(){B(dt,0)};function ze(Ne){ae=Ne,q||(q=!0,He())}function At(Ne,ht){ve=B(function(){Ne(t.unstable_now())},ht)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Ne){Ne.callback=null},t.unstable_continueExecution=function(){G||R||(G=!0,ze(me))},t.unstable_forceFrameRate=function(Ne){0>Ne||125<Ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<Ne?Math.floor(1e3/Ne):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(m)},t.unstable_next=function(Ne){switch(T){case 1:case 2:case 3:var ht=3;break;default:ht=T}var pt=T;T=ht;try{return Ne()}finally{T=pt}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Ne,ht){switch(Ne){case 1:case 2:case 3:case 4:case 5:break;default:Ne=3}var pt=T;T=Ne;try{return ht()}finally{T=pt}},t.unstable_scheduleCallback=function(Ne,ht,pt){var It=t.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?It+pt:It):pt=It,Ne){case 1:var tn=-1;break;case 2:tn=250;break;case 5:tn=1073741823;break;case 4:tn=1e4;break;default:tn=5e3}return tn=pt+tn,Ne={id:x++,callback:ht,priorityLevel:Ne,startTime:pt,expirationTime:tn,sortIndex:-1},pt>It?(Ne.sortIndex=pt,e(v,Ne),n(m)===null&&Ne===n(v)&&(L?(z(ve),ve=-1):L=!0,At(Y,pt-It))):(Ne.sortIndex=tn,e(m,Ne),G||R||(G=!0,ze(me))),Ne},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(Ne){var ht=T;return function(){var pt=T;T=ht;try{return Ne.apply(this,arguments)}finally{T=pt}}}})(Lge);Oge.exports=Lge;var UIe=Oge.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nge=ut,P0=UIe;function Wt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fge=new Set,vb={};function G2(t,e){q4(t,e),q4(t+"Capture",e)}function q4(t,e){for(vb[t]=e,t=0;t<e.length;t++)Fge.add(e[t])}var ch=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),AH=Object.prototype.hasOwnProperty,zIe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jme={},Hme={};function VIe(t){return AH.call(Hme,t)?!0:AH.call(jme,t)?!1:zIe.test(t)?Hme[t]=!0:(jme[t]=!0,!1)}function jIe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HIe(t,e,n,r){if(e===null||typeof e>"u"||jIe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oa(t,e,n,r,i,o,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=u}var Io={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Io[t]=new Oa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Io[e]=new Oa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Io[t]=new Oa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Io[t]=new Oa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Io[t]=new Oa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Io[t]=new Oa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Io[t]=new Oa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Io[t]=new Oa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Io[t]=new Oa(t,5,!1,t.toLowerCase(),null,!1,!1)});var b$=/[\-:]([a-z])/g;function _$(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(b$,_$);Io[e]=new Oa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(b$,_$);Io[e]=new Oa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(b$,_$);Io[e]=new Oa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Io[t]=new Oa(t,1,!1,t.toLowerCase(),null,!1,!1)});Io.xlinkHref=new Oa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Io[t]=new Oa(t,1,!1,t.toLowerCase(),null,!0,!0)});function w$(t,e,n,r){var i=Io.hasOwnProperty(e)?Io[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HIe(e,n,i,r)&&(n=null),r||i===null?VIe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var bh=Nge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,LT=Symbol.for("react.element"),f4=Symbol.for("react.portal"),m4=Symbol.for("react.fragment"),x$=Symbol.for("react.strict_mode"),IH=Symbol.for("react.profiler"),Bge=Symbol.for("react.provider"),Uge=Symbol.for("react.context"),S$=Symbol.for("react.forward_ref"),RH=Symbol.for("react.suspense"),DH=Symbol.for("react.suspense_list"),E$=Symbol.for("react.memo"),_f=Symbol.for("react.lazy"),zge=Symbol.for("react.offscreen"),Gme=Symbol.iterator;function vy(t){return t===null||typeof t!="object"?null:(t=Gme&&t[Gme]||t["@@iterator"],typeof t=="function"?t:null)}var es=Object.assign,OV;function $y(t){if(OV===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);OV=e&&e[1]||""}return`
`+OV+t}var LV=!1;function NV(t,e){if(!t||LV)return"";LV=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var r=v}Reflect.construct(t,[],e)}else{try{e.call()}catch(v){r=v}t.call(e.prototype)}else{try{throw Error()}catch(v){r=v}t()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),o=r.stack.split(`
`),u=i.length-1,d=o.length-1;1<=u&&0<=d&&i[u]!==o[d];)d--;for(;1<=u&&0<=d;u--,d--)if(i[u]!==o[d]){if(u!==1||d!==1)do if(u--,d--,0>d||i[u]!==o[d]){var m=`
`+i[u].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=u&&0<=d);break}}}finally{LV=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$y(t):""}function GIe(t){switch(t.tag){case 5:return $y(t.type);case 16:return $y("Lazy");case 13:return $y("Suspense");case 19:return $y("SuspenseList");case 0:case 2:case 15:return t=NV(t.type,!1),t;case 11:return t=NV(t.type.render,!1),t;case 1:return t=NV(t.type,!0),t;default:return""}}function OH(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case m4:return"Fragment";case f4:return"Portal";case IH:return"Profiler";case x$:return"StrictMode";case RH:return"Suspense";case DH:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Uge:return(t.displayName||"Context")+".Consumer";case Bge:return(t._context.displayName||"Context")+".Provider";case S$:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case E$:return e=t.displayName||null,e!==null?e:OH(t.type)||"Memo";case _f:e=t._payload,t=t._init;try{return OH(t(e))}catch{}}return null}function $Ie(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return OH(e);case 8:return e===x$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vge(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function WIe(t){var e=Vge(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,o.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function NT(t){t._valueTracker||(t._valueTracker=WIe(t))}function jge(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vge(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function aA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function LH(t,e){var n=e.checked;return es({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $me(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hge(t,e){e=e.checked,e!=null&&w$(t,"checked",e,!1)}function NH(t,e){Hge(t,e);var n=Gf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?FH(t,e.type,n):e.hasOwnProperty("defaultValue")&&FH(t,e.type,Gf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Wme(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function FH(t,e,n){(e!=="number"||aA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Wy=Array.isArray;function N4(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function BH(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Wt(91));return es({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kme(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Wt(92));if(Wy(n)){if(1<n.length)throw Error(Wt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gf(n)}}function Gge(t,e){var n=Gf(e.value),r=Gf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xme(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $ge(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function UH(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$ge(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var FT,Wge=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(FT=FT||document.createElement("div"),FT.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=FT.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function yb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KIe=["Webkit","ms","Moz","O"];Object.keys(eb).forEach(function(t){KIe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eb[e]=eb[t]})});function Kge(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eb.hasOwnProperty(t)&&eb[t]?(""+e).trim():e+"px"}function Xge(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kge(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XIe=es({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zH(t,e){if(e){if(XIe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Wt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Wt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Wt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Wt(62))}}function VH(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jH=null;function C$(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var HH=null,F4=null,B4=null;function qme(t){if(t=u_(t)){if(typeof HH!="function")throw Error(Wt(280));var e=t.stateNode;e&&(e=gI(e),HH(t.stateNode,t.type,e))}}function qge(t){F4?B4?B4.push(t):B4=[t]:F4=t}function Yge(){if(F4){var t=F4,e=B4;if(B4=F4=null,qme(t),e)for(t=0;t<e.length;t++)qme(e[t])}}function Zge(t,e){return t(e)}function Qge(){}var FV=!1;function Jge(t,e,n){if(FV)return t(e,n);FV=!0;try{return Zge(t,e,n)}finally{FV=!1,(F4!==null||B4!==null)&&(Qge(),Yge())}}function bb(t,e){var n=t.stateNode;if(n===null)return null;var r=gI(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Wt(231,e,typeof n));return n}var GH=!1;if(ch)try{var yy={};Object.defineProperty(yy,"passive",{get:function(){GH=!0}}),window.addEventListener("test",yy,yy),window.removeEventListener("test",yy,yy)}catch{GH=!1}function qIe(t,e,n,r,i,o,u,d,m){var v=Array.prototype.slice.call(arguments,3);try{e.apply(n,v)}catch(x){this.onError(x)}}var tb=!1,lA=null,uA=!1,$H=null,YIe={onError:function(t){tb=!0,lA=t}};function ZIe(t,e,n,r,i,o,u,d,m){tb=!1,lA=null,qIe.apply(YIe,arguments)}function QIe(t,e,n,r,i,o,u,d,m){if(ZIe.apply(this,arguments),tb){if(tb){var v=lA;tb=!1,lA=null}else throw Error(Wt(198));uA||(uA=!0,$H=v)}}function $2(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function eve(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Yme(t){if($2(t)!==t)throw Error(Wt(188))}function JIe(t){var e=t.alternate;if(!e){if(e=$2(t),e===null)throw Error(Wt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Yme(i),t;if(o===r)return Yme(i),e;o=o.sibling}throw Error(Wt(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,d=i.child;d;){if(d===n){u=!0,n=i,r=o;break}if(d===r){u=!0,r=i,n=o;break}d=d.sibling}if(!u){for(d=o.child;d;){if(d===n){u=!0,n=o,r=i;break}if(d===r){u=!0,r=o,n=i;break}d=d.sibling}if(!u)throw Error(Wt(189))}}if(n.alternate!==r)throw Error(Wt(190))}if(n.tag!==3)throw Error(Wt(188));return n.stateNode.current===n?t:e}function tve(t){return t=JIe(t),t!==null?nve(t):null}function nve(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=nve(t);if(e!==null)return e;t=t.sibling}return null}var rve=P0.unstable_scheduleCallback,Zme=P0.unstable_cancelCallback,eRe=P0.unstable_shouldYield,tRe=P0.unstable_requestPaint,xs=P0.unstable_now,nRe=P0.unstable_getCurrentPriorityLevel,P$=P0.unstable_ImmediatePriority,ive=P0.unstable_UserBlockingPriority,cA=P0.unstable_NormalPriority,rRe=P0.unstable_LowPriority,sve=P0.unstable_IdlePriority,hI=null,kc=null;function iRe(t){if(kc&&typeof kc.onCommitFiberRoot=="function")try{kc.onCommitFiberRoot(hI,t,void 0,(t.current.flags&128)===128)}catch{}}var xu=Math.clz32?Math.clz32:aRe,sRe=Math.log,oRe=Math.LN2;function aRe(t){return t>>>=0,t===0?32:31-(sRe(t)/oRe|0)|0}var BT=64,UT=4194304;function Ky(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dA(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,u=n&268435455;if(u!==0){var d=u&~i;d!==0?r=Ky(d):(o&=u,o!==0&&(r=Ky(o)))}else u=n&~i,u!==0?r=Ky(u):o!==0&&(r=Ky(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-xu(e),i=1<<n,r|=t[n],e&=~i;return r}function lRe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uRe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var u=31-xu(o),d=1<<u,m=i[u];m===-1?(!(d&n)||d&r)&&(i[u]=lRe(d,e)):m<=e&&(t.expiredLanes|=d),o&=~d}}function WH(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ove(){var t=BT;return BT<<=1,!(BT&4194240)&&(BT=64),t}function BV(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function a_(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xu(e),t[e]=n}function cRe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-xu(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function M$(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-xu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ii=0;function ave(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var lve,T$,uve,cve,dve,KH=!1,zT=[],If=null,Rf=null,Df=null,_b=new Map,wb=new Map,Ef=[],dRe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qme(t,e){switch(t){case"focusin":case"focusout":If=null;break;case"dragenter":case"dragleave":Rf=null;break;case"mouseover":case"mouseout":Df=null;break;case"pointerover":case"pointerout":_b.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":wb.delete(e.pointerId)}}function by(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=u_(e),e!==null&&T$(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hRe(t,e,n,r,i){switch(e){case"focusin":return If=by(If,t,e,n,r,i),!0;case"dragenter":return Rf=by(Rf,t,e,n,r,i),!0;case"mouseover":return Df=by(Df,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return _b.set(o,by(_b.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,wb.set(o,by(wb.get(o)||null,t,e,n,r,i)),!0}return!1}function hve(t){var e=f2(t.target);if(e!==null){var n=$2(e);if(n!==null){if(e=n.tag,e===13){if(e=eve(n),e!==null){t.blockedOn=e,dve(t.priority,function(){uve(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zk(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=XH(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);jH=r,n.target.dispatchEvent(r),jH=null}else return e=u_(n),e!==null&&T$(e),t.blockedOn=n,!1;e.shift()}return!0}function Jme(t,e,n){zk(t)&&n.delete(e)}function pRe(){KH=!1,If!==null&&zk(If)&&(If=null),Rf!==null&&zk(Rf)&&(Rf=null),Df!==null&&zk(Df)&&(Df=null),_b.forEach(Jme),wb.forEach(Jme)}function _y(t,e){t.blockedOn===e&&(t.blockedOn=null,KH||(KH=!0,P0.unstable_scheduleCallback(P0.unstable_NormalPriority,pRe)))}function xb(t){function e(i){return _y(i,t)}if(0<zT.length){_y(zT[0],t);for(var n=1;n<zT.length;n++){var r=zT[n];r.blockedOn===t&&(r.blockedOn=null)}}for(If!==null&&_y(If,t),Rf!==null&&_y(Rf,t),Df!==null&&_y(Df,t),_b.forEach(e),wb.forEach(e),n=0;n<Ef.length;n++)r=Ef[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ef.length&&(n=Ef[0],n.blockedOn===null);)hve(n),n.blockedOn===null&&Ef.shift()}var U4=bh.ReactCurrentBatchConfig,hA=!0;function fRe(t,e,n,r){var i=ii,o=U4.transition;U4.transition=null;try{ii=1,k$(t,e,n,r)}finally{ii=i,U4.transition=o}}function mRe(t,e,n,r){var i=ii,o=U4.transition;U4.transition=null;try{ii=4,k$(t,e,n,r)}finally{ii=i,U4.transition=o}}function k$(t,e,n,r){if(hA){var i=XH(t,e,n,r);if(i===null)XV(t,e,r,pA,n),Qme(t,r);else if(hRe(i,t,e,n,r))r.stopPropagation();else if(Qme(t,r),e&4&&-1<dRe.indexOf(t)){for(;i!==null;){var o=u_(i);if(o!==null&&lve(o),o=XH(t,e,n,r),o===null&&XV(t,e,r,pA,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else XV(t,e,r,null,n)}}var pA=null;function XH(t,e,n,r){if(pA=null,t=C$(r),t=f2(t),t!==null)if(e=$2(t),e===null)t=null;else if(n=e.tag,n===13){if(t=eve(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pA=t,null}function pve(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nRe()){case P$:return 1;case ive:return 4;case cA:case rRe:return 16;case sve:return 536870912;default:return 16}default:return 16}}var Mf=null,A$=null,Vk=null;function fve(){if(Vk)return Vk;var t,e=A$,n=e.length,r,i="value"in Mf?Mf.value:Mf.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===i[o-r];r++);return Vk=i.slice(t,1<r?1-r:void 0)}function jk(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function VT(){return!0}function e2e(){return!1}function k0(t){function e(n,r,i,o,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=u,this.currentTarget=null;for(var d in t)t.hasOwnProperty(d)&&(n=t[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?VT:e2e,this.isPropagationStopped=e2e,this}return es(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=VT)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=VT)},persist:function(){},isPersistent:VT}),e}var gg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I$=k0(gg),l_=es({},gg,{view:0,detail:0}),gRe=k0(l_),UV,zV,wy,pI=es({},l_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:R$,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wy&&(wy&&t.type==="mousemove"?(UV=t.screenX-wy.screenX,zV=t.screenY-wy.screenY):zV=UV=0,wy=t),UV)},movementY:function(t){return"movementY"in t?t.movementY:zV}}),t2e=k0(pI),vRe=es({},pI,{dataTransfer:0}),yRe=k0(vRe),bRe=es({},l_,{relatedTarget:0}),VV=k0(bRe),_Re=es({},gg,{animationName:0,elapsedTime:0,pseudoElement:0}),wRe=k0(_Re),xRe=es({},gg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SRe=k0(xRe),ERe=es({},gg,{data:0}),n2e=k0(ERe),CRe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},PRe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MRe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TRe(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MRe[t])?!!e[t]:!1}function R$(){return TRe}var kRe=es({},l_,{key:function(t){if(t.key){var e=CRe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jk(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?PRe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:R$,charCode:function(t){return t.type==="keypress"?jk(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jk(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ARe=k0(kRe),IRe=es({},pI,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),r2e=k0(IRe),RRe=es({},l_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:R$}),DRe=k0(RRe),ORe=es({},gg,{propertyName:0,elapsedTime:0,pseudoElement:0}),LRe=k0(ORe),NRe=es({},pI,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FRe=k0(NRe),BRe=[9,13,27,32],D$=ch&&"CompositionEvent"in window,nb=null;ch&&"documentMode"in document&&(nb=document.documentMode);var URe=ch&&"TextEvent"in window&&!nb,mve=ch&&(!D$||nb&&8<nb&&11>=nb),i2e=String.fromCharCode(32),s2e=!1;function gve(t,e){switch(t){case"keyup":return BRe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vve(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var g4=!1;function zRe(t,e){switch(t){case"compositionend":return vve(e);case"keypress":return e.which!==32?null:(s2e=!0,i2e);case"textInput":return t=e.data,t===i2e&&s2e?null:t;default:return null}}function VRe(t,e){if(g4)return t==="compositionend"||!D$&&gve(t,e)?(t=fve(),Vk=A$=Mf=null,g4=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mve&&e.locale!=="ko"?null:e.data;default:return null}}var jRe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o2e(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jRe[t.type]:e==="textarea"}function yve(t,e,n,r){qge(r),e=fA(e,"onChange"),0<e.length&&(n=new I$("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var rb=null,Sb=null;function HRe(t){kve(t,0)}function fI(t){var e=b4(t);if(jge(e))return t}function GRe(t,e){if(t==="change")return e}var bve=!1;if(ch){var jV;if(ch){var HV="oninput"in document;if(!HV){var a2e=document.createElement("div");a2e.setAttribute("oninput","return;"),HV=typeof a2e.oninput=="function"}jV=HV}else jV=!1;bve=jV&&(!document.documentMode||9<document.documentMode)}function l2e(){rb&&(rb.detachEvent("onpropertychange",_ve),Sb=rb=null)}function _ve(t){if(t.propertyName==="value"&&fI(Sb)){var e=[];yve(e,Sb,t,C$(t)),Jge(HRe,e)}}function $Re(t,e,n){t==="focusin"?(l2e(),rb=e,Sb=n,rb.attachEvent("onpropertychange",_ve)):t==="focusout"&&l2e()}function WRe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fI(Sb)}function KRe(t,e){if(t==="click")return fI(e)}function XRe(t,e){if(t==="input"||t==="change")return fI(e)}function qRe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Eu=typeof Object.is=="function"?Object.is:qRe;function Eb(t,e){if(Eu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!AH.call(e,i)||!Eu(t[i],e[i]))return!1}return!0}function u2e(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function c2e(t,e){var n=u2e(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u2e(n)}}function wve(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?wve(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xve(){for(var t=window,e=aA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=aA(t.document)}return e}function O$(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YRe(t){var e=xve(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&wve(n.ownerDocument.documentElement,n)){if(r!==null&&O$(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=c2e(n,o);var u=c2e(n,r);i&&u&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZRe=ch&&"documentMode"in document&&11>=document.documentMode,v4=null,qH=null,ib=null,YH=!1;function d2e(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;YH||v4==null||v4!==aA(r)||(r=v4,"selectionStart"in r&&O$(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ib&&Eb(ib,r)||(ib=r,r=fA(qH,"onSelect"),0<r.length&&(e=new I$("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=v4)))}function jT(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var y4={animationend:jT("Animation","AnimationEnd"),animationiteration:jT("Animation","AnimationIteration"),animationstart:jT("Animation","AnimationStart"),transitionend:jT("Transition","TransitionEnd")},GV={},Sve={};ch&&(Sve=document.createElement("div").style,"AnimationEvent"in window||(delete y4.animationend.animation,delete y4.animationiteration.animation,delete y4.animationstart.animation),"TransitionEvent"in window||delete y4.transitionend.transition);function mI(t){if(GV[t])return GV[t];if(!y4[t])return t;var e=y4[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Sve)return GV[t]=e[n];return t}var Eve=mI("animationend"),Cve=mI("animationiteration"),Pve=mI("animationstart"),Mve=mI("transitionend"),Tve=new Map,h2e="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zf(t,e){Tve.set(t,e),G2(e,[t])}for(var $V=0;$V<h2e.length;$V++){var WV=h2e[$V],QRe=WV.toLowerCase(),JRe=WV[0].toUpperCase()+WV.slice(1);Zf(QRe,"on"+JRe)}Zf(Eve,"onAnimationEnd");Zf(Cve,"onAnimationIteration");Zf(Pve,"onAnimationStart");Zf("dblclick","onDoubleClick");Zf("focusin","onFocus");Zf("focusout","onBlur");Zf(Mve,"onTransitionEnd");q4("onMouseEnter",["mouseout","mouseover"]);q4("onMouseLeave",["mouseout","mouseover"]);q4("onPointerEnter",["pointerout","pointerover"]);q4("onPointerLeave",["pointerout","pointerover"]);G2("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));G2("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));G2("onBeforeInput",["compositionend","keypress","textInput","paste"]);G2("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));G2("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));G2("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eDe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xy));function p2e(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QIe(r,e,void 0,t),t.currentTarget=null}function kve(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var u=r.length-1;0<=u;u--){var d=r[u],m=d.instance,v=d.currentTarget;if(d=d.listener,m!==o&&i.isPropagationStopped())break e;p2e(i,d,v),o=m}else for(u=0;u<r.length;u++){if(d=r[u],m=d.instance,v=d.currentTarget,d=d.listener,m!==o&&i.isPropagationStopped())break e;p2e(i,d,v),o=m}}}if(uA)throw t=$H,uA=!1,$H=null,t}function Ti(t,e){var n=e[tG];n===void 0&&(n=e[tG]=new Set);var r=t+"__bubble";n.has(r)||(Ave(e,t,2,!1),n.add(r))}function KV(t,e,n){var r=0;e&&(r|=4),Ave(n,t,r,e)}var HT="_reactListening"+Math.random().toString(36).slice(2);function Cb(t){if(!t[HT]){t[HT]=!0,Fge.forEach(function(n){n!=="selectionchange"&&(eDe.has(n)||KV(n,!1,t),KV(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[HT]||(e[HT]=!0,KV("selectionchange",!1,e))}}function Ave(t,e,n,r){switch(pve(e)){case 1:var i=fRe;break;case 4:i=mRe;break;default:i=k$}n=i.bind(null,e,n,t),i=void 0,!GH||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function XV(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var d=r.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var m=u.tag;if((m===3||m===4)&&(m=u.stateNode.containerInfo,m===i||m.nodeType===8&&m.parentNode===i))return;u=u.return}for(;d!==null;){if(u=f2(d),u===null)return;if(m=u.tag,m===5||m===6){r=o=u;continue e}d=d.parentNode}}r=r.return}Jge(function(){var v=o,x=C$(n),S=[];e:{var T=Tve.get(t);if(T!==void 0){var R=I$,G=t;switch(t){case"keypress":if(jk(n)===0)break e;case"keydown":case"keyup":R=ARe;break;case"focusin":G="focus",R=VV;break;case"focusout":G="blur",R=VV;break;case"beforeblur":case"afterblur":R=VV;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":R=t2e;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":R=yRe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":R=DRe;break;case Eve:case Cve:case Pve:R=wRe;break;case Mve:R=LRe;break;case"scroll":R=gRe;break;case"wheel":R=FRe;break;case"copy":case"cut":case"paste":R=SRe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":R=r2e}var L=(e&4)!==0,B=!L&&t==="scroll",z=L?T!==null?T+"Capture":null:T;L=[];for(var C=v,V;C!==null;){V=C;var Y=V.stateNode;if(V.tag===5&&Y!==null&&(V=Y,z!==null&&(Y=bb(C,z),Y!=null&&L.push(Pb(C,Y,V)))),B)break;C=C.return}0<L.length&&(T=new R(T,G,null,n,x),S.push({event:T,listeners:L}))}}if(!(e&7)){e:{if(T=t==="mouseover"||t==="pointerover",R=t==="mouseout"||t==="pointerout",T&&n!==jH&&(G=n.relatedTarget||n.fromElement)&&(f2(G)||G[dh]))break e;if((R||T)&&(T=x.window===x?x:(T=x.ownerDocument)?T.defaultView||T.parentWindow:window,R?(G=n.relatedTarget||n.toElement,R=v,G=G?f2(G):null,G!==null&&(B=$2(G),G!==B||G.tag!==5&&G.tag!==6)&&(G=null)):(R=null,G=v),R!==G)){if(L=t2e,Y="onMouseLeave",z="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(L=r2e,Y="onPointerLeave",z="onPointerEnter",C="pointer"),B=R==null?T:b4(R),V=G==null?T:b4(G),T=new L(Y,C+"leave",R,n,x),T.target=B,T.relatedTarget=V,Y=null,f2(x)===v&&(L=new L(z,C+"enter",G,n,x),L.target=V,L.relatedTarget=B,Y=L),B=Y,R&&G)t:{for(L=R,z=G,C=0,V=L;V;V=F5(V))C++;for(V=0,Y=z;Y;Y=F5(Y))V++;for(;0<C-V;)L=F5(L),C--;for(;0<V-C;)z=F5(z),V--;for(;C--;){if(L===z||z!==null&&L===z.alternate)break t;L=F5(L),z=F5(z)}L=null}else L=null;R!==null&&f2e(S,T,R,L,!1),G!==null&&B!==null&&f2e(S,B,G,L,!0)}}e:{if(T=v?b4(v):window,R=T.nodeName&&T.nodeName.toLowerCase(),R==="select"||R==="input"&&T.type==="file")var me=GRe;else if(o2e(T))if(bve)me=XRe;else{me=WRe;var q=$Re}else(R=T.nodeName)&&R.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(me=KRe);if(me&&(me=me(t,v))){yve(S,me,n,x);break e}q&&q(t,T,v),t==="focusout"&&(q=T._wrapperState)&&q.controlled&&T.type==="number"&&FH(T,"number",T.value)}switch(q=v?b4(v):window,t){case"focusin":(o2e(q)||q.contentEditable==="true")&&(v4=q,qH=v,ib=null);break;case"focusout":ib=qH=v4=null;break;case"mousedown":YH=!0;break;case"contextmenu":case"mouseup":case"dragend":YH=!1,d2e(S,n,x);break;case"selectionchange":if(ZRe)break;case"keydown":case"keyup":d2e(S,n,x)}var ae;if(D$)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else g4?gve(t,n)&&(ve="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(ve="onCompositionStart");ve&&(mve&&n.locale!=="ko"&&(g4||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&g4&&(ae=fve()):(Mf=x,A$="value"in Mf?Mf.value:Mf.textContent,g4=!0)),q=fA(v,ve),0<q.length&&(ve=new n2e(ve,t,null,n,x),S.push({event:ve,listeners:q}),ae?ve.data=ae:(ae=vve(n),ae!==null&&(ve.data=ae)))),(ae=URe?zRe(t,n):VRe(t,n))&&(v=fA(v,"onBeforeInput"),0<v.length&&(x=new n2e("onBeforeInput","beforeinput",null,n,x),S.push({event:x,listeners:v}),x.data=ae))}kve(S,e)})}function Pb(t,e,n){return{instance:t,listener:e,currentTarget:n}}function fA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=bb(t,n),o!=null&&r.unshift(Pb(t,o,i)),o=bb(t,e),o!=null&&r.push(Pb(t,o,i))),t=t.return}return r}function F5(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f2e(t,e,n,r,i){for(var o=e._reactName,u=[];n!==null&&n!==r;){var d=n,m=d.alternate,v=d.stateNode;if(m!==null&&m===r)break;d.tag===5&&v!==null&&(d=v,i?(m=bb(n,o),m!=null&&u.unshift(Pb(n,m,d))):i||(m=bb(n,o),m!=null&&u.push(Pb(n,m,d)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var tDe=/\r\n?/g,nDe=/\u0000|\uFFFD/g;function m2e(t){return(typeof t=="string"?t:""+t).replace(tDe,`
`).replace(nDe,"")}function GT(t,e,n){if(e=m2e(e),m2e(t)!==e&&n)throw Error(Wt(425))}function mA(){}var ZH=null,QH=null;function JH(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var eG=typeof setTimeout=="function"?setTimeout:void 0,rDe=typeof clearTimeout=="function"?clearTimeout:void 0,g2e=typeof Promise=="function"?Promise:void 0,iDe=typeof queueMicrotask=="function"?queueMicrotask:typeof g2e<"u"?function(t){return g2e.resolve(null).then(t).catch(sDe)}:eG;function sDe(t){setTimeout(function(){throw t})}function qV(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xb(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xb(e)}function Of(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function v2e(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var vg=Math.random().toString(36).slice(2),Cc="__reactFiber$"+vg,Mb="__reactProps$"+vg,dh="__reactContainer$"+vg,tG="__reactEvents$"+vg,oDe="__reactListeners$"+vg,aDe="__reactHandles$"+vg;function f2(t){var e=t[Cc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dh]||n[Cc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=v2e(t);t!==null;){if(n=t[Cc])return n;t=v2e(t)}return e}t=n,n=t.parentNode}return null}function u_(t){return t=t[Cc]||t[dh],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function b4(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Wt(33))}function gI(t){return t[Mb]||null}var nG=[],_4=-1;function Qf(t){return{current:t}}function Ri(t){0>_4||(t.current=nG[_4],nG[_4]=null,_4--)}function yi(t,e){_4++,nG[_4]=t.current,t.current=e}var $f={},Qo=Qf($f),e0=Qf(!1),P2=$f;function Y4(t,e){var n=t.type.contextTypes;if(!n)return $f;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function t0(t){return t=t.childContextTypes,t!=null}function gA(){Ri(e0),Ri(Qo)}function y2e(t,e,n){if(Qo.current!==$f)throw Error(Wt(168));yi(Qo,e),yi(e0,n)}function Ive(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Wt(108,$Ie(t)||"Unknown",i));return es({},n,r)}function vA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$f,P2=Qo.current,yi(Qo,t),yi(e0,e0.current),!0}function b2e(t,e,n){var r=t.stateNode;if(!r)throw Error(Wt(169));n?(t=Ive(t,e,P2),r.__reactInternalMemoizedMergedChildContext=t,Ri(e0),Ri(Qo),yi(Qo,t)):Ri(e0),yi(e0,n)}var Zd=null,vI=!1,YV=!1;function Rve(t){Zd===null?Zd=[t]:Zd.push(t)}function lDe(t){vI=!0,Rve(t)}function Jf(){if(!YV&&Zd!==null){YV=!0;var t=0,e=ii;try{var n=Zd;for(ii=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zd=null,vI=!1}catch(i){throw Zd!==null&&(Zd=Zd.slice(t+1)),rve(P$,Jf),i}finally{ii=e,YV=!1}}return null}var w4=[],x4=0,yA=null,bA=0,hl=[],pl=0,M2=null,Jd=1,eh="";function a2(t,e){w4[x4++]=bA,w4[x4++]=yA,yA=t,bA=e}function Dve(t,e,n){hl[pl++]=Jd,hl[pl++]=eh,hl[pl++]=M2,M2=t;var r=Jd;t=eh;var i=32-xu(r)-1;r&=~(1<<i),n+=1;var o=32-xu(e)+i;if(30<o){var u=i-i%5;o=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Jd=1<<32-xu(e)+i|n<<i|r,eh=o+t}else Jd=1<<o|n<<i|r,eh=t}function L$(t){t.return!==null&&(a2(t,1),Dve(t,1,0))}function N$(t){for(;t===yA;)yA=w4[--x4],w4[x4]=null,bA=w4[--x4],w4[x4]=null;for(;t===M2;)M2=hl[--pl],hl[pl]=null,eh=hl[--pl],hl[pl]=null,Jd=hl[--pl],hl[pl]=null}var S0=null,x0=null,Ni=!1,_u=null;function Ove(t,e){var n=ml(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _2e(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,S0=t,x0=Of(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,S0=t,x0=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=M2!==null?{id:Jd,overflow:eh}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ml(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,S0=t,x0=null,!0):!1;default:return!1}}function rG(t){return(t.mode&1)!==0&&(t.flags&128)===0}function iG(t){if(Ni){var e=x0;if(e){var n=e;if(!_2e(t,e)){if(rG(t))throw Error(Wt(418));e=Of(n.nextSibling);var r=S0;e&&_2e(t,e)?Ove(r,n):(t.flags=t.flags&-4097|2,Ni=!1,S0=t)}}else{if(rG(t))throw Error(Wt(418));t.flags=t.flags&-4097|2,Ni=!1,S0=t}}}function w2e(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;S0=t}function $T(t){if(t!==S0)return!1;if(!Ni)return w2e(t),Ni=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!JH(t.type,t.memoizedProps)),e&&(e=x0)){if(rG(t))throw Lve(),Error(Wt(418));for(;e;)Ove(t,e),e=Of(e.nextSibling)}if(w2e(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Wt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){x0=Of(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}x0=null}}else x0=S0?Of(t.stateNode.nextSibling):null;return!0}function Lve(){for(var t=x0;t;)t=Of(t.nextSibling)}function Z4(){x0=S0=null,Ni=!1}function F$(t){_u===null?_u=[t]:_u.push(t)}var uDe=bh.ReactCurrentBatchConfig;function vu(t,e){if(t&&t.defaultProps){e=es({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var _A=Qf(null),wA=null,S4=null,B$=null;function U$(){B$=S4=wA=null}function z$(t){var e=_A.current;Ri(_A),t._currentValue=e}function sG(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function z4(t,e){wA=t,B$=S4=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qa=!0),t.firstContext=null)}function wl(t){var e=t._currentValue;if(B$!==t)if(t={context:t,memoizedValue:e,next:null},S4===null){if(wA===null)throw Error(Wt(308));S4=t,wA.dependencies={lanes:0,firstContext:t}}else S4=S4.next=t;return e}var m2=null;function V$(t){m2===null?m2=[t]:m2.push(t)}function Nve(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,V$(e)):(n.next=i.next,i.next=n),e.interleaved=n,hh(t,r)}function hh(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wf=!1;function j$(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fve(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oh(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Br&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hh(t,n)}return i=r.interleaved,i===null?(e.next=e,V$(r)):(e.next=i.next,i.next=e),r.interleaved=e,hh(t,n)}function Hk(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,M$(t,n)}}function x2e(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=u:o=o.next=u,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xA(t,e,n,r){var i=t.updateQueue;wf=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var m=d,v=m.next;m.next=null,u===null?o=v:u.next=v,u=m;var x=t.alternate;x!==null&&(x=x.updateQueue,d=x.lastBaseUpdate,d!==u&&(d===null?x.firstBaseUpdate=v:d.next=v,x.lastBaseUpdate=m))}if(o!==null){var S=i.baseState;u=0,x=v=m=null,d=o;do{var T=d.lane,R=d.eventTime;if((r&T)===T){x!==null&&(x=x.next={eventTime:R,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var G=t,L=d;switch(T=e,R=n,L.tag){case 1:if(G=L.payload,typeof G=="function"){S=G.call(R,S,T);break e}S=G;break e;case 3:G.flags=G.flags&-65537|128;case 0:if(G=L.payload,T=typeof G=="function"?G.call(R,S,T):G,T==null)break e;S=es({},S,T);break e;case 2:wf=!0}}d.callback!==null&&d.lane!==0&&(t.flags|=64,T=i.effects,T===null?i.effects=[d]:T.push(d))}else R={eventTime:R,lane:T,tag:d.tag,payload:d.payload,callback:d.callback,next:null},x===null?(v=x=R,m=S):x=x.next=R,u|=T;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;T=d,d=T.next,T.next=null,i.lastBaseUpdate=T,i.shared.pending=null}}while(1);if(x===null&&(m=S),i.baseState=m,i.firstBaseUpdate=v,i.lastBaseUpdate=x,e=i.shared.interleaved,e!==null){i=e;do u|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);k2|=u,t.lanes=u,t.memoizedState=S}}function S2e(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Wt(191,i));i.call(r)}}}var Bve=new Nge.Component().refs;function oG(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:es({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var yI={isMounted:function(t){return(t=t._reactInternals)?$2(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ma(),i=Ff(t),o=oh(r,i);o.payload=e,n!=null&&(o.callback=n),e=Lf(t,o,i),e!==null&&(Su(e,t,i,r),Hk(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ma(),i=Ff(t),o=oh(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Lf(t,o,i),e!==null&&(Su(e,t,i,r),Hk(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ma(),r=Ff(t),i=oh(n,r);i.tag=2,e!=null&&(i.callback=e),e=Lf(t,i,r),e!==null&&(Su(e,t,r,n),Hk(e,t,r))}};function E2e(t,e,n,r,i,o,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,u):e.prototype&&e.prototype.isPureReactComponent?!Eb(n,r)||!Eb(i,o):!0}function Uve(t,e,n){var r=!1,i=$f,o=e.contextType;return typeof o=="object"&&o!==null?o=wl(o):(i=t0(e)?P2:Qo.current,r=e.contextTypes,o=(r=r!=null)?Y4(t,i):$f),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yI,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function C2e(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&yI.enqueueReplaceState(e,e.state,null)}function aG(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bve,j$(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=wl(o):(o=t0(e)?P2:Qo.current,i.context=Y4(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(oG(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yI.enqueueReplaceState(i,i.state,null),xA(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Wt(309));var r=n.stateNode}if(!r)throw Error(Wt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(u){var d=i.refs;d===Bve&&(d=i.refs={}),u===null?delete d[o]:d[o]=u},e._stringRef=o,e)}if(typeof t!="string")throw Error(Wt(284));if(!n._owner)throw Error(Wt(290,t))}return t}function WT(t,e){throw t=Object.prototype.toString.call(e),Error(Wt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P2e(t){var e=t._init;return e(t._payload)}function zve(t){function e(z,C){if(t){var V=z.deletions;V===null?(z.deletions=[C],z.flags|=16):V.push(C)}}function n(z,C){if(!t)return null;for(;C!==null;)e(z,C),C=C.sibling;return null}function r(z,C){for(z=new Map;C!==null;)C.key!==null?z.set(C.key,C):z.set(C.index,C),C=C.sibling;return z}function i(z,C){return z=Bf(z,C),z.index=0,z.sibling=null,z}function o(z,C,V){return z.index=V,t?(V=z.alternate,V!==null?(V=V.index,V<C?(z.flags|=2,C):V):(z.flags|=2,C)):(z.flags|=1048576,C)}function u(z){return t&&z.alternate===null&&(z.flags|=2),z}function d(z,C,V,Y){return C===null||C.tag!==6?(C=rj(V,z.mode,Y),C.return=z,C):(C=i(C,V),C.return=z,C)}function m(z,C,V,Y){var me=V.type;return me===m4?x(z,C,V.props.children,Y,V.key):C!==null&&(C.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===_f&&P2e(me)===C.type)?(Y=i(C,V.props),Y.ref=xy(z,C,V),Y.return=z,Y):(Y=qk(V.type,V.key,V.props,null,z.mode,Y),Y.ref=xy(z,C,V),Y.return=z,Y)}function v(z,C,V,Y){return C===null||C.tag!==4||C.stateNode.containerInfo!==V.containerInfo||C.stateNode.implementation!==V.implementation?(C=ij(V,z.mode,Y),C.return=z,C):(C=i(C,V.children||[]),C.return=z,C)}function x(z,C,V,Y,me){return C===null||C.tag!==7?(C=w2(V,z.mode,Y,me),C.return=z,C):(C=i(C,V),C.return=z,C)}function S(z,C,V){if(typeof C=="string"&&C!==""||typeof C=="number")return C=rj(""+C,z.mode,V),C.return=z,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case LT:return V=qk(C.type,C.key,C.props,null,z.mode,V),V.ref=xy(z,null,C),V.return=z,V;case f4:return C=ij(C,z.mode,V),C.return=z,C;case _f:var Y=C._init;return S(z,Y(C._payload),V)}if(Wy(C)||vy(C))return C=w2(C,z.mode,V,null),C.return=z,C;WT(z,C)}return null}function T(z,C,V,Y){var me=C!==null?C.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return me!==null?null:d(z,C,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case LT:return V.key===me?m(z,C,V,Y):null;case f4:return V.key===me?v(z,C,V,Y):null;case _f:return me=V._init,T(z,C,me(V._payload),Y)}if(Wy(V)||vy(V))return me!==null?null:x(z,C,V,Y,null);WT(z,V)}return null}function R(z,C,V,Y,me){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return z=z.get(V)||null,d(C,z,""+Y,me);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case LT:return z=z.get(Y.key===null?V:Y.key)||null,m(C,z,Y,me);case f4:return z=z.get(Y.key===null?V:Y.key)||null,v(C,z,Y,me);case _f:var q=Y._init;return R(z,C,V,q(Y._payload),me)}if(Wy(Y)||vy(Y))return z=z.get(V)||null,x(C,z,Y,me,null);WT(C,Y)}return null}function G(z,C,V,Y){for(var me=null,q=null,ae=C,ve=C=0,W=null;ae!==null&&ve<V.length;ve++){ae.index>ve?(W=ae,ae=null):W=ae.sibling;var se=T(z,ae,V[ve],Y);if(se===null){ae===null&&(ae=W);break}t&&ae&&se.alternate===null&&e(z,ae),C=o(se,C,ve),q===null?me=se:q.sibling=se,q=se,ae=W}if(ve===V.length)return n(z,ae),Ni&&a2(z,ve),me;if(ae===null){for(;ve<V.length;ve++)ae=S(z,V[ve],Y),ae!==null&&(C=o(ae,C,ve),q===null?me=ae:q.sibling=ae,q=ae);return Ni&&a2(z,ve),me}for(ae=r(z,ae);ve<V.length;ve++)W=R(ae,z,ve,V[ve],Y),W!==null&&(t&&W.alternate!==null&&ae.delete(W.key===null?ve:W.key),C=o(W,C,ve),q===null?me=W:q.sibling=W,q=W);return t&&ae.forEach(function(Te){return e(z,Te)}),Ni&&a2(z,ve),me}function L(z,C,V,Y){var me=vy(V);if(typeof me!="function")throw Error(Wt(150));if(V=me.call(V),V==null)throw Error(Wt(151));for(var q=me=null,ae=C,ve=C=0,W=null,se=V.next();ae!==null&&!se.done;ve++,se=V.next()){ae.index>ve?(W=ae,ae=null):W=ae.sibling;var Te=T(z,ae,se.value,Y);if(Te===null){ae===null&&(ae=W);break}t&&ae&&Te.alternate===null&&e(z,ae),C=o(Te,C,ve),q===null?me=Te:q.sibling=Te,q=Te,ae=W}if(se.done)return n(z,ae),Ni&&a2(z,ve),me;if(ae===null){for(;!se.done;ve++,se=V.next())se=S(z,se.value,Y),se!==null&&(C=o(se,C,ve),q===null?me=se:q.sibling=se,q=se);return Ni&&a2(z,ve),me}for(ae=r(z,ae);!se.done;ve++,se=V.next())se=R(ae,z,ve,se.value,Y),se!==null&&(t&&se.alternate!==null&&ae.delete(se.key===null?ve:se.key),C=o(se,C,ve),q===null?me=se:q.sibling=se,q=se);return t&&ae.forEach(function(dt){return e(z,dt)}),Ni&&a2(z,ve),me}function B(z,C,V,Y){if(typeof V=="object"&&V!==null&&V.type===m4&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case LT:e:{for(var me=V.key,q=C;q!==null;){if(q.key===me){if(me=V.type,me===m4){if(q.tag===7){n(z,q.sibling),C=i(q,V.props.children),C.return=z,z=C;break e}}else if(q.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===_f&&P2e(me)===q.type){n(z,q.sibling),C=i(q,V.props),C.ref=xy(z,q,V),C.return=z,z=C;break e}n(z,q);break}else e(z,q);q=q.sibling}V.type===m4?(C=w2(V.props.children,z.mode,Y,V.key),C.return=z,z=C):(Y=qk(V.type,V.key,V.props,null,z.mode,Y),Y.ref=xy(z,C,V),Y.return=z,z=Y)}return u(z);case f4:e:{for(q=V.key;C!==null;){if(C.key===q)if(C.tag===4&&C.stateNode.containerInfo===V.containerInfo&&C.stateNode.implementation===V.implementation){n(z,C.sibling),C=i(C,V.children||[]),C.return=z,z=C;break e}else{n(z,C);break}else e(z,C);C=C.sibling}C=ij(V,z.mode,Y),C.return=z,z=C}return u(z);case _f:return q=V._init,B(z,C,q(V._payload),Y)}if(Wy(V))return G(z,C,V,Y);if(vy(V))return L(z,C,V,Y);WT(z,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,C!==null&&C.tag===6?(n(z,C.sibling),C=i(C,V),C.return=z,z=C):(n(z,C),C=rj(V,z.mode,Y),C.return=z,z=C),u(z)):n(z,C)}return B}var Q4=zve(!0),Vve=zve(!1),c_={},Ac=Qf(c_),Tb=Qf(c_),kb=Qf(c_);function g2(t){if(t===c_)throw Error(Wt(174));return t}function H$(t,e){switch(yi(kb,e),yi(Tb,t),yi(Ac,c_),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:UH(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=UH(e,t)}Ri(Ac),yi(Ac,e)}function J4(){Ri(Ac),Ri(Tb),Ri(kb)}function jve(t){g2(kb.current);var e=g2(Ac.current),n=UH(e,t.type);e!==n&&(yi(Tb,t),yi(Ac,n))}function G$(t){Tb.current===t&&(Ri(Ac),Ri(Tb))}var Xi=Qf(0);function SA(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ZV=[];function $$(){for(var t=0;t<ZV.length;t++)ZV[t]._workInProgressVersionPrimary=null;ZV.length=0}var Gk=bh.ReactCurrentDispatcher,QV=bh.ReactCurrentBatchConfig,T2=0,Qi=null,Vs=null,ro=null,EA=!1,sb=!1,Ab=0,cDe=0;function Go(){throw Error(Wt(321))}function W$(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Eu(t[n],e[n]))return!1;return!0}function K$(t,e,n,r,i,o){if(T2=o,Qi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gk.current=t===null||t.memoizedState===null?fDe:mDe,t=n(r,i),sb){o=0;do{if(sb=!1,Ab=0,25<=o)throw Error(Wt(301));o+=1,ro=Vs=null,e.updateQueue=null,Gk.current=gDe,t=n(r,i)}while(sb)}if(Gk.current=CA,e=Vs!==null&&Vs.next!==null,T2=0,ro=Vs=Qi=null,EA=!1,e)throw Error(Wt(300));return t}function X$(){var t=Ab!==0;return Ab=0,t}function xc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ro===null?Qi.memoizedState=ro=t:ro=ro.next=t,ro}function xl(){if(Vs===null){var t=Qi.alternate;t=t!==null?t.memoizedState:null}else t=Vs.next;var e=ro===null?Qi.memoizedState:ro.next;if(e!==null)ro=e,Vs=t;else{if(t===null)throw Error(Wt(310));Vs=t,t={memoizedState:Vs.memoizedState,baseState:Vs.baseState,baseQueue:Vs.baseQueue,queue:Vs.queue,next:null},ro===null?Qi.memoizedState=ro=t:ro=ro.next=t}return ro}function Ib(t,e){return typeof e=="function"?e(t):e}function JV(t){var e=xl(),n=e.queue;if(n===null)throw Error(Wt(311));n.lastRenderedReducer=t;var r=Vs,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var d=u=null,m=null,v=o;do{var x=v.lane;if((T2&x)===x)m!==null&&(m=m.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:t(r,v.action);else{var S={lane:x,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};m===null?(d=m=S,u=r):m=m.next=S,Qi.lanes|=x,k2|=x}v=v.next}while(v!==null&&v!==o);m===null?u=r:m.next=d,Eu(r,e.memoizedState)||(Qa=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=m,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Qi.lanes|=o,k2|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ej(t){var e=xl(),n=e.queue;if(n===null)throw Error(Wt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do o=t(o,u.action),u=u.next;while(u!==i);Eu(o,e.memoizedState)||(Qa=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Hve(){}function Gve(t,e){var n=Qi,r=xl(),i=e(),o=!Eu(r.memoizedState,i);if(o&&(r.memoizedState=i,Qa=!0),r=r.queue,q$(Kve.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ro!==null&&ro.memoizedState.tag&1){if(n.flags|=2048,Rb(9,Wve.bind(null,n,r,i,e),void 0,null),ao===null)throw Error(Wt(349));T2&30||$ve(n,e,i)}return i}function $ve(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Qi.updateQueue,e===null?(e={lastEffect:null,stores:null},Qi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Wve(t,e,n,r){e.value=n,e.getSnapshot=r,Xve(e)&&qve(t)}function Kve(t,e,n){return n(function(){Xve(e)&&qve(t)})}function Xve(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Eu(t,n)}catch{return!0}}function qve(t){var e=hh(t,1);e!==null&&Su(e,t,1,-1)}function M2e(t){var e=xc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ib,lastRenderedState:t},e.queue=t,t=t.dispatch=pDe.bind(null,Qi,t),[e.memoizedState,t]}function Rb(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Qi.updateQueue,e===null?(e={lastEffect:null,stores:null},Qi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Yve(){return xl().memoizedState}function $k(t,e,n,r){var i=xc();Qi.flags|=t,i.memoizedState=Rb(1|e,n,void 0,r===void 0?null:r)}function bI(t,e,n,r){var i=xl();r=r===void 0?null:r;var o=void 0;if(Vs!==null){var u=Vs.memoizedState;if(o=u.destroy,r!==null&&W$(r,u.deps)){i.memoizedState=Rb(e,n,o,r);return}}Qi.flags|=t,i.memoizedState=Rb(1|e,n,o,r)}function T2e(t,e){return $k(8390656,8,t,e)}function q$(t,e){return bI(2048,8,t,e)}function Zve(t,e){return bI(4,2,t,e)}function Qve(t,e){return bI(4,4,t,e)}function Jve(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function e8e(t,e,n){return n=n!=null?n.concat([t]):null,bI(4,4,Jve.bind(null,e,t),n)}function Y$(){}function t8e(t,e){var n=xl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W$(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function n8e(t,e){var n=xl();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&W$(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function r8e(t,e,n){return T2&21?(Eu(n,e)||(n=ove(),Qi.lanes|=n,k2|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qa=!0),t.memoizedState=n)}function dDe(t,e){var n=ii;ii=n!==0&&4>n?n:4,t(!0);var r=QV.transition;QV.transition={};try{t(!1),e()}finally{ii=n,QV.transition=r}}function i8e(){return xl().memoizedState}function hDe(t,e,n){var r=Ff(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s8e(t))o8e(e,n);else if(n=Nve(t,e,n,r),n!==null){var i=Ma();Su(n,t,r,i),a8e(n,e,r)}}function pDe(t,e,n){var r=Ff(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s8e(t))o8e(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var u=e.lastRenderedState,d=o(u,n);if(i.hasEagerState=!0,i.eagerState=d,Eu(d,u)){var m=e.interleaved;m===null?(i.next=i,V$(e)):(i.next=m.next,m.next=i),e.interleaved=i;return}}catch{}finally{}n=Nve(t,e,i,r),n!==null&&(i=Ma(),Su(n,t,r,i),a8e(n,e,r))}}function s8e(t){var e=t.alternate;return t===Qi||e!==null&&e===Qi}function o8e(t,e){sb=EA=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function a8e(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,M$(t,n)}}var CA={readContext:wl,useCallback:Go,useContext:Go,useEffect:Go,useImperativeHandle:Go,useInsertionEffect:Go,useLayoutEffect:Go,useMemo:Go,useReducer:Go,useRef:Go,useState:Go,useDebugValue:Go,useDeferredValue:Go,useTransition:Go,useMutableSource:Go,useSyncExternalStore:Go,useId:Go,unstable_isNewReconciler:!1},fDe={readContext:wl,useCallback:function(t,e){return xc().memoizedState=[t,e===void 0?null:e],t},useContext:wl,useEffect:T2e,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$k(4194308,4,Jve.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $k(4194308,4,t,e)},useInsertionEffect:function(t,e){return $k(4,2,t,e)},useMemo:function(t,e){var n=xc();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xc();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hDe.bind(null,Qi,t),[r.memoizedState,t]},useRef:function(t){var e=xc();return t={current:t},e.memoizedState=t},useState:M2e,useDebugValue:Y$,useDeferredValue:function(t){return xc().memoizedState=t},useTransition:function(){var t=M2e(!1),e=t[0];return t=dDe.bind(null,t[1]),xc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Qi,i=xc();if(Ni){if(n===void 0)throw Error(Wt(407));n=n()}else{if(n=e(),ao===null)throw Error(Wt(349));T2&30||$ve(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,T2e(Kve.bind(null,r,o,t),[t]),r.flags|=2048,Rb(9,Wve.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=xc(),e=ao.identifierPrefix;if(Ni){var n=eh,r=Jd;n=(r&~(1<<32-xu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ab++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cDe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mDe={readContext:wl,useCallback:t8e,useContext:wl,useEffect:q$,useImperativeHandle:e8e,useInsertionEffect:Zve,useLayoutEffect:Qve,useMemo:n8e,useReducer:JV,useRef:Yve,useState:function(){return JV(Ib)},useDebugValue:Y$,useDeferredValue:function(t){var e=xl();return r8e(e,Vs.memoizedState,t)},useTransition:function(){var t=JV(Ib)[0],e=xl().memoizedState;return[t,e]},useMutableSource:Hve,useSyncExternalStore:Gve,useId:i8e,unstable_isNewReconciler:!1},gDe={readContext:wl,useCallback:t8e,useContext:wl,useEffect:q$,useImperativeHandle:e8e,useInsertionEffect:Zve,useLayoutEffect:Qve,useMemo:n8e,useReducer:ej,useRef:Yve,useState:function(){return ej(Ib)},useDebugValue:Y$,useDeferredValue:function(t){var e=xl();return Vs===null?e.memoizedState=t:r8e(e,Vs.memoizedState,t)},useTransition:function(){var t=ej(Ib)[0],e=xl().memoizedState;return[t,e]},useMutableSource:Hve,useSyncExternalStore:Gve,useId:i8e,unstable_isNewReconciler:!1};function eg(t,e){try{var n="",r=e;do n+=GIe(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function tj(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function lG(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var vDe=typeof WeakMap=="function"?WeakMap:Map;function l8e(t,e,n){n=oh(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){MA||(MA=!0,yG=r),lG(t,e)},n}function u8e(t,e,n){n=oh(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){lG(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){lG(t,e),typeof r!="function"&&(Nf===null?Nf=new Set([this]):Nf.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function k2e(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new vDe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=IDe.bind(null,t,e,n),e.then(t,t))}function A2e(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I2e(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oh(-1,1),e.tag=2,Lf(n,e,1))),n.lanes|=1),t)}var yDe=bh.ReactCurrentOwner,Qa=!1;function xa(t,e,n,r){e.child=t===null?Vve(e,null,n,r):Q4(e,t.child,n,r)}function R2e(t,e,n,r,i){n=n.render;var o=e.ref;return z4(e,i),r=K$(t,e,n,r,o,i),n=X$(),t!==null&&!Qa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ph(t,e,i)):(Ni&&n&&L$(e),e.flags|=1,xa(t,e,r,i),e.child)}function D2e(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!iW(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,c8e(t,e,o,r,i)):(t=qk(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var u=o.memoizedProps;if(n=n.compare,n=n!==null?n:Eb,n(u,r)&&t.ref===e.ref)return ph(t,e,i)}return e.flags|=1,t=Bf(o,r),t.ref=e.ref,t.return=e,e.child=t}function c8e(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Eb(o,r)&&t.ref===e.ref)if(Qa=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Qa=!0);else return e.lanes=t.lanes,ph(t,e,i)}return uG(t,e,n,r,i)}function d8e(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},yi(C4,w0),w0|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,yi(C4,w0),w0|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,yi(C4,w0),w0|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,yi(C4,w0),w0|=r;return xa(t,e,i,n),e.child}function h8e(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function uG(t,e,n,r,i){var o=t0(n)?P2:Qo.current;return o=Y4(e,o),z4(e,i),n=K$(t,e,n,r,o,i),r=X$(),t!==null&&!Qa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ph(t,e,i)):(Ni&&r&&L$(e),e.flags|=1,xa(t,e,n,i),e.child)}function O2e(t,e,n,r,i){if(t0(n)){var o=!0;vA(e)}else o=!1;if(z4(e,i),e.stateNode===null)Wk(t,e),Uve(e,n,r),aG(e,n,r,i),r=!0;else if(t===null){var u=e.stateNode,d=e.memoizedProps;u.props=d;var m=u.context,v=n.contextType;typeof v=="object"&&v!==null?v=wl(v):(v=t0(n)?P2:Qo.current,v=Y4(e,v));var x=n.getDerivedStateFromProps,S=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function";S||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==r||m!==v)&&C2e(e,u,r,v),wf=!1;var T=e.memoizedState;u.state=T,xA(e,r,u,i),m=e.memoizedState,d!==r||T!==m||e0.current||wf?(typeof x=="function"&&(oG(e,n,x,r),m=e.memoizedState),(d=wf||E2e(e,n,d,r,T,m,v))?(S||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=m),u.props=r,u.state=m,u.context=v,r=d):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,Fve(t,e),d=e.memoizedProps,v=e.type===e.elementType?d:vu(e.type,d),u.props=v,S=e.pendingProps,T=u.context,m=n.contextType,typeof m=="object"&&m!==null?m=wl(m):(m=t0(n)?P2:Qo.current,m=Y4(e,m));var R=n.getDerivedStateFromProps;(x=typeof R=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==S||T!==m)&&C2e(e,u,r,m),wf=!1,T=e.memoizedState,u.state=T,xA(e,r,u,i);var G=e.memoizedState;d!==S||T!==G||e0.current||wf?(typeof R=="function"&&(oG(e,n,R,r),G=e.memoizedState),(v=wf||E2e(e,n,v,r,T,G,m)||!1)?(x||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,G,m),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,G,m)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=G),u.props=r,u.state=G,u.context=m,r=v):(typeof u.componentDidUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),r=!1)}return cG(t,e,n,r,o,i)}function cG(t,e,n,r,i,o){h8e(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return i&&b2e(e,n,!1),ph(t,e,o);r=e.stateNode,yDe.current=e;var d=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=Q4(e,t.child,null,o),e.child=Q4(e,null,d,o)):xa(t,e,d,o),e.memoizedState=r.state,i&&b2e(e,n,!0),e.child}function p8e(t){var e=t.stateNode;e.pendingContext?y2e(t,e.pendingContext,e.pendingContext!==e.context):e.context&&y2e(t,e.context,!1),H$(t,e.containerInfo)}function L2e(t,e,n,r,i){return Z4(),F$(i),e.flags|=256,xa(t,e,n,r),e.child}var dG={dehydrated:null,treeContext:null,retryLane:0};function hG(t){return{baseLanes:t,cachePool:null,transitions:null}}function f8e(t,e,n){var r=e.pendingProps,i=Xi.current,o=!1,u=(e.flags&128)!==0,d;if((d=u)||(d=t!==null&&t.memoizedState===null?!1:(i&2)!==0),d?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),yi(Xi,i&1),t===null)return iG(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,o?(r=e.mode,o=e.child,u={mode:"hidden",children:u},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=u):o=xI(u,r,0,null),t=w2(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=hG(n),e.memoizedState=dG,t):Z$(e,u));if(i=t.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return bDe(t,e,u,r,d,i,n);if(o){o=r.fallback,u=e.mode,i=t.child,d=i.sibling;var m={mode:"hidden",children:r.children};return!(u&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=m,e.deletions=null):(r=Bf(i,m),r.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Bf(d,o):(o=w2(o,u,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,u=t.child.memoizedState,u=u===null?hG(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},o.memoizedState=u,o.childLanes=t.childLanes&~n,e.memoizedState=dG,r}return o=t.child,t=o.sibling,r=Bf(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Z$(t,e){return e=xI({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function KT(t,e,n,r){return r!==null&&F$(r),Q4(e,t.child,null,n),t=Z$(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bDe(t,e,n,r,i,o,u){if(n)return e.flags&256?(e.flags&=-257,r=tj(Error(Wt(422))),KT(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=xI({mode:"visible",children:r.children},i,0,null),o=w2(o,i,u,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Q4(e,t.child,null,u),e.child.memoizedState=hG(u),e.memoizedState=dG,o);if(!(e.mode&1))return KT(t,e,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var d=r.dgst;return r=d,o=Error(Wt(419)),r=tj(o,r,void 0),KT(t,e,u,r)}if(d=(u&t.childLanes)!==0,Qa||d){if(r=ao,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,hh(t,i),Su(r,t,i,-1))}return rW(),r=tj(Error(Wt(421))),KT(t,e,u,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=RDe.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,x0=Of(i.nextSibling),S0=e,Ni=!0,_u=null,t!==null&&(hl[pl++]=Jd,hl[pl++]=eh,hl[pl++]=M2,Jd=t.id,eh=t.overflow,M2=e),e=Z$(e,r.children),e.flags|=4096,e)}function N2e(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sG(t.return,e,n)}function nj(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function m8e(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(xa(t,e,r.children,n),r=Xi.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&N2e(t,n,e);else if(t.tag===19)N2e(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(yi(Xi,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&SA(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nj(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&SA(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nj(e,!0,n,null,o);break;case"together":nj(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wk(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ph(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),k2|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Wt(153));if(e.child!==null){for(t=e.child,n=Bf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _De(t,e,n){switch(e.tag){case 3:p8e(e),Z4();break;case 5:jve(e);break;case 1:t0(e.type)&&vA(e);break;case 4:H$(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;yi(_A,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(yi(Xi,Xi.current&1),e.flags|=128,null):n&e.child.childLanes?f8e(t,e,n):(yi(Xi,Xi.current&1),t=ph(t,e,n),t!==null?t.sibling:null);yi(Xi,Xi.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return m8e(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yi(Xi,Xi.current),r)break;return null;case 22:case 23:return e.lanes=0,d8e(t,e,n)}return ph(t,e,n)}var g8e,pG,v8e,y8e;g8e=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pG=function(){};v8e=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,g2(Ac.current);var o=null;switch(n){case"input":i=LH(t,i),r=LH(t,r),o=[];break;case"select":i=es({},i,{value:void 0}),r=es({},r,{value:void 0}),o=[];break;case"textarea":i=BH(t,i),r=BH(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mA)}zH(n,r);var u;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var d=i[v];for(u in d)d.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(vb.hasOwnProperty(v)?o||(o=[]):(o=o||[]).push(v,null));for(v in r){var m=r[v];if(d=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&m!==d&&(m!=null||d!=null))if(v==="style")if(d){for(u in d)!d.hasOwnProperty(u)||m&&m.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in m)m.hasOwnProperty(u)&&d[u]!==m[u]&&(n||(n={}),n[u]=m[u])}else n||(o||(o=[]),o.push(v,n)),n=m;else v==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,d=d?d.__html:void 0,m!=null&&d!==m&&(o=o||[]).push(v,m)):v==="children"?typeof m!="string"&&typeof m!="number"||(o=o||[]).push(v,""+m):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(vb.hasOwnProperty(v)?(m!=null&&v==="onScroll"&&Ti("scroll",t),o||d===m||(o=[])):(o=o||[]).push(v,m))}n&&(o=o||[]).push("style",n);var v=o;(e.updateQueue=v)&&(e.flags|=4)}};y8e=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sy(t,e){if(!Ni)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function $o(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wDe(t,e,n){var r=e.pendingProps;switch(N$(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $o(e),null;case 1:return t0(e.type)&&gA(),$o(e),null;case 3:return r=e.stateNode,J4(),Ri(e0),Ri(Qo),$$(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($T(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_u!==null&&(wG(_u),_u=null))),pG(t,e),$o(e),null;case 5:G$(e);var i=g2(kb.current);if(n=e.type,t!==null&&e.stateNode!=null)v8e(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Wt(166));return $o(e),null}if(t=g2(Ac.current),$T(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Cc]=e,r[Mb]=o,t=(e.mode&1)!==0,n){case"dialog":Ti("cancel",r),Ti("close",r);break;case"iframe":case"object":case"embed":Ti("load",r);break;case"video":case"audio":for(i=0;i<Xy.length;i++)Ti(Xy[i],r);break;case"source":Ti("error",r);break;case"img":case"image":case"link":Ti("error",r),Ti("load",r);break;case"details":Ti("toggle",r);break;case"input":$me(r,o),Ti("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ti("invalid",r);break;case"textarea":Kme(r,o),Ti("invalid",r)}zH(n,o),i=null;for(var u in o)if(o.hasOwnProperty(u)){var d=o[u];u==="children"?typeof d=="string"?r.textContent!==d&&(o.suppressHydrationWarning!==!0&&GT(r.textContent,d,t),i=["children",d]):typeof d=="number"&&r.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&GT(r.textContent,d,t),i=["children",""+d]):vb.hasOwnProperty(u)&&d!=null&&u==="onScroll"&&Ti("scroll",r)}switch(n){case"input":NT(r),Wme(r,o,!0);break;case"textarea":NT(r),Xme(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=mA)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$ge(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Cc]=e,t[Mb]=r,g8e(t,e,!1,!1),e.stateNode=t;e:{switch(u=VH(n,r),n){case"dialog":Ti("cancel",t),Ti("close",t),i=r;break;case"iframe":case"object":case"embed":Ti("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xy.length;i++)Ti(Xy[i],t);i=r;break;case"source":Ti("error",t),i=r;break;case"img":case"image":case"link":Ti("error",t),Ti("load",t),i=r;break;case"details":Ti("toggle",t),i=r;break;case"input":$me(t,r),i=LH(t,r),Ti("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=es({},r,{value:void 0}),Ti("invalid",t);break;case"textarea":Kme(t,r),i=BH(t,r),Ti("invalid",t);break;default:i=r}zH(n,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var m=d[o];o==="style"?Xge(t,m):o==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&Wge(t,m)):o==="children"?typeof m=="string"?(n!=="textarea"||m!=="")&&yb(t,m):typeof m=="number"&&yb(t,""+m):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vb.hasOwnProperty(o)?m!=null&&o==="onScroll"&&Ti("scroll",t):m!=null&&w$(t,o,m,u))}switch(n){case"input":NT(t),Wme(t,r,!1);break;case"textarea":NT(t),Xme(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gf(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?N4(t,!!r.multiple,o,!1):r.defaultValue!=null&&N4(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mA)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $o(e),null;case 6:if(t&&e.stateNode!=null)y8e(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Wt(166));if(n=g2(kb.current),g2(Ac.current),$T(e)){if(r=e.stateNode,n=e.memoizedProps,r[Cc]=e,(o=r.nodeValue!==n)&&(t=S0,t!==null))switch(t.tag){case 3:GT(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&GT(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Cc]=e,e.stateNode=r}return $o(e),null;case 13:if(Ri(Xi),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ni&&x0!==null&&e.mode&1&&!(e.flags&128))Lve(),Z4(),e.flags|=98560,o=!1;else if(o=$T(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(Wt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Wt(317));o[Cc]=e}else Z4(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$o(e),o=!1}else _u!==null&&(wG(_u),_u=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Xi.current&1?Gs===0&&(Gs=3):rW())),e.updateQueue!==null&&(e.flags|=4),$o(e),null);case 4:return J4(),pG(t,e),t===null&&Cb(e.stateNode.containerInfo),$o(e),null;case 10:return z$(e.type._context),$o(e),null;case 17:return t0(e.type)&&gA(),$o(e),null;case 19:if(Ri(Xi),o=e.memoizedState,o===null)return $o(e),null;if(r=(e.flags&128)!==0,u=o.rendering,u===null)if(r)Sy(o,!1);else{if(Gs!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=SA(t),u!==null){for(e.flags|=128,Sy(o,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,u=o.alternate,u===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=u.childLanes,o.lanes=u.lanes,o.child=u.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=u.memoizedProps,o.memoizedState=u.memoizedState,o.updateQueue=u.updateQueue,o.type=u.type,t=u.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return yi(Xi,Xi.current&1|2),e.child}t=t.sibling}o.tail!==null&&xs()>tg&&(e.flags|=128,r=!0,Sy(o,!1),e.lanes=4194304)}else{if(!r)if(t=SA(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sy(o,!0),o.tail===null&&o.tailMode==="hidden"&&!u.alternate&&!Ni)return $o(e),null}else 2*xs()-o.renderingStartTime>tg&&n!==1073741824&&(e.flags|=128,r=!0,Sy(o,!1),e.lanes=4194304);o.isBackwards?(u.sibling=e.child,e.child=u):(n=o.last,n!==null?n.sibling=u:e.child=u,o.last=u)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xs(),e.sibling=null,n=Xi.current,yi(Xi,r?n&1|2:n&1),e):($o(e),null);case 22:case 23:return nW(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?w0&1073741824&&($o(e),e.subtreeFlags&6&&(e.flags|=8192)):$o(e),null;case 24:return null;case 25:return null}throw Error(Wt(156,e.tag))}function xDe(t,e){switch(N$(e),e.tag){case 1:return t0(e.type)&&gA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return J4(),Ri(e0),Ri(Qo),$$(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return G$(e),null;case 13:if(Ri(Xi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Wt(340));Z4()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ri(Xi),null;case 4:return J4(),null;case 10:return z$(e.type._context),null;case 22:case 23:return nW(),null;case 24:return null;default:return null}}var XT=!1,Yo=!1,SDe=typeof WeakSet=="function"?WeakSet:Set,bn=null;function E4(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ss(t,e,r)}else n.current=null}function fG(t,e,n){try{n()}catch(r){ss(t,e,r)}}var F2e=!1;function EDe(t,e){if(ZH=hA,t=xve(),O$(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var u=0,d=-1,m=-1,v=0,x=0,S=t,T=null;t:for(;;){for(var R;S!==n||i!==0&&S.nodeType!==3||(d=u+i),S!==o||r!==0&&S.nodeType!==3||(m=u+r),S.nodeType===3&&(u+=S.nodeValue.length),(R=S.firstChild)!==null;)T=S,S=R;for(;;){if(S===t)break t;if(T===n&&++v===i&&(d=u),T===o&&++x===r&&(m=u),(R=S.nextSibling)!==null)break;S=T,T=S.parentNode}S=R}n=d===-1||m===-1?null:{start:d,end:m}}else n=null}n=n||{start:0,end:0}}else n=null;for(QH={focusedElem:t,selectionRange:n},hA=!1,bn=e;bn!==null;)if(e=bn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bn=t;else for(;bn!==null;){e=bn;try{var G=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(G!==null){var L=G.memoizedProps,B=G.memoizedState,z=e.stateNode,C=z.getSnapshotBeforeUpdate(e.elementType===e.type?L:vu(e.type,L),B);z.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var V=e.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Wt(163))}}catch(Y){ss(e,e.return,Y)}if(t=e.sibling,t!==null){t.return=e.return,bn=t;break}bn=e.return}return G=F2e,F2e=!1,G}function ob(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&fG(e,n,o)}i=i.next}while(i!==r)}}function _I(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function mG(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function b8e(t){var e=t.alternate;e!==null&&(t.alternate=null,b8e(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Cc],delete e[Mb],delete e[tG],delete e[oDe],delete e[aDe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _8e(t){return t.tag===5||t.tag===3||t.tag===4}function B2e(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_8e(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gG(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mA));else if(r!==4&&(t=t.child,t!==null))for(gG(t,e,n),t=t.sibling;t!==null;)gG(t,e,n),t=t.sibling}function vG(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(vG(t,e,n),t=t.sibling;t!==null;)vG(t,e,n),t=t.sibling}var To=null,bu=!1;function Qp(t,e,n){for(n=n.child;n!==null;)w8e(t,e,n),n=n.sibling}function w8e(t,e,n){if(kc&&typeof kc.onCommitFiberUnmount=="function")try{kc.onCommitFiberUnmount(hI,n)}catch{}switch(n.tag){case 5:Yo||E4(n,e);case 6:var r=To,i=bu;To=null,Qp(t,e,n),To=r,bu=i,To!==null&&(bu?(t=To,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):To.removeChild(n.stateNode));break;case 18:To!==null&&(bu?(t=To,n=n.stateNode,t.nodeType===8?qV(t.parentNode,n):t.nodeType===1&&qV(t,n),xb(t)):qV(To,n.stateNode));break;case 4:r=To,i=bu,To=n.stateNode.containerInfo,bu=!0,Qp(t,e,n),To=r,bu=i;break;case 0:case 11:case 14:case 15:if(!Yo&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,u=o.destroy;o=o.tag,u!==void 0&&(o&2||o&4)&&fG(n,e,u),i=i.next}while(i!==r)}Qp(t,e,n);break;case 1:if(!Yo&&(E4(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(d){ss(n,e,d)}Qp(t,e,n);break;case 21:Qp(t,e,n);break;case 22:n.mode&1?(Yo=(r=Yo)||n.memoizedState!==null,Qp(t,e,n),Yo=r):Qp(t,e,n);break;default:Qp(t,e,n)}}function U2e(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SDe),e.forEach(function(r){var i=DDe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cu(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,u=e,d=u;e:for(;d!==null;){switch(d.tag){case 5:To=d.stateNode,bu=!1;break e;case 3:To=d.stateNode.containerInfo,bu=!0;break e;case 4:To=d.stateNode.containerInfo,bu=!0;break e}d=d.return}if(To===null)throw Error(Wt(160));w8e(o,u,i),To=null,bu=!1;var m=i.alternate;m!==null&&(m.return=null),i.return=null}catch(v){ss(i,e,v)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)x8e(e,t),e=e.sibling}function x8e(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(cu(e,t),wc(t),r&4){try{ob(3,t,t.return),_I(3,t)}catch(L){ss(t,t.return,L)}try{ob(5,t,t.return)}catch(L){ss(t,t.return,L)}}break;case 1:cu(e,t),wc(t),r&512&&n!==null&&E4(n,n.return);break;case 5:if(cu(e,t),wc(t),r&512&&n!==null&&E4(n,n.return),t.flags&32){var i=t.stateNode;try{yb(i,"")}catch(L){ss(t,t.return,L)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,u=n!==null?n.memoizedProps:o,d=t.type,m=t.updateQueue;if(t.updateQueue=null,m!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&Hge(i,o),VH(d,u);var v=VH(d,o);for(u=0;u<m.length;u+=2){var x=m[u],S=m[u+1];x==="style"?Xge(i,S):x==="dangerouslySetInnerHTML"?Wge(i,S):x==="children"?yb(i,S):w$(i,x,S,v)}switch(d){case"input":NH(i,o);break;case"textarea":Gge(i,o);break;case"select":var T=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var R=o.value;R!=null?N4(i,!!o.multiple,R,!1):T!==!!o.multiple&&(o.defaultValue!=null?N4(i,!!o.multiple,o.defaultValue,!0):N4(i,!!o.multiple,o.multiple?[]:"",!1))}i[Mb]=o}catch(L){ss(t,t.return,L)}}break;case 6:if(cu(e,t),wc(t),r&4){if(t.stateNode===null)throw Error(Wt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(L){ss(t,t.return,L)}}break;case 3:if(cu(e,t),wc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xb(e.containerInfo)}catch(L){ss(t,t.return,L)}break;case 4:cu(e,t),wc(t);break;case 13:cu(e,t),wc(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(eW=xs())),r&4&&U2e(t);break;case 22:if(x=n!==null&&n.memoizedState!==null,t.mode&1?(Yo=(v=Yo)||x,cu(e,t),Yo=v):cu(e,t),wc(t),r&8192){if(v=t.memoizedState!==null,(t.stateNode.isHidden=v)&&!x&&t.mode&1)for(bn=t,x=t.child;x!==null;){for(S=bn=x;bn!==null;){switch(T=bn,R=T.child,T.tag){case 0:case 11:case 14:case 15:ob(4,T,T.return);break;case 1:E4(T,T.return);var G=T.stateNode;if(typeof G.componentWillUnmount=="function"){r=T,n=T.return;try{e=r,G.props=e.memoizedProps,G.state=e.memoizedState,G.componentWillUnmount()}catch(L){ss(r,n,L)}}break;case 5:E4(T,T.return);break;case 22:if(T.memoizedState!==null){V2e(S);continue}}R!==null?(R.return=T,bn=R):V2e(S)}x=x.sibling}e:for(x=null,S=t;;){if(S.tag===5){if(x===null){x=S;try{i=S.stateNode,v?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=S.stateNode,m=S.memoizedProps.style,u=m!=null&&m.hasOwnProperty("display")?m.display:null,d.style.display=Kge("display",u))}catch(L){ss(t,t.return,L)}}}else if(S.tag===6){if(x===null)try{S.stateNode.nodeValue=v?"":S.memoizedProps}catch(L){ss(t,t.return,L)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===t)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;x===S&&(x=null),S=S.return}x===S&&(x=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:cu(e,t),wc(t),r&4&&U2e(t);break;case 21:break;default:cu(e,t),wc(t)}}function wc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(_8e(n)){var r=n;break e}n=n.return}throw Error(Wt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(yb(i,""),r.flags&=-33);var o=B2e(t);vG(t,o,i);break;case 3:case 4:var u=r.stateNode.containerInfo,d=B2e(t);gG(t,d,u);break;default:throw Error(Wt(161))}}catch(m){ss(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CDe(t,e,n){bn=t,S8e(t)}function S8e(t,e,n){for(var r=(t.mode&1)!==0;bn!==null;){var i=bn,o=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||XT;if(!u){var d=i.alternate,m=d!==null&&d.memoizedState!==null||Yo;d=XT;var v=Yo;if(XT=u,(Yo=m)&&!v)for(bn=i;bn!==null;)u=bn,m=u.child,u.tag===22&&u.memoizedState!==null?j2e(i):m!==null?(m.return=u,bn=m):j2e(i);for(;o!==null;)bn=o,S8e(o),o=o.sibling;bn=i,XT=d,Yo=v}z2e(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,bn=o):z2e(t)}}function z2e(t){for(;bn!==null;){var e=bn;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Yo||_I(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Yo)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:vu(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&S2e(e,o,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}S2e(e,u,n)}break;case 5:var d=e.stateNode;if(n===null&&e.flags&4){n=d;var m=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&n.focus();break;case"img":m.src&&(n.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var v=e.alternate;if(v!==null){var x=v.memoizedState;if(x!==null){var S=x.dehydrated;S!==null&&xb(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Wt(163))}Yo||e.flags&512&&mG(e)}catch(T){ss(e,e.return,T)}}if(e===t){bn=null;break}if(n=e.sibling,n!==null){n.return=e.return,bn=n;break}bn=e.return}}function V2e(t){for(;bn!==null;){var e=bn;if(e===t){bn=null;break}var n=e.sibling;if(n!==null){n.return=e.return,bn=n;break}bn=e.return}}function j2e(t){for(;bn!==null;){var e=bn;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_I(4,e)}catch(m){ss(e,n,m)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(m){ss(e,i,m)}}var o=e.return;try{mG(e)}catch(m){ss(e,o,m)}break;case 5:var u=e.return;try{mG(e)}catch(m){ss(e,u,m)}}}catch(m){ss(e,e.return,m)}if(e===t){bn=null;break}var d=e.sibling;if(d!==null){d.return=e.return,bn=d;break}bn=e.return}}var PDe=Math.ceil,PA=bh.ReactCurrentDispatcher,Q$=bh.ReactCurrentOwner,yl=bh.ReactCurrentBatchConfig,Br=0,ao=null,Os=null,Ao=0,w0=0,C4=Qf(0),Gs=0,Db=null,k2=0,wI=0,J$=0,ab=null,Za=null,eW=0,tg=1/0,Yd=null,MA=!1,yG=null,Nf=null,qT=!1,Tf=null,TA=0,lb=0,bG=null,Kk=-1,Xk=0;function Ma(){return Br&6?xs():Kk!==-1?Kk:Kk=xs()}function Ff(t){return t.mode&1?Br&2&&Ao!==0?Ao&-Ao:uDe.transition!==null?(Xk===0&&(Xk=ove()),Xk):(t=ii,t!==0||(t=window.event,t=t===void 0?16:pve(t.type)),t):1}function Su(t,e,n,r){if(50<lb)throw lb=0,bG=null,Error(Wt(185));a_(t,n,r),(!(Br&2)||t!==ao)&&(t===ao&&(!(Br&2)&&(wI|=n),Gs===4&&Cf(t,Ao)),n0(t,r),n===1&&Br===0&&!(e.mode&1)&&(tg=xs()+500,vI&&Jf()))}function n0(t,e){var n=t.callbackNode;uRe(t,e);var r=dA(t,t===ao?Ao:0);if(r===0)n!==null&&Zme(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zme(n),e===1)t.tag===0?lDe(H2e.bind(null,t)):Rve(H2e.bind(null,t)),iDe(function(){!(Br&6)&&Jf()}),n=null;else{switch(ave(r)){case 1:n=P$;break;case 4:n=ive;break;case 16:n=cA;break;case 536870912:n=sve;break;default:n=cA}n=I8e(n,E8e.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function E8e(t,e){if(Kk=-1,Xk=0,Br&6)throw Error(Wt(327));var n=t.callbackNode;if(V4()&&t.callbackNode!==n)return null;var r=dA(t,t===ao?Ao:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kA(t,r);else{e=r;var i=Br;Br|=2;var o=P8e();(ao!==t||Ao!==e)&&(Yd=null,tg=xs()+500,_2(t,e));do try{kDe();break}catch(d){C8e(t,d)}while(1);U$(),PA.current=o,Br=i,Os!==null?e=0:(ao=null,Ao=0,e=Gs)}if(e!==0){if(e===2&&(i=WH(t),i!==0&&(r=i,e=_G(t,i))),e===1)throw n=Db,_2(t,0),Cf(t,r),n0(t,xs()),n;if(e===6)Cf(t,r);else{if(i=t.current.alternate,!(r&30)&&!MDe(i)&&(e=kA(t,r),e===2&&(o=WH(t),o!==0&&(r=o,e=_G(t,o))),e===1))throw n=Db,_2(t,0),Cf(t,r),n0(t,xs()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Wt(345));case 2:l2(t,Za,Yd);break;case 3:if(Cf(t,r),(r&130023424)===r&&(e=eW+500-xs(),10<e)){if(dA(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ma(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=eG(l2.bind(null,t,Za,Yd),e);break}l2(t,Za,Yd);break;case 4:if(Cf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var u=31-xu(r);o=1<<u,u=e[u],u>i&&(i=u),r&=~o}if(r=i,r=xs()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*PDe(r/1960))-r,10<r){t.timeoutHandle=eG(l2.bind(null,t,Za,Yd),r);break}l2(t,Za,Yd);break;case 5:l2(t,Za,Yd);break;default:throw Error(Wt(329))}}}return n0(t,xs()),t.callbackNode===n?E8e.bind(null,t):null}function _G(t,e){var n=ab;return t.current.memoizedState.isDehydrated&&(_2(t,e).flags|=256),t=kA(t,e),t!==2&&(e=Za,Za=n,e!==null&&wG(e)),t}function wG(t){Za===null?Za=t:Za.push.apply(Za,t)}function MDe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Eu(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cf(t,e){for(e&=~J$,e&=~wI,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-xu(e),r=1<<n;t[n]=-1,e&=~r}}function H2e(t){if(Br&6)throw Error(Wt(327));V4();var e=dA(t,0);if(!(e&1))return n0(t,xs()),null;var n=kA(t,e);if(t.tag!==0&&n===2){var r=WH(t);r!==0&&(e=r,n=_G(t,r))}if(n===1)throw n=Db,_2(t,0),Cf(t,e),n0(t,xs()),n;if(n===6)throw Error(Wt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,l2(t,Za,Yd),n0(t,xs()),null}function tW(t,e){var n=Br;Br|=1;try{return t(e)}finally{Br=n,Br===0&&(tg=xs()+500,vI&&Jf())}}function A2(t){Tf!==null&&Tf.tag===0&&!(Br&6)&&V4();var e=Br;Br|=1;var n=yl.transition,r=ii;try{if(yl.transition=null,ii=1,t)return t()}finally{ii=r,yl.transition=n,Br=e,!(Br&6)&&Jf()}}function nW(){w0=C4.current,Ri(C4)}function _2(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rDe(n)),Os!==null)for(n=Os.return;n!==null;){var r=n;switch(N$(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gA();break;case 3:J4(),Ri(e0),Ri(Qo),$$();break;case 5:G$(r);break;case 4:J4();break;case 13:Ri(Xi);break;case 19:Ri(Xi);break;case 10:z$(r.type._context);break;case 22:case 23:nW()}n=n.return}if(ao=t,Os=t=Bf(t.current,null),Ao=w0=e,Gs=0,Db=null,J$=wI=k2=0,Za=ab=null,m2!==null){for(e=0;e<m2.length;e++)if(n=m2[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var u=o.next;o.next=i,r.next=u}n.pending=r}m2=null}return t}function C8e(t,e){do{var n=Os;try{if(U$(),Gk.current=CA,EA){for(var r=Qi.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}EA=!1}if(T2=0,ro=Vs=Qi=null,sb=!1,Ab=0,Q$.current=null,n===null||n.return===null){Gs=1,Db=e,Os=null;break}e:{var o=t,u=n.return,d=n,m=e;if(e=Ao,d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var v=m,x=d,S=x.tag;if(!(x.mode&1)&&(S===0||S===11||S===15)){var T=x.alternate;T?(x.updateQueue=T.updateQueue,x.memoizedState=T.memoizedState,x.lanes=T.lanes):(x.updateQueue=null,x.memoizedState=null)}var R=A2e(u);if(R!==null){R.flags&=-257,I2e(R,u,d,o,e),R.mode&1&&k2e(o,v,e),e=R,m=v;var G=e.updateQueue;if(G===null){var L=new Set;L.add(m),e.updateQueue=L}else G.add(m);break e}else{if(!(e&1)){k2e(o,v,e),rW();break e}m=Error(Wt(426))}}else if(Ni&&d.mode&1){var B=A2e(u);if(B!==null){!(B.flags&65536)&&(B.flags|=256),I2e(B,u,d,o,e),F$(eg(m,d));break e}}o=m=eg(m,d),Gs!==4&&(Gs=2),ab===null?ab=[o]:ab.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var z=l8e(o,m,e);x2e(o,z);break e;case 1:d=m;var C=o.type,V=o.stateNode;if(!(o.flags&128)&&(typeof C.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(Nf===null||!Nf.has(V)))){o.flags|=65536,e&=-e,o.lanes|=e;var Y=u8e(o,d,e);x2e(o,Y);break e}}o=o.return}while(o!==null)}T8e(n)}catch(me){e=me,Os===n&&n!==null&&(Os=n=n.return);continue}break}while(1)}function P8e(){var t=PA.current;return PA.current=CA,t===null?CA:t}function rW(){(Gs===0||Gs===3||Gs===2)&&(Gs=4),ao===null||!(k2&268435455)&&!(wI&268435455)||Cf(ao,Ao)}function kA(t,e){var n=Br;Br|=2;var r=P8e();(ao!==t||Ao!==e)&&(Yd=null,_2(t,e));do try{TDe();break}catch(i){C8e(t,i)}while(1);if(U$(),Br=n,PA.current=r,Os!==null)throw Error(Wt(261));return ao=null,Ao=0,Gs}function TDe(){for(;Os!==null;)M8e(Os)}function kDe(){for(;Os!==null&&!eRe();)M8e(Os)}function M8e(t){var e=A8e(t.alternate,t,w0);t.memoizedProps=t.pendingProps,e===null?T8e(t):Os=e,Q$.current=null}function T8e(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=xDe(n,e),n!==null){n.flags&=32767,Os=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gs=6,Os=null;return}}else if(n=wDe(n,e,w0),n!==null){Os=n;return}if(e=e.sibling,e!==null){Os=e;return}Os=e=t}while(e!==null);Gs===0&&(Gs=5)}function l2(t,e,n){var r=ii,i=yl.transition;try{yl.transition=null,ii=1,ADe(t,e,n,r)}finally{yl.transition=i,ii=r}return null}function ADe(t,e,n,r){do V4();while(Tf!==null);if(Br&6)throw Error(Wt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Wt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(cRe(t,o),t===ao&&(Os=ao=null,Ao=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qT||(qT=!0,I8e(cA,function(){return V4(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=yl.transition,yl.transition=null;var u=ii;ii=1;var d=Br;Br|=4,Q$.current=null,EDe(t,n),x8e(n,t),YRe(QH),hA=!!ZH,QH=ZH=null,t.current=n,CDe(n),tRe(),Br=d,ii=u,yl.transition=o}else t.current=n;if(qT&&(qT=!1,Tf=t,TA=i),o=t.pendingLanes,o===0&&(Nf=null),iRe(n.stateNode),n0(t,xs()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(MA)throw MA=!1,t=yG,yG=null,t;return TA&1&&t.tag!==0&&V4(),o=t.pendingLanes,o&1?t===bG?lb++:(lb=0,bG=t):lb=0,Jf(),null}function V4(){if(Tf!==null){var t=ave(TA),e=yl.transition,n=ii;try{if(yl.transition=null,ii=16>t?16:t,Tf===null)var r=!1;else{if(t=Tf,Tf=null,TA=0,Br&6)throw Error(Wt(331));var i=Br;for(Br|=4,bn=t.current;bn!==null;){var o=bn,u=o.child;if(bn.flags&16){var d=o.deletions;if(d!==null){for(var m=0;m<d.length;m++){var v=d[m];for(bn=v;bn!==null;){var x=bn;switch(x.tag){case 0:case 11:case 15:ob(8,x,o)}var S=x.child;if(S!==null)S.return=x,bn=S;else for(;bn!==null;){x=bn;var T=x.sibling,R=x.return;if(b8e(x),x===v){bn=null;break}if(T!==null){T.return=R,bn=T;break}bn=R}}}var G=o.alternate;if(G!==null){var L=G.child;if(L!==null){G.child=null;do{var B=L.sibling;L.sibling=null,L=B}while(L!==null)}}bn=o}}if(o.subtreeFlags&2064&&u!==null)u.return=o,bn=u;else e:for(;bn!==null;){if(o=bn,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ob(9,o,o.return)}var z=o.sibling;if(z!==null){z.return=o.return,bn=z;break e}bn=o.return}}var C=t.current;for(bn=C;bn!==null;){u=bn;var V=u.child;if(u.subtreeFlags&2064&&V!==null)V.return=u,bn=V;else e:for(u=C;bn!==null;){if(d=bn,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:_I(9,d)}}catch(me){ss(d,d.return,me)}if(d===u){bn=null;break e}var Y=d.sibling;if(Y!==null){Y.return=d.return,bn=Y;break e}bn=d.return}}if(Br=i,Jf(),kc&&typeof kc.onPostCommitFiberRoot=="function")try{kc.onPostCommitFiberRoot(hI,t)}catch{}r=!0}return r}finally{ii=n,yl.transition=e}}return!1}function G2e(t,e,n){e=eg(n,e),e=l8e(t,e,1),t=Lf(t,e,1),e=Ma(),t!==null&&(a_(t,1,e),n0(t,e))}function ss(t,e,n){if(t.tag===3)G2e(t,t,n);else for(;e!==null;){if(e.tag===3){G2e(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Nf===null||!Nf.has(r))){t=eg(n,t),t=u8e(e,t,1),e=Lf(e,t,1),t=Ma(),e!==null&&(a_(e,1,t),n0(e,t));break}}e=e.return}}function IDe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ma(),t.pingedLanes|=t.suspendedLanes&n,ao===t&&(Ao&n)===n&&(Gs===4||Gs===3&&(Ao&130023424)===Ao&&500>xs()-eW?_2(t,0):J$|=n),n0(t,e)}function k8e(t,e){e===0&&(t.mode&1?(e=UT,UT<<=1,!(UT&130023424)&&(UT=4194304)):e=1);var n=Ma();t=hh(t,e),t!==null&&(a_(t,e,n),n0(t,n))}function RDe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),k8e(t,n)}function DDe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Wt(314))}r!==null&&r.delete(e),k8e(t,n)}var A8e;A8e=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||e0.current)Qa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qa=!1,_De(t,e,n);Qa=!!(t.flags&131072)}else Qa=!1,Ni&&e.flags&1048576&&Dve(e,bA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Wk(t,e),t=e.pendingProps;var i=Y4(e,Qo.current);z4(e,n),i=K$(null,e,r,t,i,n);var o=X$();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,t0(r)?(o=!0,vA(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,j$(e),i.updater=yI,e.stateNode=i,i._reactInternals=e,aG(e,r,t,n),e=cG(null,e,r,!0,o,n)):(e.tag=0,Ni&&o&&L$(e),xa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Wk(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=LDe(r),t=vu(r,t),i){case 0:e=uG(null,e,r,t,n);break e;case 1:e=O2e(null,e,r,t,n);break e;case 11:e=R2e(null,e,r,t,n);break e;case 14:e=D2e(null,e,r,vu(r.type,t),n);break e}throw Error(Wt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vu(r,i),uG(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vu(r,i),O2e(t,e,r,i,n);case 3:e:{if(p8e(e),t===null)throw Error(Wt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Fve(t,e),xA(e,r,null,n);var u=e.memoizedState;if(r=u.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=eg(Error(Wt(423)),e),e=L2e(t,e,r,n,i);break e}else if(r!==i){i=eg(Error(Wt(424)),e),e=L2e(t,e,r,n,i);break e}else for(x0=Of(e.stateNode.containerInfo.firstChild),S0=e,Ni=!0,_u=null,n=Vve(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Z4(),r===i){e=ph(t,e,n);break e}xa(t,e,r,n)}e=e.child}return e;case 5:return jve(e),t===null&&iG(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,u=i.children,JH(r,i)?u=null:o!==null&&JH(r,o)&&(e.flags|=32),h8e(t,e),xa(t,e,u,n),e.child;case 6:return t===null&&iG(e),null;case 13:return f8e(t,e,n);case 4:return H$(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Q4(e,null,r,n):xa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vu(r,i),R2e(t,e,r,i,n);case 7:return xa(t,e,e.pendingProps,n),e.child;case 8:return xa(t,e,e.pendingProps.children,n),e.child;case 12:return xa(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,u=i.value,yi(_A,r._currentValue),r._currentValue=u,o!==null)if(Eu(o.value,u)){if(o.children===i.children&&!e0.current){e=ph(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var d=o.dependencies;if(d!==null){u=o.child;for(var m=d.firstContext;m!==null;){if(m.context===r){if(o.tag===1){m=oh(-1,n&-n),m.tag=2;var v=o.updateQueue;if(v!==null){v=v.shared;var x=v.pending;x===null?m.next=m:(m.next=x.next,x.next=m),v.pending=m}}o.lanes|=n,m=o.alternate,m!==null&&(m.lanes|=n),sG(o.return,n,e),d.lanes|=n;break}m=m.next}}else if(o.tag===10)u=o.type===e.type?null:o.child;else if(o.tag===18){if(u=o.return,u===null)throw Error(Wt(341));u.lanes|=n,d=u.alternate,d!==null&&(d.lanes|=n),sG(u,n,e),u=o.sibling}else u=o.child;if(u!==null)u.return=o;else for(u=o;u!==null;){if(u===e){u=null;break}if(o=u.sibling,o!==null){o.return=u.return,u=o;break}u=u.return}o=u}xa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,z4(e,n),i=wl(i),r=r(i),e.flags|=1,xa(t,e,r,n),e.child;case 14:return r=e.type,i=vu(r,e.pendingProps),i=vu(r.type,i),D2e(t,e,r,i,n);case 15:return c8e(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:vu(r,i),Wk(t,e),e.tag=1,t0(r)?(t=!0,vA(e)):t=!1,z4(e,n),Uve(e,r,i),aG(e,r,i,n),cG(null,e,r,!0,t,n);case 19:return m8e(t,e,n);case 22:return d8e(t,e,n)}throw Error(Wt(156,e.tag))};function I8e(t,e){return rve(t,e)}function ODe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ml(t,e,n,r){return new ODe(t,e,n,r)}function iW(t){return t=t.prototype,!(!t||!t.isReactComponent)}function LDe(t){if(typeof t=="function")return iW(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S$)return 11;if(t===E$)return 14}return 2}function Bf(t,e){var n=t.alternate;return n===null?(n=ml(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qk(t,e,n,r,i,o){var u=2;if(r=t,typeof t=="function")iW(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case m4:return w2(n.children,i,o,e);case x$:u=8,i|=8;break;case IH:return t=ml(12,n,e,i|2),t.elementType=IH,t.lanes=o,t;case RH:return t=ml(13,n,e,i),t.elementType=RH,t.lanes=o,t;case DH:return t=ml(19,n,e,i),t.elementType=DH,t.lanes=o,t;case zge:return xI(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bge:u=10;break e;case Uge:u=9;break e;case S$:u=11;break e;case E$:u=14;break e;case _f:u=16,r=null;break e}throw Error(Wt(130,t==null?t:typeof t,""))}return e=ml(u,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function w2(t,e,n,r){return t=ml(7,t,r,e),t.lanes=n,t}function xI(t,e,n,r){return t=ml(22,t,r,e),t.elementType=zge,t.lanes=n,t.stateNode={isHidden:!1},t}function rj(t,e,n){return t=ml(6,t,null,e),t.lanes=n,t}function ij(t,e,n){return e=ml(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NDe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=BV(0),this.expirationTimes=BV(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=BV(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function sW(t,e,n,r,i,o,u,d,m){return t=new NDe(t,e,n,d,m),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ml(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},j$(o),t}function FDe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f4,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function R8e(t){if(!t)return $f;t=t._reactInternals;e:{if($2(t)!==t||t.tag!==1)throw Error(Wt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(t0(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Wt(171))}if(t.tag===1){var n=t.type;if(t0(n))return Ive(t,n,e)}return e}function D8e(t,e,n,r,i,o,u,d,m){return t=sW(n,r,!0,t,i,o,u,d,m),t.context=R8e(null),n=t.current,r=Ma(),i=Ff(n),o=oh(r,i),o.callback=e??null,Lf(n,o,i),t.current.lanes=i,a_(t,i,r),n0(t,r),t}function SI(t,e,n,r){var i=e.current,o=Ma(),u=Ff(i);return n=R8e(n),e.context===null?e.context=n:e.pendingContext=n,e=oh(o,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lf(i,e,u),t!==null&&(Su(t,i,u,o),Hk(t,i,u)),u}function AA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $2e(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function oW(t,e){$2e(t,e),(t=t.alternate)&&$2e(t,e)}function BDe(){return null}var O8e=typeof reportError=="function"?reportError:function(t){console.error(t)};function aW(t){this._internalRoot=t}EI.prototype.render=aW.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Wt(409));SI(t,e,null,null)};EI.prototype.unmount=aW.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;A2(function(){SI(null,t,null,null)}),e[dh]=null}};function EI(t){this._internalRoot=t}EI.prototype.unstable_scheduleHydration=function(t){if(t){var e=cve();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ef.length&&e!==0&&e<Ef[n].priority;n++);Ef.splice(n,0,t),n===0&&hve(t)}};function lW(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function CI(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function W2e(){}function UDe(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var v=AA(u);o.call(v)}}var u=D8e(e,r,t,0,null,!1,!1,"",W2e);return t._reactRootContainer=u,t[dh]=u.current,Cb(t.nodeType===8?t.parentNode:t),A2(),u}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var d=r;r=function(){var v=AA(m);d.call(v)}}var m=sW(t,0,!1,null,null,!1,!1,"",W2e);return t._reactRootContainer=m,t[dh]=m.current,Cb(t.nodeType===8?t.parentNode:t),A2(function(){SI(e,m,n,r)}),m}function PI(t,e,n,r,i){var o=n._reactRootContainer;if(o){var u=o;if(typeof i=="function"){var d=i;i=function(){var m=AA(u);d.call(m)}}SI(e,u,t,i)}else u=UDe(n,e,t,i,r);return AA(u)}lve=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ky(e.pendingLanes);n!==0&&(M$(e,n|1),n0(e,xs()),!(Br&6)&&(tg=xs()+500,Jf()))}break;case 13:A2(function(){var r=hh(t,1);if(r!==null){var i=Ma();Su(r,t,1,i)}}),oW(t,1)}};T$=function(t){if(t.tag===13){var e=hh(t,134217728);if(e!==null){var n=Ma();Su(e,t,134217728,n)}oW(t,134217728)}};uve=function(t){if(t.tag===13){var e=Ff(t),n=hh(t,e);if(n!==null){var r=Ma();Su(n,t,e,r)}oW(t,e)}};cve=function(){return ii};dve=function(t,e){var n=ii;try{return ii=t,e()}finally{ii=n}};HH=function(t,e,n){switch(e){case"input":if(NH(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gI(r);if(!i)throw Error(Wt(90));jge(r),NH(r,i)}}}break;case"textarea":Gge(t,n);break;case"select":e=n.value,e!=null&&N4(t,!!n.multiple,e,!1)}};Zge=tW;Qge=A2;var zDe={usingClientEntryPoint:!1,Events:[u_,b4,gI,qge,Yge,tW]},Ey={findFiberByHostInstance:f2,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},VDe={bundleType:Ey.bundleType,version:Ey.version,rendererPackageName:Ey.rendererPackageName,rendererConfig:Ey.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bh.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tve(t),t===null?null:t.stateNode},findFiberByHostInstance:Ey.findFiberByHostInstance||BDe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var YT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!YT.isDisabled&&YT.supportsFiber)try{hI=YT.inject(VDe),kc=YT}catch{}}T0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zDe;T0.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lW(e))throw Error(Wt(200));return FDe(t,e,null,n)};T0.createRoot=function(t,e){if(!lW(t))throw Error(Wt(299));var n=!1,r="",i=O8e;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=sW(t,1,!1,null,null,n,!1,r,i),t[dh]=e.current,Cb(t.nodeType===8?t.parentNode:t),new aW(e)};T0.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Wt(188)):(t=Object.keys(t).join(","),Error(Wt(268,t)));return t=tve(e),t=t===null?null:t.stateNode,t};T0.flushSync=function(t){return A2(t)};T0.hydrate=function(t,e,n){if(!CI(e))throw Error(Wt(200));return PI(null,t,e,!0,n)};T0.hydrateRoot=function(t,e,n){if(!lW(t))throw Error(Wt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",u=O8e;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=D8e(e,null,t,1,n??null,i,!1,o,u),t[dh]=e.current,Cb(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new EI(e)};T0.render=function(t,e,n){if(!CI(e))throw Error(Wt(200));return PI(null,t,e,!1,n)};T0.unmountComponentAtNode=function(t){if(!CI(t))throw Error(Wt(40));return t._reactRootContainer?(A2(function(){PI(null,null,t,!1,function(){t._reactRootContainer=null,t[dh]=null})}),!0):!1};T0.unstable_batchedUpdates=tW;T0.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!CI(n))throw Error(Wt(200));if(t==null||t._reactInternals===void 0)throw Error(Wt(38));return PI(t,e,n,!1,r)};T0.version="18.2.0-next-9e3b772b8-20220608";function L8e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L8e)}catch(t){console.error(t)}}L8e(),Dge.exports=T0;var jDe=Dge.exports,K2e=jDe;kH.createRoot=K2e.createRoot,kH.hydrateRoot=K2e.hydrateRoot;function ZT(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var IA={exports:{}},Vt={};(function(t){var e=Object.defineProperty,n=Object.defineProperties,r=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable,d=(te,_e,Be)=>_e in te?e(te,_e,{enumerable:!0,configurable:!0,writable:!0,value:Be}):te[_e]=Be,m=(te,_e)=>{for(var Be in _e||(_e={}))o.call(_e,Be)&&d(te,Be,_e[Be]);if(i)for(var Be of i(_e))u.call(_e,Be)&&d(te,Be,_e[Be]);return te},v=(te,_e)=>n(te,r(_e)),x=te=>e(te,"__esModule",{value:!0}),S=(te,_e)=>{x(te);for(var Be in _e)e(te,Be,{get:_e[Be],enumerable:!0})};S(t,{Atom:()=>E1,PointerProxy:()=>ev,Ticker:()=>Xc,getPointerParts:()=>Gc,isPointer:()=>F0,isPrism:()=>Wc,iterateAndCountTicks:()=>Jg,iterateOver:()=>C1,pointer:()=>Ml,pointerToPrism:()=>Fu,prism:()=>Nu,val:()=>Oh});var T=Array.isArray,R=T,G=typeof Ki=="object"&&Ki&&Ki.Object===Object&&Ki,L=G,B=typeof self=="object"&&self&&self.Object===Object&&self,z=L||B||Function("return this")(),C=z,V=C.Symbol,Y=V,me=Object.prototype,q=me.hasOwnProperty,ae=me.toString,ve=Y?Y.toStringTag:void 0;function W(te){var _e=q.call(te,ve),Be=te[ve];try{te[ve]=void 0;var wt=!0}catch{}var zn=ae.call(te);return wt&&(_e?te[ve]=Be:delete te[ve]),zn}var se=W,Te=Object.prototype,dt=Te.toString;function He(te){return dt.call(te)}var xe=He,gt="[object Null]",ze="[object Undefined]",At=Y?Y.toStringTag:void 0;function Ne(te){return te==null?te===void 0?ze:gt:At&&At in Object(te)?se(te):xe(te)}var ht=Ne;function pt(te){return te!=null&&typeof te=="object"}var It=pt,tn="[object Symbol]";function pn(te){return typeof te=="symbol"||It(te)&&ht(te)==tn}var ft=pn,kt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xt=/^\w*$/;function Ut(te,_e){if(R(te))return!1;var Be=typeof te;return Be=="number"||Be=="symbol"||Be=="boolean"||te==null||ft(te)?!0:Xt.test(te)||!kt.test(te)||_e!=null&&te in Object(_e)}var it=Ut;function bt(te){var _e=typeof te;return te!=null&&(_e=="object"||_e=="function")}var Nt=bt,je="[object AsyncFunction]",Cn="[object Function]",ln="[object GeneratorFunction]",rn="[object Proxy]";function Ot(te){if(!Nt(te))return!1;var _e=ht(te);return _e==Cn||_e==ln||_e==je||_e==rn}var dn=Ot,Pe=C["__core-js_shared__"],de=Pe,Ze=function(){var te=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return te?"Symbol(src)_1."+te:""}();function Et(te){return!!Ze&&Ze in te}var Ct=Et,Dt=Function.prototype,hn=Dt.toString;function Rt(te){if(te!=null){try{return hn.call(te)}catch{}try{return te+""}catch{}}return""}var Pn=Rt,On=/[\\^$.*+?()[\]{}|]/g,Yt=/^\[object .+?Constructor\]$/,an=Function.prototype,Fn=Object.prototype,gn=an.toString,fn=Fn.hasOwnProperty,ar=RegExp("^"+gn.call(fn).replace(On,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Bn(te){if(!Nt(te)||Ct(te))return!1;var _e=dn(te)?ar:Yt;return _e.test(Pn(te))}var gr=Bn;function hr(te,_e){return te==null?void 0:te[_e]}var rr=hr;function vn(te,_e){var Be=rr(te,_e);return gr(Be)?Be:void 0}var ne=vn,st=ne(Object,"create"),Mt=st;function qt(){this.__data__=Mt?Mt(null):{},this.size=0}var on=qt;function Yn(te){var _e=this.has(te)&&delete this.__data__[te];return this.size-=_e?1:0,_e}var Zn=Yn,Kr="__lodash_hash_undefined__",Zr=Object.prototype,wr=Zr.hasOwnProperty;function Ir(te){var _e=this.__data__;if(Mt){var Be=_e[te];return Be===Kr?void 0:Be}return wr.call(_e,te)?_e[te]:void 0}var vr=Ir,Qr=Object.prototype,Ns=Qr.hasOwnProperty;function ea(te){var _e=this.__data__;return Mt?_e[te]!==void 0:Ns.call(_e,te)}var Na=ea,ta="__lodash_hash_undefined__";function Uc(te,_e){var Be=this.__data__;return this.size+=this.has(te)?0:1,Be[te]=Mt&&_e===void 0?ta:_e,this}var ku=Uc;function i0(te){var _e=-1,Be=te==null?0:te.length;for(this.clear();++_e<Be;){var wt=te[_e];this.set(wt[0],wt[1])}}i0.prototype.clear=on,i0.prototype.delete=Zn,i0.prototype.get=vr,i0.prototype.has=Na,i0.prototype.set=ku;var Au=i0;function wh(){this.__data__=[],this.size=0}var o1=wh;function s0(te,_e){return te===_e||te!==te&&_e!==_e}var be=s0;function Ye(te,_e){for(var Be=te.length;Be--;)if(be(te[Be][0],_e))return Be;return-1}var vt=Ye,_t=Array.prototype,ot=_t.splice;function Jt(te){var _e=this.__data__,Be=vt(_e,te);if(Be<0)return!1;var wt=_e.length-1;return Be==wt?_e.pop():ot.call(_e,Be,1),--this.size,!0}var Mn=Jt;function Dn(te){var _e=this.__data__,Be=vt(_e,te);return Be<0?void 0:_e[Be][1]}var Un=Dn;function Wn(te){return vt(this.__data__,te)>-1}var Hn=Wn;function Kn(te,_e){var Be=this.__data__,wt=vt(Be,te);return wt<0?(++this.size,Be.push([te,_e])):Be[wt][1]=_e,this}var Cr=Kn;function si(te){var _e=-1,Be=te==null?0:te.length;for(this.clear();++_e<Be;){var wt=te[_e];this.set(wt[0],wt[1])}}si.prototype.clear=o1,si.prototype.delete=Mn,si.prototype.get=Un,si.prototype.has=Hn,si.prototype.set=Cr;var Di=si,lo=ne(C,"Map"),Xr=lo;function Gn(){this.size=0,this.__data__={hash:new Au,map:new(Xr||Di),string:new Au}}var na=Gn;function Wr(te){var _e=typeof te;return _e=="string"||_e=="number"||_e=="symbol"||_e=="boolean"?te!=="__proto__":te===null}var uo=Wr;function El(te,_e){var Be=te.__data__;return uo(_e)?Be[typeof _e=="string"?"string":"hash"]:Be.map}var Fa=El;function ra(te){var _e=Fa(this,te).delete(te);return this.size-=_e?1:0,_e}var _i=ra;function co(te){return Fa(this,te).get(te)}var Iu=co;function Fs(te){return Fa(this,te).has(te)}var Ru=Fs;function xh(te,_e){var Be=Fa(this,te),wt=Be.size;return Be.set(te,_e),this.size+=Be.size==wt?0:1,this}var Du=xh;function Cl(te){var _e=-1,Be=te==null?0:te.length;for(this.clear();++_e<Be;){var wt=te[_e];this.set(wt[0],wt[1])}}Cl.prototype.clear=na,Cl.prototype.delete=_i,Cl.prototype.get=Iu,Cl.prototype.has=Ru,Cl.prototype.set=Du;var a1=Cl,Sh="Expected a function";function l1(te,_e){if(typeof te!="function"||_e!=null&&typeof _e!="function")throw new TypeError(Sh);var Be=function(){var wt=arguments,zn=_e?_e.apply(this,wt):wt[0],Mr=Be.cache;if(Mr.has(zn))return Mr.get(zn);var Cs=te.apply(this,wt);return Be.cache=Mr.set(zn,Cs)||Mr,Cs};return Be.cache=new(l1.Cache||a1),Be}l1.Cache=a1;var Og=l1,O0=500;function zc(te){var _e=Og(te,function(wt){return Be.size===O0&&Be.clear(),wt}),Be=_e.cache;return _e}var Lg=zc,Vc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,e9=/\\(\\)?/g,t9=Lg(function(te){var _e=[];return te.charCodeAt(0)===46&&_e.push(""),te.replace(Vc,function(Be,wt,zn,Mr){_e.push(zn?Mr.replace(e9,"$1"):wt||Be)}),_e}),L0=t9;function n9(te,_e){for(var Be=-1,wt=te==null?0:te.length,zn=Array(wt);++Be<wt;)zn[Be]=_e(te[Be],Be,te);return zn}var Ng=n9,jc=1/0,u1=Y?Y.prototype:void 0,c1=u1?u1.toString:void 0;function d1(te){if(typeof te=="string")return te;if(R(te))return Ng(te,d1)+"";if(ft(te))return c1?c1.call(te):"";var _e=te+"";return _e=="0"&&1/te==-jc?"-0":_e}var r9=d1;function i9(te){return te==null?"":r9(te)}var s9=i9;function o9(te,_e){return R(te)?te:it(te,_e)?[te]:L0(s9(te))}var Fg=o9,Ou=1/0;function Hc(te){if(typeof te=="string"||ft(te))return te;var _e=te+"";return _e=="0"&&1/te==-Ou?"-0":_e}var Bg=Hc;function h1(te,_e){_e=Fg(_e,te);for(var Be=0,wt=_e.length;te!=null&&Be<wt;)te=te[Bg(_e[Be++])];return Be&&Be==wt?te:void 0}var N0=h1;function Pl(te,_e,Be){var wt=te==null?void 0:N0(te,_e);return wt===void 0?Be:wt}var a9=Pl;function Eh(te,_e){return function(Be){return te(_e(Be))}}var Ug=Eh,zg=Ug(Object.getPrototypeOf,Object),l9=zg,Vg="[object Object]",jg=Function.prototype,u9=Object.prototype,c9=jg.toString,d9=u9.hasOwnProperty,p1=c9.call(Object);function h9(te){if(!It(te)||ht(te)!=Vg)return!1;var _e=l9(te);if(_e===null)return!0;var Be=d9.call(_e,"constructor")&&_e.constructor;return typeof Be=="function"&&Be instanceof Be&&c9.call(Be)==p1}var p9=h9;function f9(te){var _e=te==null?0:te.length;return _e?te[_e-1]:void 0}var f1=f9,Ch=new WeakMap,Lu=new WeakMap,m9=Symbol("pointerMeta"),Hg={get(te,_e){if(_e===m9)return Ch.get(te);let Be=Lu.get(te);Be||(Be=new Map,Lu.set(te,Be));const wt=Be.get(_e);if(wt!==void 0)return wt;const zn=Ch.get(te),Mr=$c({root:zn.root,path:[...zn.path,_e]});return Be.set(_e,Mr),Mr}},Ba=te=>te[m9],Gc=te=>{const{root:_e,path:Be}=Ba(te);return{root:_e,path:Be}};function $c(te){var _e;const Be={root:te.root,path:(_e=te.path)!=null?_e:[]},wt={};return Ch.set(wt,Be),new Proxy(wt,Hg)}var Ml=$c,F0=te=>te&&!!Ba(te);function m1(te,_e,Be){return _e.length===0?Be(te):Tl(te,_e,Be)}var Tl=(te,_e,Be)=>{if(_e.length===0)return Be(te);if(Array.isArray(te)){let[wt,...zn]=_e;wt=parseInt(String(wt),10),isNaN(wt)&&(wt=0);const Mr=te[wt],Cs=Tl(Mr,zn,Be);if(Mr===Cs)return te;const ia=[...te];return ia.splice(wt,1,Cs),ia}else if(typeof te=="object"&&te!==null){const[wt,...zn]=_e,Mr=te[wt],Cs=Tl(Mr,zn,Be);return Mr===Cs?te:v(m({},te),{[wt]:Cs})}else{const[wt,...zn]=_e;return{[wt]:Tl(void 0,zn,Be)}}},us=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const te=this._head;if(te)return this._head=te.next,te.data}push(te){const _e={next:this._head,data:te};this._head=_e}};function Wc(te){return!!(te&&te.isPrism&&te.isPrism===!0)}function Ph(){const te=()=>{},_e=new us,Be=te;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{_e.push(Be)},stopIgnoringDependencies:()=>{_e.peek()!==Be||_e.pop()},reportResolutionStart:Bu=>{const Uu=_e.peek();Uu&&Uu(Bu),_e.push(Be)},reportResolutionEnd:Bu=>{_e.pop()},pushCollector:Bu=>{_e.push(Bu)},popCollector:Bu=>{if(_e.peek()!==Bu)throw new Error("Popped collector is not on top of the stack");_e.pop()}}}function Gg(){const te="__dataverse_discoveryMechanism_sharedStack",_e=typeof window<"u"?window:typeof Ki<"u"?Ki:{};if(_e){const Be=_e[te];if(Be&&typeof Be=="object"&&Be.type==="Dataverse_discoveryMechanism")return Be;{const wt=Ph();return _e[te]=wt,wt}}else return Ph()}var{startIgnoringDependencies:kl,stopIgnoringDependencies:B0,reportResolutionEnd:g1,reportResolutionStart:$g,pushCollector:Mh,popCollector:Wg}=Gg(),g9=()=>{},v9=class{constructor(te,_e){this._fn=te,this._prismInstance=_e,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new Th(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=Be=>{this._possiblyStaleDeps.add(Be),this._markAsStale()};for(const Be of this._dependencies)Be._addDependent(this._reactToDependencyGoingStale);kl(),this.getValue(),B0()}get hasDependents(){return this._dependents.size>0}removeDependent(te){this._dependents.delete(te)}addDependent(te){this._dependents.add(te)}destroy(){for(const te of this._dependencies)te._removeDependent(this._reactToDependencyGoingStale);y1(this._scope)}getValue(){if(!this._isFresh){const te=this._recalculate();this._lastValue=te,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let te;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let wt=!1;kl();for(const zn of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(zn)!==zn.getValue()){wt=!0;break}if(B0(),this._possiblyStaleDeps.clear(),!wt)return this._lastValue}const _e=new Set;this._cacheOfDendencyValues.clear();const Be=wt=>{_e.add(wt),this._addDependency(wt)};Mh(Be),cs.push(this._scope);try{te=this._fn()}catch(wt){console.error(wt)}finally{cs.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}Wg(Be);for(const wt of this._dependencies)_e.has(wt)||this._removeDependency(wt);this._dependencies=_e,kl();for(const wt of _e)this._cacheOfDendencyValues.set(wt,wt.getValue());return B0(),te}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const te of this._dependents)te(this._prismInstance)}}_addDependency(te){this._dependencies.has(te)||(this._dependencies.add(te),te._addDependent(this._reactToDependencyGoingStale))}_removeDependency(te){this._dependencies.has(te)&&(this._dependencies.delete(te),te._removeDependent(this._reactToDependencyGoingStale))}},v1={},Kg=class{constructor(te){this._fn=te,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(te,_e,Be=!1){const wt=()=>{te.onThisOrNextTick(Mr)};let zn=v1;const Mr=()=>{const ia=this.getValue();ia!==zn&&(zn=ia,_e(ia))};return this._addDependent(wt),Be&&(zn=this.getValue(),_e(zn)),()=>{this._removeDependent(wt),te.offThisOrNextTick(Mr),te.offNextTick(Mr)}}onStale(te){const _e=()=>{this._removeDependent(Be)},Be=()=>te();return this._addDependent(Be),_e}keepHot(){return this.onStale(()=>{})}_addDependent(te){this._state.hot||this._goHot(),this._state.handle.addDependent(te)}_goHot(){const te=new v9(this._fn,this);this._state={hot:!0,handle:te}}_removeDependent(te){const _e=this._state;if(!_e.hot)return;const Be=_e.handle;Be.removeDependent(te),Be.hasDependents||(this._state={hot:!1,handle:void 0},Be.destroy())}getValue(){$g(this);const te=this._state;let _e;return te.hot?_e=te.handle.getValue():_e=Kc(this._fn),g1(this),_e}},Th=class{constructor(te){this._hotHandle=te,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(te,_e){let Be=this._refs.get(te);if(Be!==void 0)return Be;{const wt={current:_e};return this._refs.set(te,wt),wt}}effect(te,_e,Be){let wt=this.effects.get(te);wt===void 0&&(wt={cleanup:g9,deps:void 0},this.effects.set(te,wt)),_1(wt.deps,Be)&&(wt.cleanup(),kl(),wt.cleanup=kh(_e,g9).value,B0(),wt.deps=Be)}memo(te,_e,Be){let wt=this.memos.get(te);return wt===void 0&&(wt={cachedValue:null,deps:void 0},this.memos.set(te,wt)),_1(wt.deps,Be)&&(kl(),wt.cachedValue=kh(_e,void 0).value,B0(),wt.deps=Be),wt.cachedValue}state(te,_e){const{value:Be,setValue:wt}=this.memo("state/"+te,()=>{const zn={current:_e};return{value:zn,setValue:Cs=>{zn.current=Cs,this._hotHandle.forceStale()}}},[]);return[Be.current,wt]}sub(te){return this.subs[te]||(this.subs[te]=new Th(this._hotHandle)),this.subs[te]}cleanupEffects(){for(const te of this.effects.values())kh(te.cleanup,void 0);this.effects.clear()}source(te,_e){const Be="$$source/blah";return this.effect(Be,()=>te(()=>{this._hotHandle.forceStale()}),[te]),_e()}};function y1(te){for(const _e of Object.values(te.subs))y1(_e);te.cleanupEffects()}function kh(te,_e){try{return{value:te(),ok:!0}}catch(Be){return setTimeout(function(){throw Be}),{value:_e,ok:!1}}}var cs=new us;function Xg(te,_e){const Be=cs.peek();if(!Be)throw new Error("prism.ref() is called outside of a prism() call.");return Be.ref(te,_e)}function b1(te,_e,Be){const wt=cs.peek();if(!wt)throw new Error("prism.effect() is called outside of a prism() call.");return wt.effect(te,_e,Be)}function _1(te,_e){if(te===void 0||_e===void 0)return!0;const Be=te.length;if(Be!==_e.length)return!0;for(let wt=0;wt<Be;wt++)if(te[wt]!==_e[wt])return!0;return!1}function w1(te,_e,Be){const wt=cs.peek();if(!wt)throw new Error("prism.memo() is called outside of a prism() call.");return wt.memo(te,_e,Be)}function ds(te,_e){const Be=cs.peek();if(!Be)throw new Error("prism.state() is called outside of a prism() call.");return Be.state(te,_e)}function Ah(){if(!cs.peek())throw new Error("The parent function is called outside of a prism() call.")}function qg(te,_e){const Be=cs.peek();if(!Be)throw new Error("prism.scope() is called outside of a prism() call.");const wt=Be.sub(te);cs.push(wt);const zn=kh(_e,void 0).value;return cs.pop(),zn}function Ih(te,_e,Be){return w1(te,()=>wi(_e),Be).getValue()}function Rh(){return!!cs.peek()}function Yg(te,_e){const Be=cs.peek();if(!Be)throw new Error("prism.source() is called outside of a prism() call.");return Be.source(te,_e)}var wi=te=>new Kg(te),U0=class{effect(te,_e,Be){console.warn("prism.effect() does not run in cold prisms")}memo(te,_e,Be){return _e()}state(te,_e){return[_e,()=>{}]}ref(te,_e){return{current:_e}}sub(te){return new U0}source(te,_e){return _e()}};function Kc(te){const _e=new U0;cs.push(_e);let Be;try{Be=te()}catch(wt){console.error(wt)}finally{cs.pop()!==_e&&console.warn("The Prism hook stack has slipped. This is a bug.")}return Be}wi.ref=Xg,wi.effect=b1,wi.memo=w1,wi.ensurePrism=Ah,wi.state=ds,wi.scope=qg,wi.sub=Ih,wi.inPrism=Rh,wi.source=Yg;var Nu=wi,x1;(function(te){te[te.Dict=0]="Dict",te[te.Array=1]="Array",te[te.Other=2]="Other"})(x1||(x1={}));var zr=te=>Array.isArray(te)?1:p9(te)?0:2,S1=(te,_e,Be=zr(te))=>Be===0&&typeof _e=="string"||Be===1&&Zg(_e)?te[_e]:void 0,Zg=te=>{const _e=typeof te=="number"?te:parseInt(te,10);return!isNaN(_e)&&_e>=0&&_e<1/0&&(_e|0)===_e},Dh=class{constructor(te,_e){this._parent=te,this._path=_e,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(te){this.identityChangeListeners.add(te)}removeIdentityChangeListener(te){this.identityChangeListeners.delete(te),this._checkForGC()}removeChild(te){this.children.delete(te),this._checkForGC()}getChild(te){return this.children.get(te)}getOrCreateChild(te){let _e=this.children.get(te);return _e||(_e=_e=new Dh(this,this._path.concat([te])),this.children.set(te,_e)),_e}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(f1(this._path))}},E1=class{constructor(te){this.$$isPointerToPrismProvider=!0,this.pointer=Ml({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=(_e,Be)=>{const{path:wt}=Gc(_e),zn=this._getOrCreateScopeForPath(wt);return zn.identityChangeListeners.add(Be),()=>{zn.identityChangeListeners.delete(Be)}},this._currentState=te,this._rootScope=new Dh(void 0,[])}set(te){const _e=this._currentState;this._currentState=te,this._checkUpdates(this._rootScope,_e,te)}get(){return this._currentState}getByPointer(te){const _e=F0(te)?te:te(this.pointer),Be=Gc(_e).path;return this._getIn(Be)}_getIn(te){return te.length===0?this.get():a9(this.get(),te)}reduce(te){this.set(te(this.get()))}reduceByPointer(te,_e){const Be=F0(te)?te:te(this.pointer),wt=Gc(Be).path,zn=m1(this.get(),wt,_e);this.set(zn)}setByPointer(te,_e){this.reduceByPointer(te,()=>_e)}_checkUpdates(te,_e,Be){if(_e===Be)return;for(const Mr of te.identityChangeListeners)Mr(Be);if(te.children.size===0)return;const wt=zr(_e),zn=zr(Be);if(!(wt===2&&wt===zn))for(const[Mr,Cs]of te.children){const ia=S1(_e,Mr,wt),_9=S1(Be,Mr,zn);this._checkUpdates(Cs,ia,_9)}}_getOrCreateScopeForPath(te){let _e=this._rootScope;for(const Be of te)_e=_e.getOrCreateChild(Be);return _e}pointerToPrism(te){const{path:_e}=Gc(te),Be=zn=>this._onPointerValueChange(te,zn),wt=()=>this._getIn(_e);return Nu(()=>Nu.source(Be,wt))}},y9=new WeakMap;function Qg(te){return typeof te=="object"&&te!==null&&te.$$isPointerToPrismProvider===!0}var Fu=te=>{const _e=Ba(te);let Be=y9.get(_e);if(!Be){const wt=_e.root;if(!Qg(wt))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");Be=wt.pointerToPrism(te),y9.set(_e,Be)}return Be},Oh=te=>F0(te)?Fu(te).getValue():Wc(te)?te.getValue():te;function*Jg(te){let _e;if(F0(te))_e=Fu(te);else if(Wc(te))_e=te;else throw new Error("Only pointers and prisms are supported");let Be=0;const wt=_e.onStale(()=>{Be++});try{for(;;){const zn=Be;Be=0,yield{value:_e.getValue(),ticks:zn}}}finally{wt()}}var b9=60*3,Xc=class{constructor(te){this._conf=te,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(te){this._scheduledForThisOrNextTick.add(te),this._dormant&&this._goActive()}onNextTick(te){this._scheduledForNextTick.add(te),this._dormant&&this._goActive()}offThisOrNextTick(te){this._scheduledForThisOrNextTick.delete(te)}offNextTick(te){this._scheduledForNextTick.delete(te)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var te,_e;this._dormant&&(this._dormant=!1,(_e=(te=this._conf)==null?void 0:te.onActive)==null||_e.call(te))}_goDormant(){var te,_e;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,(_e=(te=this._conf)==null?void 0:te.onDormant)==null||_e.call(te))}tick(te=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=b9)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=te;for(const _e of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add(_e);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(te){const _e=this.time;if(te>10&&console.warn("_tick() recursing for 10 times"),te>100)throw new Error("Maximum recursion limit for _tick()");const Be=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const wt of Be)wt(_e);if(this._scheduledForThisOrNextTick.size>0)return this._tick(te+1)}};function*C1(te){let _e;if(F0(te))_e=Fu(te);else if(Wc(te))_e=te;else throw new Error("Only pointers and prisms are supported");const Be=new Xc,wt=_e.onChange(Be,zn=>{});try{for(;;)Be.tick(),yield _e.getValue()}finally{wt()}}var ev=class{constructor(te){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new E1(te),this.pointer=Ml({root:this,path:[]})}setPointer(te){this._currentPointerBox.set(te)}pointerToPrism(te){const{path:_e}=Ba(te);return Nu(()=>{const Be=this._currentPointerBox.prism.getValue(),wt=_e.reduce((zn,Mr)=>zn[Mr],Be);return Oh(wt)})}}})(Vt);IA.exports;(function(t,e){var n=Object.create,r=Object.freeze,i=Object.defineProperty,o=Object.defineProperties,u=Object.getOwnPropertyDescriptor,d=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,x=Object.getPrototypeOf,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,R=(s,a)=>{if(a=Symbol[s])return a;throw Error("Symbol."+s+" is not defined")},G=(s,a,l)=>a in s?i(s,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):s[a]=l,L=(s,a)=>{for(var l in a||(a={}))S.call(a,l)&&G(s,l,a[l]);if(v)for(var l of v(a))T.call(a,l)&&G(s,l,a[l]);return s},B=(s,a)=>o(s,d(a)),z=(s,a)=>{var l={};for(var h in s)S.call(s,h)&&a.indexOf(h)<0&&(l[h]=s[h]);if(s!=null&&v)for(var h of v(s))a.indexOf(h)<0&&T.call(s,h)&&(l[h]=s[h]);return l},C=(s,a)=>()=>(s&&(a=s(s=0)),a),V=(s,a)=>()=>(a||s((a={exports:{}}).exports,a),a.exports),Y=(s,a)=>{for(var l in a)i(s,l,{get:a[l],enumerable:!0})},me=(s,a,l,h)=>{if(a&&typeof a=="object"||typeof a=="function")for(let f of m(a))!S.call(s,f)&&f!==l&&i(s,f,{get:()=>a[f],enumerable:!(h=u(a,f))||h.enumerable});return s},q=(s,a,l)=>(l=s!=null?n(x(s)):{},me(a||!s||!s.__esModule?i(l,"default",{value:s,enumerable:!0}):l,s)),ae=s=>me(i({},"__esModule",{value:!0}),s),ve=(s,a,l)=>(G(s,typeof a!="symbol"?a+"":a,l),l),W=(s,a)=>r(i(s,"raw",{value:r(a||s.slice())})),se=(s,a,l)=>new Promise((h,f)=>{var g=E=>{try{_(l.next(E))}catch(P){f(P)}},b=E=>{try{_(l.throw(E))}catch(P){f(P)}},_=E=>E.done?h(E.value):Promise.resolve(E.value).then(g,b);_((l=l.apply(s,a)).next())}),Te=function(s,a){this[0]=s,this[1]=a},dt=s=>{var a=s[R("asyncIterator")],l=!1,h,f={};return a==null?(a=s[R("iterator")](),h=g=>f[g]=b=>a[g](b)):(a=a.call(s),h=g=>f[g]=b=>{if(l){if(l=!1,g==="throw")throw b;return b}return l=!0,{done:!1,value:new Te(new Promise(_=>{var E=a[g](b);if(!(E instanceof Object))throw TypeError("Object expected");_(E)}),1)}}),f[R("iterator")]=()=>f,h("next"),"throw"in a?h("throw"):f.throw=g=>{throw g},"return"in a&&h("return"),f};function He(s){gt=s}function xe(){return gt}var gt,ze=C(()=>{});function At(s,a,l=[]){if(typeof s=="object"&&s){if(Ne(s)||ht(s)){a(s,l);return}for(let[h,f]of Object.entries(s))At(f,a,[...l,h])}else{if(s==null)return;a(s,l)}}var Ne,ht,pt=C(()=>{Ne=s=>typeof s=="object"&&s!==null&&Object.hasOwnProperty.call(s,"type")&&s.type==="image"&&Object.hasOwnProperty.call(s,"id")&&typeof s.id=="string"&&s.id!=="",ht=s=>typeof s=="object"&&s!==null&&Object.hasOwnProperty.call(s,"r")&&Object.hasOwnProperty.call(s,"g")&&Object.hasOwnProperty.call(s,"b")&&Object.hasOwnProperty.call(s,"a")&&typeof s.r=="number"&&typeof s.g=="number"&&typeof s.b=="number"&&typeof s.a=="number"});function It(s){return a=>typeof a=="object"&&!!a&&a.type===s}var tn,pn,ft,kt,Xt,Ut,it,bt=C(()=>{tn=It("Theatre_Project"),pn=It("Theatre_Sheet"),ft=It("Theatre_SheetTemplate"),kt=It("Theatre_SheetObject"),Xt=It("Theatre_SheetObjectTemplate"),Ut=It("Theatre_Sheet_PublicAPI"),it=It("Theatre_SheetObject_PublicAPI")}),Nt,je,Cn=C(()=>{Nt=typeof Ki=="object"&&Ki&&Ki.Object===Object&&Ki,je=Nt}),ln,rn,Ot,dn=C(()=>{Cn(),ln=typeof self=="object"&&self&&self.Object===Object&&self,rn=je||ln||Function("return this")(),Ot=rn}),Pe,de,Ze=C(()=>{dn(),Pe=Ot.Symbol,de=Pe});function Et(s){var a=Dt.call(s,Rt),l=s[Rt];try{s[Rt]=void 0;var h=!0}catch{}var f=hn.call(s);return h&&(a?s[Rt]=l:delete s[Rt]),f}var Ct,Dt,hn,Rt,Pn,On=C(()=>{Ze(),Ct=Object.prototype,Dt=Ct.hasOwnProperty,hn=Ct.toString,Rt=de?de.toStringTag:void 0,Pn=Et});function Yt(s){return Fn.call(s)}var an,Fn,gn,fn=C(()=>{an=Object.prototype,Fn=an.toString,gn=Yt});function ar(s){return s==null?s===void 0?gr:Bn:hr&&hr in Object(s)?Pn(s):gn(s)}var Bn,gr,hr,rr,vn=C(()=>{Ze(),On(),fn(),Bn="[object Null]",gr="[object Undefined]",hr=de?de.toStringTag:void 0,rr=ar});function ne(s){return s!=null&&typeof s=="object"}var st,Mt=C(()=>{st=ne});function qt(s){return typeof s=="symbol"||st(s)&&rr(s)==on}var on,Yn,Zn=C(()=>{vn(),Mt(),on="[object Symbol]",Yn=qt});function Kr(s,a){for(var l=-1,h=s==null?0:s.length,f=Array(h);++l<h;)f[l]=a(s[l],l,s);return f}var Zr,wr=C(()=>{Zr=Kr}),Ir,vr,Qr=C(()=>{Ir=Array.isArray,vr=Ir});function Ns(s){if(typeof s=="string")return s;if(vr(s))return Zr(s,Ns)+"";if(Yn(s))return ta?ta.call(s):"";var a=s+"";return a=="0"&&1/s==-ea?"-0":a}var ea,Na,ta,Uc,ku=C(()=>{Ze(),wr(),Qr(),Zn(),ea=1/0,Na=de?de.prototype:void 0,ta=Na?Na.toString:void 0,Uc=Ns});function i0(s){for(var a=s.length;a--&&Au.test(s.charAt(a)););return a}var Au,wh,o1=C(()=>{Au=/\s/,wh=i0});function s0(s){return s&&s.slice(0,wh(s)+1).replace(be,"")}var be,Ye,vt=C(()=>{o1(),be=/^\s+/,Ye=s0});function _t(s){var a=typeof s;return s!=null&&(a=="object"||a=="function")}var ot,Jt=C(()=>{ot=_t});function Mn(s){if(typeof s=="number")return s;if(Yn(s))return Dn;if(ot(s)){var a=typeof s.valueOf=="function"?s.valueOf():s;s=ot(a)?a+"":a}if(typeof s!="string")return s===0?s:+s;s=Ye(s);var l=Wn.test(s);return l||Hn.test(s)?Kn(s.slice(2),l?2:8):Un.test(s)?Dn:+s}var Dn,Un,Wn,Hn,Kn,Cr,si=C(()=>{vt(),Jt(),Zn(),Dn=0/0,Un=/^[-+]0x[0-9a-f]+$/i,Wn=/^0b[01]+$/i,Hn=/^0o[0-7]+$/i,Kn=parseInt,Cr=Mn});function Di(s){if(!s)return s===0?s:0;if(s=Cr(s),s===lo||s===-lo){var a=s<0?-1:1;return a*Xr}return s===s?s:0}var lo,Xr,Gn,na=C(()=>{si(),lo=1/0,Xr=17976931348623157e292,Gn=Di});function Wr(s){var a=Gn(s),l=a%1;return a===a?l?a-l:a:0}var uo,El=C(()=>{na(),uo=Wr});function Fa(s){return s}var ra,_i=C(()=>{ra=Fa});function co(s){if(!ot(s))return!1;var a=rr(s);return a==Fs||a==Ru||a==Iu||a==xh}var Iu,Fs,Ru,xh,Du,Cl=C(()=>{vn(),Jt(),Iu="[object AsyncFunction]",Fs="[object Function]",Ru="[object GeneratorFunction]",xh="[object Proxy]",Du=co}),a1,Sh,l1=C(()=>{dn(),a1=Ot["__core-js_shared__"],Sh=a1});function Og(s){return!!O0&&O0 in s}var O0,zc,Lg=C(()=>{l1(),O0=function(){var s=/[^.]+$/.exec(Sh&&Sh.keys&&Sh.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""}(),zc=Og});function Vc(s){if(s!=null){try{return t9.call(s)}catch{}try{return s+""}catch{}}return""}var e9,t9,L0,n9=C(()=>{e9=Function.prototype,t9=e9.toString,L0=Vc});function Ng(s){if(!ot(s)||zc(s))return!1;var a=Du(s)?s9:u1;return a.test(L0(s))}var jc,u1,c1,d1,r9,i9,s9,o9,Fg=C(()=>{Cl(),Lg(),Jt(),n9(),jc=/[\\^$.*+?()[\]{}|]/g,u1=/^\[object .+?Constructor\]$/,c1=Function.prototype,d1=Object.prototype,r9=c1.toString,i9=d1.hasOwnProperty,s9=RegExp("^"+r9.call(i9).replace(jc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),o9=Ng});function Ou(s,a){return s==null?void 0:s[a]}var Hc,Bg=C(()=>{Hc=Ou});function h1(s,a){var l=Hc(s,a);return o9(l)?l:void 0}var N0,Pl=C(()=>{Fg(),Bg(),N0=h1}),a9,Eh,Ug=C(()=>{Pl(),dn(),a9=N0(Ot,"WeakMap"),Eh=a9});function zg(s,a,l){switch(l.length){case 0:return s.call(a);case 1:return s.call(a,l[0]);case 2:return s.call(a,l[0],l[1]);case 3:return s.call(a,l[0],l[1],l[2])}return s.apply(a,l)}var l9,Vg=C(()=>{l9=zg});function jg(){}var u9,c9=C(()=>{u9=jg});function d9(s,a){var l=-1,h=s.length;for(a||(a=Array(h));++l<h;)a[l]=s[l];return a}var p1,h9=C(()=>{p1=d9});function p9(s){var a=0,l=0;return function(){var h=Ch(),f=f1-(h-l);if(l=h,f>0){if(++a>=f9)return arguments[0]}else a=0;return s.apply(void 0,arguments)}}var f9,f1,Ch,Lu,m9=C(()=>{f9=800,f1=16,Ch=Date.now,Lu=p9});function Hg(s){return function(){return s}}var Ba,Gc=C(()=>{Ba=Hg}),$c,Ml,F0=C(()=>{Pl(),$c=function(){try{var s=N0(Object,"defineProperty");return s({},"",{}),s}catch{}}(),Ml=$c}),m1,Tl,us=C(()=>{Gc(),F0(),_i(),m1=Ml?function(s,a){return Ml(s,"toString",{configurable:!0,enumerable:!1,value:Ba(a),writable:!0})}:ra,Tl=m1}),Wc,Ph,Gg=C(()=>{us(),m9(),Wc=Lu(Tl),Ph=Wc});function kl(s,a,l,h){for(var f=s.length,g=l+(h?1:-1);h?g--:++g<f;)if(a(s[g],g,s))return g;return-1}var B0,g1=C(()=>{B0=kl});function $g(s){return s!==s}var Mh,Wg=C(()=>{Mh=$g});function g9(s,a,l){for(var h=l-1,f=s.length;++h<f;)if(s[h]===a)return h;return-1}var v9,v1=C(()=>{v9=g9});function Kg(s,a,l){return a===a?v9(s,a,l):B0(s,Mh,l)}var Th,y1=C(()=>{g1(),Wg(),v1(),Th=Kg});function kh(s,a){var l=s==null?0:s.length;return!!l&&Th(s,a,0)>-1}var cs,Xg=C(()=>{y1(),cs=kh});function b1(s,a){var l=typeof s;return a=a??_1,!!a&&(l=="number"||l!="symbol"&&w1.test(s))&&s>-1&&s%1==0&&s<a}var _1,w1,ds,Ah=C(()=>{_1=9007199254740991,w1=/^(?:0|[1-9]\d*)$/,ds=b1});function qg(s,a,l){a=="__proto__"&&Ml?Ml(s,a,{configurable:!0,enumerable:!0,value:l,writable:!0}):s[a]=l}var Ih,Rh=C(()=>{F0(),Ih=qg});function Yg(s,a){return s===a||s!==s&&a!==a}var wi,U0=C(()=>{wi=Yg});function Kc(s,a,l){var h=s[a];(!(x1.call(s,a)&&wi(h,l))||l===void 0&&!(a in s))&&Ih(s,a,l)}var Nu,x1,zr,S1=C(()=>{Rh(),U0(),Nu=Object.prototype,x1=Nu.hasOwnProperty,zr=Kc});function Zg(s,a,l){return a=Dh(a===void 0?s.length-1:a,0),function(){for(var h=arguments,f=-1,g=Dh(h.length-a,0),b=Array(g);++f<g;)b[f]=h[a+f];f=-1;for(var _=Array(a+1);++f<a;)_[f]=h[f];return _[a]=l(b),l9(s,this,_)}}var Dh,E1,y9=C(()=>{Vg(),Dh=Math.max,E1=Zg});function Qg(s,a){return Ph(E1(s,a,ra),s+"")}var Fu,Oh=C(()=>{_i(),y9(),Gg(),Fu=Qg});function Jg(s){return typeof s=="number"&&s>-1&&s%1==0&&s<=b9}var b9,Xc,C1=C(()=>{b9=9007199254740991,Xc=Jg});function ev(s){return s!=null&&Xc(s.length)&&!Du(s)}var te,_e=C(()=>{Cl(),C1(),te=ev});function Be(s,a,l){if(!ot(l))return!1;var h=typeof a;return(h=="number"?te(l)&&ds(a,l.length):h=="string"&&a in l)?wi(l[a],s):!1}var wt,zn=C(()=>{U0(),_e(),Ah(),Jt(),wt=Be});function Mr(s){var a=s&&s.constructor,l=typeof a=="function"&&a.prototype||Cs;return s===l}var Cs,ia,_9=C(()=>{Cs=Object.prototype,ia=Mr});function Bu(s,a){for(var l=-1,h=Array(s);++l<s;)h[l]=a(l);return h}var Uu,L_=C(()=>{Uu=Bu});function uR(s){return st(s)&&rr(s)==N_}var N_,tv,cR=C(()=>{vn(),Mt(),N_="[object Arguments]",tv=uR}),nv,F_,B_,P1,w9,rv=C(()=>{cR(),Mt(),nv=Object.prototype,F_=nv.hasOwnProperty,B_=nv.propertyIsEnumerable,P1=tv(function(){return arguments}())?tv:function(s){return st(s)&&F_.call(s,"callee")&&!B_.call(s,"callee")},w9=P1});function iv(){return!1}var U_,z_=C(()=>{U_=iv}),sv,ov,x9,av,V_,j_,S9,lv=C(()=>{dn(),z_(),sv=e&&!e.nodeType&&e,ov=sv&&!0&&t&&!t.nodeType&&t,x9=ov&&ov.exports===sv,av=x9?Ot.Buffer:void 0,V_=av?av.isBuffer:void 0,j_=V_||U_,S9=j_});function H_(s){return st(s)&&Xc(s.length)&&!!oi[rr(s)]}var G_,$_,W_,uv,K_,X_,cv,dv,q_,hv,Y_,Z_,M1,Q_,J_,ew,tw,nw,rw,iw,sw,ow,aw,lw,oi,uw,dR=C(()=>{vn(),C1(),Mt(),G_="[object Arguments]",$_="[object Array]",W_="[object Boolean]",uv="[object Date]",K_="[object Error]",X_="[object Function]",cv="[object Map]",dv="[object Number]",q_="[object Object]",hv="[object RegExp]",Y_="[object Set]",Z_="[object String]",M1="[object WeakMap]",Q_="[object ArrayBuffer]",J_="[object DataView]",ew="[object Float32Array]",tw="[object Float64Array]",nw="[object Int8Array]",rw="[object Int16Array]",iw="[object Int32Array]",sw="[object Uint8Array]",ow="[object Uint8ClampedArray]",aw="[object Uint16Array]",lw="[object Uint32Array]",oi={},oi[ew]=oi[tw]=oi[nw]=oi[rw]=oi[iw]=oi[sw]=oi[ow]=oi[aw]=oi[lw]=!0,oi[G_]=oi[$_]=oi[Q_]=oi[W_]=oi[J_]=oi[uv]=oi[K_]=oi[X_]=oi[cv]=oi[dv]=oi[q_]=oi[hv]=oi[Y_]=oi[Z_]=oi[M1]=!1,uw=H_});function hR(s){return function(a){return s(a)}}var E9,pv=C(()=>{E9=hR}),fv,Lh,cw,C9,dw,mv,pR=C(()=>{Cn(),fv=e&&!e.nodeType&&e,Lh=fv&&!0&&t&&!t.nodeType&&t,cw=Lh&&Lh.exports===fv,C9=cw&&je.process,dw=function(){try{var s=Lh&&Lh.require&&Lh.require("util").types;return s||C9&&C9.binding&&C9.binding("util")}catch{}}(),mv=dw}),Jr,hw,gv,pw=C(()=>{dR(),pv(),pR(),Jr=mv&&mv.isTypedArray,hw=Jr?E9(Jr):uw,gv=hw});function vv(s,a){var l=vr(s),h=!l&&w9(s),f=!l&&!h&&S9(s),g=!l&&!h&&!f&&gv(s),b=l||h||f||g,_=b?Uu(s.length,String):[],E=_.length;for(var P in s)(a||Nh.call(s,P))&&!(b&&(P=="length"||f&&(P=="offset"||P=="parent")||g&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||ds(P,E)))&&_.push(P);return _}var yv,Nh,fw,bv=C(()=>{L_(),rv(),Qr(),lv(),Ah(),pw(),yv=Object.prototype,Nh=yv.hasOwnProperty,fw=vv});function fR(s,a){return function(l){return s(a(l))}}var zu,_v=C(()=>{zu=fR}),mw,wv,mR=C(()=>{_v(),mw=zu(Object.keys,Object),wv=mw});function gR(s){if(!ia(s))return wv(s);var a=[];for(var l in Object(s))xv.call(s,l)&&l!="constructor"&&a.push(l);return a}var gw,xv,vw,yw=C(()=>{_9(),mR(),gw=Object.prototype,xv=gw.hasOwnProperty,vw=gR});function vR(s){return te(s)?fw(s):vw(s)}var P9,Sv=C(()=>{bv(),yw(),_e(),P9=vR});function yR(s,a){if(vr(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||Yn(s)?!0:_w.test(s)||!bw.test(s)||a!=null&&s in Object(a)}var bw,_w,M9,qc=C(()=>{Qr(),Zn(),bw=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_w=/^\w*$/,M9=yR}),ww,Fh,T9=C(()=>{Pl(),ww=N0(Object,"create"),Fh=ww});function bR(){this.__data__=Fh?Fh(null):{},this.size=0}var xw,_R=C(()=>{T9(),xw=bR});function wR(s){var a=this.has(s)&&delete this.__data__[s];return this.size-=a?1:0,a}var k9,xR=C(()=>{k9=wR});function Sw(s){var a=this.__data__;if(Fh){var l=a[s];return l===Ew?void 0:l}return Cw.call(a,s)?a[s]:void 0}var Ew,A9,Cw,Pw,SR=C(()=>{T9(),Ew="__lodash_hash_undefined__",A9=Object.prototype,Cw=A9.hasOwnProperty,Pw=Sw});function Mw(s){var a=this.__data__;return Fh?a[s]!==void 0:kw.call(a,s)}var Tw,kw,Aw,ER=C(()=>{T9(),Tw=Object.prototype,kw=Tw.hasOwnProperty,Aw=Mw});function CR(s,a){var l=this.__data__;return this.size+=this.has(s)?0:1,l[s]=Fh&&a===void 0?Ev:a,this}var Ev,Iw,PR=C(()=>{T9(),Ev="__lodash_hash_undefined__",Iw=CR});function Bh(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}var Cv,MR=C(()=>{_R(),xR(),SR(),ER(),PR(),Bh.prototype.clear=xw,Bh.prototype.delete=k9,Bh.prototype.get=Pw,Bh.prototype.has=Aw,Bh.prototype.set=Iw,Cv=Bh});function TR(){this.__data__=[],this.size=0}var Rw,kR=C(()=>{Rw=TR});function AR(s,a){for(var l=s.length;l--;)if(wi(s[l][0],a))return l;return-1}var T1,I9=C(()=>{U0(),T1=AR});function Pv(s){var a=this.__data__,l=T1(a,s);if(l<0)return!1;var h=a.length-1;return l==h?a.pop():Ow.call(a,l,1),--this.size,!0}var Dw,Ow,Mv,IR=C(()=>{I9(),Dw=Array.prototype,Ow=Dw.splice,Mv=Pv});function RR(s){var a=this.__data__,l=T1(a,s);return l<0?void 0:a[l][1]}var Lw,DR=C(()=>{I9(),Lw=RR});function OR(s){return T1(this.__data__,s)>-1}var Nw,Tv=C(()=>{I9(),Nw=OR});function kv(s,a){var l=this.__data__,h=T1(l,s);return h<0?(++this.size,l.push([s,a])):l[h][1]=a,this}var Fw,Bw=C(()=>{I9(),Fw=kv});function Yc(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}var Uh,R9=C(()=>{kR(),IR(),DR(),Tv(),Bw(),Yc.prototype.clear=Rw,Yc.prototype.delete=Mv,Yc.prototype.get=Lw,Yc.prototype.has=Nw,Yc.prototype.set=Fw,Uh=Yc}),Av,Zc,Iv=C(()=>{Pl(),dn(),Av=N0(Ot,"Map"),Zc=Av});function LR(){this.size=0,this.__data__={hash:new Cv,map:new(Zc||Uh),string:new Cv}}var Uw,NR=C(()=>{MR(),R9(),Iv(),Uw=LR});function FR(s){var a=typeof s;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?s!=="__proto__":s===null}var zw,BR=C(()=>{zw=FR});function UR(s,a){var l=s.__data__;return zw(a)?l[typeof a=="string"?"string":"hash"]:l.map}var k1,D9=C(()=>{BR(),k1=UR});function zR(s){var a=k1(this,s).delete(s);return this.size-=a?1:0,a}var Rv,VR=C(()=>{D9(),Rv=zR});function jR(s){return k1(this,s).get(s)}var Vw,HR=C(()=>{D9(),Vw=jR});function GR(s){return k1(this,s).has(s)}var jw,$R=C(()=>{D9(),jw=GR});function WR(s,a){var l=k1(this,s),h=l.size;return l.set(s,a),this.size+=l.size==h?0:1,this}var Hw,KR=C(()=>{D9(),Hw=WR});function zh(s){var a=-1,l=s==null?0:s.length;for(this.clear();++a<l;){var h=s[a];this.set(h[0],h[1])}}var z0,Qc=C(()=>{NR(),VR(),HR(),$R(),KR(),zh.prototype.clear=Uw,zh.prototype.delete=Rv,zh.prototype.get=Vw,zh.prototype.has=jw,zh.prototype.set=Hw,z0=zh});function Dv(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(Gw);var l=function(){var h=arguments,f=a?a.apply(this,h):h[0],g=l.cache;if(g.has(f))return g.get(f);var b=s.apply(this,h);return l.cache=g.set(f,b)||g,b};return l.cache=new(Dv.Cache||z0),l}var Gw,Ov,$w=C(()=>{Qc(),Gw="Expected a function",Dv.Cache=z0,Ov=Dv});function Ww(s){var a=Ov(s,function(h){return l.size===Lv&&l.clear(),h}),l=a.cache;return a}var Lv,Kw,Xw=C(()=>{$w(),Lv=500,Kw=Ww}),Nv,qw,Yw,Zw,XR=C(()=>{Xw(),Nv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qw=/\\(\\)?/g,Yw=Kw(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(Nv,function(l,h,f,g){a.push(f?g.replace(qw,"$1"):h||l)}),a}),Zw=Yw});function qR(s){return s==null?"":Uc(s)}var A1,Qw=C(()=>{ku(),A1=qR});function YR(s,a){return vr(s)?s:M9(s,a)?[s]:Zw(A1(s))}var I1,Fv=C(()=>{Qr(),qc(),XR(),Qw(),I1=YR});function Bv(s){if(typeof s=="string"||Yn(s))return s;var a=s+"";return a=="0"&&1/s==-Jw?"-0":a}var Jw,Vh,R1=C(()=>{Zn(),Jw=1/0,Vh=Bv});function ZR(s,a){a=I1(a,s);for(var l=0,h=a.length;s!=null&&l<h;)s=s[Vh(a[l++])];return l&&l==h?s:void 0}var D1,Uv=C(()=>{Fv(),R1(),D1=ZR});function QR(s,a,l){var h=s==null?void 0:D1(s,a);return h===void 0?l:h}var Jc,jh=C(()=>{Uv(),Jc=QR});function JR(s,a){for(var l=-1,h=a.length,f=s.length;++l<h;)s[f+l]=a[l];return s}var O1,ex=C(()=>{O1=JR});function eD(s){return vr(s)||w9(s)||!!(zv&&s&&s[zv])}var zv,O9,tD=C(()=>{Ze(),rv(),Qr(),zv=de?de.isConcatSpreadable:void 0,O9=eD});function L9(s,a,l,h,f){var g=-1,b=s.length;for(l||(l=O9),f||(f=[]);++g<b;){var _=s[g];a>0&&l(_)?a>1?L9(_,a-1,l,h,f):O1(f,_):h||(f[f.length]=_)}return f}var tx,Vv=C(()=>{ex(),tD(),tx=L9}),jv,nx,rx=C(()=>{_v(),jv=zu(Object.getPrototypeOf,Object),nx=jv});function ix(s){if(!st(s)||rr(s)!=Hv)return!1;var a=nx(s);if(a===null)return!0;var l=ox.call(a,"constructor")&&a.constructor;return typeof l=="function"&&l instanceof l&&$v.call(l)==ax}var Hv,Gv,sx,$v,ox,ax,N9,Vu=C(()=>{vn(),rx(),Mt(),Hv="[object Object]",Gv=Function.prototype,sx=Object.prototype,$v=Gv.toString,ox=sx.hasOwnProperty,ax=$v.call(Object),N9=ix});function L1(s){var a=Math[s];return function(l,h){if(l=Cr(l),h=h==null?0:ux(uo(h),292),h&&lx(l)){var f=(A1(l)+"e").split("e"),g=a(f[0]+"e"+(+f[1]+h));return f=(A1(g)+"e").split("e"),+(f[0]+"e"+(+f[1]-h))}return a(l)}}var lx,ux,cx,nD=C(()=>{dn(),El(),si(),Qw(),lx=Ot.isFinite,ux=Math.min,cx=L1});function rD(s,a,l){return s===s&&(l!==void 0&&(s=s<=l?s:l),a!==void 0&&(s=s>=a?s:a)),s}var N1,iD=C(()=>{N1=rD});function Wv(s,a,l){return l===void 0&&(l=a,a=void 0),l!==void 0&&(l=Cr(l),l=l===l?l:0),a!==void 0&&(a=Cr(a),a=a===a?a:0),N1(Cr(s),a,l)}var xi,F9=C(()=>{iD(),si(),xi=Wv});function sD(){this.__data__=new Uh,this.size=0}var dx,oD=C(()=>{R9(),dx=sD});function hx(s){var a=this.__data__,l=a.delete(s);return this.size=a.size,l}var Kv,aD=C(()=>{Kv=hx});function lD(s){return this.__data__.get(s)}var px,uD=C(()=>{px=lD});function cD(s){return this.__data__.has(s)}var fx,dD=C(()=>{fx=cD});function hD(s,a){var l=this.__data__;if(l instanceof Uh){var h=l.__data__;if(!Zc||h.length<mx-1)return h.push([s,a]),this.size=++l.size,this;l=this.__data__=new z0(h)}return l.set(s,a),this.size=l.size,this}var mx,gx,pD=C(()=>{R9(),Iv(),Qc(),mx=200,gx=hD});function Hh(s){var a=this.__data__=new Uh(s);this.size=a.size}var F1,vx=C(()=>{R9(),oD(),aD(),uD(),dD(),pD(),Hh.prototype.clear=dx,Hh.prototype.delete=Kv,Hh.prototype.get=px,Hh.prototype.has=fx,Hh.prototype.set=gx,F1=Hh});function fD(s,a){for(var l=-1,h=s==null?0:s.length,f=0,g=[];++l<h;){var b=s[l];a(b,l,s)&&(g[f++]=b)}return g}var yx,mD=C(()=>{yx=fD});function gD(){return[]}var bx,vD=C(()=>{bx=gD}),_x,wx,Xv,xx,Sx,yD=C(()=>{mD(),vD(),_x=Object.prototype,wx=_x.propertyIsEnumerable,Xv=Object.getOwnPropertySymbols,xx=Xv?function(s){return s==null?[]:(s=Object(s),yx(Xv(s),function(a){return wx.call(s,a)}))}:bx,Sx=xx});function bD(s,a,l){var h=a(s);return vr(s)?h:O1(h,l(s))}var Ex,_D=C(()=>{ex(),Qr(),Ex=bD});function wD(s){return Ex(s,P9,Sx)}var B9,xD=C(()=>{_D(),yD(),Sv(),B9=wD}),Cx,U9,SD=C(()=>{Pl(),dn(),Cx=N0(Ot,"DataView"),U9=Cx}),Px,B1,ED=C(()=>{Pl(),dn(),Px=N0(Ot,"Promise"),B1=Px}),Mx,ed,Tx=C(()=>{Pl(),dn(),Mx=N0(Ot,"Set"),ed=Mx}),qv,Yv,Zv,Qv,Jv,e8,t8,kx,Ax,Ix,n8,ju,r8,CD=C(()=>{SD(),Iv(),ED(),Tx(),Ug(),vn(),n9(),qv="[object Map]",Yv="[object Object]",Zv="[object Promise]",Qv="[object Set]",Jv="[object WeakMap]",e8="[object DataView]",t8=L0(U9),kx=L0(Zc),Ax=L0(B1),Ix=L0(ed),n8=L0(Eh),ju=rr,(U9&&ju(new U9(new ArrayBuffer(1)))!=e8||Zc&&ju(new Zc)!=qv||B1&&ju(B1.resolve())!=Zv||ed&&ju(new ed)!=Qv||Eh&&ju(new Eh)!=Jv)&&(ju=function(s){var a=rr(s),l=a==Yv?s.constructor:void 0,h=l?L0(l):"";if(h)switch(h){case t8:return e8;case kx:return qv;case Ax:return Zv;case Ix:return Qv;case n8:return Jv}return a}),r8=ju}),Rx,i8,PD=C(()=>{dn(),Rx=Ot.Uint8Array,i8=Rx});function MD(s){return this.__data__.set(s,Dx),this}var Dx,Ox,TD=C(()=>{Dx="__lodash_hash_undefined__",Ox=MD});function kD(s){return this.__data__.has(s)}var Lx,AD=C(()=>{Lx=kD});function z9(s){var a=-1,l=s==null?0:s.length;for(this.__data__=new z0;++a<l;)this.add(s[a])}var s8,Nx=C(()=>{Qc(),TD(),AD(),z9.prototype.add=z9.prototype.push=Ox,z9.prototype.has=Lx,s8=z9});function ai(s,a){for(var l=-1,h=s==null?0:s.length;++l<h;)if(a(s[l],l,s))return!0;return!1}var U1,ID=C(()=>{U1=ai});function RD(s,a){return s.has(a)}var o8,Fx=C(()=>{o8=RD});function DD(s,a,l,h,f,g){var b=l&Bx,_=s.length,E=a.length;if(_!=E&&!(b&&E>_))return!1;var P=g.get(s),I=g.get(a);if(P&&I)return P==a&&I==s;var O=-1,D=!0,A=l&Ux?new s8:void 0;for(g.set(s,a),g.set(a,s);++O<_;){var F=s[O],N=a[O];if(h)var j=b?h(N,F,O,a,s,g):h(F,N,O,s,a,g);if(j!==void 0){if(j)continue;D=!1;break}if(A){if(!U1(a,function($,K){if(!o8(A,K)&&(F===$||f(F,$,l,h,g)))return A.push(K)})){D=!1;break}}else if(!(F===N||f(F,N,l,h,g))){D=!1;break}}return g.delete(s),g.delete(a),D}var Bx,Ux,a8,zx=C(()=>{Nx(),ID(),Fx(),Bx=1,Ux=2,a8=DD});function OD(s){var a=-1,l=Array(s.size);return s.forEach(function(h,f){l[++a]=[f,h]}),l}var z1,LD=C(()=>{z1=OD});function ND(s){var a=-1,l=Array(s.size);return s.forEach(function(h){l[++a]=h}),l}var V9,l8=C(()=>{V9=ND});function FD(s,a,l,h,f,g,b){switch(l){case Qx:if(s.byteLength!=a.byteLength||s.byteOffset!=a.byteOffset)return!1;s=s.buffer,a=a.buffer;case Zx:return!(s.byteLength!=a.byteLength||!g(new i8(s),new i8(a)));case Hx:case u8:case Wx:return wi(+s,+a);case Gx:return s.name==a.name&&s.message==a.message;case Kx:case qx:return s==a+"";case $x:var _=z1;case Xx:var E=h&Vx;if(_||(_=V9),s.size!=a.size&&!E)return!1;var P=b.get(s);if(P)return P==a;h|=jx,b.set(s,a);var I=a8(_(s),_(a),h,f,g,b);return b.delete(s),I;case Yx:if(j9)return j9.call(s)==j9.call(a)}return!1}var Vx,jx,Hx,u8,Gx,$x,Wx,Kx,Xx,qx,Yx,Zx,Qx,c8,j9,Jx,BD=C(()=>{Ze(),PD(),U0(),zx(),LD(),l8(),Vx=1,jx=2,Hx="[object Boolean]",u8="[object Date]",Gx="[object Error]",$x="[object Map]",Wx="[object Number]",Kx="[object RegExp]",Xx="[object Set]",qx="[object String]",Yx="[object Symbol]",Zx="[object ArrayBuffer]",Qx="[object DataView]",c8=de?de.prototype:void 0,j9=c8?c8.valueOf:void 0,Jx=FD});function UD(s,a,l,h,f,g){var b=l&eS,_=B9(s),E=_.length,P=B9(a),I=P.length;if(E!=I&&!b)return!1;for(var O=E;O--;){var D=_[O];if(!(b?D in a:nS.call(a,D)))return!1}var A=g.get(s),F=g.get(a);if(A&&F)return A==a&&F==s;var N=!0;g.set(s,a),g.set(a,s);for(var j=b;++O<E;){D=_[O];var $=s[D],K=a[D];if(h)var Q=b?h(K,$,D,a,s,g):h($,K,D,s,a,g);if(!(Q===void 0?$===K||f($,K,l,h,g):Q)){N=!1;break}j||(j=D=="constructor")}if(N&&!j){var ie=s.constructor,re=a.constructor;ie!=re&&"constructor"in s&&"constructor"in a&&!(typeof ie=="function"&&ie instanceof ie&&typeof re=="function"&&re instanceof re)&&(N=!1)}return g.delete(s),g.delete(a),N}var eS,tS,nS,d8,h8=C(()=>{xD(),eS=1,tS=Object.prototype,nS=tS.hasOwnProperty,d8=UD});function zD(s,a,l,h,f,g){var b=vr(s),_=vr(a),E=b?f8:r8(s),P=_?f8:r8(a);E=E==p8?V1:E,P=P==p8?V1:P;var I=E==V1,O=P==V1,D=E==P;if(D&&S9(s)){if(!S9(a))return!1;b=!0,I=!1}if(D&&!I)return g||(g=new F1),b||gv(s)?a8(s,a,l,h,f,g):Jx(s,a,E,l,h,f,g);if(!(l&rS)){var A=I&&m8.call(s,"__wrapped__"),F=O&&m8.call(a,"__wrapped__");if(A||F){var N=A?s.value():s,j=F?a.value():a;return g||(g=new F1),f(N,j,l,h,g)}}return D?(g||(g=new F1),d8(s,a,l,h,f,g)):!1}var rS,p8,f8,V1,iS,m8,sS,oS=C(()=>{vx(),zx(),BD(),h8(),CD(),Qr(),lv(),pw(),rS=1,p8="[object Arguments]",f8="[object Array]",V1="[object Object]",iS=Object.prototype,m8=iS.hasOwnProperty,sS=zD});function g8(s,a,l,h,f){return s===a?!0:s==null||a==null||!st(s)&&!st(a)?s!==s&&a!==a:sS(s,a,l,h,g8,f)}var Gh,aS=C(()=>{oS(),Mt(),Gh=g8});function lS(s,a,l,h){var f=l.length,g=f,b=!h;if(s==null)return!g;for(s=Object(s);f--;){var _=l[f];if(b&&_[2]?_[1]!==s[_[0]]:!(_[0]in s))return!1}for(;++f<g;){_=l[f];var E=_[0],P=s[E],I=_[1];if(b&&_[2]){if(P===void 0&&!(E in s))return!1}else{var O=new F1;if(h)var D=h(P,I,E,s,a,O);if(!(D===void 0?Gh(I,P,uS|cS,h,O):D))return!1}}return!0}var uS,cS,v8,dS=C(()=>{vx(),aS(),uS=1,cS=2,v8=lS});function VD(s){return s===s&&!ot(s)}var y8,hS=C(()=>{Jt(),y8=VD});function jD(s){for(var a=P9(s),l=a.length;l--;){var h=a[l],f=s[h];a[l]=[h,f,y8(f)]}return a}var pS,fS=C(()=>{hS(),Sv(),pS=jD});function HD(s,a){return function(l){return l==null?!1:l[s]===a&&(a!==void 0||s in Object(l))}}var b8,mS=C(()=>{b8=HD});function gS(s){var a=pS(s);return a.length==1&&a[0][2]?b8(a[0][0],a[0][1]):function(l){return l===s||v8(l,s,a)}}var vS,GD=C(()=>{dS(),fS(),mS(),vS=gS});function $D(s,a){return s!=null&&a in Object(s)}var yS,WD=C(()=>{yS=$D});function KD(s,a,l){a=I1(a,s);for(var h=-1,f=a.length,g=!1;++h<f;){var b=Vh(a[h]);if(!(g=s!=null&&l(s,b)))break;s=s[b]}return g||++h!=f?g:(f=s==null?0:s.length,!!f&&Xc(f)&&ds(b,f)&&(vr(s)||w9(s)))}var bS,XD=C(()=>{Fv(),rv(),Qr(),Ah(),C1(),R1(),bS=KD});function qD(s,a){return s!=null&&bS(s,a,yS)}var _S,YD=C(()=>{WD(),XD(),_S=qD});function ZD(s,a){return M9(s)&&y8(a)?b8(Vh(s),a):function(l){var h=Jc(l,s);return h===void 0&&h===a?_S(l,s):Gh(a,h,wS|_8)}}var wS,_8,xS,QD=C(()=>{aS(),jh(),YD(),qc(),hS(),mS(),R1(),wS=1,_8=2,xS=ZD});function JD(s){return function(a){return a==null?void 0:a[s]}}var SS,eO=C(()=>{SS=JD});function tO(s){return function(a){return D1(a,s)}}var ES,nO=C(()=>{Uv(),ES=tO});function rO(s){return M9(s)?SS(Vh(s)):ES(s)}var CS,iO=C(()=>{eO(),nO(),qc(),R1(),CS=rO});function sO(s){return typeof s=="function"?s:s==null?ra:typeof s=="object"?vr(s)?xS(s[0],s[1]):vS(s):CS(s)}var $h,td=C(()=>{GD(),QD(),_i(),Qr(),iO(),$h=sO});function oO(s,a,l,h){for(var f=-1,g=s==null?0:s.length;++f<g;){var b=s[f];a(h,b,l(b),s)}return h}var PS,aO=C(()=>{PS=oO});function lO(s){return function(a,l,h){for(var f=-1,g=Object(a),b=h(a),_=b.length;_--;){var E=b[s?_:++f];if(l(g[E],E,g)===!1)break}return a}}var MS,uO=C(()=>{MS=lO}),TS,kS,cO=C(()=>{uO(),TS=MS(),kS=TS});function dO(s,a){return s&&kS(s,a,P9)}var w8,AS=C(()=>{cO(),Sv(),w8=dO});function hO(s,a){return function(l,h){if(l==null)return l;if(!te(l))return s(l,h);for(var f=l.length,g=a?f:-1,b=Object(l);(a?g--:++g<f)&&h(b[g],g,b)!==!1;);return l}}var IS,pO=C(()=>{_e(),IS=hO}),RS,x8,DS=C(()=>{AS(),pO(),RS=IS(w8),x8=RS});function OS(s,a,l,h){return x8(s,function(f,g,b){a(h,f,l(f),b)}),h}var LS,fO=C(()=>{DS(),LS=OS});function NS(s,a){return function(l,h){var f=vr(l)?PS:LS,g=a?a():{};return f(l,s,$h(h,2),g)}}var FS,mO=C(()=>{aO(),fO(),td(),Qr(),FS=NS}),BS,H9,gO=C(()=>{dn(),BS=function(){return Ot.Date.now()},H9=BS});function vO(s,a,l){var h,f,g,b,_,E,P=0,I=!1,O=!1,D=!0;if(typeof s!="function")throw new TypeError(G9);a=Cr(a)||0,ot(l)&&(I=!!l.leading,O="maxWait"in l,g=O?$9(Cr(l.maxWait)||0,a):g,D="trailing"in l?!!l.trailing:D);function A(ce){var Ce=h,ye=f;return h=f=void 0,P=ce,b=s.apply(ye,Ce),b}function F(ce){return P=ce,_=setTimeout($,a),I?A(ce):b}function N(ce){var Ce=ce-E,ye=ce-P,we=a-Ce;return O?US(we,g-ye):we}function j(ce){var Ce=ce-E,ye=ce-P;return E===void 0||Ce>=a||Ce<0||O&&ye>=g}function $(){var ce=H9();if(j(ce))return K(ce);_=setTimeout($,N(ce))}function K(ce){return _=void 0,D&&h?A(ce):(h=f=void 0,b)}function Q(){_!==void 0&&clearTimeout(_),P=0,h=E=f=_=void 0}function ie(){return _===void 0?b:K(H9())}function re(){var ce=H9(),Ce=j(ce);if(h=arguments,f=this,E=ce,Ce){if(_===void 0)return F(E);if(O)return clearTimeout(_),_=setTimeout($,a),A(E)}return _===void 0&&(_=setTimeout($,a)),b}return re.cancel=Q,re.flush=ie,re}var G9,$9,US,W9,S8=C(()=>{Jt(),gO(),si(),G9="Expected a function",$9=Math.max,US=Math.min,W9=vO});function zS(s,a,l){for(var h=-1,f=s==null?0:s.length;++h<f;)if(l(a,s[h]))return!0;return!1}var VS,jS=C(()=>{VS=zS});function HS(s){var a=s==null?0:s.length;return a?s[a-1]:void 0}var nd,K9=C(()=>{nd=HS});function yO(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var f=l==null?0:uo(l);return f<0&&(f=E8(h+f,0)),B0(s,$h(a,3),f)}var E8,C8,bO=C(()=>{g1(),td(),El(),E8=Math.max,C8=yO});function _O(s,a,l){var h=s==null?0:s.length;if(!h)return-1;var f=h-1;return l!==void 0&&(f=uo(l),f=l<0?P8(h+f,0):GS(f,h-1)),B0(s,$h(a,3),f,!0)}var P8,GS,$S,wO=C(()=>{g1(),td(),El(),P8=Math.max,GS=Math.min,$S=_O});function xO(s,a){var l=-1,h=te(s)?Array(s.length):[];return x8(s,function(f,g,b){h[++l]=a(f,g,b)}),h}var Wh,SO=C(()=>{DS(),_e(),Wh=xO});function WS(s,a,l){return s>=XS(a,l)&&s<KS(a,l)}var KS,XS,qS,X9=C(()=>{KS=Math.max,XS=Math.min,qS=WS});function M8(s,a,l){return a=Gn(a),l===void 0?(l=a,a=0):l=Gn(l),s=Cr(s),qS(s,a,l)}var T8,EO=C(()=>{X9(),na(),si(),T8=M8});function li(s){return typeof s=="number"&&s==uo(s)}var Do,sa=C(()=>{El(),Do=li}),Hu,Vr,Al=C(()=>{Rh(),mO(),Hu=FS(function(s,a,l){Ih(s,l,a)}),Vr=Hu});function YS(s,a){var l={};return a=$h(a,3),w8(s,function(h,f,g){Ih(l,f,a(h,f,g))}),l}var rd,ZS=C(()=>{Rh(),AS(),td(),rd=YS});function CO(s,a,l,h){if(!ot(s))return s;a=I1(a,s);for(var f=-1,g=a.length,b=g-1,_=s;_!=null&&++f<g;){var E=Vh(a[f]),P=l;if(E==="__proto__"||E==="constructor"||E==="prototype")return s;if(f!=b){var I=_[E];P=h?h(I,E,_):void 0,P===void 0&&(P=ot(I)?I:ds(a[f+1])?[]:{})}zr(_,E,P),_=_[E]}return s}var QS,PO=C(()=>{S1(),Fv(),Ah(),Jt(),R1(),QS=CO});function JS(s,a){var l=s.length;for(s.sort(a);l--;)s[l]=s[l].value;return s}var k8,q9=C(()=>{k8=JS});function eE(s,a){if(s!==a){var l=s!==void 0,h=s===null,f=s===s,g=Yn(s),b=a!==void 0,_=a===null,E=a===a,P=Yn(a);if(!_&&!P&&!g&&s>a||g&&b&&E&&!_&&!P||h&&b&&E||!l&&E||!f)return 1;if(!h&&!g&&!P&&s<a||P&&l&&f&&!h&&!g||_&&l&&f||!b&&f||!E)return-1}return 0}var tE,nE=C(()=>{Zn(),tE=eE});function rE(s,a,l){for(var h=-1,f=s.criteria,g=a.criteria,b=f.length,_=l.length;++h<b;){var E=tE(f[h],g[h]);if(E){if(h>=_)return E;var P=l[h];return E*(P=="desc"?-1:1)}}return s.index-a.index}var A8,MO=C(()=>{nE(),A8=rE});function TO(s,a,l){a.length?a=Zr(a,function(g){return vr(g)?function(b){return D1(b,g.length===1?g[0]:g)}:g}):a=[ra];var h=-1;a=Zr(a,E9($h));var f=Wh(s,function(g,b,_){var E=Zr(a,function(P){return P(g)});return{criteria:E,index:++h,value:g}});return k8(f,function(g,b){return A8(g,b,l)})}var I8,kO=C(()=>{wr(),Uv(),td(),SO(),q9(),pv(),MO(),_i(),Qr(),I8=TO});function AO(s,a,l,h){for(var f=l-1,g=s.length;++f<g;)if(h(s[f],a))return f;return-1}var Kh,iE=C(()=>{Kh=AO});function IO(s,a,l,h){var f=h?Kh:Th,g=-1,b=a.length,_=s;for(s===a&&(a=p1(a)),l&&(_=Zr(s,E9(l)));++g<b;)for(var E=0,P=a[g],I=l?l(P):P;(E=f(_,I,E,h))>-1;)_!==s&&hs.call(_,E,1),hs.call(s,E,1);return s}var sE,hs,Il,RO=C(()=>{wr(),y1(),iE(),pv(),h9(),sE=Array.prototype,hs=sE.splice,Il=IO});function Y9(s,a){return s&&s.length&&a&&a.length?Il(s,a):s}var oE,DO=C(()=>{RO(),oE=Y9}),aE,lE,R8=C(()=>{Oh(),DO(),aE=Fu(oE),lE=aE}),uE,j1,Xh=C(()=>{nD(),uE=cx("round"),j1=uE});function OO(s,a,l){return s==null?s:QS(s,a,l)}var qh,Z9=C(()=>{PO(),qh=OO}),Q9,cE,J9=C(()=>{Vv(),kO(),Oh(),zn(),Q9=Fu(function(s,a){if(s==null)return[];var l=a.length;return l>1&&wt(s,a[0],a[1])?a=[]:l>2&&wt(a[0],a[1],a[2])&&(a=[a[0]]),I8(s,tx(a,1),[])}),cE=Q9}),D8,O8,dE,LO=C(()=>{Tx(),c9(),l8(),D8=1/0,O8=ed&&1/V9(new ed([,-0]))[1]==D8?function(s){return new ed(s)}:u9,dE=O8});function NO(s,a,l){var h=-1,f=cs,g=s.length,b=!0,_=[],E=_;if(l)b=!1,f=VS;else if(g>=hE){var P=a?null:dE(s);if(P)return V9(P);b=!1,f=o8,E=new s8}else E=a?[]:_;e:for(;++h<g;){var I=s[h],O=a?a(I):I;if(I=l||I!==0?I:0,b&&O===O){for(var D=E.length;D--;)if(E[D]===O)continue e;a&&E.push(O),_.push(I)}else f(E,O,l)||(E!==_&&E.push(O),_.push(I))}return _}var hE,pE,FO=C(()=>{Nx(),Xg(),jS(),Fx(),LO(),l8(),hE=200,pE=NO});function BO(s){return s&&s.length?pE(s):[]}var Oo,id=C(()=>{FO(),Oo=BO}),pi=C(()=>{F9(),S8(),bO(),EO(),sa(),Vu(),K9(),ZS(),$w(),Xh(),id()}),L8=V((s,a)=>{var l;a.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ki):h=>(l||(l=Promise.resolve())).then(h).catch(f=>setTimeout(()=>{throw f},0))}),fE=V(s=>{var a=Symbol.for("react.element"),l=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),_=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),I=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),D=Symbol.iterator;function A(pe){return pe===null||typeof pe!="object"?null:(pe=D&&pe[D]||pe["@@iterator"],typeof pe=="function"?pe:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function $(pe,ge,Je){this.props=pe,this.context=ge,this.refs=j,this.updater=Je||F}$.prototype.isReactComponent={},$.prototype.setState=function(pe,ge){if(typeof pe!="object"&&typeof pe!="function"&&pe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,pe,ge,"setState")},$.prototype.forceUpdate=function(pe){this.updater.enqueueForceUpdate(this,pe,"forceUpdate")};function K(){}K.prototype=$.prototype;function Q(pe,ge,Je){this.props=pe,this.context=ge,this.refs=j,this.updater=Je||F}var ie=Q.prototype=new K;ie.constructor=Q,N(ie,$.prototype),ie.isPureReactComponent=!0;var re=Array.isArray,ce=Object.prototype.hasOwnProperty,Ce={current:null},ye={key:!0,ref:!0,__self:!0,__source:!0};function we(pe,ge,Je){var nt,lt={},Ke=null,sn=null;if(ge!=null)for(nt in ge.ref!==void 0&&(sn=ge.ref),ge.key!==void 0&&(Ke=""+ge.key),ge)ce.call(ge,nt)&&!ye.hasOwnProperty(nt)&&(lt[nt]=ge[nt]);var St=arguments.length-2;if(St===1)lt.children=Je;else if(1<St){for(var Qt=Array(St),wn=0;wn<St;wn++)Qt[wn]=arguments[wn+2];lt.children=Qt}if(pe&&pe.defaultProps)for(nt in St=pe.defaultProps,St)lt[nt]===void 0&&(lt[nt]=St[nt]);return{$$typeof:a,type:pe,key:Ke,ref:sn,props:lt,_owner:Ce.current}}function Oe(pe,ge){return{$$typeof:a,type:pe.type,key:ge,ref:pe.ref,props:pe.props,_owner:pe._owner}}function rt(pe){return typeof pe=="object"&&pe!==null&&pe.$$typeof===a}function he(pe){var ge={"=":"=0",":":"=2"};return"$"+pe.replace(/[=:]/g,function(Je){return ge[Je]})}var De=/\/+/g;function J(pe,ge){return typeof pe=="object"&&pe!==null&&pe.key!=null?he(""+pe.key):ge.toString(36)}function Ge(pe,ge,Je,nt,lt){var Ke=typeof pe;(Ke==="undefined"||Ke==="boolean")&&(pe=null);var sn=!1;if(pe===null)sn=!0;else switch(Ke){case"string":case"number":sn=!0;break;case"object":switch(pe.$$typeof){case a:case l:sn=!0}}if(sn)return sn=pe,lt=lt(sn),pe=nt===""?"."+J(sn,0):nt,re(lt)?(Je="",pe!=null&&(Je=pe.replace(De,"$&/")+"/"),Ge(lt,ge,Je,"",function(wn){return wn})):lt!=null&&(rt(lt)&&(lt=Oe(lt,Je+(!lt.key||sn&&sn.key===lt.key?"":(""+lt.key).replace(De,"$&/")+"/")+pe)),ge.push(lt)),1;if(sn=0,nt=nt===""?".":nt+":",re(pe))for(var St=0;St<pe.length;St++){Ke=pe[St];var Qt=nt+J(Ke,St);sn+=Ge(Ke,ge,Je,Qt,lt)}else if(Qt=A(pe),typeof Qt=="function")for(pe=Qt.call(pe),St=0;!(Ke=pe.next()).done;)Ke=Ke.value,Qt=nt+J(Ke,St++),sn+=Ge(Ke,ge,Je,Qt,lt);else if(Ke==="object")throw ge=String(pe),Error("Objects are not valid as a React child (found: "+(ge==="[object Object]"?"object with keys {"+Object.keys(pe).join(", ")+"}":ge)+"). If you meant to render a collection of children, use an array instead.");return sn}function zt(pe,ge,Je){if(pe==null)return pe;var nt=[],lt=0;return Ge(pe,nt,"","",function(Ke){return ge.call(Je,Ke,lt++)}),nt}function ke(pe){if(pe._status===-1){var ge=pe._result;ge=ge(),ge.then(function(Je){(pe._status===0||pe._status===-1)&&(pe._status=1,pe._result=Je)},function(Je){(pe._status===0||pe._status===-1)&&(pe._status=2,pe._result=Je)}),pe._status===-1&&(pe._status=0,pe._result=ge)}if(pe._status===1)return pe._result.default;throw pe._result}var Ae={current:null},We={transition:null},Pt={ReactCurrentDispatcher:Ae,ReactCurrentBatchConfig:We,ReactCurrentOwner:Ce};s.Children={map:zt,forEach:function(pe,ge,Je){zt(pe,function(){ge.apply(this,arguments)},Je)},count:function(pe){var ge=0;return zt(pe,function(){ge++}),ge},toArray:function(pe){return zt(pe,function(ge){return ge})||[]},only:function(pe){if(!rt(pe))throw Error("React.Children.only expected to receive a single React element child.");return pe}},s.Component=$,s.Fragment=h,s.Profiler=g,s.PureComponent=Q,s.StrictMode=f,s.Suspense=P,s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pt,s.cloneElement=function(pe,ge,Je){if(pe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+pe+".");var nt=N({},pe.props),lt=pe.key,Ke=pe.ref,sn=pe._owner;if(ge!=null){if(ge.ref!==void 0&&(Ke=ge.ref,sn=Ce.current),ge.key!==void 0&&(lt=""+ge.key),pe.type&&pe.type.defaultProps)var St=pe.type.defaultProps;for(Qt in ge)ce.call(ge,Qt)&&!ye.hasOwnProperty(Qt)&&(nt[Qt]=ge[Qt]===void 0&&St!==void 0?St[Qt]:ge[Qt])}var Qt=arguments.length-2;if(Qt===1)nt.children=Je;else if(1<Qt){St=Array(Qt);for(var wn=0;wn<Qt;wn++)St[wn]=arguments[wn+2];nt.children=St}return{$$typeof:a,type:pe.type,key:lt,ref:Ke,props:nt,_owner:sn}},s.createContext=function(pe){return pe={$$typeof:_,_currentValue:pe,_currentValue2:pe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},pe.Provider={$$typeof:b,_context:pe},pe.Consumer=pe},s.createElement=we,s.createFactory=function(pe){var ge=we.bind(null,pe);return ge.type=pe,ge},s.createRef=function(){return{current:null}},s.forwardRef=function(pe){return{$$typeof:E,render:pe}},s.isValidElement=rt,s.lazy=function(pe){return{$$typeof:O,_payload:{_status:-1,_result:pe},_init:ke}},s.memo=function(pe,ge){return{$$typeof:I,type:pe,compare:ge===void 0?null:ge}},s.startTransition=function(pe){var ge=We.transition;We.transition={};try{pe()}finally{We.transition=ge}},s.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},s.useCallback=function(pe,ge){return Ae.current.useCallback(pe,ge)},s.useContext=function(pe){return Ae.current.useContext(pe)},s.useDebugValue=function(){},s.useDeferredValue=function(pe){return Ae.current.useDeferredValue(pe)},s.useEffect=function(pe,ge){return Ae.current.useEffect(pe,ge)},s.useId=function(){return Ae.current.useId()},s.useImperativeHandle=function(pe,ge,Je){return Ae.current.useImperativeHandle(pe,ge,Je)},s.useInsertionEffect=function(pe,ge){return Ae.current.useInsertionEffect(pe,ge)},s.useLayoutEffect=function(pe,ge){return Ae.current.useLayoutEffect(pe,ge)},s.useMemo=function(pe,ge){return Ae.current.useMemo(pe,ge)},s.useReducer=function(pe,ge,Je){return Ae.current.useReducer(pe,ge,Je)},s.useRef=function(pe){return Ae.current.useRef(pe)},s.useState=function(pe){return Ae.current.useState(pe)},s.useSyncExternalStore=function(pe,ge,Je){return Ae.current.useSyncExternalStore(pe,ge,Je)},s.useTransition=function(){return Ae.current.useTransition()},s.version="18.2.0"}),Le=V((s,a)=>{a.exports=fE()}),mE=V(s=>{function a(Ae,We){var Pt=Ae.length;Ae.push(We);e:for(;0<Pt;){var pe=Pt-1>>>1,ge=Ae[pe];if(0<f(ge,We))Ae[pe]=We,Ae[Pt]=ge,Pt=pe;else break e}}function l(Ae){return Ae.length===0?null:Ae[0]}function h(Ae){if(Ae.length===0)return null;var We=Ae[0],Pt=Ae.pop();if(Pt!==We){Ae[0]=Pt;e:for(var pe=0,ge=Ae.length,Je=ge>>>1;pe<Je;){var nt=2*(pe+1)-1,lt=Ae[nt],Ke=nt+1,sn=Ae[Ke];if(0>f(lt,Pt))Ke<ge&&0>f(sn,lt)?(Ae[pe]=sn,Ae[Ke]=Pt,pe=Ke):(Ae[pe]=lt,Ae[nt]=Pt,pe=nt);else if(Ke<ge&&0>f(sn,Pt))Ae[pe]=sn,Ae[Ke]=Pt,pe=Ke;else break e}}return We}function f(Ae,We){var Pt=Ae.sortIndex-We.sortIndex;return Pt!==0?Pt:Ae.id-We.id}typeof performance=="object"&&typeof performance.now=="function"?(g=performance,s.unstable_now=function(){return g.now()}):(b=Date,_=b.now(),s.unstable_now=function(){return b.now()-_});var g,b,_,E=[],P=[],I=1,O=null,D=3,A=!1,F=!1,N=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(Ae){for(var We=l(P);We!==null;){if(We.callback===null)h(P);else if(We.startTime<=Ae)h(P),We.sortIndex=We.expirationTime,a(E,We);else break;We=l(P)}}function ie(Ae){if(N=!1,Q(Ae),!F)if(l(E)!==null)F=!0,zt(re);else{var We=l(P);We!==null&&ke(ie,We.startTime-Ae)}}function re(Ae,We){F=!1,N&&(N=!1,$(ye),ye=-1),A=!0;var Pt=D;try{for(Q(We),O=l(E);O!==null&&(!(O.expirationTime>We)||Ae&&!rt());){var pe=O.callback;if(typeof pe=="function"){O.callback=null,D=O.priorityLevel;var ge=pe(O.expirationTime<=We);We=s.unstable_now(),typeof ge=="function"?O.callback=ge:O===l(E)&&h(E),Q(We)}else h(E);O=l(E)}if(O!==null)var Je=!0;else{var nt=l(P);nt!==null&&ke(ie,nt.startTime-We),Je=!1}return Je}finally{O=null,D=Pt,A=!1}}var ce=!1,Ce=null,ye=-1,we=5,Oe=-1;function rt(){return!(s.unstable_now()-Oe<we)}function he(){if(Ce!==null){var Ae=s.unstable_now();Oe=Ae;var We=!0;try{We=Ce(!0,Ae)}finally{We?De():(ce=!1,Ce=null)}}else ce=!1}var De;typeof K=="function"?De=function(){K(he)}:typeof MessageChannel<"u"?(J=new MessageChannel,Ge=J.port2,J.port1.onmessage=he,De=function(){Ge.postMessage(null)}):De=function(){j(he,0)};var J,Ge;function zt(Ae){Ce=Ae,ce||(ce=!0,De())}function ke(Ae,We){ye=j(function(){Ae(s.unstable_now())},We)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Ae){Ae.callback=null},s.unstable_continueExecution=function(){F||A||(F=!0,zt(re))},s.unstable_forceFrameRate=function(Ae){0>Ae||125<Ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<Ae?Math.floor(1e3/Ae):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_getFirstCallbackNode=function(){return l(E)},s.unstable_next=function(Ae){switch(D){case 1:case 2:case 3:var We=3;break;default:We=D}var Pt=D;D=We;try{return Ae()}finally{D=Pt}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Ae,We){switch(Ae){case 1:case 2:case 3:case 4:case 5:break;default:Ae=3}var Pt=D;D=Ae;try{return We()}finally{D=Pt}},s.unstable_scheduleCallback=function(Ae,We,Pt){var pe=s.unstable_now();switch(typeof Pt=="object"&&Pt!==null?(Pt=Pt.delay,Pt=typeof Pt=="number"&&0<Pt?pe+Pt:pe):Pt=pe,Ae){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Pt+ge,Ae={id:I++,callback:We,priorityLevel:Ae,startTime:Pt,expirationTime:ge,sortIndex:-1},Pt>pe?(Ae.sortIndex=Pt,a(P,Ae),l(E)===null&&Ae===l(P)&&(N?($(ye),ye=-1):N=!0,ke(ie,Pt-pe))):(Ae.sortIndex=ge,a(E,Ae),F||A||(F=!0,zt(re))),Ae},s.unstable_shouldYield=rt,s.unstable_wrapCallback=function(Ae){var We=D;return function(){var Pt=D;D=We;try{return Ae.apply(this,arguments)}finally{D=Pt}}}}),UO=V((s,a)=>{a.exports=mE()}),N8=V(s=>{var a=Le(),l=UO();function h(c){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+c,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+c+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f=new Set,g={};function b(c,p){_(c,p),_(c+"Capture",p)}function _(c,p){for(g[c]=p,c=0;c<p.length;c++)f.add(p[c])}var E=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),P=Object.prototype.hasOwnProperty,I=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O={},D={};function A(c){return P.call(D,c)?!0:P.call(O,c)?!1:I.test(c)?D[c]=!0:(O[c]=!0,!1)}function F(c,p,w,k){if(w!==null&&w.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return k?!1:w!==null?!w.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function N(c,p,w,k){if(p===null||typeof p>"u"||F(c,p,w,k))return!0;if(k)return!1;if(w!==null)switch(w.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function j(c,p,w,k,H,X,le){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=k,this.attributeNamespace=H,this.mustUseProperty=w,this.propertyName=c,this.type=p,this.sanitizeURL=X,this.removeEmptyString=le}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){$[c]=new j(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var p=c[0];$[p]=new j(p,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){$[c]=new j(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){$[c]=new j(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){$[c]=new j(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){$[c]=new j(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){$[c]=new j(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){$[c]=new j(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){$[c]=new j(c,5,!1,c.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function Q(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var p=c.replace(K,Q);$[p]=new j(p,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var p=c.replace(K,Q);$[p]=new j(p,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var p=c.replace(K,Q);$[p]=new j(p,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){$[c]=new j(c,1,!1,c.toLowerCase(),null,!1,!1)}),$.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){$[c]=new j(c,1,!1,c.toLowerCase(),null,!0,!0)});function ie(c,p,w,k){var H=$.hasOwnProperty(p)?$[p]:null;(H!==null?H.type!==0:k||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(N(p,w,H,k)&&(w=null),k||H===null?A(p)&&(w===null?c.removeAttribute(p):c.setAttribute(p,""+w)):H.mustUseProperty?c[H.propertyName]=w===null?H.type===3?!1:"":w:(p=H.attributeName,k=H.attributeNamespace,w===null?c.removeAttribute(p):(H=H.type,w=H===3||H===4&&w===!0?"":""+w,k?c.setAttributeNS(k,p,w):c.setAttribute(p,w))))}var re=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),Ce=Symbol.for("react.portal"),ye=Symbol.for("react.fragment"),we=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),he=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),Ge=Symbol.for("react.suspense_list"),zt=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Ae=Symbol.for("react.offscreen"),We=Symbol.iterator;function Pt(c){return c===null||typeof c!="object"?null:(c=We&&c[We]||c["@@iterator"],typeof c=="function"?c:null)}var pe=Object.assign,ge;function Je(c){if(ge===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);ge=p&&p[1]||""}return`
`+ge+c}var nt=!1;function lt(c,p){if(!c||nt)return"";nt=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(yt){var k=yt}Reflect.construct(c,[],p)}else{try{p.call()}catch(yt){k=yt}c.call(p.prototype)}else{try{throw Error()}catch(yt){k=yt}c()}}catch(yt){if(yt&&k&&typeof yt.stack=="string"){for(var H=yt.stack.split(`
`),X=k.stack.split(`
`),le=H.length-1,Me=X.length-1;1<=le&&0<=Me&&H[le]!==X[Me];)Me--;for(;1<=le&&0<=Me;le--,Me--)if(H[le]!==X[Me]){if(le!==1||Me!==1)do if(le--,Me--,0>Me||H[le]!==X[Me]){var Fe=`
`+H[le].replace(" at new "," at ");return c.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",c.displayName)),Fe}while(1<=le&&0<=Me);break}}}finally{nt=!1,Error.prepareStackTrace=w}return(c=c?c.displayName||c.name:"")?Je(c):""}function Ke(c){switch(c.tag){case 5:return Je(c.type);case 16:return Je("Lazy");case 13:return Je("Suspense");case 19:return Je("SuspenseList");case 0:case 2:case 15:return c=lt(c.type,!1),c;case 11:return c=lt(c.type.render,!1),c;case 1:return c=lt(c.type,!0),c;default:return""}}function sn(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case ye:return"Fragment";case Ce:return"Portal";case Oe:return"Profiler";case we:return"StrictMode";case J:return"Suspense";case Ge:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case he:return(c.displayName||"Context")+".Consumer";case rt:return(c._context.displayName||"Context")+".Provider";case De:var p=c.render;return c=c.displayName,c||(c=p.displayName||p.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case zt:return p=c.displayName||null,p!==null?p:sn(c.type)||"Memo";case ke:p=c._payload,c=c._init;try{return sn(c(p))}catch{}}return null}function St(c){var p=c.type;switch(c.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=p.render,c=c.displayName||c.name||"",p.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sn(p);case 8:return p===we?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function Qt(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function wn(c){var p=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Nn(c){var p=wn(c)?"checked":"value",w=Object.getOwnPropertyDescriptor(c.constructor.prototype,p),k=""+c[p];if(!c.hasOwnProperty(p)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var H=w.get,X=w.set;return Object.defineProperty(c,p,{configurable:!0,get:function(){return H.call(this)},set:function(le){k=""+le,X.call(this,le)}}),Object.defineProperty(c,p,{enumerable:w.enumerable}),{getValue:function(){return k},setValue:function(le){k=""+le},stopTracking:function(){c._valueTracker=null,delete c[p]}}}}function Rn(c){c._valueTracker||(c._valueTracker=Nn(c))}function jr(c){if(!c)return!1;var p=c._valueTracker;if(!p)return!0;var w=p.getValue(),k="";return c&&(k=wn(c)?c.checked?"true":"false":c.value),c=k,c!==w?(p.setValue(c),!0):!1}function ee(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function mt(c,p){var w=p.checked;return pe({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:w??c._wrapperState.initialChecked})}function ct(c,p){var w=p.defaultValue==null?"":p.defaultValue,k=p.checked!=null?p.checked:p.defaultChecked;w=Qt(p.value!=null?p.value:w),c._wrapperState={initialChecked:k,initialValue:w,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Ee(c,p){p=p.checked,p!=null&&ie(c,"checked",p,!1)}function Se(c,p){Ee(c,p);var w=Qt(p.value),k=p.type;if(w!=null)k==="number"?(w===0&&c.value===""||c.value!=w)&&(c.value=""+w):c.value!==""+w&&(c.value=""+w);else if(k==="submit"||k==="reset"){c.removeAttribute("value");return}p.hasOwnProperty("value")?Tt(c,p.type,w):p.hasOwnProperty("defaultValue")&&Tt(c,p.type,Qt(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(c.defaultChecked=!!p.defaultChecked)}function Xe(c,p,w){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var k=p.type;if(!(k!=="submit"&&k!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+c._wrapperState.initialValue,w||p===c.value||(c.value=p),c.defaultValue=p}w=c.name,w!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,w!==""&&(c.name=w)}function Tt(c,p,w){(p!=="number"||ee(c.ownerDocument)!==c)&&(w==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+w&&(c.defaultValue=""+w))}var Ft=Array.isArray;function et(c,p,w,k){if(c=c.options,p){p={};for(var H=0;H<w.length;H++)p["$"+w[H]]=!0;for(w=0;w<c.length;w++)H=p.hasOwnProperty("$"+c[w].value),c[w].selected!==H&&(c[w].selected=H),H&&k&&(c[w].defaultSelected=!0)}else{for(w=""+Qt(w),p=null,H=0;H<c.length;H++){if(c[H].value===w){c[H].selected=!0,k&&(c[H].defaultSelected=!0);return}p!==null||c[H].disabled||(p=c[H])}p!==null&&(p.selected=!0)}}function jt(c,p){if(p.dangerouslySetInnerHTML!=null)throw Error(h(91));return pe({},p,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Lt(c,p){var w=p.value;if(w==null){if(w=p.children,p=p.defaultValue,w!=null){if(p!=null)throw Error(h(92));if(Ft(w)){if(1<w.length)throw Error(h(93));w=w[0]}p=w}p==null&&(p=""),w=p}c._wrapperState={initialValue:Qt(w)}}function Bt(c,p){var w=Qt(p.value),k=Qt(p.defaultValue);w!=null&&(w=""+w,w!==c.value&&(c.value=w),p.defaultValue==null&&c.defaultValue!==w&&(c.defaultValue=w)),k!=null&&(c.defaultValue=""+k)}function An(c){var p=c.textContent;p===c._wrapperState.initialValue&&p!==""&&p!==null&&(c.value=p)}function Lr(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Jn(c,p){return c==null||c==="http://www.w3.org/1999/xhtml"?Lr(p):c==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var Eo,Rp=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,w,k,H){MSApp.execUnsafeLocalFunction(function(){return c(p,w,k,H)})}:c}(function(c,p){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=p;else{for(Eo=Eo||document.createElement("div"),Eo.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=Eo.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;p.firstChild;)c.appendChild(p.firstChild)}});function Uo(c,p){if(p){var w=c.firstChild;if(w&&w===c.lastChild&&w.nodeType===3){w.nodeValue=p;return}}c.textContent=p}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gi=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(c){Gi.forEach(function(p){p=p+c.charAt(0).toUpperCase()+c.substring(1),eu[p]=eu[c]})});function Lm(c,p,w){return p==null||typeof p=="boolean"||p===""?"":w||typeof p!="number"||p===0||eu.hasOwnProperty(c)&&eu[c]?(""+p).trim():p+"px"}function d5(c,p){c=c.style;for(var w in p)if(p.hasOwnProperty(w)){var k=w.indexOf("--")===0,H=Lm(w,p[w],k);w==="float"&&(w="cssFloat"),k?c.setProperty(w,H):c[w]=H}}var tu=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function h5(c,p){if(p){if(tu[c]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(h(137,c));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(h(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(h(61))}if(p.style!=null&&typeof p.style!="object")throw Error(h(62))}}function R7(c,p){if(c.indexOf("-")===-1)return typeof p.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D7=null;function O7(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var p5=null,el=null,nu=null;function Jpe(c){if(c=ty(c)){if(typeof p5!="function")throw Error(h(280));var p=c.stateNode;p&&(p=YM(p),p5(c.stateNode,c.type,p))}}function efe(c){el?nu?nu.push(c):nu=[c]:el=c}function tfe(){if(el){var c=el,p=nu;if(nu=el=null,Jpe(c),p)for(c=0;c<p.length;c++)Jpe(p[c])}}function nfe(c,p){return c(p)}function rfe(){}var JU=!1;function ife(c,p,w){if(JU)return c(p,w);JU=!0;try{return nfe(c,p,w)}finally{JU=!1,(el!==null||nu!==null)&&(rfe(),tfe())}}function L7(c,p){var w=c.stateNode;if(w===null)return null;var k=YM(w);if(k===null)return null;w=k[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(k=!k.disabled)||(c=c.type,k=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!k;break e;default:c=!1}if(c)return null;if(w&&typeof w!="function")throw Error(h(231,p,typeof w));return w}var ez=!1;if(E)try{f5={},Object.defineProperty(f5,"passive",{get:function(){ez=!0}}),window.addEventListener("test",f5,f5),window.removeEventListener("test",f5,f5)}catch{ez=!1}var f5;function Eke(c,p,w,k,H,X,le,Me,Fe){var yt=Array.prototype.slice.call(arguments,3);try{p.apply(w,yt)}catch(Gt){this.onError(Gt)}}var N7=!1,CM=null,PM=!1,tz=null,Cke={onError:function(c){N7=!0,CM=c}};function Pke(c,p,w,k,H,X,le,Me,Fe){N7=!1,CM=null,Eke.apply(Cke,arguments)}function Mke(c,p,w,k,H,X,le,Me,Fe){if(Pke.apply(this,arguments),N7){if(N7){var yt=CM;N7=!1,CM=null}else throw Error(h(198));PM||(PM=!0,tz=yt)}}function Nm(c){var p=c,w=c;if(c.alternate)for(;p.return;)p=p.return;else{c=p;do p=c,p.flags&4098&&(w=p.return),c=p.return;while(c)}return p.tag===3?w:null}function sfe(c){if(c.tag===13){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function ofe(c){if(Nm(c)!==c)throw Error(h(188))}function Tke(c){var p=c.alternate;if(!p){if(p=Nm(c),p===null)throw Error(h(188));return p!==c?null:c}for(var w=c,k=p;;){var H=w.return;if(H===null)break;var X=H.alternate;if(X===null){if(k=H.return,k!==null){w=k;continue}break}if(H.child===X.child){for(X=H.child;X;){if(X===w)return ofe(H),c;if(X===k)return ofe(H),p;X=X.sibling}throw Error(h(188))}if(w.return!==k.return)w=H,k=X;else{for(var le=!1,Me=H.child;Me;){if(Me===w){le=!0,w=H,k=X;break}if(Me===k){le=!0,k=H,w=X;break}Me=Me.sibling}if(!le){for(Me=X.child;Me;){if(Me===w){le=!0,w=X,k=H;break}if(Me===k){le=!0,k=X,w=H;break}Me=Me.sibling}if(!le)throw Error(h(189))}}if(w.alternate!==k)throw Error(h(190))}if(w.tag!==3)throw Error(h(188));return w.stateNode.current===w?c:p}function afe(c){return c=Tke(c),c!==null?lfe(c):null}function lfe(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var p=lfe(c);if(p!==null)return p;c=c.sibling}return null}var ufe=l.unstable_scheduleCallback,cfe=l.unstable_cancelCallback,kke=l.unstable_shouldYield,Ake=l.unstable_requestPaint,gs=l.unstable_now,Ike=l.unstable_getCurrentPriorityLevel,nz=l.unstable_ImmediatePriority,dfe=l.unstable_UserBlockingPriority,MM=l.unstable_NormalPriority,Rke=l.unstable_LowPriority,hfe=l.unstable_IdlePriority,TM=null,gc=null;function Dke(c){if(gc&&typeof gc.onCommitFiberRoot=="function")try{gc.onCommitFiberRoot(TM,c,void 0,(c.current.flags&128)===128)}catch{}}var ru=Math.clz32?Math.clz32:Nke,Oke=Math.log,Lke=Math.LN2;function Nke(c){return c>>>=0,c===0?32:31-(Oke(c)/Lke|0)|0}var kM=64,AM=4194304;function F7(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function IM(c,p){var w=c.pendingLanes;if(w===0)return 0;var k=0,H=c.suspendedLanes,X=c.pingedLanes,le=w&268435455;if(le!==0){var Me=le&~H;Me!==0?k=F7(Me):(X&=le,X!==0&&(k=F7(X)))}else le=w&~H,le!==0?k=F7(le):X!==0&&(k=F7(X));if(k===0)return 0;if(p!==0&&p!==k&&!(p&H)&&(H=k&-k,X=p&-p,H>=X||H===16&&(X&4194240)!==0))return p;if(k&4&&(k|=w&16),p=c.entangledLanes,p!==0)for(c=c.entanglements,p&=k;0<p;)w=31-ru(p),H=1<<w,k|=c[w],p&=~H;return k}function Fke(c,p){switch(c){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bke(c,p){for(var w=c.suspendedLanes,k=c.pingedLanes,H=c.expirationTimes,X=c.pendingLanes;0<X;){var le=31-ru(X),Me=1<<le,Fe=H[le];Fe===-1?(!(Me&w)||Me&k)&&(H[le]=Fke(Me,p)):Fe<=p&&(c.expiredLanes|=Me),X&=~Me}}function rz(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function pfe(){var c=kM;return kM<<=1,!(kM&4194240)&&(kM=64),c}function iz(c){for(var p=[],w=0;31>w;w++)p.push(c);return p}function B7(c,p,w){c.pendingLanes|=p,p!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,p=31-ru(p),c[p]=w}function Uke(c,p){var w=c.pendingLanes&~p;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=p,c.mutableReadLanes&=p,c.entangledLanes&=p,p=c.entanglements;var k=c.eventTimes;for(c=c.expirationTimes;0<w;){var H=31-ru(w),X=1<<H;p[H]=0,k[H]=-1,c[H]=-1,w&=~X}}function sz(c,p){var w=c.entangledLanes|=p;for(c=c.entanglements;w;){var k=31-ru(w),H=1<<k;H&p|c[k]&p&&(c[k]|=p),w&=~H}}var ni=0;function ffe(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var mfe,oz,gfe,vfe,yfe,az=!1,RM=[],Dp=null,Op=null,Lp=null,U7=new Map,z7=new Map,Np=[],zke="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bfe(c,p){switch(c){case"focusin":case"focusout":Dp=null;break;case"dragenter":case"dragleave":Op=null;break;case"mouseover":case"mouseout":Lp=null;break;case"pointerover":case"pointerout":U7.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":z7.delete(p.pointerId)}}function V7(c,p,w,k,H,X){return c===null||c.nativeEvent!==X?(c={blockedOn:p,domEventName:w,eventSystemFlags:k,nativeEvent:X,targetContainers:[H]},p!==null&&(p=ty(p),p!==null&&oz(p)),c):(c.eventSystemFlags|=k,p=c.targetContainers,H!==null&&p.indexOf(H)===-1&&p.push(H),c)}function Vke(c,p,w,k,H){switch(p){case"focusin":return Dp=V7(Dp,c,p,w,k,H),!0;case"dragenter":return Op=V7(Op,c,p,w,k,H),!0;case"mouseover":return Lp=V7(Lp,c,p,w,k,H),!0;case"pointerover":var X=H.pointerId;return U7.set(X,V7(U7.get(X)||null,c,p,w,k,H)),!0;case"gotpointercapture":return X=H.pointerId,z7.set(X,V7(z7.get(X)||null,c,p,w,k,H)),!0}return!1}function _fe(c){var p=Fm(c.target);if(p!==null){var w=Nm(p);if(w!==null){if(p=w.tag,p===13){if(p=sfe(w),p!==null){c.blockedOn=p,yfe(c.priority,function(){gfe(w)});return}}else if(p===3&&w.stateNode.current.memoizedState.isDehydrated){c.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}c.blockedOn=null}function DM(c){if(c.blockedOn!==null)return!1;for(var p=c.targetContainers;0<p.length;){var w=uz(c.domEventName,c.eventSystemFlags,p[0],c.nativeEvent);if(w===null){w=c.nativeEvent;var k=new w.constructor(w.type,w);D7=k,w.target.dispatchEvent(k),D7=null}else return p=ty(w),p!==null&&oz(p),c.blockedOn=w,!1;p.shift()}return!0}function wfe(c,p,w){DM(c)&&w.delete(p)}function jke(){az=!1,Dp!==null&&DM(Dp)&&(Dp=null),Op!==null&&DM(Op)&&(Op=null),Lp!==null&&DM(Lp)&&(Lp=null),U7.forEach(wfe),z7.forEach(wfe)}function j7(c,p){c.blockedOn===p&&(c.blockedOn=null,az||(az=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,jke)))}function H7(c){function p(H){return j7(H,c)}if(0<RM.length){j7(RM[0],c);for(var w=1;w<RM.length;w++){var k=RM[w];k.blockedOn===c&&(k.blockedOn=null)}}for(Dp!==null&&j7(Dp,c),Op!==null&&j7(Op,c),Lp!==null&&j7(Lp,c),U7.forEach(p),z7.forEach(p),w=0;w<Np.length;w++)k=Np[w],k.blockedOn===c&&(k.blockedOn=null);for(;0<Np.length&&(w=Np[0],w.blockedOn===null);)_fe(w),w.blockedOn===null&&Np.shift()}var m5=re.ReactCurrentBatchConfig,OM=!0;function Hke(c,p,w,k){var H=ni,X=m5.transition;m5.transition=null;try{ni=1,lz(c,p,w,k)}finally{ni=H,m5.transition=X}}function Gke(c,p,w,k){var H=ni,X=m5.transition;m5.transition=null;try{ni=4,lz(c,p,w,k)}finally{ni=H,m5.transition=X}}function lz(c,p,w,k){if(OM){var H=uz(c,p,w,k);if(H===null)Ez(c,p,k,LM,w),bfe(c,k);else if(Vke(H,c,p,w,k))k.stopPropagation();else if(bfe(c,k),p&4&&-1<zke.indexOf(c)){for(;H!==null;){var X=ty(H);if(X!==null&&mfe(X),X=uz(c,p,w,k),X===null&&Ez(c,p,k,LM,w),X===H)break;H=X}H!==null&&k.stopPropagation()}else Ez(c,p,k,null,w)}}var LM=null;function uz(c,p,w,k){if(LM=null,c=O7(k),c=Fm(c),c!==null)if(p=Nm(c),p===null)c=null;else if(w=p.tag,w===13){if(c=sfe(p),c!==null)return c;c=null}else if(w===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;c=null}else p!==c&&(c=null);return LM=c,null}function xfe(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ike()){case nz:return 1;case dfe:return 4;case MM:case Rke:return 16;case hfe:return 536870912;default:return 16}default:return 16}}var Fp=null,cz=null,NM=null;function Sfe(){if(NM)return NM;var c,p=cz,w=p.length,k,H="value"in Fp?Fp.value:Fp.textContent,X=H.length;for(c=0;c<w&&p[c]===H[c];c++);var le=w-c;for(k=1;k<=le&&p[w-k]===H[X-k];k++);return NM=H.slice(c,1<k?1-k:void 0)}function FM(c){var p=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&p===13&&(c=13)):c=p,c===10&&(c=13),32<=c||c===13?c:0}function BM(){return!0}function Efe(){return!1}function m0(c){function p(w,k,H,X,le){this._reactName=w,this._targetInst=H,this.type=k,this.nativeEvent=X,this.target=le,this.currentTarget=null;for(var Me in c)c.hasOwnProperty(Me)&&(w=c[Me],this[Me]=w?w(X):X[Me]);return this.isDefaultPrevented=(X.defaultPrevented!=null?X.defaultPrevented:X.returnValue===!1)?BM:Efe,this.isPropagationStopped=Efe,this}return pe(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=BM)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=BM)},persist:function(){},isPersistent:BM}),p}var g5={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dz=m0(g5),G7=pe({},g5,{view:0,detail:0}),$ke=m0(G7),hz,pz,$7,UM=pe({},G7,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mz,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==$7&&($7&&c.type==="mousemove"?(hz=c.screenX-$7.screenX,pz=c.screenY-$7.screenY):pz=hz=0,$7=c),hz)},movementY:function(c){return"movementY"in c?c.movementY:pz}}),Cfe=m0(UM),Wke=pe({},UM,{dataTransfer:0}),Kke=m0(Wke),Xke=pe({},G7,{relatedTarget:0}),fz=m0(Xke),qke=pe({},g5,{animationName:0,elapsedTime:0,pseudoElement:0}),Yke=m0(qke),Zke=pe({},g5,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Qke=m0(Zke),Jke=pe({},g5,{data:0}),Pfe=m0(Jke),eAe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tAe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nAe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rAe(c){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(c):(c=nAe[c])?!!p[c]:!1}function mz(){return rAe}var iAe=pe({},G7,{key:function(c){if(c.key){var p=eAe[c.key]||c.key;if(p!=="Unidentified")return p}return c.type==="keypress"?(c=FM(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?tAe[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mz,charCode:function(c){return c.type==="keypress"?FM(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?FM(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),sAe=m0(iAe),oAe=pe({},UM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mfe=m0(oAe),aAe=pe({},G7,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mz}),lAe=m0(aAe),uAe=pe({},g5,{propertyName:0,elapsedTime:0,pseudoElement:0}),cAe=m0(uAe),dAe=pe({},UM,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),hAe=m0(dAe),pAe=[9,13,27,32],gz=E&&"CompositionEvent"in window,W7=null;E&&"documentMode"in document&&(W7=document.documentMode);var fAe=E&&"TextEvent"in window&&!W7,Tfe=E&&(!gz||W7&&8<W7&&11>=W7),kfe=String.fromCharCode(32),Afe=!1;function Ife(c,p){switch(c){case"keyup":return pAe.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rfe(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var v5=!1;function mAe(c,p){switch(c){case"compositionend":return Rfe(p);case"keypress":return p.which!==32?null:(Afe=!0,kfe);case"textInput":return c=p.data,c===kfe&&Afe?null:c;default:return null}}function gAe(c,p){if(v5)return c==="compositionend"||!gz&&Ife(c,p)?(c=Sfe(),NM=cz=Fp=null,v5=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Tfe&&p.locale!=="ko"?null:p.data;default:return null}}var vAe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dfe(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p==="input"?!!vAe[c.type]:p==="textarea"}function Ofe(c,p,w,k){efe(k),p=KM(p,"onChange"),0<p.length&&(w=new dz("onChange","change",null,w,k),c.push({event:w,listeners:p}))}var K7=null,X7=null;function yAe(c){Jfe(c,0)}function zM(c){var p=x5(c);if(jr(p))return c}function bAe(c,p){if(c==="change")return p}var Lfe=!1;E&&(E?(VM="oninput"in document,VM||(yz=document.createElement("div"),yz.setAttribute("oninput","return;"),VM=typeof yz.oninput=="function"),vz=VM):vz=!1,Lfe=vz&&(!document.documentMode||9<document.documentMode));var vz,VM,yz;function Nfe(){K7&&(K7.detachEvent("onpropertychange",Ffe),X7=K7=null)}function Ffe(c){if(c.propertyName==="value"&&zM(X7)){var p=[];Ofe(p,X7,c,O7(c)),ife(yAe,p)}}function _Ae(c,p,w){c==="focusin"?(Nfe(),K7=p,X7=w,K7.attachEvent("onpropertychange",Ffe)):c==="focusout"&&Nfe()}function wAe(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return zM(X7)}function xAe(c,p){if(c==="click")return zM(p)}function SAe(c,p){if(c==="input"||c==="change")return zM(p)}function EAe(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var iu=typeof Object.is=="function"?Object.is:EAe;function q7(c,p){if(iu(c,p))return!0;if(typeof c!="object"||c===null||typeof p!="object"||p===null)return!1;var w=Object.keys(c),k=Object.keys(p);if(w.length!==k.length)return!1;for(k=0;k<w.length;k++){var H=w[k];if(!P.call(p,H)||!iu(c[H],p[H]))return!1}return!0}function Bfe(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ufe(c,p){var w=Bfe(c);c=0;for(var k;w;){if(w.nodeType===3){if(k=c+w.textContent.length,c<=p&&k>=p)return{node:w,offset:p-c};c=k}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=Bfe(w)}}function zfe(c,p){return c&&p?c===p?!0:c&&c.nodeType===3?!1:p&&p.nodeType===3?zfe(c,p.parentNode):"contains"in c?c.contains(p):c.compareDocumentPosition?!!(c.compareDocumentPosition(p)&16):!1:!1}function Vfe(){for(var c=window,p=ee();p instanceof c.HTMLIFrameElement;){try{var w=typeof p.contentWindow.location.href=="string"}catch{w=!1}if(w)c=p.contentWindow;else break;p=ee(c.document)}return p}function bz(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p&&(p==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||p==="textarea"||c.contentEditable==="true")}function CAe(c){var p=Vfe(),w=c.focusedElem,k=c.selectionRange;if(p!==w&&w&&w.ownerDocument&&zfe(w.ownerDocument.documentElement,w)){if(k!==null&&bz(w)){if(p=k.start,c=k.end,c===void 0&&(c=p),"selectionStart"in w)w.selectionStart=p,w.selectionEnd=Math.min(c,w.value.length);else if(c=(p=w.ownerDocument||document)&&p.defaultView||window,c.getSelection){c=c.getSelection();var H=w.textContent.length,X=Math.min(k.start,H);k=k.end===void 0?X:Math.min(k.end,H),!c.extend&&X>k&&(H=k,k=X,X=H),H=Ufe(w,X);var le=Ufe(w,k);H&&le&&(c.rangeCount!==1||c.anchorNode!==H.node||c.anchorOffset!==H.offset||c.focusNode!==le.node||c.focusOffset!==le.offset)&&(p=p.createRange(),p.setStart(H.node,H.offset),c.removeAllRanges(),X>k?(c.addRange(p),c.extend(le.node,le.offset)):(p.setEnd(le.node,le.offset),c.addRange(p)))}}for(p=[],c=w;c=c.parentNode;)c.nodeType===1&&p.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<p.length;w++)c=p[w],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var PAe=E&&"documentMode"in document&&11>=document.documentMode,y5=null,_z=null,Y7=null,wz=!1;function jfe(c,p,w){var k=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;wz||y5==null||y5!==ee(k)||(k=y5,"selectionStart"in k&&bz(k)?k={start:k.selectionStart,end:k.selectionEnd}:(k=(k.ownerDocument&&k.ownerDocument.defaultView||window).getSelection(),k={anchorNode:k.anchorNode,anchorOffset:k.anchorOffset,focusNode:k.focusNode,focusOffset:k.focusOffset}),Y7&&q7(Y7,k)||(Y7=k,k=KM(_z,"onSelect"),0<k.length&&(p=new dz("onSelect","select",null,p,w),c.push({event:p,listeners:k}),p.target=y5)))}function jM(c,p){var w={};return w[c.toLowerCase()]=p.toLowerCase(),w["Webkit"+c]="webkit"+p,w["Moz"+c]="moz"+p,w}var b5={animationend:jM("Animation","AnimationEnd"),animationiteration:jM("Animation","AnimationIteration"),animationstart:jM("Animation","AnimationStart"),transitionend:jM("Transition","TransitionEnd")},xz={},Hfe={};E&&(Hfe=document.createElement("div").style,"AnimationEvent"in window||(delete b5.animationend.animation,delete b5.animationiteration.animation,delete b5.animationstart.animation),"TransitionEvent"in window||delete b5.transitionend.transition);function HM(c){if(xz[c])return xz[c];if(!b5[c])return c;var p=b5[c],w;for(w in p)if(p.hasOwnProperty(w)&&w in Hfe)return xz[c]=p[w];return c}var Gfe=HM("animationend"),$fe=HM("animationiteration"),Wfe=HM("animationstart"),Kfe=HM("transitionend"),Xfe=new Map,qfe="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bp(c,p){Xfe.set(c,p),b(p,[c])}for($M=0;$M<qfe.length;$M++)GM=qfe[$M],Yfe=GM.toLowerCase(),Zfe=GM[0].toUpperCase()+GM.slice(1),Bp(Yfe,"on"+Zfe);var GM,Yfe,Zfe,$M;Bp(Gfe,"onAnimationEnd"),Bp($fe,"onAnimationIteration"),Bp(Wfe,"onAnimationStart"),Bp("dblclick","onDoubleClick"),Bp("focusin","onFocus"),Bp("focusout","onBlur"),Bp(Kfe,"onTransitionEnd"),_("onMouseEnter",["mouseout","mouseover"]),_("onMouseLeave",["mouseout","mouseover"]),_("onPointerEnter",["pointerout","pointerover"]),_("onPointerLeave",["pointerout","pointerover"]),b("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),b("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),b("onBeforeInput",["compositionend","keypress","textInput","paste"]),b("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),b("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Z7="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MAe=new Set("cancel close invalid load scroll toggle".split(" ").concat(Z7));function Qfe(c,p,w){var k=c.type||"unknown-event";c.currentTarget=w,Mke(k,p,void 0,c),c.currentTarget=null}function Jfe(c,p){p=(p&4)!==0;for(var w=0;w<c.length;w++){var k=c[w],H=k.event;k=k.listeners;e:{var X=void 0;if(p)for(var le=k.length-1;0<=le;le--){var Me=k[le],Fe=Me.instance,yt=Me.currentTarget;if(Me=Me.listener,Fe!==X&&H.isPropagationStopped())break e;Qfe(H,Me,yt),X=Fe}else for(le=0;le<k.length;le++){if(Me=k[le],Fe=Me.instance,yt=Me.currentTarget,Me=Me.listener,Fe!==X&&H.isPropagationStopped())break e;Qfe(H,Me,yt),X=Fe}}}if(PM)throw c=tz,PM=!1,tz=null,c}function Pi(c,p){var w=p[Az];w===void 0&&(w=p[Az]=new Set);var k=c+"__bubble";w.has(k)||(e1e(p,c,2,!1),w.add(k))}function Sz(c,p,w){var k=0;p&&(k|=4),e1e(w,c,k,p)}var WM="_reactListening"+Math.random().toString(36).slice(2);function Q7(c){if(!c[WM]){c[WM]=!0,f.forEach(function(w){w!=="selectionchange"&&(MAe.has(w)||Sz(w,!1,c),Sz(w,!0,c))});var p=c.nodeType===9?c:c.ownerDocument;p===null||p[WM]||(p[WM]=!0,Sz("selectionchange",!1,p))}}function e1e(c,p,w,k){switch(xfe(p)){case 1:var H=Hke;break;case 4:H=Gke;break;default:H=lz}w=H.bind(null,p,w,c),H=void 0,!ez||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(H=!0),k?H!==void 0?c.addEventListener(p,w,{capture:!0,passive:H}):c.addEventListener(p,w,!0):H!==void 0?c.addEventListener(p,w,{passive:H}):c.addEventListener(p,w,!1)}function Ez(c,p,w,k,H){var X=k;if(!(p&1)&&!(p&2)&&k!==null)e:for(;;){if(k===null)return;var le=k.tag;if(le===3||le===4){var Me=k.stateNode.containerInfo;if(Me===H||Me.nodeType===8&&Me.parentNode===H)break;if(le===4)for(le=k.return;le!==null;){var Fe=le.tag;if((Fe===3||Fe===4)&&(Fe=le.stateNode.containerInfo,Fe===H||Fe.nodeType===8&&Fe.parentNode===H))return;le=le.return}for(;Me!==null;){if(le=Fm(Me),le===null)return;if(Fe=le.tag,Fe===5||Fe===6){k=X=le;continue e}Me=Me.parentNode}}k=k.return}ife(function(){var yt=X,Gt=O7(w),$t=[];e:{var Ht=Xfe.get(c);if(Ht!==void 0){var un=dz,xn=c;switch(c){case"keypress":if(FM(w)===0)break e;case"keydown":case"keyup":un=sAe;break;case"focusin":xn="focus",un=fz;break;case"focusout":xn="blur",un=fz;break;case"beforeblur":case"afterblur":un=fz;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":un=Cfe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":un=Kke;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":un=lAe;break;case Gfe:case $fe:case Wfe:un=Yke;break;case Kfe:un=cAe;break;case"scroll":un=$ke;break;case"wheel":un=hAe;break;case"copy":case"cut":case"paste":un=Qke;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":un=Mfe}var En=(p&4)!==0,vs=!En&&c==="scroll",tt=En?Ht!==null?Ht+"Capture":null:Ht;En=[];for(var $e=yt,at;$e!==null;){at=$e;var Kt=at.stateNode;if(at.tag===5&&Kt!==null&&(at=Kt,tt!==null&&(Kt=L7($e,tt),Kt!=null&&En.push(J7($e,Kt,at)))),vs)break;$e=$e.return}0<En.length&&(Ht=new un(Ht,xn,null,w,Gt),$t.push({event:Ht,listeners:En}))}}if(!(p&7)){e:{if(Ht=c==="mouseover"||c==="pointerover",un=c==="mouseout"||c==="pointerout",Ht&&w!==D7&&(xn=w.relatedTarget||w.fromElement)&&(Fm(xn)||xn[Dd]))break e;if((un||Ht)&&(Ht=Gt.window===Gt?Gt:(Ht=Gt.ownerDocument)?Ht.defaultView||Ht.parentWindow:window,un?(xn=w.relatedTarget||w.toElement,un=yt,xn=xn?Fm(xn):null,xn!==null&&(vs=Nm(xn),xn!==vs||xn.tag!==5&&xn.tag!==6)&&(xn=null)):(un=null,xn=yt),un!==xn)){if(En=Cfe,Kt="onMouseLeave",tt="onMouseEnter",$e="mouse",(c==="pointerout"||c==="pointerover")&&(En=Mfe,Kt="onPointerLeave",tt="onPointerEnter",$e="pointer"),vs=un==null?Ht:x5(un),at=xn==null?Ht:x5(xn),Ht=new En(Kt,$e+"leave",un,w,Gt),Ht.target=vs,Ht.relatedTarget=at,Kt=null,Fm(Gt)===yt&&(En=new En(tt,$e+"enter",xn,w,Gt),En.target=at,En.relatedTarget=vs,Kt=En),vs=Kt,un&&xn)t:{for(En=un,tt=xn,$e=0,at=En;at;at=_5(at))$e++;for(at=0,Kt=tt;Kt;Kt=_5(Kt))at++;for(;0<$e-at;)En=_5(En),$e--;for(;0<at-$e;)tt=_5(tt),at--;for(;$e--;){if(En===tt||tt!==null&&En===tt.alternate)break t;En=_5(En),tt=_5(tt)}En=null}else En=null;un!==null&&t1e($t,Ht,un,En,!1),xn!==null&&vs!==null&&t1e($t,vs,xn,En,!0)}}e:{if(Ht=yt?x5(yt):window,un=Ht.nodeName&&Ht.nodeName.toLowerCase(),un==="select"||un==="input"&&Ht.type==="file")var Tn=bAe;else if(Dfe(Ht))if(Lfe)Tn=SAe;else{Tn=wAe;var Vn=_Ae}else(un=Ht.nodeName)&&un.toLowerCase()==="input"&&(Ht.type==="checkbox"||Ht.type==="radio")&&(Tn=xAe);if(Tn&&(Tn=Tn(c,yt))){Ofe($t,Tn,w,Gt);break e}Vn&&Vn(c,Ht,yt),c==="focusout"&&(Vn=Ht._wrapperState)&&Vn.controlled&&Ht.type==="number"&&Tt(Ht,"number",Ht.value)}switch(Vn=yt?x5(yt):window,c){case"focusin":(Dfe(Vn)||Vn.contentEditable==="true")&&(y5=Vn,_z=yt,Y7=null);break;case"focusout":Y7=_z=y5=null;break;case"mousedown":wz=!0;break;case"contextmenu":case"mouseup":case"dragend":wz=!1,jfe($t,w,Gt);break;case"selectionchange":if(PAe)break;case"keydown":case"keyup":jfe($t,w,Gt)}var jn;if(gz)e:{switch(c){case"compositionstart":var er="onCompositionStart";break e;case"compositionend":er="onCompositionEnd";break e;case"compositionupdate":er="onCompositionUpdate";break e}er=void 0}else v5?Ife(c,w)&&(er="onCompositionEnd"):c==="keydown"&&w.keyCode===229&&(er="onCompositionStart");er&&(Tfe&&w.locale!=="ko"&&(v5||er!=="onCompositionStart"?er==="onCompositionEnd"&&v5&&(jn=Sfe()):(Fp=Gt,cz="value"in Fp?Fp.value:Fp.textContent,v5=!0)),Vn=KM(yt,er),0<Vn.length&&(er=new Pfe(er,c,null,w,Gt),$t.push({event:er,listeners:Vn}),jn?er.data=jn:(jn=Rfe(w),jn!==null&&(er.data=jn)))),(jn=fAe?mAe(c,w):gAe(c,w))&&(yt=KM(yt,"onBeforeInput"),0<yt.length&&(Gt=new Pfe("onBeforeInput","beforeinput",null,w,Gt),$t.push({event:Gt,listeners:yt}),Gt.data=jn))}Jfe($t,p)})}function J7(c,p,w){return{instance:c,listener:p,currentTarget:w}}function KM(c,p){for(var w=p+"Capture",k=[];c!==null;){var H=c,X=H.stateNode;H.tag===5&&X!==null&&(H=X,X=L7(c,w),X!=null&&k.unshift(J7(c,X,H)),X=L7(c,p),X!=null&&k.push(J7(c,X,H))),c=c.return}return k}function _5(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function t1e(c,p,w,k,H){for(var X=p._reactName,le=[];w!==null&&w!==k;){var Me=w,Fe=Me.alternate,yt=Me.stateNode;if(Fe!==null&&Fe===k)break;Me.tag===5&&yt!==null&&(Me=yt,H?(Fe=L7(w,X),Fe!=null&&le.unshift(J7(w,Fe,Me))):H||(Fe=L7(w,X),Fe!=null&&le.push(J7(w,Fe,Me)))),w=w.return}le.length!==0&&c.push({event:p,listeners:le})}var TAe=/\r\n?/g,kAe=/\u0000|\uFFFD/g;function n1e(c){return(typeof c=="string"?c:""+c).replace(TAe,`
`).replace(kAe,"")}function XM(c,p,w){if(p=n1e(p),n1e(c)!==p&&w)throw Error(h(425))}function qM(){}var Cz=null,Pz=null;function Mz(c,p){return c==="textarea"||c==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Tz=typeof setTimeout=="function"?setTimeout:void 0,AAe=typeof clearTimeout=="function"?clearTimeout:void 0,r1e=typeof Promise=="function"?Promise:void 0,IAe=typeof queueMicrotask=="function"?queueMicrotask:typeof r1e<"u"?function(c){return r1e.resolve(null).then(c).catch(RAe)}:Tz;function RAe(c){setTimeout(function(){throw c})}function kz(c,p){var w=p,k=0;do{var H=w.nextSibling;if(c.removeChild(w),H&&H.nodeType===8)if(w=H.data,w==="/$"){if(k===0){c.removeChild(H),H7(p);return}k--}else w!=="$"&&w!=="$?"&&w!=="$!"||k++;w=H}while(w);H7(p)}function Up(c){for(;c!=null;c=c.nextSibling){var p=c.nodeType;if(p===1||p===3)break;if(p===8){if(p=c.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return c}function i1e(c){c=c.previousSibling;for(var p=0;c;){if(c.nodeType===8){var w=c.data;if(w==="$"||w==="$!"||w==="$?"){if(p===0)return c;p--}else w==="/$"&&p++}c=c.previousSibling}return null}var w5=Math.random().toString(36).slice(2),vc="__reactFiber$"+w5,ey="__reactProps$"+w5,Dd="__reactContainer$"+w5,Az="__reactEvents$"+w5,DAe="__reactListeners$"+w5,OAe="__reactHandles$"+w5;function Fm(c){var p=c[vc];if(p)return p;for(var w=c.parentNode;w;){if(p=w[Dd]||w[vc]){if(w=p.alternate,p.child!==null||w!==null&&w.child!==null)for(c=i1e(c);c!==null;){if(w=c[vc])return w;c=i1e(c)}return p}c=w,w=c.parentNode}return null}function ty(c){return c=c[vc]||c[Dd],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function x5(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(h(33))}function YM(c){return c[ey]||null}var Iz=[],S5=-1;function zp(c){return{current:c}}function Mi(c){0>S5||(c.current=Iz[S5],Iz[S5]=null,S5--)}function vi(c,p){S5++,Iz[S5]=c.current,c.current=p}var Vp={},zo=zp(Vp),$a=zp(!1),Bm=Vp;function E5(c,p){var w=c.type.contextTypes;if(!w)return Vp;var k=c.stateNode;if(k&&k.__reactInternalMemoizedUnmaskedChildContext===p)return k.__reactInternalMemoizedMaskedChildContext;var H={},X;for(X in w)H[X]=p[X];return k&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=p,c.__reactInternalMemoizedMaskedChildContext=H),H}function Wa(c){return c=c.childContextTypes,c!=null}function ZM(){Mi($a),Mi(zo)}function s1e(c,p,w){if(zo.current!==Vp)throw Error(h(168));vi(zo,p),vi($a,w)}function o1e(c,p,w){var k=c.stateNode;if(p=p.childContextTypes,typeof k.getChildContext!="function")return w;k=k.getChildContext();for(var H in k)if(!(H in p))throw Error(h(108,St(c)||"Unknown",H));return pe({},w,k)}function QM(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Vp,Bm=zo.current,vi(zo,c),vi($a,$a.current),!0}function a1e(c,p,w){var k=c.stateNode;if(!k)throw Error(h(169));w?(c=o1e(c,p,Bm),k.__reactInternalMemoizedMergedChildContext=c,Mi($a),Mi(zo),vi(zo,c)):Mi($a),vi($a,w)}var Od=null,JM=!1,Rz=!1;function l1e(c){Od===null?Od=[c]:Od.push(c)}function LAe(c){JM=!0,l1e(c)}function jp(){if(!Rz&&Od!==null){Rz=!0;var c=0,p=ni;try{var w=Od;for(ni=1;c<w.length;c++){var k=w[c];do k=k(!0);while(k!==null)}Od=null,JM=!1}catch(H){throw Od!==null&&(Od=Od.slice(c+1)),ufe(nz,jp),H}finally{ni=p,Rz=!1}}return null}var C5=[],P5=0,eT=null,tT=0,tl=[],nl=0,Um=null,Ld=1,Nd="";function zm(c,p){C5[P5++]=tT,C5[P5++]=eT,eT=c,tT=p}function u1e(c,p,w){tl[nl++]=Ld,tl[nl++]=Nd,tl[nl++]=Um,Um=c;var k=Ld;c=Nd;var H=32-ru(k)-1;k&=~(1<<H),w+=1;var X=32-ru(p)+H;if(30<X){var le=H-H%5;X=(k&(1<<le)-1).toString(32),k>>=le,H-=le,Ld=1<<32-ru(p)+H|w<<H|k,Nd=X+c}else Ld=1<<X|w<<H|k,Nd=c}function Dz(c){c.return!==null&&(zm(c,1),u1e(c,1,0))}function Oz(c){for(;c===eT;)eT=C5[--P5],C5[P5]=null,tT=C5[--P5],C5[P5]=null;for(;c===Um;)Um=tl[--nl],tl[nl]=null,Nd=tl[--nl],tl[nl]=null,Ld=tl[--nl],tl[nl]=null}var g0=null,v0=null,Oi=!1,su=null;function c1e(c,p){var w=ol(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=c,p=c.deletions,p===null?(c.deletions=[w],c.flags|=16):p.push(w)}function d1e(c,p){switch(c.tag){case 5:var w=c.type;return p=p.nodeType!==1||w.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(c.stateNode=p,g0=c,v0=Up(p.firstChild),!0):!1;case 6:return p=c.pendingProps===""||p.nodeType!==3?null:p,p!==null?(c.stateNode=p,g0=c,v0=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(w=Um!==null?{id:Ld,overflow:Nd}:null,c.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=ol(18,null,null,0),w.stateNode=p,w.return=c,c.child=w,g0=c,v0=null,!0):!1;default:return!1}}function Lz(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Nz(c){if(Oi){var p=v0;if(p){var w=p;if(!d1e(c,p)){if(Lz(c))throw Error(h(418));p=Up(w.nextSibling);var k=g0;p&&d1e(c,p)?c1e(k,w):(c.flags=c.flags&-4097|2,Oi=!1,g0=c)}}else{if(Lz(c))throw Error(h(418));c.flags=c.flags&-4097|2,Oi=!1,g0=c}}}function h1e(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;g0=c}function nT(c){if(c!==g0)return!1;if(!Oi)return h1e(c),Oi=!0,!1;var p;if((p=c.tag!==3)&&!(p=c.tag!==5)&&(p=c.type,p=p!=="head"&&p!=="body"&&!Mz(c.type,c.memoizedProps)),p&&(p=v0)){if(Lz(c))throw p1e(),Error(h(418));for(;p;)c1e(c,p),p=Up(p.nextSibling)}if(h1e(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(h(317));e:{for(c=c.nextSibling,p=0;c;){if(c.nodeType===8){var w=c.data;if(w==="/$"){if(p===0){v0=Up(c.nextSibling);break e}p--}else w!=="$"&&w!=="$!"&&w!=="$?"||p++}c=c.nextSibling}v0=null}}else v0=g0?Up(c.stateNode.nextSibling):null;return!0}function p1e(){for(var c=v0;c;)c=Up(c.nextSibling)}function M5(){v0=g0=null,Oi=!1}function Fz(c){su===null?su=[c]:su.push(c)}var NAe=re.ReactCurrentBatchConfig;function ou(c,p){if(c&&c.defaultProps){p=pe({},p),c=c.defaultProps;for(var w in c)p[w]===void 0&&(p[w]=c[w]);return p}return p}var rT=zp(null),iT=null,T5=null,Bz=null;function Uz(){Bz=T5=iT=null}function zz(c){var p=rT.current;Mi(rT),c._currentValue=p}function Vz(c,p,w){for(;c!==null;){var k=c.alternate;if((c.childLanes&p)!==p?(c.childLanes|=p,k!==null&&(k.childLanes|=p)):k!==null&&(k.childLanes&p)!==p&&(k.childLanes|=p),c===w)break;c=c.return}}function k5(c,p){iT=c,Bz=T5=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&p&&(Ka=!0),c.firstContext=null)}function rl(c){var p=c._currentValue;if(Bz!==c)if(c={context:c,memoizedValue:p,next:null},T5===null){if(iT===null)throw Error(h(308));T5=c,iT.dependencies={lanes:0,firstContext:c}}else T5=T5.next=c;return p}var Vm=null;function jz(c){Vm===null?Vm=[c]:Vm.push(c)}function f1e(c,p,w,k){var H=p.interleaved;return H===null?(w.next=w,jz(p)):(w.next=H.next,H.next=w),p.interleaved=w,Fd(c,k)}function Fd(c,p){c.lanes|=p;var w=c.alternate;for(w!==null&&(w.lanes|=p),w=c,c=c.return;c!==null;)c.childLanes|=p,w=c.alternate,w!==null&&(w.childLanes|=p),w=c,c=c.return;return w.tag===3?w.stateNode:null}var Hp=!1;function Hz(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function m1e(c,p){c=c.updateQueue,p.updateQueue===c&&(p.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function Bd(c,p){return{eventTime:c,lane:p,tag:0,payload:null,callback:null,next:null}}function Gp(c,p,w){var k=c.updateQueue;if(k===null)return null;if(k=k.shared,Nr&2){var H=k.pending;return H===null?p.next=p:(p.next=H.next,H.next=p),k.pending=p,Fd(c,w)}return H=k.interleaved,H===null?(p.next=p,jz(k)):(p.next=H.next,H.next=p),k.interleaved=p,Fd(c,w)}function sT(c,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var k=p.lanes;k&=c.pendingLanes,w|=k,p.lanes=w,sz(c,w)}}function g1e(c,p){var w=c.updateQueue,k=c.alternate;if(k!==null&&(k=k.updateQueue,w===k)){var H=null,X=null;if(w=w.firstBaseUpdate,w!==null){do{var le={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};X===null?H=X=le:X=X.next=le,w=w.next}while(w!==null);X===null?H=X=p:X=X.next=p}else H=X=p;w={baseState:k.baseState,firstBaseUpdate:H,lastBaseUpdate:X,shared:k.shared,effects:k.effects},c.updateQueue=w;return}c=w.lastBaseUpdate,c===null?w.firstBaseUpdate=p:c.next=p,w.lastBaseUpdate=p}function oT(c,p,w,k){var H=c.updateQueue;Hp=!1;var X=H.firstBaseUpdate,le=H.lastBaseUpdate,Me=H.shared.pending;if(Me!==null){H.shared.pending=null;var Fe=Me,yt=Fe.next;Fe.next=null,le===null?X=yt:le.next=yt,le=Fe;var Gt=c.alternate;Gt!==null&&(Gt=Gt.updateQueue,Me=Gt.lastBaseUpdate,Me!==le&&(Me===null?Gt.firstBaseUpdate=yt:Me.next=yt,Gt.lastBaseUpdate=Fe))}if(X!==null){var $t=H.baseState;le=0,Gt=yt=Fe=null,Me=X;do{var Ht=Me.lane,un=Me.eventTime;if((k&Ht)===Ht){Gt!==null&&(Gt=Gt.next={eventTime:un,lane:0,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null});e:{var xn=c,En=Me;switch(Ht=p,un=w,En.tag){case 1:if(xn=En.payload,typeof xn=="function"){$t=xn.call(un,$t,Ht);break e}$t=xn;break e;case 3:xn.flags=xn.flags&-65537|128;case 0:if(xn=En.payload,Ht=typeof xn=="function"?xn.call(un,$t,Ht):xn,Ht==null)break e;$t=pe({},$t,Ht);break e;case 2:Hp=!0}}Me.callback!==null&&Me.lane!==0&&(c.flags|=64,Ht=H.effects,Ht===null?H.effects=[Me]:Ht.push(Me))}else un={eventTime:un,lane:Ht,tag:Me.tag,payload:Me.payload,callback:Me.callback,next:null},Gt===null?(yt=Gt=un,Fe=$t):Gt=Gt.next=un,le|=Ht;if(Me=Me.next,Me===null){if(Me=H.shared.pending,Me===null)break;Ht=Me,Me=Ht.next,Ht.next=null,H.lastBaseUpdate=Ht,H.shared.pending=null}}while(1);if(Gt===null&&(Fe=$t),H.baseState=Fe,H.firstBaseUpdate=yt,H.lastBaseUpdate=Gt,p=H.shared.interleaved,p!==null){H=p;do le|=H.lane,H=H.next;while(H!==p)}else X===null&&(H.shared.lanes=0);Gm|=le,c.lanes=le,c.memoizedState=$t}}function v1e(c,p,w){if(c=p.effects,p.effects=null,c!==null)for(p=0;p<c.length;p++){var k=c[p],H=k.callback;if(H!==null){if(k.callback=null,k=w,typeof H!="function")throw Error(h(191,H));H.call(k)}}}var y1e=new a.Component().refs;function Gz(c,p,w,k){p=c.memoizedState,w=w(k,p),w=w==null?p:pe({},p,w),c.memoizedState=w,c.lanes===0&&(c.updateQueue.baseState=w)}var aT={isMounted:function(c){return(c=c._reactInternals)?Nm(c)===c:!1},enqueueSetState:function(c,p,w){c=c._reactInternals;var k=va(),H=Xp(c),X=Bd(k,H);X.payload=p,w!=null&&(X.callback=w),p=Gp(c,X,H),p!==null&&(uu(p,c,H,k),sT(p,c,H))},enqueueReplaceState:function(c,p,w){c=c._reactInternals;var k=va(),H=Xp(c),X=Bd(k,H);X.tag=1,X.payload=p,w!=null&&(X.callback=w),p=Gp(c,X,H),p!==null&&(uu(p,c,H,k),sT(p,c,H))},enqueueForceUpdate:function(c,p){c=c._reactInternals;var w=va(),k=Xp(c),H=Bd(w,k);H.tag=2,p!=null&&(H.callback=p),p=Gp(c,H,k),p!==null&&(uu(p,c,k,w),sT(p,c,k))}};function b1e(c,p,w,k,H,X,le){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(k,X,le):p.prototype&&p.prototype.isPureReactComponent?!q7(w,k)||!q7(H,X):!0}function _1e(c,p,w){var k=!1,H=Vp,X=p.contextType;return typeof X=="object"&&X!==null?X=rl(X):(H=Wa(p)?Bm:zo.current,k=p.contextTypes,X=(k=k!=null)?E5(c,H):Vp),p=new p(w,X),c.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=aT,c.stateNode=p,p._reactInternals=c,k&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=H,c.__reactInternalMemoizedMaskedChildContext=X),p}function w1e(c,p,w,k){c=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,k),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,k),p.state!==c&&aT.enqueueReplaceState(p,p.state,null)}function $z(c,p,w,k){var H=c.stateNode;H.props=w,H.state=c.memoizedState,H.refs=y1e,Hz(c);var X=p.contextType;typeof X=="object"&&X!==null?H.context=rl(X):(X=Wa(p)?Bm:zo.current,H.context=E5(c,X)),H.state=c.memoizedState,X=p.getDerivedStateFromProps,typeof X=="function"&&(Gz(c,p,X,w),H.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(p=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),p!==H.state&&aT.enqueueReplaceState(H,H.state,null),oT(c,w,H,k),H.state=c.memoizedState),typeof H.componentDidMount=="function"&&(c.flags|=4194308)}function ny(c,p,w){if(c=w.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(h(309));var k=w.stateNode}if(!k)throw Error(h(147,c));var H=k,X=""+c;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===X?p.ref:(p=function(le){var Me=H.refs;Me===y1e&&(Me=H.refs={}),le===null?delete Me[X]:Me[X]=le},p._stringRef=X,p)}if(typeof c!="string")throw Error(h(284));if(!w._owner)throw Error(h(290,c))}return c}function lT(c,p){throw c=Object.prototype.toString.call(p),Error(h(31,c==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":c))}function x1e(c){var p=c._init;return p(c._payload)}function S1e(c){function p(tt,$e){if(c){var at=tt.deletions;at===null?(tt.deletions=[$e],tt.flags|=16):at.push($e)}}function w(tt,$e){if(!c)return null;for(;$e!==null;)p(tt,$e),$e=$e.sibling;return null}function k(tt,$e){for(tt=new Map;$e!==null;)$e.key!==null?tt.set($e.key,$e):tt.set($e.index,$e),$e=$e.sibling;return tt}function H(tt,$e){return tt=Yp(tt,$e),tt.index=0,tt.sibling=null,tt}function X(tt,$e,at){return tt.index=at,c?(at=tt.alternate,at!==null?(at=at.index,at<$e?(tt.flags|=2,$e):at):(tt.flags|=2,$e)):(tt.flags|=1048576,$e)}function le(tt){return c&&tt.alternate===null&&(tt.flags|=2),tt}function Me(tt,$e,at,Kt){return $e===null||$e.tag!==6?($e=MV(at,tt.mode,Kt),$e.return=tt,$e):($e=H($e,at),$e.return=tt,$e)}function Fe(tt,$e,at,Kt){var Tn=at.type;return Tn===ye?Gt(tt,$e,at.props.children,Kt,at.key):$e!==null&&($e.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===ke&&x1e(Tn)===$e.type)?(Kt=H($e,at.props),Kt.ref=ny(tt,$e,at),Kt.return=tt,Kt):(Kt=MT(at.type,at.key,at.props,null,tt.mode,Kt),Kt.ref=ny(tt,$e,at),Kt.return=tt,Kt)}function yt(tt,$e,at,Kt){return $e===null||$e.tag!==4||$e.stateNode.containerInfo!==at.containerInfo||$e.stateNode.implementation!==at.implementation?($e=TV(at,tt.mode,Kt),$e.return=tt,$e):($e=H($e,at.children||[]),$e.return=tt,$e)}function Gt(tt,$e,at,Kt,Tn){return $e===null||$e.tag!==7?($e=Xm(at,tt.mode,Kt,Tn),$e.return=tt,$e):($e=H($e,at),$e.return=tt,$e)}function $t(tt,$e,at){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return $e=MV(""+$e,tt.mode,at),$e.return=tt,$e;if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case ce:return at=MT($e.type,$e.key,$e.props,null,tt.mode,at),at.ref=ny(tt,null,$e),at.return=tt,at;case Ce:return $e=TV($e,tt.mode,at),$e.return=tt,$e;case ke:var Kt=$e._init;return $t(tt,Kt($e._payload),at)}if(Ft($e)||Pt($e))return $e=Xm($e,tt.mode,at,null),$e.return=tt,$e;lT(tt,$e)}return null}function Ht(tt,$e,at,Kt){var Tn=$e!==null?$e.key:null;if(typeof at=="string"&&at!==""||typeof at=="number")return Tn!==null?null:Me(tt,$e,""+at,Kt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case ce:return at.key===Tn?Fe(tt,$e,at,Kt):null;case Ce:return at.key===Tn?yt(tt,$e,at,Kt):null;case ke:return Tn=at._init,Ht(tt,$e,Tn(at._payload),Kt)}if(Ft(at)||Pt(at))return Tn!==null?null:Gt(tt,$e,at,Kt,null);lT(tt,at)}return null}function un(tt,$e,at,Kt,Tn){if(typeof Kt=="string"&&Kt!==""||typeof Kt=="number")return tt=tt.get(at)||null,Me($e,tt,""+Kt,Tn);if(typeof Kt=="object"&&Kt!==null){switch(Kt.$$typeof){case ce:return tt=tt.get(Kt.key===null?at:Kt.key)||null,Fe($e,tt,Kt,Tn);case Ce:return tt=tt.get(Kt.key===null?at:Kt.key)||null,yt($e,tt,Kt,Tn);case ke:var Vn=Kt._init;return un(tt,$e,at,Vn(Kt._payload),Tn)}if(Ft(Kt)||Pt(Kt))return tt=tt.get(at)||null,Gt($e,tt,Kt,Tn,null);lT($e,Kt)}return null}function xn(tt,$e,at,Kt){for(var Tn=null,Vn=null,jn=$e,er=$e=0,to=null;jn!==null&&er<at.length;er++){jn.index>er?(to=jn,jn=null):to=jn.sibling;var Hr=Ht(tt,jn,at[er],Kt);if(Hr===null){jn===null&&(jn=to);break}c&&jn&&Hr.alternate===null&&p(tt,jn),$e=X(Hr,$e,er),Vn===null?Tn=Hr:Vn.sibling=Hr,Vn=Hr,jn=to}if(er===at.length)return w(tt,jn),Oi&&zm(tt,er),Tn;if(jn===null){for(;er<at.length;er++)jn=$t(tt,at[er],Kt),jn!==null&&($e=X(jn,$e,er),Vn===null?Tn=jn:Vn.sibling=jn,Vn=jn);return Oi&&zm(tt,er),Tn}for(jn=k(tt,jn);er<at.length;er++)to=un(jn,tt,er,at[er],Kt),to!==null&&(c&&to.alternate!==null&&jn.delete(to.key===null?er:to.key),$e=X(to,$e,er),Vn===null?Tn=to:Vn.sibling=to,Vn=to);return c&&jn.forEach(function(Zp){return p(tt,Zp)}),Oi&&zm(tt,er),Tn}function En(tt,$e,at,Kt){var Tn=Pt(at);if(typeof Tn!="function")throw Error(h(150));if(at=Tn.call(at),at==null)throw Error(h(151));for(var Vn=Tn=null,jn=$e,er=$e=0,to=null,Hr=at.next();jn!==null&&!Hr.done;er++,Hr=at.next()){jn.index>er?(to=jn,jn=null):to=jn.sibling;var Zp=Ht(tt,jn,Hr.value,Kt);if(Zp===null){jn===null&&(jn=to);break}c&&jn&&Zp.alternate===null&&p(tt,jn),$e=X(Zp,$e,er),Vn===null?Tn=Zp:Vn.sibling=Zp,Vn=Zp,jn=to}if(Hr.done)return w(tt,jn),Oi&&zm(tt,er),Tn;if(jn===null){for(;!Hr.done;er++,Hr=at.next())Hr=$t(tt,Hr.value,Kt),Hr!==null&&($e=X(Hr,$e,er),Vn===null?Tn=Hr:Vn.sibling=Hr,Vn=Hr);return Oi&&zm(tt,er),Tn}for(jn=k(tt,jn);!Hr.done;er++,Hr=at.next())Hr=un(jn,tt,er,Hr.value,Kt),Hr!==null&&(c&&Hr.alternate!==null&&jn.delete(Hr.key===null?er:Hr.key),$e=X(Hr,$e,er),Vn===null?Tn=Hr:Vn.sibling=Hr,Vn=Hr);return c&&jn.forEach(function(mIe){return p(tt,mIe)}),Oi&&zm(tt,er),Tn}function vs(tt,$e,at,Kt){if(typeof at=="object"&&at!==null&&at.type===ye&&at.key===null&&(at=at.props.children),typeof at=="object"&&at!==null){switch(at.$$typeof){case ce:e:{for(var Tn=at.key,Vn=$e;Vn!==null;){if(Vn.key===Tn){if(Tn=at.type,Tn===ye){if(Vn.tag===7){w(tt,Vn.sibling),$e=H(Vn,at.props.children),$e.return=tt,tt=$e;break e}}else if(Vn.elementType===Tn||typeof Tn=="object"&&Tn!==null&&Tn.$$typeof===ke&&x1e(Tn)===Vn.type){w(tt,Vn.sibling),$e=H(Vn,at.props),$e.ref=ny(tt,Vn,at),$e.return=tt,tt=$e;break e}w(tt,Vn);break}else p(tt,Vn);Vn=Vn.sibling}at.type===ye?($e=Xm(at.props.children,tt.mode,Kt,at.key),$e.return=tt,tt=$e):(Kt=MT(at.type,at.key,at.props,null,tt.mode,Kt),Kt.ref=ny(tt,$e,at),Kt.return=tt,tt=Kt)}return le(tt);case Ce:e:{for(Vn=at.key;$e!==null;){if($e.key===Vn)if($e.tag===4&&$e.stateNode.containerInfo===at.containerInfo&&$e.stateNode.implementation===at.implementation){w(tt,$e.sibling),$e=H($e,at.children||[]),$e.return=tt,tt=$e;break e}else{w(tt,$e);break}else p(tt,$e);$e=$e.sibling}$e=TV(at,tt.mode,Kt),$e.return=tt,tt=$e}return le(tt);case ke:return Vn=at._init,vs(tt,$e,Vn(at._payload),Kt)}if(Ft(at))return xn(tt,$e,at,Kt);if(Pt(at))return En(tt,$e,at,Kt);lT(tt,at)}return typeof at=="string"&&at!==""||typeof at=="number"?(at=""+at,$e!==null&&$e.tag===6?(w(tt,$e.sibling),$e=H($e,at),$e.return=tt,tt=$e):(w(tt,$e),$e=MV(at,tt.mode,Kt),$e.return=tt,tt=$e),le(tt)):w(tt,$e)}return vs}var A5=S1e(!0),E1e=S1e(!1),ry={},yc=zp(ry),iy=zp(ry),sy=zp(ry);function jm(c){if(c===ry)throw Error(h(174));return c}function Wz(c,p){switch(vi(sy,p),vi(iy,c),vi(yc,ry),c=p.nodeType,c){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Jn(null,"");break;default:c=c===8?p.parentNode:p,p=c.namespaceURI||null,c=c.tagName,p=Jn(p,c)}Mi(yc),vi(yc,p)}function I5(){Mi(yc),Mi(iy),Mi(sy)}function C1e(c){jm(sy.current);var p=jm(yc.current),w=Jn(p,c.type);p!==w&&(vi(iy,c),vi(yc,w))}function Kz(c){iy.current===c&&(Mi(yc),Mi(iy))}var $i=zp(0);function uT(c){for(var p=c;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Xz=[];function qz(){for(var c=0;c<Xz.length;c++)Xz[c]._workInProgressVersionPrimary=null;Xz.length=0}var cT=re.ReactCurrentDispatcher,Yz=re.ReactCurrentBatchConfig,Hm=0,Wi=null,Us=null,Js=null,dT=!1,oy=!1,ay=0,FAe=0;function Vo(){throw Error(h(321))}function Zz(c,p){if(p===null)return!1;for(var w=0;w<p.length&&w<c.length;w++)if(!iu(c[w],p[w]))return!1;return!0}function Qz(c,p,w,k,H,X){if(Hm=X,Wi=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,cT.current=c===null||c.memoizedState===null?VAe:jAe,c=w(k,H),oy){X=0;do{if(oy=!1,ay=0,25<=X)throw Error(h(301));X+=1,Js=Us=null,p.updateQueue=null,cT.current=HAe,c=w(k,H)}while(oy)}if(cT.current=fT,p=Us!==null&&Us.next!==null,Hm=0,Js=Us=Wi=null,dT=!1,p)throw Error(h(300));return c}function Jz(){var c=ay!==0;return ay=0,c}function bc(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Js===null?Wi.memoizedState=Js=c:Js=Js.next=c,Js}function il(){if(Us===null){var c=Wi.alternate;c=c!==null?c.memoizedState:null}else c=Us.next;var p=Js===null?Wi.memoizedState:Js.next;if(p!==null)Js=p,Us=c;else{if(c===null)throw Error(h(310));Us=c,c={memoizedState:Us.memoizedState,baseState:Us.baseState,baseQueue:Us.baseQueue,queue:Us.queue,next:null},Js===null?Wi.memoizedState=Js=c:Js=Js.next=c}return Js}function ly(c,p){return typeof p=="function"?p(c):p}function eV(c){var p=il(),w=p.queue;if(w===null)throw Error(h(311));w.lastRenderedReducer=c;var k=Us,H=k.baseQueue,X=w.pending;if(X!==null){if(H!==null){var le=H.next;H.next=X.next,X.next=le}k.baseQueue=H=X,w.pending=null}if(H!==null){X=H.next,k=k.baseState;var Me=le=null,Fe=null,yt=X;do{var Gt=yt.lane;if((Hm&Gt)===Gt)Fe!==null&&(Fe=Fe.next={lane:0,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null}),k=yt.hasEagerState?yt.eagerState:c(k,yt.action);else{var $t={lane:Gt,action:yt.action,hasEagerState:yt.hasEagerState,eagerState:yt.eagerState,next:null};Fe===null?(Me=Fe=$t,le=k):Fe=Fe.next=$t,Wi.lanes|=Gt,Gm|=Gt}yt=yt.next}while(yt!==null&&yt!==X);Fe===null?le=k:Fe.next=Me,iu(k,p.memoizedState)||(Ka=!0),p.memoizedState=k,p.baseState=le,p.baseQueue=Fe,w.lastRenderedState=k}if(c=w.interleaved,c!==null){H=c;do X=H.lane,Wi.lanes|=X,Gm|=X,H=H.next;while(H!==c)}else H===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function tV(c){var p=il(),w=p.queue;if(w===null)throw Error(h(311));w.lastRenderedReducer=c;var k=w.dispatch,H=w.pending,X=p.memoizedState;if(H!==null){w.pending=null;var le=H=H.next;do X=c(X,le.action),le=le.next;while(le!==H);iu(X,p.memoizedState)||(Ka=!0),p.memoizedState=X,p.baseQueue===null&&(p.baseState=X),w.lastRenderedState=X}return[X,k]}function P1e(){}function M1e(c,p){var w=Wi,k=il(),H=p(),X=!iu(k.memoizedState,H);if(X&&(k.memoizedState=H,Ka=!0),k=k.queue,nV(A1e.bind(null,w,k,c),[c]),k.getSnapshot!==p||X||Js!==null&&Js.memoizedState.tag&1){if(w.flags|=2048,uy(9,k1e.bind(null,w,k,H,p),void 0,null),eo===null)throw Error(h(349));Hm&30||T1e(w,p,H)}return H}function T1e(c,p,w){c.flags|=16384,c={getSnapshot:p,value:w},p=Wi.updateQueue,p===null?(p={lastEffect:null,stores:null},Wi.updateQueue=p,p.stores=[c]):(w=p.stores,w===null?p.stores=[c]:w.push(c))}function k1e(c,p,w,k){p.value=w,p.getSnapshot=k,I1e(p)&&R1e(c)}function A1e(c,p,w){return w(function(){I1e(p)&&R1e(c)})}function I1e(c){var p=c.getSnapshot;c=c.value;try{var w=p();return!iu(c,w)}catch{return!0}}function R1e(c){var p=Fd(c,1);p!==null&&uu(p,c,1,-1)}function D1e(c){var p=bc();return typeof c=="function"&&(c=c()),p.memoizedState=p.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:c},p.queue=c,c=c.dispatch=zAe.bind(null,Wi,c),[p.memoizedState,c]}function uy(c,p,w,k){return c={tag:c,create:p,destroy:w,deps:k,next:null},p=Wi.updateQueue,p===null?(p={lastEffect:null,stores:null},Wi.updateQueue=p,p.lastEffect=c.next=c):(w=p.lastEffect,w===null?p.lastEffect=c.next=c:(k=w.next,w.next=c,c.next=k,p.lastEffect=c)),c}function O1e(){return il().memoizedState}function hT(c,p,w,k){var H=bc();Wi.flags|=c,H.memoizedState=uy(1|p,w,void 0,k===void 0?null:k)}function pT(c,p,w,k){var H=il();k=k===void 0?null:k;var X=void 0;if(Us!==null){var le=Us.memoizedState;if(X=le.destroy,k!==null&&Zz(k,le.deps)){H.memoizedState=uy(p,w,X,k);return}}Wi.flags|=c,H.memoizedState=uy(1|p,w,X,k)}function L1e(c,p){return hT(8390656,8,c,p)}function nV(c,p){return pT(2048,8,c,p)}function N1e(c,p){return pT(4,2,c,p)}function F1e(c,p){return pT(4,4,c,p)}function B1e(c,p){if(typeof p=="function")return c=c(),p(c),function(){p(null)};if(p!=null)return c=c(),p.current=c,function(){p.current=null}}function U1e(c,p,w){return w=w!=null?w.concat([c]):null,pT(4,4,B1e.bind(null,p,c),w)}function rV(){}function z1e(c,p){var w=il();p=p===void 0?null:p;var k=w.memoizedState;return k!==null&&p!==null&&Zz(p,k[1])?k[0]:(w.memoizedState=[c,p],c)}function V1e(c,p){var w=il();p=p===void 0?null:p;var k=w.memoizedState;return k!==null&&p!==null&&Zz(p,k[1])?k[0]:(c=c(),w.memoizedState=[c,p],c)}function j1e(c,p,w){return Hm&21?(iu(w,p)||(w=pfe(),Wi.lanes|=w,Gm|=w,c.baseState=!0),p):(c.baseState&&(c.baseState=!1,Ka=!0),c.memoizedState=w)}function BAe(c,p){var w=ni;ni=w!==0&&4>w?w:4,c(!0);var k=Yz.transition;Yz.transition={};try{c(!1),p()}finally{ni=w,Yz.transition=k}}function H1e(){return il().memoizedState}function UAe(c,p,w){var k=Xp(c);if(w={lane:k,action:w,hasEagerState:!1,eagerState:null,next:null},G1e(c))$1e(p,w);else if(w=f1e(c,p,w,k),w!==null){var H=va();uu(w,c,k,H),W1e(w,p,k)}}function zAe(c,p,w){var k=Xp(c),H={lane:k,action:w,hasEagerState:!1,eagerState:null,next:null};if(G1e(c))$1e(p,H);else{var X=c.alternate;if(c.lanes===0&&(X===null||X.lanes===0)&&(X=p.lastRenderedReducer,X!==null))try{var le=p.lastRenderedState,Me=X(le,w);if(H.hasEagerState=!0,H.eagerState=Me,iu(Me,le)){var Fe=p.interleaved;Fe===null?(H.next=H,jz(p)):(H.next=Fe.next,Fe.next=H),p.interleaved=H;return}}catch{}finally{}w=f1e(c,p,H,k),w!==null&&(H=va(),uu(w,c,k,H),W1e(w,p,k))}}function G1e(c){var p=c.alternate;return c===Wi||p!==null&&p===Wi}function $1e(c,p){oy=dT=!0;var w=c.pending;w===null?p.next=p:(p.next=w.next,w.next=p),c.pending=p}function W1e(c,p,w){if(w&4194240){var k=p.lanes;k&=c.pendingLanes,w|=k,p.lanes=w,sz(c,w)}}var fT={readContext:rl,useCallback:Vo,useContext:Vo,useEffect:Vo,useImperativeHandle:Vo,useInsertionEffect:Vo,useLayoutEffect:Vo,useMemo:Vo,useReducer:Vo,useRef:Vo,useState:Vo,useDebugValue:Vo,useDeferredValue:Vo,useTransition:Vo,useMutableSource:Vo,useSyncExternalStore:Vo,useId:Vo,unstable_isNewReconciler:!1},VAe={readContext:rl,useCallback:function(c,p){return bc().memoizedState=[c,p===void 0?null:p],c},useContext:rl,useEffect:L1e,useImperativeHandle:function(c,p,w){return w=w!=null?w.concat([c]):null,hT(4194308,4,B1e.bind(null,p,c),w)},useLayoutEffect:function(c,p){return hT(4194308,4,c,p)},useInsertionEffect:function(c,p){return hT(4,2,c,p)},useMemo:function(c,p){var w=bc();return p=p===void 0?null:p,c=c(),w.memoizedState=[c,p],c},useReducer:function(c,p,w){var k=bc();return p=w!==void 0?w(p):p,k.memoizedState=k.baseState=p,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:p},k.queue=c,c=c.dispatch=UAe.bind(null,Wi,c),[k.memoizedState,c]},useRef:function(c){var p=bc();return c={current:c},p.memoizedState=c},useState:D1e,useDebugValue:rV,useDeferredValue:function(c){return bc().memoizedState=c},useTransition:function(){var c=D1e(!1),p=c[0];return c=BAe.bind(null,c[1]),bc().memoizedState=c,[p,c]},useMutableSource:function(){},useSyncExternalStore:function(c,p,w){var k=Wi,H=bc();if(Oi){if(w===void 0)throw Error(h(407));w=w()}else{if(w=p(),eo===null)throw Error(h(349));Hm&30||T1e(k,p,w)}H.memoizedState=w;var X={value:w,getSnapshot:p};return H.queue=X,L1e(A1e.bind(null,k,X,c),[c]),k.flags|=2048,uy(9,k1e.bind(null,k,X,w,p),void 0,null),w},useId:function(){var c=bc(),p=eo.identifierPrefix;if(Oi){var w=Nd,k=Ld;w=(k&~(1<<32-ru(k)-1)).toString(32)+w,p=":"+p+"R"+w,w=ay++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=FAe++,p=":"+p+"r"+w.toString(32)+":";return c.memoizedState=p},unstable_isNewReconciler:!1},jAe={readContext:rl,useCallback:z1e,useContext:rl,useEffect:nV,useImperativeHandle:U1e,useInsertionEffect:N1e,useLayoutEffect:F1e,useMemo:V1e,useReducer:eV,useRef:O1e,useState:function(){return eV(ly)},useDebugValue:rV,useDeferredValue:function(c){var p=il();return j1e(p,Us.memoizedState,c)},useTransition:function(){var c=eV(ly)[0],p=il().memoizedState;return[c,p]},useMutableSource:P1e,useSyncExternalStore:M1e,useId:H1e,unstable_isNewReconciler:!1},HAe={readContext:rl,useCallback:z1e,useContext:rl,useEffect:nV,useImperativeHandle:U1e,useInsertionEffect:N1e,useLayoutEffect:F1e,useMemo:V1e,useReducer:tV,useRef:O1e,useState:function(){return tV(ly)},useDebugValue:rV,useDeferredValue:function(c){var p=il();return Us===null?p.memoizedState=c:j1e(p,Us.memoizedState,c)},useTransition:function(){var c=tV(ly)[0],p=il().memoizedState;return[c,p]},useMutableSource:P1e,useSyncExternalStore:M1e,useId:H1e,unstable_isNewReconciler:!1};function R5(c,p){try{var w="",k=p;do w+=Ke(k),k=k.return;while(k);var H=w}catch(X){H=`
Error generating stack: `+X.message+`
`+X.stack}return{value:c,source:p,stack:H,digest:null}}function iV(c,p,w){return{value:c,source:null,stack:w??null,digest:p??null}}function sV(c,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var GAe=typeof WeakMap=="function"?WeakMap:Map;function K1e(c,p,w){w=Bd(-1,w),w.tag=3,w.payload={element:null};var k=p.value;return w.callback=function(){wT||(wT=!0,bV=k),sV(c,p)},w}function X1e(c,p,w){w=Bd(-1,w),w.tag=3;var k=c.type.getDerivedStateFromError;if(typeof k=="function"){var H=p.value;w.payload=function(){return k(H)},w.callback=function(){sV(c,p)}}var X=c.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(w.callback=function(){sV(c,p),typeof k!="function"&&(Wp===null?Wp=new Set([this]):Wp.add(this));var le=p.stack;this.componentDidCatch(p.value,{componentStack:le!==null?le:""})}),w}function q1e(c,p,w){var k=c.pingCache;if(k===null){k=c.pingCache=new GAe;var H=new Set;k.set(p,H)}else H=k.get(p),H===void 0&&(H=new Set,k.set(p,H));H.has(w)||(H.add(w),c=iIe.bind(null,c,p,w),p.then(c,c))}function Y1e(c){do{var p;if((p=c.tag===13)&&(p=c.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return c;c=c.return}while(c!==null);return null}function Z1e(c,p,w,k,H){return c.mode&1?(c.flags|=65536,c.lanes=H,c):(c===p?c.flags|=65536:(c.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Bd(-1,1),p.tag=2,Gp(w,p,1))),w.lanes|=1),c)}var $Ae=re.ReactCurrentOwner,Ka=!1;function ga(c,p,w,k){p.child=c===null?E1e(p,null,w,k):A5(p,c.child,w,k)}function Q1e(c,p,w,k,H){w=w.render;var X=p.ref;return k5(p,H),k=Qz(c,p,w,k,X,H),w=Jz(),c!==null&&!Ka?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~H,Ud(c,p,H)):(Oi&&w&&Dz(p),p.flags|=1,ga(c,p,k,H),p.child)}function J1e(c,p,w,k,H){if(c===null){var X=w.type;return typeof X=="function"&&!PV(X)&&X.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=X,eme(c,p,X,k,H)):(c=MT(w.type,null,k,p,p.mode,H),c.ref=p.ref,c.return=p,p.child=c)}if(X=c.child,!(c.lanes&H)){var le=X.memoizedProps;if(w=w.compare,w=w!==null?w:q7,w(le,k)&&c.ref===p.ref)return Ud(c,p,H)}return p.flags|=1,c=Yp(X,k),c.ref=p.ref,c.return=p,p.child=c}function eme(c,p,w,k,H){if(c!==null){var X=c.memoizedProps;if(q7(X,k)&&c.ref===p.ref)if(Ka=!1,p.pendingProps=k=X,(c.lanes&H)!==0)c.flags&131072&&(Ka=!0);else return p.lanes=c.lanes,Ud(c,p,H)}return oV(c,p,w,k,H)}function tme(c,p,w){var k=p.pendingProps,H=k.children,X=c!==null?c.memoizedState:null;if(k.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null,transitions:null},vi(O5,y0),y0|=w;else{if(!(w&1073741824))return c=X!==null?X.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:c,cachePool:null,transitions:null},p.updateQueue=null,vi(O5,y0),y0|=c,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},k=X!==null?X.baseLanes:w,vi(O5,y0),y0|=k}else X!==null?(k=X.baseLanes|w,p.memoizedState=null):k=w,vi(O5,y0),y0|=k;return ga(c,p,H,w),p.child}function nme(c,p){var w=p.ref;(c===null&&w!==null||c!==null&&c.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function oV(c,p,w,k,H){var X=Wa(w)?Bm:zo.current;return X=E5(p,X),k5(p,H),w=Qz(c,p,w,k,X,H),k=Jz(),c!==null&&!Ka?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~H,Ud(c,p,H)):(Oi&&k&&Dz(p),p.flags|=1,ga(c,p,w,H),p.child)}function rme(c,p,w,k,H){if(Wa(w)){var X=!0;QM(p)}else X=!1;if(k5(p,H),p.stateNode===null)gT(c,p),_1e(p,w,k),$z(p,w,k,H),k=!0;else if(c===null){var le=p.stateNode,Me=p.memoizedProps;le.props=Me;var Fe=le.context,yt=w.contextType;typeof yt=="object"&&yt!==null?yt=rl(yt):(yt=Wa(w)?Bm:zo.current,yt=E5(p,yt));var Gt=w.getDerivedStateFromProps,$t=typeof Gt=="function"||typeof le.getSnapshotBeforeUpdate=="function";$t||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Me!==k||Fe!==yt)&&w1e(p,le,k,yt),Hp=!1;var Ht=p.memoizedState;le.state=Ht,oT(p,k,le,H),Fe=p.memoizedState,Me!==k||Ht!==Fe||$a.current||Hp?(typeof Gt=="function"&&(Gz(p,w,Gt,k),Fe=p.memoizedState),(Me=Hp||b1e(p,w,Me,k,Ht,Fe,yt))?($t||typeof le.UNSAFE_componentWillMount!="function"&&typeof le.componentWillMount!="function"||(typeof le.componentWillMount=="function"&&le.componentWillMount(),typeof le.UNSAFE_componentWillMount=="function"&&le.UNSAFE_componentWillMount()),typeof le.componentDidMount=="function"&&(p.flags|=4194308)):(typeof le.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=k,p.memoizedState=Fe),le.props=k,le.state=Fe,le.context=yt,k=Me):(typeof le.componentDidMount=="function"&&(p.flags|=4194308),k=!1)}else{le=p.stateNode,m1e(c,p),Me=p.memoizedProps,yt=p.type===p.elementType?Me:ou(p.type,Me),le.props=yt,$t=p.pendingProps,Ht=le.context,Fe=w.contextType,typeof Fe=="object"&&Fe!==null?Fe=rl(Fe):(Fe=Wa(w)?Bm:zo.current,Fe=E5(p,Fe));var un=w.getDerivedStateFromProps;(Gt=typeof un=="function"||typeof le.getSnapshotBeforeUpdate=="function")||typeof le.UNSAFE_componentWillReceiveProps!="function"&&typeof le.componentWillReceiveProps!="function"||(Me!==$t||Ht!==Fe)&&w1e(p,le,k,Fe),Hp=!1,Ht=p.memoizedState,le.state=Ht,oT(p,k,le,H);var xn=p.memoizedState;Me!==$t||Ht!==xn||$a.current||Hp?(typeof un=="function"&&(Gz(p,w,un,k),xn=p.memoizedState),(yt=Hp||b1e(p,w,yt,k,Ht,xn,Fe)||!1)?(Gt||typeof le.UNSAFE_componentWillUpdate!="function"&&typeof le.componentWillUpdate!="function"||(typeof le.componentWillUpdate=="function"&&le.componentWillUpdate(k,xn,Fe),typeof le.UNSAFE_componentWillUpdate=="function"&&le.UNSAFE_componentWillUpdate(k,xn,Fe)),typeof le.componentDidUpdate=="function"&&(p.flags|=4),typeof le.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof le.componentDidUpdate!="function"||Me===c.memoizedProps&&Ht===c.memoizedState||(p.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Me===c.memoizedProps&&Ht===c.memoizedState||(p.flags|=1024),p.memoizedProps=k,p.memoizedState=xn),le.props=k,le.state=xn,le.context=Fe,k=yt):(typeof le.componentDidUpdate!="function"||Me===c.memoizedProps&&Ht===c.memoizedState||(p.flags|=4),typeof le.getSnapshotBeforeUpdate!="function"||Me===c.memoizedProps&&Ht===c.memoizedState||(p.flags|=1024),k=!1)}return aV(c,p,w,k,X,H)}function aV(c,p,w,k,H,X){nme(c,p);var le=(p.flags&128)!==0;if(!k&&!le)return H&&a1e(p,w,!1),Ud(c,p,X);k=p.stateNode,$Ae.current=p;var Me=le&&typeof w.getDerivedStateFromError!="function"?null:k.render();return p.flags|=1,c!==null&&le?(p.child=A5(p,c.child,null,X),p.child=A5(p,null,Me,X)):ga(c,p,Me,X),p.memoizedState=k.state,H&&a1e(p,w,!0),p.child}function ime(c){var p=c.stateNode;p.pendingContext?s1e(c,p.pendingContext,p.pendingContext!==p.context):p.context&&s1e(c,p.context,!1),Wz(c,p.containerInfo)}function sme(c,p,w,k,H){return M5(),Fz(H),p.flags|=256,ga(c,p,w,k),p.child}var lV={dehydrated:null,treeContext:null,retryLane:0};function uV(c){return{baseLanes:c,cachePool:null,transitions:null}}function ome(c,p,w){var k=p.pendingProps,H=$i.current,X=!1,le=(p.flags&128)!==0,Me;if((Me=le)||(Me=c!==null&&c.memoizedState===null?!1:(H&2)!==0),Me?(X=!0,p.flags&=-129):(c===null||c.memoizedState!==null)&&(H|=1),vi($i,H&1),c===null)return Nz(p),c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(p.mode&1?c.data==="$!"?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(le=k.children,c=k.fallback,X?(k=p.mode,X=p.child,le={mode:"hidden",children:le},!(k&1)&&X!==null?(X.childLanes=0,X.pendingProps=le):X=TT(le,k,0,null),c=Xm(c,k,w,null),X.return=p,c.return=p,X.sibling=c,p.child=X,p.child.memoizedState=uV(w),p.memoizedState=lV,c):cV(p,le));if(H=c.memoizedState,H!==null&&(Me=H.dehydrated,Me!==null))return WAe(c,p,le,k,Me,H,w);if(X){X=k.fallback,le=p.mode,H=c.child,Me=H.sibling;var Fe={mode:"hidden",children:k.children};return!(le&1)&&p.child!==H?(k=p.child,k.childLanes=0,k.pendingProps=Fe,p.deletions=null):(k=Yp(H,Fe),k.subtreeFlags=H.subtreeFlags&14680064),Me!==null?X=Yp(Me,X):(X=Xm(X,le,w,null),X.flags|=2),X.return=p,k.return=p,k.sibling=X,p.child=k,k=X,X=p.child,le=c.child.memoizedState,le=le===null?uV(w):{baseLanes:le.baseLanes|w,cachePool:null,transitions:le.transitions},X.memoizedState=le,X.childLanes=c.childLanes&~w,p.memoizedState=lV,k}return X=c.child,c=X.sibling,k=Yp(X,{mode:"visible",children:k.children}),!(p.mode&1)&&(k.lanes=w),k.return=p,k.sibling=null,c!==null&&(w=p.deletions,w===null?(p.deletions=[c],p.flags|=16):w.push(c)),p.child=k,p.memoizedState=null,k}function cV(c,p){return p=TT({mode:"visible",children:p},c.mode,0,null),p.return=c,c.child=p}function mT(c,p,w,k){return k!==null&&Fz(k),A5(p,c.child,null,w),c=cV(p,p.pendingProps.children),c.flags|=2,p.memoizedState=null,c}function WAe(c,p,w,k,H,X,le){if(w)return p.flags&256?(p.flags&=-257,k=iV(Error(h(422))),mT(c,p,le,k)):p.memoizedState!==null?(p.child=c.child,p.flags|=128,null):(X=k.fallback,H=p.mode,k=TT({mode:"visible",children:k.children},H,0,null),X=Xm(X,H,le,null),X.flags|=2,k.return=p,X.return=p,k.sibling=X,p.child=k,p.mode&1&&A5(p,c.child,null,le),p.child.memoizedState=uV(le),p.memoizedState=lV,X);if(!(p.mode&1))return mT(c,p,le,null);if(H.data==="$!"){if(k=H.nextSibling&&H.nextSibling.dataset,k)var Me=k.dgst;return k=Me,X=Error(h(419)),k=iV(X,k,void 0),mT(c,p,le,k)}if(Me=(le&c.childLanes)!==0,Ka||Me){if(k=eo,k!==null){switch(le&-le){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=H&(k.suspendedLanes|le)?0:H,H!==0&&H!==X.retryLane&&(X.retryLane=H,Fd(c,H),uu(k,c,H,-1))}return CV(),k=iV(Error(h(421))),mT(c,p,le,k)}return H.data==="$?"?(p.flags|=128,p.child=c.child,p=sIe.bind(null,c),H._reactRetry=p,null):(c=X.treeContext,v0=Up(H.nextSibling),g0=p,Oi=!0,su=null,c!==null&&(tl[nl++]=Ld,tl[nl++]=Nd,tl[nl++]=Um,Ld=c.id,Nd=c.overflow,Um=p),p=cV(p,k.children),p.flags|=4096,p)}function ame(c,p,w){c.lanes|=p;var k=c.alternate;k!==null&&(k.lanes|=p),Vz(c.return,p,w)}function dV(c,p,w,k,H){var X=c.memoizedState;X===null?c.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:k,tail:w,tailMode:H}:(X.isBackwards=p,X.rendering=null,X.renderingStartTime=0,X.last=k,X.tail=w,X.tailMode=H)}function lme(c,p,w){var k=p.pendingProps,H=k.revealOrder,X=k.tail;if(ga(c,p,k.children,w),k=$i.current,k&2)k=k&1|2,p.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=p.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&ame(c,w,p);else if(c.tag===19)ame(c,w,p);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===p)break e;for(;c.sibling===null;){if(c.return===null||c.return===p)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}k&=1}if(vi($i,k),!(p.mode&1))p.memoizedState=null;else switch(H){case"forwards":for(w=p.child,H=null;w!==null;)c=w.alternate,c!==null&&uT(c)===null&&(H=w),w=w.sibling;w=H,w===null?(H=p.child,p.child=null):(H=w.sibling,w.sibling=null),dV(p,!1,H,w,X);break;case"backwards":for(w=null,H=p.child,p.child=null;H!==null;){if(c=H.alternate,c!==null&&uT(c)===null){p.child=H;break}c=H.sibling,H.sibling=w,w=H,H=c}dV(p,!0,w,null,X);break;case"together":dV(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function gT(c,p){!(p.mode&1)&&c!==null&&(c.alternate=null,p.alternate=null,p.flags|=2)}function Ud(c,p,w){if(c!==null&&(p.dependencies=c.dependencies),Gm|=p.lanes,!(w&p.childLanes))return null;if(c!==null&&p.child!==c.child)throw Error(h(153));if(p.child!==null){for(c=p.child,w=Yp(c,c.pendingProps),p.child=w,w.return=p;c.sibling!==null;)c=c.sibling,w=w.sibling=Yp(c,c.pendingProps),w.return=p;w.sibling=null}return p.child}function KAe(c,p,w){switch(p.tag){case 3:ime(p),M5();break;case 5:C1e(p);break;case 1:Wa(p.type)&&QM(p);break;case 4:Wz(p,p.stateNode.containerInfo);break;case 10:var k=p.type._context,H=p.memoizedProps.value;vi(rT,k._currentValue),k._currentValue=H;break;case 13:if(k=p.memoizedState,k!==null)return k.dehydrated!==null?(vi($i,$i.current&1),p.flags|=128,null):w&p.child.childLanes?ome(c,p,w):(vi($i,$i.current&1),c=Ud(c,p,w),c!==null?c.sibling:null);vi($i,$i.current&1);break;case 19:if(k=(w&p.childLanes)!==0,c.flags&128){if(k)return lme(c,p,w);p.flags|=128}if(H=p.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),vi($i,$i.current),k)break;return null;case 22:case 23:return p.lanes=0,tme(c,p,w)}return Ud(c,p,w)}var ume,hV,cme,dme;ume=function(c,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)c.appendChild(w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},hV=function(){},cme=function(c,p,w,k){var H=c.memoizedProps;if(H!==k){c=p.stateNode,jm(yc.current);var X=null;switch(w){case"input":H=mt(c,H),k=mt(c,k),X=[];break;case"select":H=pe({},H,{value:void 0}),k=pe({},k,{value:void 0}),X=[];break;case"textarea":H=jt(c,H),k=jt(c,k),X=[];break;default:typeof H.onClick!="function"&&typeof k.onClick=="function"&&(c.onclick=qM)}h5(w,k);var le;w=null;for(yt in H)if(!k.hasOwnProperty(yt)&&H.hasOwnProperty(yt)&&H[yt]!=null)if(yt==="style"){var Me=H[yt];for(le in Me)Me.hasOwnProperty(le)&&(w||(w={}),w[le]="")}else yt!=="dangerouslySetInnerHTML"&&yt!=="children"&&yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&yt!=="autoFocus"&&(g.hasOwnProperty(yt)?X||(X=[]):(X=X||[]).push(yt,null));for(yt in k){var Fe=k[yt];if(Me=H!=null?H[yt]:void 0,k.hasOwnProperty(yt)&&Fe!==Me&&(Fe!=null||Me!=null))if(yt==="style")if(Me){for(le in Me)!Me.hasOwnProperty(le)||Fe&&Fe.hasOwnProperty(le)||(w||(w={}),w[le]="");for(le in Fe)Fe.hasOwnProperty(le)&&Me[le]!==Fe[le]&&(w||(w={}),w[le]=Fe[le])}else w||(X||(X=[]),X.push(yt,w)),w=Fe;else yt==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Me=Me?Me.__html:void 0,Fe!=null&&Me!==Fe&&(X=X||[]).push(yt,Fe)):yt==="children"?typeof Fe!="string"&&typeof Fe!="number"||(X=X||[]).push(yt,""+Fe):yt!=="suppressContentEditableWarning"&&yt!=="suppressHydrationWarning"&&(g.hasOwnProperty(yt)?(Fe!=null&&yt==="onScroll"&&Pi("scroll",c),X||Me===Fe||(X=[])):(X=X||[]).push(yt,Fe))}w&&(X=X||[]).push("style",w);var yt=X;(p.updateQueue=yt)&&(p.flags|=4)}},dme=function(c,p,w,k){w!==k&&(p.flags|=4)};function cy(c,p){if(!Oi)switch(c.tailMode){case"hidden":p=c.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?c.tail=null:w.sibling=null;break;case"collapsed":w=c.tail;for(var k=null;w!==null;)w.alternate!==null&&(k=w),w=w.sibling;k===null?p||c.tail===null?c.tail=null:c.tail.sibling=null:k.sibling=null}}function jo(c){var p=c.alternate!==null&&c.alternate.child===c.child,w=0,k=0;if(p)for(var H=c.child;H!==null;)w|=H.lanes|H.childLanes,k|=H.subtreeFlags&14680064,k|=H.flags&14680064,H.return=c,H=H.sibling;else for(H=c.child;H!==null;)w|=H.lanes|H.childLanes,k|=H.subtreeFlags,k|=H.flags,H.return=c,H=H.sibling;return c.subtreeFlags|=k,c.childLanes=w,p}function XAe(c,p,w){var k=p.pendingProps;switch(Oz(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jo(p),null;case 1:return Wa(p.type)&&ZM(),jo(p),null;case 3:return k=p.stateNode,I5(),Mi($a),Mi(zo),qz(),k.pendingContext&&(k.context=k.pendingContext,k.pendingContext=null),(c===null||c.child===null)&&(nT(p)?p.flags|=4:c===null||c.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,su!==null&&(xV(su),su=null))),hV(c,p),jo(p),null;case 5:Kz(p);var H=jm(sy.current);if(w=p.type,c!==null&&p.stateNode!=null)cme(c,p,w,k,H),c.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!k){if(p.stateNode===null)throw Error(h(166));return jo(p),null}if(c=jm(yc.current),nT(p)){k=p.stateNode,w=p.type;var X=p.memoizedProps;switch(k[vc]=p,k[ey]=X,c=(p.mode&1)!==0,w){case"dialog":Pi("cancel",k),Pi("close",k);break;case"iframe":case"object":case"embed":Pi("load",k);break;case"video":case"audio":for(H=0;H<Z7.length;H++)Pi(Z7[H],k);break;case"source":Pi("error",k);break;case"img":case"image":case"link":Pi("error",k),Pi("load",k);break;case"details":Pi("toggle",k);break;case"input":ct(k,X),Pi("invalid",k);break;case"select":k._wrapperState={wasMultiple:!!X.multiple},Pi("invalid",k);break;case"textarea":Lt(k,X),Pi("invalid",k)}h5(w,X),H=null;for(var le in X)if(X.hasOwnProperty(le)){var Me=X[le];le==="children"?typeof Me=="string"?k.textContent!==Me&&(X.suppressHydrationWarning!==!0&&XM(k.textContent,Me,c),H=["children",Me]):typeof Me=="number"&&k.textContent!==""+Me&&(X.suppressHydrationWarning!==!0&&XM(k.textContent,Me,c),H=["children",""+Me]):g.hasOwnProperty(le)&&Me!=null&&le==="onScroll"&&Pi("scroll",k)}switch(w){case"input":Rn(k),Xe(k,X,!0);break;case"textarea":Rn(k),An(k);break;case"select":case"option":break;default:typeof X.onClick=="function"&&(k.onclick=qM)}k=H,p.updateQueue=k,k!==null&&(p.flags|=4)}else{le=H.nodeType===9?H:H.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=Lr(w)),c==="http://www.w3.org/1999/xhtml"?w==="script"?(c=le.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof k.is=="string"?c=le.createElement(w,{is:k.is}):(c=le.createElement(w),w==="select"&&(le=c,k.multiple?le.multiple=!0:k.size&&(le.size=k.size))):c=le.createElementNS(c,w),c[vc]=p,c[ey]=k,ume(c,p,!1,!1),p.stateNode=c;e:{switch(le=R7(w,k),w){case"dialog":Pi("cancel",c),Pi("close",c),H=k;break;case"iframe":case"object":case"embed":Pi("load",c),H=k;break;case"video":case"audio":for(H=0;H<Z7.length;H++)Pi(Z7[H],c);H=k;break;case"source":Pi("error",c),H=k;break;case"img":case"image":case"link":Pi("error",c),Pi("load",c),H=k;break;case"details":Pi("toggle",c),H=k;break;case"input":ct(c,k),H=mt(c,k),Pi("invalid",c);break;case"option":H=k;break;case"select":c._wrapperState={wasMultiple:!!k.multiple},H=pe({},k,{value:void 0}),Pi("invalid",c);break;case"textarea":Lt(c,k),H=jt(c,k),Pi("invalid",c);break;default:H=k}h5(w,H),Me=H;for(X in Me)if(Me.hasOwnProperty(X)){var Fe=Me[X];X==="style"?d5(c,Fe):X==="dangerouslySetInnerHTML"?(Fe=Fe?Fe.__html:void 0,Fe!=null&&Rp(c,Fe)):X==="children"?typeof Fe=="string"?(w!=="textarea"||Fe!=="")&&Uo(c,Fe):typeof Fe=="number"&&Uo(c,""+Fe):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(g.hasOwnProperty(X)?Fe!=null&&X==="onScroll"&&Pi("scroll",c):Fe!=null&&ie(c,X,Fe,le))}switch(w){case"input":Rn(c),Xe(c,k,!1);break;case"textarea":Rn(c),An(c);break;case"option":k.value!=null&&c.setAttribute("value",""+Qt(k.value));break;case"select":c.multiple=!!k.multiple,X=k.value,X!=null?et(c,!!k.multiple,X,!1):k.defaultValue!=null&&et(c,!!k.multiple,k.defaultValue,!0);break;default:typeof H.onClick=="function"&&(c.onclick=qM)}switch(w){case"button":case"input":case"select":case"textarea":k=!!k.autoFocus;break e;case"img":k=!0;break e;default:k=!1}}k&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return jo(p),null;case 6:if(c&&p.stateNode!=null)dme(c,p,c.memoizedProps,k);else{if(typeof k!="string"&&p.stateNode===null)throw Error(h(166));if(w=jm(sy.current),jm(yc.current),nT(p)){if(k=p.stateNode,w=p.memoizedProps,k[vc]=p,(X=k.nodeValue!==w)&&(c=g0,c!==null))switch(c.tag){case 3:XM(k.nodeValue,w,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&XM(k.nodeValue,w,(c.mode&1)!==0)}X&&(p.flags|=4)}else k=(w.nodeType===9?w:w.ownerDocument).createTextNode(k),k[vc]=p,p.stateNode=k}return jo(p),null;case 13:if(Mi($i),k=p.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(Oi&&v0!==null&&p.mode&1&&!(p.flags&128))p1e(),M5(),p.flags|=98560,X=!1;else if(X=nT(p),k!==null&&k.dehydrated!==null){if(c===null){if(!X)throw Error(h(318));if(X=p.memoizedState,X=X!==null?X.dehydrated:null,!X)throw Error(h(317));X[vc]=p}else M5(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;jo(p),X=!1}else su!==null&&(xV(su),su=null),X=!0;if(!X)return p.flags&65536?p:null}return p.flags&128?(p.lanes=w,p):(k=k!==null,k!==(c!==null&&c.memoizedState!==null)&&k&&(p.child.flags|=8192,p.mode&1&&(c===null||$i.current&1?zs===0&&(zs=3):CV())),p.updateQueue!==null&&(p.flags|=4),jo(p),null);case 4:return I5(),hV(c,p),c===null&&Q7(p.stateNode.containerInfo),jo(p),null;case 10:return zz(p.type._context),jo(p),null;case 17:return Wa(p.type)&&ZM(),jo(p),null;case 19:if(Mi($i),X=p.memoizedState,X===null)return jo(p),null;if(k=(p.flags&128)!==0,le=X.rendering,le===null)if(k)cy(X,!1);else{if(zs!==0||c!==null&&c.flags&128)for(c=p.child;c!==null;){if(le=uT(c),le!==null){for(p.flags|=128,cy(X,!1),k=le.updateQueue,k!==null&&(p.updateQueue=k,p.flags|=4),p.subtreeFlags=0,k=w,w=p.child;w!==null;)X=w,c=k,X.flags&=14680066,le=X.alternate,le===null?(X.childLanes=0,X.lanes=c,X.child=null,X.subtreeFlags=0,X.memoizedProps=null,X.memoizedState=null,X.updateQueue=null,X.dependencies=null,X.stateNode=null):(X.childLanes=le.childLanes,X.lanes=le.lanes,X.child=le.child,X.subtreeFlags=0,X.deletions=null,X.memoizedProps=le.memoizedProps,X.memoizedState=le.memoizedState,X.updateQueue=le.updateQueue,X.type=le.type,c=le.dependencies,X.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),w=w.sibling;return vi($i,$i.current&1|2),p.child}c=c.sibling}X.tail!==null&&gs()>L5&&(p.flags|=128,k=!0,cy(X,!1),p.lanes=4194304)}else{if(!k)if(c=uT(le),c!==null){if(p.flags|=128,k=!0,w=c.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),cy(X,!0),X.tail===null&&X.tailMode==="hidden"&&!le.alternate&&!Oi)return jo(p),null}else 2*gs()-X.renderingStartTime>L5&&w!==1073741824&&(p.flags|=128,k=!0,cy(X,!1),p.lanes=4194304);X.isBackwards?(le.sibling=p.child,p.child=le):(w=X.last,w!==null?w.sibling=le:p.child=le,X.last=le)}return X.tail!==null?(p=X.tail,X.rendering=p,X.tail=p.sibling,X.renderingStartTime=gs(),p.sibling=null,w=$i.current,vi($i,k?w&1|2:w&1),p):(jo(p),null);case 22:case 23:return EV(),k=p.memoizedState!==null,c!==null&&c.memoizedState!==null!==k&&(p.flags|=8192),k&&p.mode&1?y0&1073741824&&(jo(p),p.subtreeFlags&6&&(p.flags|=8192)):jo(p),null;case 24:return null;case 25:return null}throw Error(h(156,p.tag))}function qAe(c,p){switch(Oz(p),p.tag){case 1:return Wa(p.type)&&ZM(),c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 3:return I5(),Mi($a),Mi(zo),qz(),c=p.flags,c&65536&&!(c&128)?(p.flags=c&-65537|128,p):null;case 5:return Kz(p),null;case 13:if(Mi($i),c=p.memoizedState,c!==null&&c.dehydrated!==null){if(p.alternate===null)throw Error(h(340));M5()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 19:return Mi($i),null;case 4:return I5(),null;case 10:return zz(p.type._context),null;case 22:case 23:return EV(),null;case 24:return null;default:return null}}var vT=!1,Ho=!1,YAe=typeof WeakSet=="function"?WeakSet:Set,yn=null;function D5(c,p){var w=c.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(k){rs(c,p,k)}else w.current=null}function hme(c,p,w){try{w()}catch(k){rs(c,p,k)}}var pme=!1;function ZAe(c,p){if(Cz=OM,c=Vfe(),bz(c)){if("selectionStart"in c)var w={start:c.selectionStart,end:c.selectionEnd};else e:{w=(w=c.ownerDocument)&&w.defaultView||window;var k=w.getSelection&&w.getSelection();if(k&&k.rangeCount!==0){w=k.anchorNode;var H=k.anchorOffset,X=k.focusNode;k=k.focusOffset;try{w.nodeType,X.nodeType}catch{w=null;break e}var le=0,Me=-1,Fe=-1,yt=0,Gt=0,$t=c,Ht=null;t:for(;;){for(var un;$t!==w||H!==0&&$t.nodeType!==3||(Me=le+H),$t!==X||k!==0&&$t.nodeType!==3||(Fe=le+k),$t.nodeType===3&&(le+=$t.nodeValue.length),(un=$t.firstChild)!==null;)Ht=$t,$t=un;for(;;){if($t===c)break t;if(Ht===w&&++yt===H&&(Me=le),Ht===X&&++Gt===k&&(Fe=le),(un=$t.nextSibling)!==null)break;$t=Ht,Ht=$t.parentNode}$t=un}w=Me===-1||Fe===-1?null:{start:Me,end:Fe}}else w=null}w=w||{start:0,end:0}}else w=null;for(Pz={focusedElem:c,selectionRange:w},OM=!1,yn=p;yn!==null;)if(p=yn,c=p.child,(p.subtreeFlags&1028)!==0&&c!==null)c.return=p,yn=c;else for(;yn!==null;){p=yn;try{var xn=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(xn!==null){var En=xn.memoizedProps,vs=xn.memoizedState,tt=p.stateNode,$e=tt.getSnapshotBeforeUpdate(p.elementType===p.type?En:ou(p.type,En),vs);tt.__reactInternalSnapshotBeforeUpdate=$e}break;case 3:var at=p.stateNode.containerInfo;at.nodeType===1?at.textContent="":at.nodeType===9&&at.documentElement&&at.removeChild(at.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(h(163))}}catch(Kt){rs(p,p.return,Kt)}if(c=p.sibling,c!==null){c.return=p.return,yn=c;break}yn=p.return}return xn=pme,pme=!1,xn}function dy(c,p,w){var k=p.updateQueue;if(k=k!==null?k.lastEffect:null,k!==null){var H=k=k.next;do{if((H.tag&c)===c){var X=H.destroy;H.destroy=void 0,X!==void 0&&hme(p,w,X)}H=H.next}while(H!==k)}}function yT(c,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&c)===c){var k=w.create;w.destroy=k()}w=w.next}while(w!==p)}}function pV(c){var p=c.ref;if(p!==null){var w=c.stateNode;switch(c.tag){case 5:c=w;break;default:c=w}typeof p=="function"?p(c):p.current=c}}function fme(c){var p=c.alternate;p!==null&&(c.alternate=null,fme(p)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(p=c.stateNode,p!==null&&(delete p[vc],delete p[ey],delete p[Az],delete p[DAe],delete p[OAe])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function mme(c){return c.tag===5||c.tag===3||c.tag===4}function gme(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||mme(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function fV(c,p,w){var k=c.tag;if(k===5||k===6)c=c.stateNode,p?w.nodeType===8?w.parentNode.insertBefore(c,p):w.insertBefore(c,p):(w.nodeType===8?(p=w.parentNode,p.insertBefore(c,w)):(p=w,p.appendChild(c)),w=w._reactRootContainer,w!=null||p.onclick!==null||(p.onclick=qM));else if(k!==4&&(c=c.child,c!==null))for(fV(c,p,w),c=c.sibling;c!==null;)fV(c,p,w),c=c.sibling}function mV(c,p,w){var k=c.tag;if(k===5||k===6)c=c.stateNode,p?w.insertBefore(c,p):w.appendChild(c);else if(k!==4&&(c=c.child,c!==null))for(mV(c,p,w),c=c.sibling;c!==null;)mV(c,p,w),c=c.sibling}var Co=null,au=!1;function $p(c,p,w){for(w=w.child;w!==null;)vme(c,p,w),w=w.sibling}function vme(c,p,w){if(gc&&typeof gc.onCommitFiberUnmount=="function")try{gc.onCommitFiberUnmount(TM,w)}catch{}switch(w.tag){case 5:Ho||D5(w,p);case 6:var k=Co,H=au;Co=null,$p(c,p,w),Co=k,au=H,Co!==null&&(au?(c=Co,w=w.stateNode,c.nodeType===8?c.parentNode.removeChild(w):c.removeChild(w)):Co.removeChild(w.stateNode));break;case 18:Co!==null&&(au?(c=Co,w=w.stateNode,c.nodeType===8?kz(c.parentNode,w):c.nodeType===1&&kz(c,w),H7(c)):kz(Co,w.stateNode));break;case 4:k=Co,H=au,Co=w.stateNode.containerInfo,au=!0,$p(c,p,w),Co=k,au=H;break;case 0:case 11:case 14:case 15:if(!Ho&&(k=w.updateQueue,k!==null&&(k=k.lastEffect,k!==null))){H=k=k.next;do{var X=H,le=X.destroy;X=X.tag,le!==void 0&&(X&2||X&4)&&hme(w,p,le),H=H.next}while(H!==k)}$p(c,p,w);break;case 1:if(!Ho&&(D5(w,p),k=w.stateNode,typeof k.componentWillUnmount=="function"))try{k.props=w.memoizedProps,k.state=w.memoizedState,k.componentWillUnmount()}catch(Me){rs(w,p,Me)}$p(c,p,w);break;case 21:$p(c,p,w);break;case 22:w.mode&1?(Ho=(k=Ho)||w.memoizedState!==null,$p(c,p,w),Ho=k):$p(c,p,w);break;default:$p(c,p,w)}}function yme(c){var p=c.updateQueue;if(p!==null){c.updateQueue=null;var w=c.stateNode;w===null&&(w=c.stateNode=new YAe),p.forEach(function(k){var H=oIe.bind(null,c,k);w.has(k)||(w.add(k),k.then(H,H))})}}function lu(c,p){var w=p.deletions;if(w!==null)for(var k=0;k<w.length;k++){var H=w[k];try{var X=c,le=p,Me=le;e:for(;Me!==null;){switch(Me.tag){case 5:Co=Me.stateNode,au=!1;break e;case 3:Co=Me.stateNode.containerInfo,au=!0;break e;case 4:Co=Me.stateNode.containerInfo,au=!0;break e}Me=Me.return}if(Co===null)throw Error(h(160));vme(X,le,H),Co=null,au=!1;var Fe=H.alternate;Fe!==null&&(Fe.return=null),H.return=null}catch(yt){rs(H,p,yt)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)bme(p,c),p=p.sibling}function bme(c,p){var w=c.alternate,k=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(lu(p,c),_c(c),k&4){try{dy(3,c,c.return),yT(3,c)}catch(En){rs(c,c.return,En)}try{dy(5,c,c.return)}catch(En){rs(c,c.return,En)}}break;case 1:lu(p,c),_c(c),k&512&&w!==null&&D5(w,w.return);break;case 5:if(lu(p,c),_c(c),k&512&&w!==null&&D5(w,w.return),c.flags&32){var H=c.stateNode;try{Uo(H,"")}catch(En){rs(c,c.return,En)}}if(k&4&&(H=c.stateNode,H!=null)){var X=c.memoizedProps,le=w!==null?w.memoizedProps:X,Me=c.type,Fe=c.updateQueue;if(c.updateQueue=null,Fe!==null)try{Me==="input"&&X.type==="radio"&&X.name!=null&&Ee(H,X),R7(Me,le);var yt=R7(Me,X);for(le=0;le<Fe.length;le+=2){var Gt=Fe[le],$t=Fe[le+1];Gt==="style"?d5(H,$t):Gt==="dangerouslySetInnerHTML"?Rp(H,$t):Gt==="children"?Uo(H,$t):ie(H,Gt,$t,yt)}switch(Me){case"input":Se(H,X);break;case"textarea":Bt(H,X);break;case"select":var Ht=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!X.multiple;var un=X.value;un!=null?et(H,!!X.multiple,un,!1):Ht!==!!X.multiple&&(X.defaultValue!=null?et(H,!!X.multiple,X.defaultValue,!0):et(H,!!X.multiple,X.multiple?[]:"",!1))}H[ey]=X}catch(En){rs(c,c.return,En)}}break;case 6:if(lu(p,c),_c(c),k&4){if(c.stateNode===null)throw Error(h(162));H=c.stateNode,X=c.memoizedProps;try{H.nodeValue=X}catch(En){rs(c,c.return,En)}}break;case 3:if(lu(p,c),_c(c),k&4&&w!==null&&w.memoizedState.isDehydrated)try{H7(p.containerInfo)}catch(En){rs(c,c.return,En)}break;case 4:lu(p,c),_c(c);break;case 13:lu(p,c),_c(c),H=c.child,H.flags&8192&&(X=H.memoizedState!==null,H.stateNode.isHidden=X,!X||H.alternate!==null&&H.alternate.memoizedState!==null||(yV=gs())),k&4&&yme(c);break;case 22:if(Gt=w!==null&&w.memoizedState!==null,c.mode&1?(Ho=(yt=Ho)||Gt,lu(p,c),Ho=yt):lu(p,c),_c(c),k&8192){if(yt=c.memoizedState!==null,(c.stateNode.isHidden=yt)&&!Gt&&c.mode&1)for(yn=c,Gt=c.child;Gt!==null;){for($t=yn=Gt;yn!==null;){switch(Ht=yn,un=Ht.child,Ht.tag){case 0:case 11:case 14:case 15:dy(4,Ht,Ht.return);break;case 1:D5(Ht,Ht.return);var xn=Ht.stateNode;if(typeof xn.componentWillUnmount=="function"){k=Ht,w=Ht.return;try{p=k,xn.props=p.memoizedProps,xn.state=p.memoizedState,xn.componentWillUnmount()}catch(En){rs(k,w,En)}}break;case 5:D5(Ht,Ht.return);break;case 22:if(Ht.memoizedState!==null){xme($t);continue}}un!==null?(un.return=Ht,yn=un):xme($t)}Gt=Gt.sibling}e:for(Gt=null,$t=c;;){if($t.tag===5){if(Gt===null){Gt=$t;try{H=$t.stateNode,yt?(X=H.style,typeof X.setProperty=="function"?X.setProperty("display","none","important"):X.display="none"):(Me=$t.stateNode,Fe=$t.memoizedProps.style,le=Fe!=null&&Fe.hasOwnProperty("display")?Fe.display:null,Me.style.display=Lm("display",le))}catch(En){rs(c,c.return,En)}}}else if($t.tag===6){if(Gt===null)try{$t.stateNode.nodeValue=yt?"":$t.memoizedProps}catch(En){rs(c,c.return,En)}}else if(($t.tag!==22&&$t.tag!==23||$t.memoizedState===null||$t===c)&&$t.child!==null){$t.child.return=$t,$t=$t.child;continue}if($t===c)break e;for(;$t.sibling===null;){if($t.return===null||$t.return===c)break e;Gt===$t&&(Gt=null),$t=$t.return}Gt===$t&&(Gt=null),$t.sibling.return=$t.return,$t=$t.sibling}}break;case 19:lu(p,c),_c(c),k&4&&yme(c);break;case 21:break;default:lu(p,c),_c(c)}}function _c(c){var p=c.flags;if(p&2){try{e:{for(var w=c.return;w!==null;){if(mme(w)){var k=w;break e}w=w.return}throw Error(h(160))}switch(k.tag){case 5:var H=k.stateNode;k.flags&32&&(Uo(H,""),k.flags&=-33);var X=gme(c);mV(c,X,H);break;case 3:case 4:var le=k.stateNode.containerInfo,Me=gme(c);fV(c,Me,le);break;default:throw Error(h(161))}}catch(Fe){rs(c,c.return,Fe)}c.flags&=-3}p&4096&&(c.flags&=-4097)}function QAe(c,p,w){yn=c,_me(c)}function _me(c,p,w){for(var k=(c.mode&1)!==0;yn!==null;){var H=yn,X=H.child;if(H.tag===22&&k){var le=H.memoizedState!==null||vT;if(!le){var Me=H.alternate,Fe=Me!==null&&Me.memoizedState!==null||Ho;Me=vT;var yt=Ho;if(vT=le,(Ho=Fe)&&!yt)for(yn=H;yn!==null;)le=yn,Fe=le.child,le.tag===22&&le.memoizedState!==null?Sme(H):Fe!==null?(Fe.return=le,yn=Fe):Sme(H);for(;X!==null;)yn=X,_me(X),X=X.sibling;yn=H,vT=Me,Ho=yt}wme(c)}else H.subtreeFlags&8772&&X!==null?(X.return=H,yn=X):wme(c)}}function wme(c){for(;yn!==null;){var p=yn;if(p.flags&8772){var w=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Ho||yT(5,p);break;case 1:var k=p.stateNode;if(p.flags&4&&!Ho)if(w===null)k.componentDidMount();else{var H=p.elementType===p.type?w.memoizedProps:ou(p.type,w.memoizedProps);k.componentDidUpdate(H,w.memoizedState,k.__reactInternalSnapshotBeforeUpdate)}var X=p.updateQueue;X!==null&&v1e(p,X,k);break;case 3:var le=p.updateQueue;if(le!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=p.child.stateNode;break;case 1:w=p.child.stateNode}v1e(p,le,w)}break;case 5:var Me=p.stateNode;if(w===null&&p.flags&4){w=Me;var Fe=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Fe.autoFocus&&w.focus();break;case"img":Fe.src&&(w.src=Fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var yt=p.alternate;if(yt!==null){var Gt=yt.memoizedState;if(Gt!==null){var $t=Gt.dehydrated;$t!==null&&H7($t)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(h(163))}Ho||p.flags&512&&pV(p)}catch(Ht){rs(p,p.return,Ht)}}if(p===c){yn=null;break}if(w=p.sibling,w!==null){w.return=p.return,yn=w;break}yn=p.return}}function xme(c){for(;yn!==null;){var p=yn;if(p===c){yn=null;break}var w=p.sibling;if(w!==null){w.return=p.return,yn=w;break}yn=p.return}}function Sme(c){for(;yn!==null;){var p=yn;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{yT(4,p)}catch(Fe){rs(p,w,Fe)}break;case 1:var k=p.stateNode;if(typeof k.componentDidMount=="function"){var H=p.return;try{k.componentDidMount()}catch(Fe){rs(p,H,Fe)}}var X=p.return;try{pV(p)}catch(Fe){rs(p,X,Fe)}break;case 5:var le=p.return;try{pV(p)}catch(Fe){rs(p,le,Fe)}}}catch(Fe){rs(p,p.return,Fe)}if(p===c){yn=null;break}var Me=p.sibling;if(Me!==null){Me.return=p.return,yn=Me;break}yn=p.return}}var JAe=Math.ceil,bT=re.ReactCurrentDispatcher,gV=re.ReactCurrentOwner,sl=re.ReactCurrentBatchConfig,Nr=0,eo=null,ks=null,Po=0,y0=0,O5=zp(0),zs=0,hy=null,Gm=0,_T=0,vV=0,py=null,Xa=null,yV=0,L5=1/0,zd=null,wT=!1,bV=null,Wp=null,xT=!1,Kp=null,ST=0,fy=0,_V=null,ET=-1,CT=0;function va(){return Nr&6?gs():ET!==-1?ET:ET=gs()}function Xp(c){return c.mode&1?Nr&2&&Po!==0?Po&-Po:NAe.transition!==null?(CT===0&&(CT=pfe()),CT):(c=ni,c!==0||(c=window.event,c=c===void 0?16:xfe(c.type)),c):1}function uu(c,p,w,k){if(50<fy)throw fy=0,_V=null,Error(h(185));B7(c,w,k),(!(Nr&2)||c!==eo)&&(c===eo&&(!(Nr&2)&&(_T|=w),zs===4&&qp(c,Po)),qa(c,k),w===1&&Nr===0&&!(p.mode&1)&&(L5=gs()+500,JM&&jp()))}function qa(c,p){var w=c.callbackNode;Bke(c,p);var k=IM(c,c===eo?Po:0);if(k===0)w!==null&&cfe(w),c.callbackNode=null,c.callbackPriority=0;else if(p=k&-k,c.callbackPriority!==p){if(w!=null&&cfe(w),p===1)c.tag===0?LAe(Cme.bind(null,c)):l1e(Cme.bind(null,c)),IAe(function(){!(Nr&6)&&jp()}),w=null;else{switch(ffe(k)){case 1:w=nz;break;case 4:w=dfe;break;case 16:w=MM;break;case 536870912:w=hfe;break;default:w=MM}w=Dme(w,Eme.bind(null,c))}c.callbackPriority=p,c.callbackNode=w}}function Eme(c,p){if(ET=-1,CT=0,Nr&6)throw Error(h(327));var w=c.callbackNode;if(N5()&&c.callbackNode!==w)return null;var k=IM(c,c===eo?Po:0);if(k===0)return null;if(k&30||k&c.expiredLanes||p)p=PT(c,k);else{p=k;var H=Nr;Nr|=2;var X=Mme();(eo!==c||Po!==p)&&(zd=null,L5=gs()+500,Wm(c,p));do try{nIe();break}catch(Me){Pme(c,Me)}while(1);Uz(),bT.current=X,Nr=H,ks!==null?p=0:(eo=null,Po=0,p=zs)}if(p!==0){if(p===2&&(H=rz(c),H!==0&&(k=H,p=wV(c,H))),p===1)throw w=hy,Wm(c,0),qp(c,k),qa(c,gs()),w;if(p===6)qp(c,k);else{if(H=c.current.alternate,!(k&30)&&!eIe(H)&&(p=PT(c,k),p===2&&(X=rz(c),X!==0&&(k=X,p=wV(c,X))),p===1))throw w=hy,Wm(c,0),qp(c,k),qa(c,gs()),w;switch(c.finishedWork=H,c.finishedLanes=k,p){case 0:case 1:throw Error(h(345));case 2:Km(c,Xa,zd);break;case 3:if(qp(c,k),(k&130023424)===k&&(p=yV+500-gs(),10<p)){if(IM(c,0)!==0)break;if(H=c.suspendedLanes,(H&k)!==k){va(),c.pingedLanes|=c.suspendedLanes&H;break}c.timeoutHandle=Tz(Km.bind(null,c,Xa,zd),p);break}Km(c,Xa,zd);break;case 4:if(qp(c,k),(k&4194240)===k)break;for(p=c.eventTimes,H=-1;0<k;){var le=31-ru(k);X=1<<le,le=p[le],le>H&&(H=le),k&=~X}if(k=H,k=gs()-k,k=(120>k?120:480>k?480:1080>k?1080:1920>k?1920:3e3>k?3e3:4320>k?4320:1960*JAe(k/1960))-k,10<k){c.timeoutHandle=Tz(Km.bind(null,c,Xa,zd),k);break}Km(c,Xa,zd);break;case 5:Km(c,Xa,zd);break;default:throw Error(h(329))}}}return qa(c,gs()),c.callbackNode===w?Eme.bind(null,c):null}function wV(c,p){var w=py;return c.current.memoizedState.isDehydrated&&(Wm(c,p).flags|=256),c=PT(c,p),c!==2&&(p=Xa,Xa=w,p!==null&&xV(p)),c}function xV(c){Xa===null?Xa=c:Xa.push.apply(Xa,c)}function eIe(c){for(var p=c;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var k=0;k<w.length;k++){var H=w[k],X=H.getSnapshot;H=H.value;try{if(!iu(X(),H))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function qp(c,p){for(p&=~vV,p&=~_T,c.suspendedLanes|=p,c.pingedLanes&=~p,c=c.expirationTimes;0<p;){var w=31-ru(p),k=1<<w;c[w]=-1,p&=~k}}function Cme(c){if(Nr&6)throw Error(h(327));N5();var p=IM(c,0);if(!(p&1))return qa(c,gs()),null;var w=PT(c,p);if(c.tag!==0&&w===2){var k=rz(c);k!==0&&(p=k,w=wV(c,k))}if(w===1)throw w=hy,Wm(c,0),qp(c,p),qa(c,gs()),w;if(w===6)throw Error(h(345));return c.finishedWork=c.current.alternate,c.finishedLanes=p,Km(c,Xa,zd),qa(c,gs()),null}function SV(c,p){var w=Nr;Nr|=1;try{return c(p)}finally{Nr=w,Nr===0&&(L5=gs()+500,JM&&jp())}}function $m(c){Kp!==null&&Kp.tag===0&&!(Nr&6)&&N5();var p=Nr;Nr|=1;var w=sl.transition,k=ni;try{if(sl.transition=null,ni=1,c)return c()}finally{ni=k,sl.transition=w,Nr=p,!(Nr&6)&&jp()}}function EV(){y0=O5.current,Mi(O5)}function Wm(c,p){c.finishedWork=null,c.finishedLanes=0;var w=c.timeoutHandle;if(w!==-1&&(c.timeoutHandle=-1,AAe(w)),ks!==null)for(w=ks.return;w!==null;){var k=w;switch(Oz(k),k.tag){case 1:k=k.type.childContextTypes,k!=null&&ZM();break;case 3:I5(),Mi($a),Mi(zo),qz();break;case 5:Kz(k);break;case 4:I5();break;case 13:Mi($i);break;case 19:Mi($i);break;case 10:zz(k.type._context);break;case 22:case 23:EV()}w=w.return}if(eo=c,ks=c=Yp(c.current,null),Po=y0=p,zs=0,hy=null,vV=_T=Gm=0,Xa=py=null,Vm!==null){for(p=0;p<Vm.length;p++)if(w=Vm[p],k=w.interleaved,k!==null){w.interleaved=null;var H=k.next,X=w.pending;if(X!==null){var le=X.next;X.next=H,k.next=le}w.pending=k}Vm=null}return c}function Pme(c,p){do{var w=ks;try{if(Uz(),cT.current=fT,dT){for(var k=Wi.memoizedState;k!==null;){var H=k.queue;H!==null&&(H.pending=null),k=k.next}dT=!1}if(Hm=0,Js=Us=Wi=null,oy=!1,ay=0,gV.current=null,w===null||w.return===null){zs=1,hy=p,ks=null;break}e:{var X=c,le=w.return,Me=w,Fe=p;if(p=Po,Me.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var yt=Fe,Gt=Me,$t=Gt.tag;if(!(Gt.mode&1)&&($t===0||$t===11||$t===15)){var Ht=Gt.alternate;Ht?(Gt.updateQueue=Ht.updateQueue,Gt.memoizedState=Ht.memoizedState,Gt.lanes=Ht.lanes):(Gt.updateQueue=null,Gt.memoizedState=null)}var un=Y1e(le);if(un!==null){un.flags&=-257,Z1e(un,le,Me,X,p),un.mode&1&&q1e(X,yt,p),p=un,Fe=yt;var xn=p.updateQueue;if(xn===null){var En=new Set;En.add(Fe),p.updateQueue=En}else xn.add(Fe);break e}else{if(!(p&1)){q1e(X,yt,p),CV();break e}Fe=Error(h(426))}}else if(Oi&&Me.mode&1){var vs=Y1e(le);if(vs!==null){!(vs.flags&65536)&&(vs.flags|=256),Z1e(vs,le,Me,X,p),Fz(R5(Fe,Me));break e}}X=Fe=R5(Fe,Me),zs!==4&&(zs=2),py===null?py=[X]:py.push(X),X=le;do{switch(X.tag){case 3:X.flags|=65536,p&=-p,X.lanes|=p;var tt=K1e(X,Fe,p);g1e(X,tt);break e;case 1:Me=Fe;var $e=X.type,at=X.stateNode;if(!(X.flags&128)&&(typeof $e.getDerivedStateFromError=="function"||at!==null&&typeof at.componentDidCatch=="function"&&(Wp===null||!Wp.has(at)))){X.flags|=65536,p&=-p,X.lanes|=p;var Kt=X1e(X,Me,p);g1e(X,Kt);break e}}X=X.return}while(X!==null)}kme(w)}catch(Tn){p=Tn,ks===w&&w!==null&&(ks=w=w.return);continue}break}while(1)}function Mme(){var c=bT.current;return bT.current=fT,c===null?fT:c}function CV(){(zs===0||zs===3||zs===2)&&(zs=4),eo===null||!(Gm&268435455)&&!(_T&268435455)||qp(eo,Po)}function PT(c,p){var w=Nr;Nr|=2;var k=Mme();(eo!==c||Po!==p)&&(zd=null,Wm(c,p));do try{tIe();break}catch(H){Pme(c,H)}while(1);if(Uz(),Nr=w,bT.current=k,ks!==null)throw Error(h(261));return eo=null,Po=0,zs}function tIe(){for(;ks!==null;)Tme(ks)}function nIe(){for(;ks!==null&&!kke();)Tme(ks)}function Tme(c){var p=Rme(c.alternate,c,y0);c.memoizedProps=c.pendingProps,p===null?kme(c):ks=p,gV.current=null}function kme(c){var p=c;do{var w=p.alternate;if(c=p.return,p.flags&32768){if(w=qAe(w,p),w!==null){w.flags&=32767,ks=w;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{zs=6,ks=null;return}}else if(w=XAe(w,p,y0),w!==null){ks=w;return}if(p=p.sibling,p!==null){ks=p;return}ks=p=c}while(p!==null);zs===0&&(zs=5)}function Km(c,p,w){var k=ni,H=sl.transition;try{sl.transition=null,ni=1,rIe(c,p,w,k)}finally{sl.transition=H,ni=k}return null}function rIe(c,p,w,k){do N5();while(Kp!==null);if(Nr&6)throw Error(h(327));w=c.finishedWork;var H=c.finishedLanes;if(w===null)return null;if(c.finishedWork=null,c.finishedLanes=0,w===c.current)throw Error(h(177));c.callbackNode=null,c.callbackPriority=0;var X=w.lanes|w.childLanes;if(Uke(c,X),c===eo&&(ks=eo=null,Po=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||xT||(xT=!0,Dme(MM,function(){return N5(),null})),X=(w.flags&15990)!==0,w.subtreeFlags&15990||X){X=sl.transition,sl.transition=null;var le=ni;ni=1;var Me=Nr;Nr|=4,gV.current=null,ZAe(c,w),bme(w,c),CAe(Pz),OM=!!Cz,Pz=Cz=null,c.current=w,QAe(w),Ake(),Nr=Me,ni=le,sl.transition=X}else c.current=w;if(xT&&(xT=!1,Kp=c,ST=H),X=c.pendingLanes,X===0&&(Wp=null),Dke(w.stateNode),qa(c,gs()),p!==null)for(k=c.onRecoverableError,w=0;w<p.length;w++)H=p[w],k(H.value,{componentStack:H.stack,digest:H.digest});if(wT)throw wT=!1,c=bV,bV=null,c;return ST&1&&c.tag!==0&&N5(),X=c.pendingLanes,X&1?c===_V?fy++:(fy=0,_V=c):fy=0,jp(),null}function N5(){if(Kp!==null){var c=ffe(ST),p=sl.transition,w=ni;try{if(sl.transition=null,ni=16>c?16:c,Kp===null)var k=!1;else{if(c=Kp,Kp=null,ST=0,Nr&6)throw Error(h(331));var H=Nr;for(Nr|=4,yn=c.current;yn!==null;){var X=yn,le=X.child;if(yn.flags&16){var Me=X.deletions;if(Me!==null){for(var Fe=0;Fe<Me.length;Fe++){var yt=Me[Fe];for(yn=yt;yn!==null;){var Gt=yn;switch(Gt.tag){case 0:case 11:case 15:dy(8,Gt,X)}var $t=Gt.child;if($t!==null)$t.return=Gt,yn=$t;else for(;yn!==null;){Gt=yn;var Ht=Gt.sibling,un=Gt.return;if(fme(Gt),Gt===yt){yn=null;break}if(Ht!==null){Ht.return=un,yn=Ht;break}yn=un}}}var xn=X.alternate;if(xn!==null){var En=xn.child;if(En!==null){xn.child=null;do{var vs=En.sibling;En.sibling=null,En=vs}while(En!==null)}}yn=X}}if(X.subtreeFlags&2064&&le!==null)le.return=X,yn=le;else e:for(;yn!==null;){if(X=yn,X.flags&2048)switch(X.tag){case 0:case 11:case 15:dy(9,X,X.return)}var tt=X.sibling;if(tt!==null){tt.return=X.return,yn=tt;break e}yn=X.return}}var $e=c.current;for(yn=$e;yn!==null;){le=yn;var at=le.child;if(le.subtreeFlags&2064&&at!==null)at.return=le,yn=at;else e:for(le=$e;yn!==null;){if(Me=yn,Me.flags&2048)try{switch(Me.tag){case 0:case 11:case 15:yT(9,Me)}}catch(Tn){rs(Me,Me.return,Tn)}if(Me===le){yn=null;break e}var Kt=Me.sibling;if(Kt!==null){Kt.return=Me.return,yn=Kt;break e}yn=Me.return}}if(Nr=H,jp(),gc&&typeof gc.onPostCommitFiberRoot=="function")try{gc.onPostCommitFiberRoot(TM,c)}catch{}k=!0}return k}finally{ni=w,sl.transition=p}}return!1}function Ame(c,p,w){p=R5(w,p),p=K1e(c,p,1),c=Gp(c,p,1),p=va(),c!==null&&(B7(c,1,p),qa(c,p))}function rs(c,p,w){if(c.tag===3)Ame(c,c,w);else for(;p!==null;){if(p.tag===3){Ame(p,c,w);break}else if(p.tag===1){var k=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof k.componentDidCatch=="function"&&(Wp===null||!Wp.has(k))){c=R5(w,c),c=X1e(p,c,1),p=Gp(p,c,1),c=va(),p!==null&&(B7(p,1,c),qa(p,c));break}}p=p.return}}function iIe(c,p,w){var k=c.pingCache;k!==null&&k.delete(p),p=va(),c.pingedLanes|=c.suspendedLanes&w,eo===c&&(Po&w)===w&&(zs===4||zs===3&&(Po&130023424)===Po&&500>gs()-yV?Wm(c,0):vV|=w),qa(c,p)}function Ime(c,p){p===0&&(c.mode&1?(p=AM,AM<<=1,!(AM&130023424)&&(AM=4194304)):p=1);var w=va();c=Fd(c,p),c!==null&&(B7(c,p,w),qa(c,w))}function sIe(c){var p=c.memoizedState,w=0;p!==null&&(w=p.retryLane),Ime(c,w)}function oIe(c,p){var w=0;switch(c.tag){case 13:var k=c.stateNode,H=c.memoizedState;H!==null&&(w=H.retryLane);break;case 19:k=c.stateNode;break;default:throw Error(h(314))}k!==null&&k.delete(p),Ime(c,w)}var Rme;Rme=function(c,p,w){if(c!==null)if(c.memoizedProps!==p.pendingProps||$a.current)Ka=!0;else{if(!(c.lanes&w)&&!(p.flags&128))return Ka=!1,KAe(c,p,w);Ka=!!(c.flags&131072)}else Ka=!1,Oi&&p.flags&1048576&&u1e(p,tT,p.index);switch(p.lanes=0,p.tag){case 2:var k=p.type;gT(c,p),c=p.pendingProps;var H=E5(p,zo.current);k5(p,w),H=Qz(null,p,k,c,H,w);var X=Jz();return p.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Wa(k)?(X=!0,QM(p)):X=!1,p.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,Hz(p),H.updater=aT,p.stateNode=H,H._reactInternals=p,$z(p,k,c,w),p=aV(null,p,k,!0,X,w)):(p.tag=0,Oi&&X&&Dz(p),ga(null,p,H,w),p=p.child),p;case 16:k=p.elementType;e:{switch(gT(c,p),c=p.pendingProps,H=k._init,k=H(k._payload),p.type=k,H=p.tag=lIe(k),c=ou(k,c),H){case 0:p=oV(null,p,k,c,w);break e;case 1:p=rme(null,p,k,c,w);break e;case 11:p=Q1e(null,p,k,c,w);break e;case 14:p=J1e(null,p,k,ou(k.type,c),w);break e}throw Error(h(306,k,""))}return p;case 0:return k=p.type,H=p.pendingProps,H=p.elementType===k?H:ou(k,H),oV(c,p,k,H,w);case 1:return k=p.type,H=p.pendingProps,H=p.elementType===k?H:ou(k,H),rme(c,p,k,H,w);case 3:e:{if(ime(p),c===null)throw Error(h(387));k=p.pendingProps,X=p.memoizedState,H=X.element,m1e(c,p),oT(p,k,null,w);var le=p.memoizedState;if(k=le.element,X.isDehydrated)if(X={element:k,isDehydrated:!1,cache:le.cache,pendingSuspenseBoundaries:le.pendingSuspenseBoundaries,transitions:le.transitions},p.updateQueue.baseState=X,p.memoizedState=X,p.flags&256){H=R5(Error(h(423)),p),p=sme(c,p,k,w,H);break e}else if(k!==H){H=R5(Error(h(424)),p),p=sme(c,p,k,w,H);break e}else for(v0=Up(p.stateNode.containerInfo.firstChild),g0=p,Oi=!0,su=null,w=E1e(p,null,k,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(M5(),k===H){p=Ud(c,p,w);break e}ga(c,p,k,w)}p=p.child}return p;case 5:return C1e(p),c===null&&Nz(p),k=p.type,H=p.pendingProps,X=c!==null?c.memoizedProps:null,le=H.children,Mz(k,H)?le=null:X!==null&&Mz(k,X)&&(p.flags|=32),nme(c,p),ga(c,p,le,w),p.child;case 6:return c===null&&Nz(p),null;case 13:return ome(c,p,w);case 4:return Wz(p,p.stateNode.containerInfo),k=p.pendingProps,c===null?p.child=A5(p,null,k,w):ga(c,p,k,w),p.child;case 11:return k=p.type,H=p.pendingProps,H=p.elementType===k?H:ou(k,H),Q1e(c,p,k,H,w);case 7:return ga(c,p,p.pendingProps,w),p.child;case 8:return ga(c,p,p.pendingProps.children,w),p.child;case 12:return ga(c,p,p.pendingProps.children,w),p.child;case 10:e:{if(k=p.type._context,H=p.pendingProps,X=p.memoizedProps,le=H.value,vi(rT,k._currentValue),k._currentValue=le,X!==null)if(iu(X.value,le)){if(X.children===H.children&&!$a.current){p=Ud(c,p,w);break e}}else for(X=p.child,X!==null&&(X.return=p);X!==null;){var Me=X.dependencies;if(Me!==null){le=X.child;for(var Fe=Me.firstContext;Fe!==null;){if(Fe.context===k){if(X.tag===1){Fe=Bd(-1,w&-w),Fe.tag=2;var yt=X.updateQueue;if(yt!==null){yt=yt.shared;var Gt=yt.pending;Gt===null?Fe.next=Fe:(Fe.next=Gt.next,Gt.next=Fe),yt.pending=Fe}}X.lanes|=w,Fe=X.alternate,Fe!==null&&(Fe.lanes|=w),Vz(X.return,w,p),Me.lanes|=w;break}Fe=Fe.next}}else if(X.tag===10)le=X.type===p.type?null:X.child;else if(X.tag===18){if(le=X.return,le===null)throw Error(h(341));le.lanes|=w,Me=le.alternate,Me!==null&&(Me.lanes|=w),Vz(le,w,p),le=X.sibling}else le=X.child;if(le!==null)le.return=X;else for(le=X;le!==null;){if(le===p){le=null;break}if(X=le.sibling,X!==null){X.return=le.return,le=X;break}le=le.return}X=le}ga(c,p,H.children,w),p=p.child}return p;case 9:return H=p.type,k=p.pendingProps.children,k5(p,w),H=rl(H),k=k(H),p.flags|=1,ga(c,p,k,w),p.child;case 14:return k=p.type,H=ou(k,p.pendingProps),H=ou(k.type,H),J1e(c,p,k,H,w);case 15:return eme(c,p,p.type,p.pendingProps,w);case 17:return k=p.type,H=p.pendingProps,H=p.elementType===k?H:ou(k,H),gT(c,p),p.tag=1,Wa(k)?(c=!0,QM(p)):c=!1,k5(p,w),_1e(p,k,H),$z(p,k,H,w),aV(null,p,k,!0,c,w);case 19:return lme(c,p,w);case 22:return tme(c,p,w)}throw Error(h(156,p.tag))};function Dme(c,p){return ufe(c,p)}function aIe(c,p,w,k){this.tag=c,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=k,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ol(c,p,w,k){return new aIe(c,p,w,k)}function PV(c){return c=c.prototype,!(!c||!c.isReactComponent)}function lIe(c){if(typeof c=="function")return PV(c)?1:0;if(c!=null){if(c=c.$$typeof,c===De)return 11;if(c===zt)return 14}return 2}function Yp(c,p){var w=c.alternate;return w===null?(w=ol(c.tag,p,c.key,c.mode),w.elementType=c.elementType,w.type=c.type,w.stateNode=c.stateNode,w.alternate=c,c.alternate=w):(w.pendingProps=p,w.type=c.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=c.flags&14680064,w.childLanes=c.childLanes,w.lanes=c.lanes,w.child=c.child,w.memoizedProps=c.memoizedProps,w.memoizedState=c.memoizedState,w.updateQueue=c.updateQueue,p=c.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=c.sibling,w.index=c.index,w.ref=c.ref,w}function MT(c,p,w,k,H,X){var le=2;if(k=c,typeof c=="function")PV(c)&&(le=1);else if(typeof c=="string")le=5;else e:switch(c){case ye:return Xm(w.children,H,X,p);case we:le=8,H|=8;break;case Oe:return c=ol(12,w,p,H|2),c.elementType=Oe,c.lanes=X,c;case J:return c=ol(13,w,p,H),c.elementType=J,c.lanes=X,c;case Ge:return c=ol(19,w,p,H),c.elementType=Ge,c.lanes=X,c;case Ae:return TT(w,H,X,p);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case rt:le=10;break e;case he:le=9;break e;case De:le=11;break e;case zt:le=14;break e;case ke:le=16,k=null;break e}throw Error(h(130,c==null?c:typeof c,""))}return p=ol(le,w,p,H),p.elementType=c,p.type=k,p.lanes=X,p}function Xm(c,p,w,k){return c=ol(7,c,k,p),c.lanes=w,c}function TT(c,p,w,k){return c=ol(22,c,k,p),c.elementType=Ae,c.lanes=w,c.stateNode={isHidden:!1},c}function MV(c,p,w){return c=ol(6,c,null,p),c.lanes=w,c}function TV(c,p,w){return p=ol(4,c.children!==null?c.children:[],c.key,p),p.lanes=w,p.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},p}function uIe(c,p,w,k,H){this.tag=p,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iz(0),this.expirationTimes=iz(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iz(0),this.identifierPrefix=k,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function kV(c,p,w,k,H,X,le,Me,Fe){return c=new uIe(c,p,w,Me,Fe),p===1?(p=1,X===!0&&(p|=8)):p=0,X=ol(3,null,null,p),c.current=X,X.stateNode=c,X.memoizedState={element:k,isDehydrated:w,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hz(X),c}function cIe(c,p,w){var k=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ce,key:k==null?null:""+k,children:c,containerInfo:p,implementation:w}}function Ome(c){if(!c)return Vp;c=c._reactInternals;e:{if(Nm(c)!==c||c.tag!==1)throw Error(h(170));var p=c;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Wa(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(h(171))}if(c.tag===1){var w=c.type;if(Wa(w))return o1e(c,w,p)}return p}function Lme(c,p,w,k,H,X,le,Me,Fe){return c=kV(w,k,!0,c,H,X,le,Me,Fe),c.context=Ome(null),w=c.current,k=va(),H=Xp(w),X=Bd(k,H),X.callback=p??null,Gp(w,X,H),c.current.lanes=H,B7(c,H,k),qa(c,k),c}function kT(c,p,w,k){var H=p.current,X=va(),le=Xp(H);return w=Ome(w),p.context===null?p.context=w:p.pendingContext=w,p=Bd(X,le),p.payload={element:c},k=k===void 0?null:k,k!==null&&(p.callback=k),c=Gp(H,p,le),c!==null&&(uu(c,H,le,X),sT(c,H,le)),le}function AT(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Nme(c,p){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var w=c.retryLane;c.retryLane=w!==0&&w<p?w:p}}function AV(c,p){Nme(c,p),(c=c.alternate)&&Nme(c,p)}function dIe(){return null}var Fme=typeof reportError=="function"?reportError:function(c){console.error(c)};function IV(c){this._internalRoot=c}IT.prototype.render=IV.prototype.render=function(c){var p=this._internalRoot;if(p===null)throw Error(h(409));kT(c,p,null,null)},IT.prototype.unmount=IV.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var p=c.containerInfo;$m(function(){kT(null,c,null,null)}),p[Dd]=null}};function IT(c){this._internalRoot=c}IT.prototype.unstable_scheduleHydration=function(c){if(c){var p=vfe();c={blockedOn:null,target:c,priority:p};for(var w=0;w<Np.length&&p!==0&&p<Np[w].priority;w++);Np.splice(w,0,c),w===0&&_fe(c)}};function RV(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function RT(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function Bme(){}function hIe(c,p,w,k,H){if(H){if(typeof k=="function"){var X=k;k=function(){var yt=AT(le);X.call(yt)}}var le=Lme(p,k,c,0,null,!1,!1,"",Bme);return c._reactRootContainer=le,c[Dd]=le.current,Q7(c.nodeType===8?c.parentNode:c),$m(),le}for(;H=c.lastChild;)c.removeChild(H);if(typeof k=="function"){var Me=k;k=function(){var yt=AT(Fe);Me.call(yt)}}var Fe=kV(c,0,!1,null,null,!1,!1,"",Bme);return c._reactRootContainer=Fe,c[Dd]=Fe.current,Q7(c.nodeType===8?c.parentNode:c),$m(function(){kT(p,Fe,w,k)}),Fe}function DT(c,p,w,k,H){var X=w._reactRootContainer;if(X){var le=X;if(typeof H=="function"){var Me=H;H=function(){var Fe=AT(le);Me.call(Fe)}}kT(p,le,c,H)}else le=hIe(w,p,c,H,k);return AT(le)}mfe=function(c){switch(c.tag){case 3:var p=c.stateNode;if(p.current.memoizedState.isDehydrated){var w=F7(p.pendingLanes);w!==0&&(sz(p,w|1),qa(p,gs()),!(Nr&6)&&(L5=gs()+500,jp()))}break;case 13:$m(function(){var k=Fd(c,1);if(k!==null){var H=va();uu(k,c,1,H)}}),AV(c,1)}},oz=function(c){if(c.tag===13){var p=Fd(c,134217728);if(p!==null){var w=va();uu(p,c,134217728,w)}AV(c,134217728)}},gfe=function(c){if(c.tag===13){var p=Xp(c),w=Fd(c,p);if(w!==null){var k=va();uu(w,c,p,k)}AV(c,p)}},vfe=function(){return ni},yfe=function(c,p){var w=ni;try{return ni=c,p()}finally{ni=w}},p5=function(c,p,w){switch(p){case"input":if(Se(c,w),p=w.name,w.type==="radio"&&p!=null){for(w=c;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<w.length;p++){var k=w[p];if(k!==c&&k.form===c.form){var H=YM(k);if(!H)throw Error(h(90));jr(k),Se(k,H)}}}break;case"textarea":Bt(c,w);break;case"select":p=w.value,p!=null&&et(c,!!w.multiple,p,!1)}},nfe=SV,rfe=$m;var pIe={usingClientEntryPoint:!1,Events:[ty,x5,YM,efe,tfe,SV]},my={findFiberByHostInstance:Fm,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fIe={bundleType:my.bundleType,version:my.version,rendererPackageName:my.rendererPackageName,rendererConfig:my.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=afe(c),c===null?null:c.stateNode},findFiberByHostInstance:my.findFiberByHostInstance||dIe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(gy=__REACT_DEVTOOLS_GLOBAL_HOOK__,!gy.isDisabled&&gy.supportsFiber))try{TM=gy.inject(fIe),gc=gy}catch{}var gy;s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pIe,s.createPortal=function(c,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RV(p))throw Error(h(200));return cIe(c,p,null,w)},s.createRoot=function(c,p){if(!RV(c))throw Error(h(299));var w=!1,k="",H=Fme;return p!=null&&(p.unstable_strictMode===!0&&(w=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onRecoverableError!==void 0&&(H=p.onRecoverableError)),p=kV(c,1,!1,null,null,w,!1,k,H),c[Dd]=p.current,Q7(c.nodeType===8?c.parentNode:c),new IV(p)},s.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var p=c._reactInternals;if(p===void 0)throw typeof c.render=="function"?Error(h(188)):(c=Object.keys(c).join(","),Error(h(268,c)));return c=afe(p),c=c===null?null:c.stateNode,c},s.flushSync=function(c){return $m(c)},s.hydrate=function(c,p,w){if(!RT(p))throw Error(h(200));return DT(null,c,p,!0,w)},s.hydrateRoot=function(c,p,w){if(!RV(c))throw Error(h(405));var k=w!=null&&w.hydratedSources||null,H=!1,X="",le=Fme;if(w!=null&&(w.unstable_strictMode===!0&&(H=!0),w.identifierPrefix!==void 0&&(X=w.identifierPrefix),w.onRecoverableError!==void 0&&(le=w.onRecoverableError)),p=Lme(p,null,c,1,w??null,H,!1,X,le),c[Dd]=p.current,Q7(c),k)for(c=0;c<k.length;c++)w=k[c],H=w._getVersion,H=H(w._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[w,H]:p.mutableSourceEagerHydrationData.push(w,H);return new IT(p)},s.render=function(c,p,w){if(!RT(p))throw Error(h(200));return DT(null,c,p,!1,w)},s.unmountComponentAtNode=function(c){if(!RT(c))throw Error(h(40));return c._reactRootContainer?($m(function(){DT(null,null,c,!1,function(){c._reactRootContainer=null,c[Dd]=null})}),!0):!1},s.unstable_batchedUpdates=SV,s.unstable_renderSubtreeIntoContainer=function(c,p,w,k){if(!RT(w))throw Error(h(200));if(c==null||c._reactInternals===void 0)throw Error(h(38));return DT(c,p,w,!1,k)},s.version="18.2.0-next-9e3b772b8-20220608"}),Rl=V((s,a)=>{function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(h){console.error(h)}}l(),a.exports=N8()});function zO(s){let[,a]=(0,Gu.useState)(0);return(0,Gu.useCallback)(()=>{a(l=>l+1)},[])}function Xn(s,a,l){let h=(0,Gu.useCallback)(s,a),f=(0,Gu.useRef)(null);f.current?f.current.set(h):f.current=new Ua.Atom(h);let g=(0,Gu.useRef)(null);return g.current||(g.current=(0,Ua.prism)(()=>f.current.prism.getValue()())),e3(g.current,l)}function gE(){H1||(H1=!0,(0,F8.default)(()=>{(0,vE.unstable_batchedUpdates)(function(){for(var s,a;o0.length>0;){let l=o0.shift();Yh.delete(l);let h;Dl&&((s=l.debug)==null||s.history.push("queue reached"));try{h=l.der.getValue()}catch(f){Dl&&((a=l.debug)==null||a.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(f),l.runUpdate();continue}h!==l.lastValue&&(l.lastValue=h,l.runUpdate())}H1=!1},1)}))}function e3(s,a){var l;let h=zO(),f=(0,Gu.useRef)(void 0);f.current||(B8++,f.current={order:B8,runUpdate:()=>{f.current.unmounted||h()},der:s,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var b;Dl&&((b=f.current.debug)==null||b.history.push("queueUpdate()")),yE(f.current)},untap:s.onStale(()=>{Dl&&f.current.debug.history.push("onStale(cb)"),f.current.queueUpdate()})},Dl&&(f.current.debug={label:a,traceOfFirstTimeRender:new Error,history:[]})),(0,Gu.useLayoutEffect)(()=>function(){f.current.unmounted=!0,f.current.untap(),U8(f.current)},[]),U8(f.current);let g=f.current.der.getValue();return f.current.lastValue=g,Dl&&((l=f.current.debug)==null||l.history.push("rendered")),g}var Ua,F8,Gu,vE,Dl,nr,B8,o0,Yh,H1,yE,bE,U8,Sn=C(()=>{Ua=Vt,pi(),F8=q(L8()),Gu=q(Le()),vE=q(Rl()),Dl=!1,nr=(s,a)=>Xn(()=>(0,Ua.val)(s),[s],a),B8=0,o0=[],Yh=new Set,H1=!1,yE=s=>{bE(s),gE()},bE=s=>{if(!Yh.has(s))if(Yh.add(s),o0.length===0)o0.push(s);else{let a=C8(o0,l=>l.order>=s.order);a===-1?o0.push(s):o0[a].order>s.order&&o0.splice(a,0,s)}},U8=s=>{if(!Yh.has(s))return;Yh.delete(s);let a=C8(o0,l=>l===s);o0.splice(a,1)}}),VO=V(s=>{var a=60103,l=60106,h=60107,f=60108,g=60114,b=60109,_=60110,E=60112,P=60113,I=60120,O=60115,D=60116,A=60121,F=60122,N=60117,j=60129,$=60131;typeof Symbol=="function"&&Symbol.for&&(K=Symbol.for,a=K("react.element"),l=K("react.portal"),h=K("react.fragment"),f=K("react.strict_mode"),g=K("react.profiler"),b=K("react.provider"),_=K("react.context"),E=K("react.forward_ref"),P=K("react.suspense"),I=K("react.suspense_list"),O=K("react.memo"),D=K("react.lazy"),A=K("react.block"),F=K("react.server.block"),N=K("react.fundamental"),j=K("react.debug_trace_mode"),$=K("react.legacy_hidden"));var K;function Q(J){if(typeof J=="object"&&J!==null){var Ge=J.$$typeof;switch(Ge){case a:switch(J=J.type,J){case h:case g:case f:case P:case I:return J;default:switch(J=J&&J.$$typeof,J){case _:case E:case D:case O:case b:return J;default:return Ge}}case l:return Ge}}}var ie=b,re=a,ce=E,Ce=h,ye=D,we=O,Oe=l,rt=g,he=f,De=P;s.ContextConsumer=_,s.ContextProvider=ie,s.Element=re,s.ForwardRef=ce,s.Fragment=Ce,s.Lazy=ye,s.Memo=we,s.Portal=Oe,s.Profiler=rt,s.StrictMode=he,s.Suspense=De,s.isAsyncMode=function(){return!1},s.isConcurrentMode=function(){return!1},s.isContextConsumer=function(J){return Q(J)===_},s.isContextProvider=function(J){return Q(J)===b},s.isElement=function(J){return typeof J=="object"&&J!==null&&J.$$typeof===a},s.isForwardRef=function(J){return Q(J)===E},s.isFragment=function(J){return Q(J)===h},s.isLazy=function(J){return Q(J)===D},s.isMemo=function(J){return Q(J)===O},s.isPortal=function(J){return Q(J)===l},s.isProfiler=function(J){return Q(J)===g},s.isStrictMode=function(J){return Q(J)===f},s.isSuspense=function(J){return Q(J)===P},s.isValidElementType=function(J){return typeof J=="string"||typeof J=="function"||J===h||J===g||J===j||J===f||J===P||J===I||J===$||typeof J=="object"&&J!==null&&(J.$$typeof===D||J.$$typeof===O||J.$$typeof===b||J.$$typeof===_||J.$$typeof===E||J.$$typeof===N||J.$$typeof===A||J[0]===F)},s.typeOf=Q}),jO=V((s,a)=>{a.exports=VO()}),z8=V((s,a)=>{a.exports=function(l,h,f,g){var b=f?f.call(g,l,h):void 0;if(b!==void 0)return!!b;if(l===h)return!0;if(typeof l!="object"||!l||typeof h!="object"||!h)return!1;var _=Object.keys(l),E=Object.keys(h);if(_.length!==E.length)return!1;for(var P=Object.prototype.hasOwnProperty.bind(h),I=0;I<_.length;I++){var O=_[I];if(!P(O))return!1;var D=l[O],A=h[O];if(b=f?f.call(g,D,A,O):void 0,b===!1||b===void 0&&D!==A)return!1}return!0}});function HO(s){function a(ge,Je,nt,lt,Ke){for(var sn=0,St=0,Qt=0,wn=0,Nn,Rn,jr=0,ee=0,mt,ct=mt=Nn=0,Ee=0,Se=0,Xe=0,Tt=0,Ft=nt.length,et=Ft-1,jt,Lt="",Bt="",An="",Lr="",Jn;Ee<Ft;){if(Rn=nt.charCodeAt(Ee),Ee===et&&St+wn+Qt+sn!==0&&(St!==0&&(Rn=St===47?10:47),wn=Qt=sn=0,Ft++,et++),St+wn+Qt+sn===0){if(Ee===et&&(0<Se&&(Lt=Lt.replace(D,"")),0<Lt.trim().length)){switch(Rn){case 32:case 9:case 59:case 13:case 10:break;default:Lt+=nt.charAt(Ee)}Rn=59}switch(Rn){case 123:for(Lt=Lt.trim(),Nn=Lt.charCodeAt(0),mt=1,Tt=++Ee;Ee<Ft;){switch(Rn=nt.charCodeAt(Ee)){case 123:mt++;break;case 125:mt--;break;case 47:switch(Rn=nt.charCodeAt(Ee+1)){case 42:case 47:e:{for(ct=Ee+1;ct<et;++ct)switch(nt.charCodeAt(ct)){case 47:if(Rn===42&&nt.charCodeAt(ct-1)===42&&Ee+2!==ct){Ee=ct+1;break e}break;case 10:if(Rn===47){Ee=ct+1;break e}}Ee=ct}}break;case 91:Rn++;case 40:Rn++;case 34:case 39:for(;Ee++<et&&nt.charCodeAt(Ee)!==Rn;);}if(mt===0)break;Ee++}switch(mt=nt.substring(Tt,Ee),Nn===0&&(Nn=(Lt=Lt.replace(O,"").trim()).charCodeAt(0)),Nn){case 64:switch(0<Se&&(Lt=Lt.replace(D,"")),Rn=Lt.charCodeAt(1),Rn){case 100:case 109:case 115:case 45:Se=Je;break;default:Se=zt}if(mt=a(Je,Se,mt,Rn,Ke+1),Tt=mt.length,0<Ae&&(Se=l(zt,Lt,Xe),Jn=_(3,mt,Se,Je,De,he,Tt,Rn,Ke,lt),Lt=Se.join(""),Jn!==void 0&&(Tt=(mt=Jn.trim()).length)===0&&(Rn=0,mt="")),0<Tt)switch(Rn){case 115:Lt=Lt.replace(ce,b);case 100:case 109:case 45:mt=Lt+"{"+mt+"}";break;case 107:Lt=Lt.replace(K,"$1 $2"),mt=Lt+"{"+mt+"}",mt=Ge===1||Ge===2&&g("@"+mt,3)?"@-webkit-"+mt+"@"+mt:"@"+mt;break;default:mt=Lt+mt,lt===112&&(mt=(Bt+=mt,""))}else mt="";break;default:mt=a(Je,l(Je,Lt,Xe),mt,lt,Ke+1)}An+=mt,mt=Xe=Se=ct=Nn=0,Lt="",Rn=nt.charCodeAt(++Ee);break;case 125:case 59:if(Lt=(0<Se?Lt.replace(D,""):Lt).trim(),1<(Tt=Lt.length))switch(ct===0&&(Nn=Lt.charCodeAt(0),Nn===45||96<Nn&&123>Nn)&&(Tt=(Lt=Lt.replace(" ",":")).length),0<Ae&&(Jn=_(1,Lt,Je,ge,De,he,Bt.length,lt,Ke,lt))!==void 0&&(Tt=(Lt=Jn.trim()).length)===0&&(Lt="\0\0"),Nn=Lt.charCodeAt(0),Rn=Lt.charCodeAt(1),Nn){case 0:break;case 64:if(Rn===105||Rn===99){Lr+=Lt+nt.charAt(Ee);break}default:Lt.charCodeAt(Tt-1)!==58&&(Bt+=f(Lt,Nn,Rn,Lt.charCodeAt(2)))}Xe=Se=ct=Nn=0,Lt="",Rn=nt.charCodeAt(++Ee)}}switch(Rn){case 13:case 10:St===47?St=0:1+Nn===0&&lt!==107&&0<Lt.length&&(Se=1,Lt+="\0"),0<Ae*Pt&&_(0,Lt,Je,ge,De,he,Bt.length,lt,Ke,lt),he=1,De++;break;case 59:case 125:if(St+wn+Qt+sn===0){he++;break}default:switch(he++,jt=nt.charAt(Ee),Rn){case 9:case 32:if(wn+sn+St===0)switch(jr){case 44:case 58:case 9:case 32:jt="";break;default:Rn!==32&&(jt=" ")}break;case 0:jt="\\0";break;case 12:jt="\\f";break;case 11:jt="\\v";break;case 38:wn+St+sn===0&&(Se=Xe=1,jt="\f"+jt);break;case 108:if(wn+St+sn+J===0&&0<ct)switch(Ee-ct){case 2:jr===112&&nt.charCodeAt(Ee-3)===58&&(J=jr);case 8:ee===111&&(J=ee)}break;case 58:wn+St+sn===0&&(ct=Ee);break;case 44:St+Qt+wn+sn===0&&(Se=1,jt+="\r");break;case 34:case 39:St===0&&(wn=wn===Rn?0:wn===0?Rn:wn);break;case 91:wn+St+Qt===0&&sn++;break;case 93:wn+St+Qt===0&&sn--;break;case 41:wn+St+sn===0&&Qt--;break;case 40:if(wn+St+sn===0){if(Nn===0)switch(2*jr+3*ee){case 533:break;default:Nn=1}Qt++}break;case 64:St+Qt+wn+sn+ct+mt===0&&(mt=1);break;case 42:case 47:if(!(0<wn+sn+Qt))switch(St){case 0:switch(2*Rn+3*nt.charCodeAt(Ee+1)){case 235:St=47;break;case 220:Tt=Ee,St=42}break;case 42:Rn===47&&jr===42&&Tt+2!==Ee&&(nt.charCodeAt(Tt+2)===33&&(Bt+=nt.substring(Tt,Ee+1)),jt="",St=0)}}St===0&&(Lt+=jt)}ee=jr,jr=Rn,Ee++}if(Tt=Bt.length,0<Tt){if(Se=Je,0<Ae&&(Jn=_(2,Bt,Se,ge,De,he,Tt,lt,Ke,lt),Jn!==void 0&&(Bt=Jn).length===0))return Lr+Bt+An;if(Bt=Se.join(",")+"{"+Bt+"}",Ge*J!==0){switch(Ge!==2||g(Bt,2)||(J=0),J){case 111:Bt=Bt.replace(ie,":-moz-$1")+Bt;break;case 112:Bt=Bt.replace(Q,"::-webkit-input-$1")+Bt.replace(Q,"::-moz-$1")+Bt.replace(Q,":-ms-input-$1")+Bt}J=0}}return Lr+Bt+An}function l(ge,Je,nt){var lt=Je.trim().split(j);Je=lt;var Ke=lt.length,sn=ge.length;switch(sn){case 0:case 1:var St=0;for(ge=sn===0?"":ge[0]+" ";St<Ke;++St)Je[St]=h(ge,Je[St],nt).trim();break;default:var Qt=St=0;for(Je=[];St<Ke;++St)for(var wn=0;wn<sn;++wn)Je[Qt++]=h(ge[wn]+" ",lt[St],nt).trim()}return Je}function h(ge,Je,nt){var lt=Je.charCodeAt(0);switch(33>lt&&(lt=(Je=Je.trim()).charCodeAt(0)),lt){case 38:return Je.replace($,"$1"+ge.trim());case 58:return ge.trim()+Je.replace($,"$1"+ge.trim());default:if(0<1*nt&&0<Je.indexOf("\f"))return Je.replace($,(ge.charCodeAt(0)===58?"":"$1")+ge.trim())}return ge+Je}function f(ge,Je,nt,lt){var Ke=ge+";",sn=2*Je+3*nt+4*lt;if(sn===944){ge=Ke.indexOf(":",9)+1;var St=Ke.substring(ge,Ke.length-1).trim();return St=Ke.substring(0,ge).trim()+St+";",Ge===1||Ge===2&&g(St,1)?"-webkit-"+St+St:St}if(Ge===0||Ge===2&&!g(Ke,1))return Ke;switch(sn){case 1015:return Ke.charCodeAt(10)===97?"-webkit-"+Ke+Ke:Ke;case 951:return Ke.charCodeAt(3)===116?"-webkit-"+Ke+Ke:Ke;case 963:return Ke.charCodeAt(5)===110?"-webkit-"+Ke+Ke:Ke;case 1009:if(Ke.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+Ke+Ke;case 978:return"-webkit-"+Ke+"-moz-"+Ke+Ke;case 1019:case 983:return"-webkit-"+Ke+"-moz-"+Ke+"-ms-"+Ke+Ke;case 883:if(Ke.charCodeAt(8)===45)return"-webkit-"+Ke+Ke;if(0<Ke.indexOf("image-set(",11))return Ke.replace(rt,"$1-webkit-$2")+Ke;break;case 932:if(Ke.charCodeAt(4)===45)switch(Ke.charCodeAt(5)){case 103:return"-webkit-box-"+Ke.replace("-grow","")+"-webkit-"+Ke+"-ms-"+Ke.replace("grow","positive")+Ke;case 115:return"-webkit-"+Ke+"-ms-"+Ke.replace("shrink","negative")+Ke;case 98:return"-webkit-"+Ke+"-ms-"+Ke.replace("basis","preferred-size")+Ke}return"-webkit-"+Ke+"-ms-"+Ke+Ke;case 964:return"-webkit-"+Ke+"-ms-flex-"+Ke+Ke;case 1023:if(Ke.charCodeAt(8)!==99)break;return St=Ke.substring(Ke.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+St+"-webkit-"+Ke+"-ms-flex-pack"+St+Ke;case 1005:return F.test(Ke)?Ke.replace(A,":-webkit-")+Ke.replace(A,":-moz-")+Ke:Ke;case 1e3:switch(St=Ke.substring(13).trim(),Je=St.indexOf("-")+1,St.charCodeAt(0)+St.charCodeAt(Je)){case 226:St=Ke.replace(re,"tb");break;case 232:St=Ke.replace(re,"tb-rl");break;case 220:St=Ke.replace(re,"lr");break;default:return Ke}return"-webkit-"+Ke+"-ms-"+St+Ke;case 1017:if(Ke.indexOf("sticky",9)===-1)break;case 975:switch(Je=(Ke=ge).length-10,St=(Ke.charCodeAt(Je)===33?Ke.substring(0,Je):Ke).substring(ge.indexOf(":",7)+1).trim(),sn=St.charCodeAt(0)+(St.charCodeAt(7)|0)){case 203:if(111>St.charCodeAt(8))break;case 115:Ke=Ke.replace(St,"-webkit-"+St)+";"+Ke;break;case 207:case 102:Ke=Ke.replace(St,"-webkit-"+(102<sn?"inline-":"")+"box")+";"+Ke.replace(St,"-webkit-"+St)+";"+Ke.replace(St,"-ms-"+St+"box")+";"+Ke}return Ke+";";case 938:if(Ke.charCodeAt(5)===45)switch(Ke.charCodeAt(6)){case 105:return St=Ke.replace("-items",""),"-webkit-"+Ke+"-webkit-box-"+St+"-ms-flex-"+St+Ke;case 115:return"-webkit-"+Ke+"-ms-flex-item-"+Ke.replace(ye,"")+Ke;default:return"-webkit-"+Ke+"-ms-flex-line-pack"+Ke.replace("align-content","").replace(ye,"")+Ke}break;case 973:case 989:if(Ke.charCodeAt(3)!==45||Ke.charCodeAt(4)===122)break;case 931:case 953:if(Oe.test(ge)===!0)return(St=ge.substring(ge.indexOf(":")+1)).charCodeAt(0)===115?f(ge.replace("stretch","fill-available"),Je,nt,lt).replace(":fill-available",":stretch"):Ke.replace(St,"-webkit-"+St)+Ke.replace(St,"-moz-"+St.replace("fill-",""))+Ke;break;case 962:if(Ke="-webkit-"+Ke+(Ke.charCodeAt(5)===102?"-ms-"+Ke:"")+Ke,nt+lt===211&&Ke.charCodeAt(13)===105&&0<Ke.indexOf("transform",10))return Ke.substring(0,Ke.indexOf(";",27)+1).replace(N,"$1-webkit-$2")+Ke}return Ke}function g(ge,Je){var nt=ge.indexOf(Je===1?":":"{"),lt=ge.substring(0,Je!==3?nt:10);return nt=ge.substring(nt+1,ge.length-1),We(Je!==2?lt:lt.replace(we,"$1"),nt,Je)}function b(ge,Je){var nt=f(Je,Je.charCodeAt(0),Je.charCodeAt(1),Je.charCodeAt(2));return nt!==Je+";"?nt.replace(Ce," or ($1)").substring(4):"("+Je+")"}function _(ge,Je,nt,lt,Ke,sn,St,Qt,wn,Nn){for(var Rn=0,jr=Je,ee;Rn<Ae;++Rn)switch(ee=ke[Rn].call(I,ge,jr,nt,lt,Ke,sn,St,Qt,wn,Nn)){case void 0:case!1:case!0:case null:break;default:jr=ee}if(jr!==Je)return jr}function E(ge){switch(ge){case void 0:case null:Ae=ke.length=0;break;default:if(typeof ge=="function")ke[Ae++]=ge;else if(typeof ge=="object")for(var Je=0,nt=ge.length;Je<nt;++Je)E(ge[Je]);else Pt=!!ge|0}return E}function P(ge){return ge=ge.prefix,ge!==void 0&&(We=null,ge?typeof ge!="function"?Ge=1:(Ge=2,We=ge):Ge=0),P}function I(ge,Je){var nt=ge;if(33>nt.charCodeAt(0)&&(nt=nt.trim()),pe=nt,nt=[pe],0<Ae){var lt=_(-1,Je,nt,nt,De,he,0,0,0,0);lt!==void 0&&typeof lt=="string"&&(Je=lt)}var Ke=a(zt,nt,Je,0,0);return 0<Ae&&(lt=_(-2,Ke,nt,nt,De,he,Ke.length,0,0,0),lt!==void 0&&(Ke=lt)),pe="",J=0,he=De=1,Ke}var O=/^\0+/g,D=/[\0\r\f]/g,A=/: */g,F=/zoo|gra/,N=/([,: ])(transform)/g,j=/,\r+?/g,$=/([\t\r\n ])*\f?&/g,K=/@(k\w+)\s*(\S*)\s*/,Q=/::(place)/g,ie=/:(read-only)/g,re=/[svh]\w+-[tblr]{2}/,ce=/\(\s*(.*)\s*\)/g,Ce=/([\s\S]*?);/g,ye=/-self|flex-/g,we=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Oe=/stretch|:\s*\w+\-(?:conte|avail)/,rt=/([^-])(image-set\()/,he=1,De=1,J=0,Ge=1,zt=[],ke=[],Ae=0,We=null,Pt=0,pe="";return I.use=E,I.set=P,s!==void 0&&P(s),I}var Zh,_E=C(()=>{Zh=HO}),wE,xE,GO=C(()=>{wE={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},xE=wE});function $O(s){var a=Object.create(null);return function(l){return a[l]===void 0&&(a[l]=s(l)),a[l]}}var t3,WO=C(()=>{t3=$O}),Qh,SE,V8,KO=C(()=>{WO(),Qh=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,SE=t3(function(s){return Qh.test(s)||s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)<91}),V8=SE}),XO=V(s=>{var a=typeof Symbol=="function"&&Symbol.for,l=a?Symbol.for("react.element"):60103,h=a?Symbol.for("react.portal"):60106,f=a?Symbol.for("react.fragment"):60107,g=a?Symbol.for("react.strict_mode"):60108,b=a?Symbol.for("react.profiler"):60114,_=a?Symbol.for("react.provider"):60109,E=a?Symbol.for("react.context"):60110,P=a?Symbol.for("react.async_mode"):60111,I=a?Symbol.for("react.concurrent_mode"):60111,O=a?Symbol.for("react.forward_ref"):60112,D=a?Symbol.for("react.suspense"):60113,A=a?Symbol.for("react.suspense_list"):60120,F=a?Symbol.for("react.memo"):60115,N=a?Symbol.for("react.lazy"):60116,j=a?Symbol.for("react.block"):60121,$=a?Symbol.for("react.fundamental"):60117,K=a?Symbol.for("react.responder"):60118,Q=a?Symbol.for("react.scope"):60119;function ie(ce){if(typeof ce=="object"&&ce!==null){var Ce=ce.$$typeof;switch(Ce){case l:switch(ce=ce.type,ce){case P:case I:case f:case b:case g:case D:return ce;default:switch(ce=ce&&ce.$$typeof,ce){case E:case O:case N:case F:case _:return ce;default:return Ce}}case h:return Ce}}}function re(ce){return ie(ce)===I}s.AsyncMode=P,s.ConcurrentMode=I,s.ContextConsumer=E,s.ContextProvider=_,s.Element=l,s.ForwardRef=O,s.Fragment=f,s.Lazy=N,s.Memo=F,s.Portal=h,s.Profiler=b,s.StrictMode=g,s.Suspense=D,s.isAsyncMode=function(ce){return re(ce)||ie(ce)===P},s.isConcurrentMode=re,s.isContextConsumer=function(ce){return ie(ce)===E},s.isContextProvider=function(ce){return ie(ce)===_},s.isElement=function(ce){return typeof ce=="object"&&ce!==null&&ce.$$typeof===l},s.isForwardRef=function(ce){return ie(ce)===O},s.isFragment=function(ce){return ie(ce)===f},s.isLazy=function(ce){return ie(ce)===N},s.isMemo=function(ce){return ie(ce)===F},s.isPortal=function(ce){return ie(ce)===h},s.isProfiler=function(ce){return ie(ce)===b},s.isStrictMode=function(ce){return ie(ce)===g},s.isSuspense=function(ce){return ie(ce)===D},s.isValidElementType=function(ce){return typeof ce=="string"||typeof ce=="function"||ce===f||ce===I||ce===b||ce===g||ce===D||ce===A||typeof ce=="object"&&ce!==null&&(ce.$$typeof===N||ce.$$typeof===F||ce.$$typeof===_||ce.$$typeof===E||ce.$$typeof===O||ce.$$typeof===$||ce.$$typeof===K||ce.$$typeof===Q||ce.$$typeof===j)},s.typeOf=ie}),j8=V((s,a)=>{a.exports=XO()}),EE=V((s,a)=>{var l=j8(),h={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},g={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},b={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},_={};_[l.ForwardRef]=g,_[l.Memo]=b;function E(j){return l.isMemo(j)?b:_[j.$$typeof]||h}var P=Object.defineProperty,I=Object.getOwnPropertyNames,O=Object.getOwnPropertySymbols,D=Object.getOwnPropertyDescriptor,A=Object.getPrototypeOf,F=Object.prototype;function N(j,$,K){if(typeof $!="string"){if(F){var Q=A($);Q&&Q!==F&&N(j,Q,K)}var ie=I($);O&&(ie=ie.concat(O($)));for(var re=E(j),ce=E($),Ce=0;Ce<ie.length;++Ce){var ye=ie[Ce];if(!f[ye]&&!(K&&K[ye])&&!(ce&&ce[ye])&&!(re&&re[ye])){var we=D($,ye);try{P(j,ye,we)}catch{}}}}return j}a.exports=N});function a0(){return(a0=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h])}return s}).apply(this,arguments)}function G1(s){return typeof s=="function"}function oa(s){return s.displayName||s.name||"Component"}function Ol(s){return s&&typeof s.styledComponentId=="string"}function ho(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];throw new Error("An error occurred. See https://git.io/JUIaE#"+s+" for more information."+(l.length>0?" Args: "+l.join(", "):""))}function H8(s){var a,l="";for(a=Math.abs(s);a>52;a=a/52|0)l=Y8(a%52)+l;return(Y8(a%52)+l).replace(X1,"$1-$2")}function Jh(s){for(var a=0;a<s.length;a+=1){var l=s[a];if(G1(l)&&!Ol(l))return!1}return!0}function sd(s){var a,l,h,f,g=s===void 0?za:s,b=g.options,_=b===void 0?za:b,E=g.plugins,P=E===void 0?od:E,I=new Zh(_),O=[],D=function(N){function j($){if($)try{N($+"}")}catch{}}return function($,K,Q,ie,re,ce,Ce,ye,we,Oe){switch($){case 1:if(we===0&&K.charCodeAt(0)===64)return N(K+";"),"";break;case 2:if(ye===0)return K+"/*|*/";break;case 3:switch(ye){case 102:case 112:return N(Q[0]+K),"";default:return K+(Oe===0?"/*|*/":"")}case-2:K.split("/*|*/}").forEach(j)}}}(function(N){O.push(N)}),A=function(N,j,$){return j===0&&J8.indexOf($[l.length])!==-1||$.match(f)?N:"."+a};function F(N,j,$,K){K===void 0&&(K="&");var Q=N.replace(Q8,""),ie=j&&$?$+" "+j+" { "+Q+" }":Q;return a=K,l=j,h=new RegExp("\\"+l+"\\b","g"),f=new RegExp("(\\"+l+"\\b){2,}"),I($||!j?"":j,ie)}return I.use([].concat(P,[function(N,j,$){N===2&&$.length&&$[0].lastIndexOf(l)>0&&($[0]=$[0].replace(h,A))},D,function(N){if(N===-2){var j=O;return O=[],j}}])),F.hash=P.length?P.reduce(function(N,j){return j.name||ho(15),ps(N,j.name)},5381).toString():"",F}function $1(){return(0,Si.useContext)(p3)||e6}function CE(){return(0,Si.useContext)(f3)||ip}function G8(s){var a=(0,Si.useState)(s.stylisPlugins),l=a[0],h=a[1],f=$1(),g=(0,Si.useMemo)(function(){var _=f;return s.sheet?_=s.sheet:s.target&&(_=_.reconstructWithOptions({target:s.target},!1)),s.disableCSSOMInjection&&(_=_.reconstructWithOptions({useCSSOMInjection:!1})),_},[s.disableCSSOMInjection,s.sheet,s.target]),b=(0,Si.useMemo)(function(){return sd({options:{prefix:!s.disableVendorPrefixes},plugins:l})},[s.disableVendorPrefixes,l]);return(0,Si.useEffect)(function(){(0,W1.default)(l,s.stylisPlugins)||h(s.stylisPlugins)},[s.stylisPlugins]),Si.default.createElement(p3.Provider,{value:g},Si.default.createElement(f3.Provider,{value:b},s.children))}function PE(s){return DE.test(s)?s.replace(OE,n6).replace(m3,"-ms-"):s}function Ll(s,a,l,h){if(Array.isArray(s)){for(var f,g=[],b=0,_=s.length;b<_;b+=1)(f=Ll(s[b],a,l,h))!==""&&(Array.isArray(f)?g.push.apply(g,f):g.push(f));return g}if(r6(s))return"";if(Ol(s))return"."+s.styledComponentId;if(G1(s)){if(typeof(P=s)!="function"||P.prototype&&P.prototype.isReactComponent||!a)return s;var E=s(a);return Ll(E,a,l,h)}var P;return s instanceof t6?l?(s.inject(l,h),s.getName(h)):s:o3(s)?function I(O,D){var A,F,N=[];for(var j in O)O.hasOwnProperty(j)&&!r6(O[j])&&(Array.isArray(O[j])&&O[j].isCss||G1(O[j])?N.push(PE(j)+":",O[j],";"):o3(O[j])?N.push.apply(N,I(O[j],j)):N.push(PE(j)+": "+(A=j,(F=O[j])==null||typeof F=="boolean"||F===""?"":typeof F!="number"||F===0||A in xE||A.startsWith("--")?String(F).trim():F+"px")+";"));return D?[D+" {"].concat(N,["}"]):N}(s):s.toString()}function po(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];return G1(s)||o3(s)?i6(Ll(s3(od,[s].concat(l)))):l.length===0&&s.length===1&&typeof s[0]=="string"?s:i6(Ll(s3(s,l)))}function Nl(s){return s.replace(M,"-").replace(U,"")}function ep(s){return typeof s=="string"&&!0}function $8(s,a,l){var h=s[l];oe(a)&&oe(h)?ME(h,a):s[l]=a}function ME(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];for(var f=0,g=l;f<g.length;f++){var b=g[f];if(oe(b))for(var _ in b)fe(_)&&$8(s,b[_],_)}return s}function n3(s,a,l){var h=Ol(s),f=!ep(s),g=a.attrs,b=g===void 0?od:g,_=a.componentId,E=_===void 0?function(K,Q){var ie=typeof K!="string"?"sc":Nl(K);qe[ie]=(qe[ie]||0)+1;var re=ie+"-"+Z("5.3.11"+ie+qe[ie]);return Q?Q+"-"+re:re}(a.displayName,a.parentComponentId):_,P=a.displayName,I=P===void 0?function(K){return ep(K)?"styled."+K:"Styled("+oa(K)+")"}(s):P,O=a.displayName&&a.componentId?Nl(a.displayName)+"-"+a.componentId:a.componentId||E,D=h&&s.attrs?Array.prototype.concat(s.attrs,b).filter(Boolean):b,A=a.shouldForwardProp;h&&s.shouldForwardProp&&(A=a.shouldForwardProp?function(K,Q,ie){return s.shouldForwardProp(K,Q,ie)&&a.shouldForwardProp(K,Q,ie)}:s.shouldForwardProp);var F,N=new RE(l,O,h?s.componentStyle:void 0),j=N.isStatic&&b.length===0,$=function(K,Q){return function(ie,re,ce,Ce){var ye=ie.attrs,we=ie.componentStyle,Oe=ie.defaultProps,rt=ie.foldedComponentIds,he=ie.shouldForwardProp,De=ie.styledComponentId,J=ie.target,Ge=function(lt,Ke,sn){lt===void 0&&(lt=za);var St=a0({},Ke,{theme:lt}),Qt={};return sn.forEach(function(wn){var Nn,Rn,jr,ee=wn;for(Nn in G1(ee)&&(ee=ee(St)),ee)St[Nn]=Qt[Nn]=Nn==="className"?(Rn=Qt[Nn],jr=ee[Nn],Rn&&jr?Rn+" "+jr:Rn||jr):ee[Nn]}),[St,Qt]}(y(re,(0,Si.useContext)(Ie),Oe)||za,re,ye),zt=Ge[0],ke=Ge[1],Ae=function(lt,Ke,sn,St){var Qt=$1(),wn=CE(),Nn=Ke?lt.generateAndInjectStyles(za,Qt,wn):lt.generateAndInjectStyles(sn,Qt,wn);return Nn}(we,Ce,zt),We=ce,Pt=ke.$as||re.$as||ke.as||re.as||J,pe=ep(Pt),ge=ke!==re?a0({},re,{},ke):re,Je={};for(var nt in ge)nt[0]!=="$"&&nt!=="as"&&(nt==="forwardedAs"?Je.as=ge[nt]:(he?he(nt,V8,Pt):!pe||V8(nt))&&(Je[nt]=ge[nt]));return re.style&&ke.style!==re.style&&(Je.style=a0({},re.style,{},ke.style)),Je.className=Array.prototype.concat(rt,De,Ae!==De?Ae:null,re.className,ke.className).filter(Boolean).join(" "),Je.ref=We,(0,Si.createElement)(Pt,Je)}(F,K,Q,j)};return $.displayName=I,(F=Si.default.forwardRef($)).attrs=D,F.componentStyle=N,F.displayName=I,F.shouldForwardProp=A,F.foldedComponentIds=h?Array.prototype.concat(s.foldedComponentIds,s.styledComponentId):od,F.styledComponentId=O,F.target=h?s.target:s,F.withComponent=function(K){var Q=a.componentId,ie=function(ce,Ce){if(ce==null)return{};var ye,we,Oe={},rt=Object.keys(ce);for(we=0;we<rt.length;we++)ye=rt[we],Ce.indexOf(ye)>=0||(Oe[ye]=ce[ye]);return Oe}(a,["componentId"]),re=Q&&Q+"-"+(ep(K)?K:Nl(oa(K)));return n3(K,a0({},ie,{attrs:D,componentId:re}),l)},Object.defineProperty(F,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(K){this._foldedDefaultProps=h?ME({},s.defaultProps,K):K}}),Object.defineProperty(F,"toString",{value:function(){return"."+F.styledComponentId}}),f&&(0,i3.default)(F,s,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),F}function V0(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];var f=po.apply(void 0,[s].concat(l)),g="sc-global-"+Z(JSON.stringify(f)),b=new xt(f,g);function _(P){var I=$1(),O=CE(),D=(0,Si.useContext)(Ie),A=(0,Si.useRef)(I.allocateGSInstance(g)).current;return I.server&&E(A,P,I,D,O),(0,Si.useLayoutEffect)(function(){if(!I.server)return E(A,P,I,D,O),function(){return b.removeStyles(A,I)}},[A,P,I,D,O]),null}function E(P,I,O,D,A){if(b.isStatic)b.renderStyles(P,W8,O,A);else{var F=a0({},I,{theme:y(I,D,_.defaultProps)});b.renderStyles(P,F,O,A)}}return Si.default.memo(_)}var r3,Si,W1,i3,s3,o3,od,za,j0,ad,a3,W8,l3,ld,ud,tp,np,K8,rp,u3,TE,kE,X8,K1,c3,fo,AE,d3,q8,IE,Fl,X1,Y8,ps,Z8,h3,RE,Q8,J8,p3,f3,e6,ip,t6,DE,OE,m3,n6,r6,i6,y,M,U,Z,oe,fe,Ie,qe,Qe,xt,ue,Ue=C(()=>{r3=q(jO()),Si=q(Le()),W1=q(z8()),_E(),GO(),KO(),i3=q(EE()),s3=function(s,a){for(var l=[s[0]],h=0,f=a.length;h<f;h+=1)l.push(a[h],s[h+1]);return l},o3=function(s){return s!==null&&typeof s=="object"&&(s.toString?s.toString():Object.prototype.toString.call(s))==="[object Object]"&&!(0,r3.typeOf)(s)},od=Object.freeze([]),za=Object.freeze({}),j0=typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_ATTR||{}.SC_ATTR)||"data-styled",ad=typeof window<"u"&&"HTMLElement"in window,a3=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&process.env!==void 0&&({}.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&{}.REACT_APP_SC_DISABLE_SPEEDY!==""?{}.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&{}.REACT_APP_SC_DISABLE_SPEEDY:{}.SC_DISABLE_SPEEDY!==void 0&&{}.SC_DISABLE_SPEEDY!==""&&{}.SC_DISABLE_SPEEDY!=="false"&&{}.SC_DISABLE_SPEEDY)),W8={},l3=function(){function s(l){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=l}var a=s.prototype;return a.indexOfGroup=function(l){for(var h=0,f=0;f<l;f++)h+=this.groupSizes[f];return h},a.insertRules=function(l,h){if(l>=this.groupSizes.length){for(var f=this.groupSizes,g=f.length,b=g;l>=b;)(b<<=1)<0&&ho(16,""+l);this.groupSizes=new Uint32Array(b),this.groupSizes.set(f),this.length=b;for(var _=g;_<b;_++)this.groupSizes[_]=0}for(var E=this.indexOfGroup(l+1),P=0,I=h.length;P<I;P++)this.tag.insertRule(E,h[P])&&(this.groupSizes[l]++,E++)},a.clearGroup=function(l){if(l<this.length){var h=this.groupSizes[l],f=this.indexOfGroup(l),g=f+h;this.groupSizes[l]=0;for(var b=f;b<g;b++)this.tag.deleteRule(f)}},a.getGroup=function(l){var h="";if(l>=this.length||this.groupSizes[l]===0)return h;for(var f=this.groupSizes[l],g=this.indexOfGroup(l),b=g+f,_=g;_<b;_++)h+=this.tag.getRule(_)+`/*!sc*/
`;return h},s}(),ld=new Map,ud=new Map,tp=1,np=function(s){if(ld.has(s))return ld.get(s);for(;ud.has(tp);)tp++;var a=tp++;return ld.set(s,a),ud.set(a,s),a},K8=function(s){return ud.get(s)},rp=function(s,a){a>=tp&&(tp=a+1),ld.set(s,a),ud.set(a,s)},u3="style["+j0+'][data-styled-version="5.3.11"]',TE=new RegExp("^"+j0+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),kE=function(s,a,l){for(var h,f=l.split(","),g=0,b=f.length;g<b;g++)(h=f[g])&&s.registerName(a,h)},X8=function(s,a){for(var l=(a.textContent||"").split(`/*!sc*/
`),h=[],f=0,g=l.length;f<g;f++){var b=l[f].trim();if(b){var _=b.match(TE);if(_){var E=0|parseInt(_[1],10),P=_[2];E!==0&&(rp(P,E),kE(s,P,_[3]),s.getTag().insertRules(E,h)),h.length=0}else h.push(b)}}},K1=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},c3=function(s){var a=document.head,l=s||a,h=document.createElement("style"),f=function(_){for(var E=_.childNodes,P=E.length;P>=0;P--){var I=E[P];if(I&&I.nodeType===1&&I.hasAttribute(j0))return I}}(l),g=f!==void 0?f.nextSibling:null;h.setAttribute(j0,"active"),h.setAttribute("data-styled-version","5.3.11");var b=K1();return b&&h.setAttribute("nonce",b),l.insertBefore(h,g),h},fo=function(){function s(l){var h=this.element=c3(l);h.appendChild(document.createTextNode("")),this.sheet=function(f){if(f.sheet)return f.sheet;for(var g=document.styleSheets,b=0,_=g.length;b<_;b++){var E=g[b];if(E.ownerNode===f)return E}ho(17)}(h),this.length=0}var a=s.prototype;return a.insertRule=function(l,h){try{return this.sheet.insertRule(h,l),this.length++,!0}catch{return!1}},a.deleteRule=function(l){this.sheet.deleteRule(l),this.length--},a.getRule=function(l){var h=this.sheet.cssRules[l];return h!==void 0&&typeof h.cssText=="string"?h.cssText:""},s}(),AE=function(){function s(l){var h=this.element=c3(l);this.nodes=h.childNodes,this.length=0}var a=s.prototype;return a.insertRule=function(l,h){if(l<=this.length&&l>=0){var f=document.createTextNode(h),g=this.nodes[l];return this.element.insertBefore(f,g||null),this.length++,!0}return!1},a.deleteRule=function(l){this.element.removeChild(this.nodes[l]),this.length--},a.getRule=function(l){return l<this.length?this.nodes[l].textContent:""},s}(),d3=function(){function s(l){this.rules=[],this.length=0}var a=s.prototype;return a.insertRule=function(l,h){return l<=this.length&&(this.rules.splice(l,0,h),this.length++,!0)},a.deleteRule=function(l){this.rules.splice(l,1),this.length--},a.getRule=function(l){return l<this.length?this.rules[l]:""},s}(),q8=ad,IE={isServer:!ad,useCSSOMInjection:!a3},Fl=function(){function s(l,h,f){l===void 0&&(l=za),h===void 0&&(h={}),this.options=a0({},IE,{},l),this.gs=h,this.names=new Map(f),this.server=!!l.isServer,!this.server&&ad&&q8&&(q8=!1,function(g){for(var b=document.querySelectorAll(u3),_=0,E=b.length;_<E;_++){var P=b[_];P&&P.getAttribute(j0)!=="active"&&(X8(g,P),P.parentNode&&P.parentNode.removeChild(P))}}(this))}s.registerId=function(l){return np(l)};var a=s.prototype;return a.reconstructWithOptions=function(l,h){return h===void 0&&(h=!0),new s(a0({},this.options,{},l),this.gs,h&&this.names||void 0)},a.allocateGSInstance=function(l){return this.gs[l]=(this.gs[l]||0)+1},a.getTag=function(){return this.tag||(this.tag=(f=(h=this.options).isServer,g=h.useCSSOMInjection,b=h.target,l=f?new d3(b):g?new fo(b):new AE(b),new l3(l)));var l,h,f,g,b},a.hasNameForId=function(l,h){return this.names.has(l)&&this.names.get(l).has(h)},a.registerName=function(l,h){if(np(l),this.names.has(l))this.names.get(l).add(h);else{var f=new Set;f.add(h),this.names.set(l,f)}},a.insertRules=function(l,h,f){this.registerName(l,h),this.getTag().insertRules(np(l),f)},a.clearNames=function(l){this.names.has(l)&&this.names.get(l).clear()},a.clearRules=function(l){this.getTag().clearGroup(np(l)),this.clearNames(l)},a.clearTag=function(){this.tag=void 0},a.toString=function(){return function(l){for(var h=l.getTag(),f=h.length,g="",b=0;b<f;b++){var _=K8(b);if(_!==void 0){var E=l.names.get(_),P=h.getGroup(b);if(E&&P&&E.size){var I=j0+".g"+b+'[id="'+_+'"]',O="";E!==void 0&&E.forEach(function(D){D.length>0&&(O+=D+",")}),g+=""+P+I+'{content:"'+O+`"}/*!sc*/
`}}}return g}(this)},s}(),X1=/(a)(d)/gi,Y8=function(s){return String.fromCharCode(s+(s>25?39:97))},ps=function(s,a){for(var l=a.length;l;)s=33*s^a.charCodeAt(--l);return s},Z8=function(s){return ps(5381,s)},h3=Z8("5.3.11"),RE=function(){function s(a,l,h){this.rules=a,this.staticRulesId="",this.isStatic=(h===void 0||h.isStatic)&&Jh(a),this.componentId=l,this.baseHash=ps(h3,l),this.baseStyle=h,Fl.registerId(l)}return s.prototype.generateAndInjectStyles=function(a,l,h){var f=this.componentId,g=[];if(this.baseStyle&&g.push(this.baseStyle.generateAndInjectStyles(a,l,h)),this.isStatic&&!h.hash)if(this.staticRulesId&&l.hasNameForId(f,this.staticRulesId))g.push(this.staticRulesId);else{var b=Ll(this.rules,a,l,h).join(""),_=H8(ps(this.baseHash,b)>>>0);if(!l.hasNameForId(f,_)){var E=h(b,"."+_,void 0,f);l.insertRules(f,_,E)}g.push(_),this.staticRulesId=_}else{for(var P=this.rules.length,I=ps(this.baseHash,h.hash),O="",D=0;D<P;D++){var A=this.rules[D];if(typeof A=="string")O+=A;else if(A){var F=Ll(A,a,l,h),N=Array.isArray(F)?F.join(""):F;I=ps(I,N+D),O+=N}}if(O){var j=H8(I>>>0);if(!l.hasNameForId(f,j)){var $=h(O,"."+j,void 0,f);l.insertRules(f,j,$)}g.push(j)}}return g.join(" ")},s}(),Q8=/^\s*\/\/.*$/gm,J8=[":","[",".","#"],p3=Si.default.createContext(),p3.Consumer,f3=Si.default.createContext(),e6=(f3.Consumer,new Fl),ip=sd(),t6=function(){function s(a,l){var h=this;this.inject=function(f,g){g===void 0&&(g=ip);var b=h.name+g.hash;f.hasNameForId(h.id,b)||f.insertRules(h.id,b,g(h.rules,b,"@keyframes"))},this.toString=function(){return ho(12,String(h.name))},this.name=a,this.id="sc-keyframes-"+a,this.rules=l}return s.prototype.getName=function(a){return a===void 0&&(a=ip),this.name+a.hash},s}(),DE=/([A-Z])/,OE=/([A-Z])/g,m3=/^ms-/,n6=function(s){return"-"+s.toLowerCase()},r6=function(s){return s==null||s===!1||s===""},i6=function(s){return Array.isArray(s)&&(s.isCss=!0),s},y=function(s,a,l){return l===void 0&&(l=za),s.theme!==l.theme&&s.theme||a||l.theme},M=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,U=/(^-|-$)/g,Z=function(s){return H8(Z8(s)>>>0)},oe=function(s){return typeof s=="function"||typeof s=="object"&&s!==null&&!Array.isArray(s)},fe=function(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"},Ie=Si.default.createContext(),Ie.Consumer,qe={},Qe=function(s){return function a(l,h,f){if(f===void 0&&(f=za),!(0,r3.isValidElementType)(h))return ho(1,String(h));var g=function(){return l(h,f,po.apply(void 0,arguments))};return g.withConfig=function(b){return a(l,h,a0({},f,{},b))},g.attrs=function(b){return a(l,h,a0({},f,{attrs:Array.prototype.concat(f.attrs,b).filter(Boolean)}))},g}(n3,s)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(s){Qe[s]=Qe(s)}),xt=function(){function s(l,h){this.rules=l,this.componentId=h,this.isStatic=Jh(l),Fl.registerId(this.componentId+1)}var a=s.prototype;return a.createStyles=function(l,h,f,g){var b=g(Ll(this.rules,h,f,g).join(""),""),_=this.componentId+l;f.insertRules(_,_,b)},a.removeStyles=function(l,h){h.clearRules(this.componentId+l)},a.renderStyles=function(l,h,f,g){l>2&&Fl.registerId(this.componentId+l),this.removeStyles(l,f),this.createStyles(l,h,f,g)},s}(),function(){function s(){var l=this;this._emitSheetCSS=function(){var h=l.instance.toString();if(!h)return"";var f=K1();return"<style "+[f&&'nonce="'+f+'"',j0+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+h+"</style>"},this.getStyleTags=function(){return l.sealed?ho(2):l._emitSheetCSS()},this.getStyleElement=function(){var h;if(l.sealed)return ho(2);var f=((h={})[j0]="",h["data-styled-version"]="5.3.11",h.dangerouslySetInnerHTML={__html:l.instance.toString()},h),g=K1();return g&&(f.nonce=g),[Si.default.createElement("style",a0({},f,{key:"sc-0-0"}))]},this.seal=function(){l.sealed=!0},this.instance=new Fl({isServer:!0}),this.sealed=!1}var a=s.prototype;return a.collectStyles=function(l){return this.sealed?ho(2):Si.default.createElement(G8,{sheet:this.instance},l)},a.interleaveWithNodeStream=function(l){return ho(3)},s}(),ue=Qe});function Zt(){return Zt=Object.assign||function(s){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var h in l)Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h])}return s},Zt.apply(this,arguments)}var kn=C(()=>{});function _n(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}var ir=C(()=>{});function sr(s,a){return sr=Object.setPrototypeOf||function(l,h){return l.__proto__=h,l},sr(s,a)}var Qn=C(()=>{});function Rr(s,a){s.prototype=Object.create(a.prototype),s.prototype.constructor=s,sr(s,a)}var Xs=C(()=>{Qn()});function qs(s){return qs=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},qs(s)}var Ys=C(()=>{});function ei(s){return Function.toString.call(s).indexOf("[native code]")!==-1}var Zs=C(()=>{});function aa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var H0=C(()=>{});function G0(s,a,l){return aa()?G0=Reflect.construct:G0=function(h,f,g){var b=[null];b.push.apply(b,f);var _=Function.bind.apply(h,b),E=new _;return g&&sr(E,g.prototype),E},G0.apply(null,arguments)}var cd=C(()=>{Qn(),H0()});function Bl(s){var a=typeof Map=="function"?new Map:void 0;return Bl=function(l){if(l===null||!ei(l))return l;if(typeof l!="function")throw new TypeError("Super expression must either be null or a function");if(typeof a<"u"){if(a.has(l))return a.get(l);a.set(l,h)}function h(){return G0(l,arguments,qs(this).constructor)}return h.prototype=Object.create(l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),sr(h,l)},Bl(s)}var dd=C(()=>{Ys(),Qn(),Zs(),cd()}),hd=C(()=>{});function ns(s){return s.charAt(0).toUpperCase()+s.slice(1)}function la(s,a){if(!s)return a.toLowerCase();var l=s.split("-");if(l.length>1)return l.splice(1,0,a),l.reduce(function(f,g){return""+f+ns(g)});var h=s.replace(/([a-z])([A-Z])/g,"$1"+a+"$2");return s===h?""+s+a:h}function ui(s,a){for(var l={},h=0;h<a.length;h+=1)(a[h]||a[h]===0)&&(l[la(s,SX[h])]=a[h]);return l}function $0(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];var f=l[0],g=l[1],b=g===void 0?f:g,_=l[2],E=_===void 0?f:_,P=l[3],I=P===void 0?b:P,O=[f,b,E,I];return ui(s,O)}function l0(s){return Math.round(s*255)}function z_e(s,a,l){return l0(s)+","+l0(a)+","+l0(l)}function s6(s,a,l,h){if(h===void 0&&(h=z_e),a===0)return h(l,l,l);var f=(s%360+360)%360/60,g=(1-Math.abs(2*l-1))*a,b=g*(1-Math.abs(f%2-1)),_=0,E=0,P=0;f>=0&&f<1?(_=g,E=b):f>=1&&f<2?(_=b,E=g):f>=2&&f<3?(E=g,P=b):f>=3&&f<4?(E=b,P=g):f>=4&&f<5?(_=b,P=g):f>=5&&f<6&&(_=g,P=b);var I=l-g/2,O=_+I,D=E+I,A=P+I;return h(O,D,A)}function V_e(s){if(typeof s!="string")return s;var a=s.toLowerCase();return tL[a]?"#"+tL[a]:s}function qO(s){if(typeof s!="string")throw new Ul(3);var a=V_e(s);if(a.match(EX))return{red:parseInt(""+a[1]+a[2],16),green:parseInt(""+a[3]+a[4],16),blue:parseInt(""+a[5]+a[6],16)};if(a.match(CX)){var l=parseFloat((parseInt(""+a[7]+a[8],16)/255).toFixed(2));return{red:parseInt(""+a[1]+a[2],16),green:parseInt(""+a[3]+a[4],16),blue:parseInt(""+a[5]+a[6],16),alpha:l}}if(a.match(PX))return{red:parseInt(""+a[1]+a[1],16),green:parseInt(""+a[2]+a[2],16),blue:parseInt(""+a[3]+a[3],16)};if(a.match(MX)){var h=parseFloat((parseInt(""+a[4]+a[4],16)/255).toFixed(2));return{red:parseInt(""+a[1]+a[1],16),green:parseInt(""+a[2]+a[2],16),blue:parseInt(""+a[3]+a[3],16),alpha:h}}var f=BE.exec(a);if(f)return{red:parseInt(""+f[1],10),green:parseInt(""+f[2],10),blue:parseInt(""+f[3],10)};var g=TX.exec(a.substring(0,50));if(g)return{red:parseInt(""+g[1],10),green:parseInt(""+g[2],10),blue:parseInt(""+g[3],10),alpha:parseFloat(""+g[4])};var b=kX.exec(a);if(b){var _=parseInt(""+b[1],10),E=parseInt(""+b[2],10)/100,P=parseInt(""+b[3],10)/100,I="rgb("+s6(_,E,P)+")",O=BE.exec(I);if(!O)throw new Ul(4,a,I);return{red:parseInt(""+O[1],10),green:parseInt(""+O[2],10),blue:parseInt(""+O[3],10)}}var D=AX.exec(a.substring(0,50));if(D){var A=parseInt(""+D[1],10),F=parseInt(""+D[2],10)/100,N=parseInt(""+D[3],10)/100,j="rgb("+s6(A,F,N)+")",$=BE.exec(j);if(!$)throw new Ul(4,a,j);return{red:parseInt(""+$[1],10),green:parseInt(""+$[2],10),blue:parseInt(""+$[3],10),alpha:parseFloat(""+D[4])}}throw new Ul(5)}function j_e(s){var a=s.red/255,l=s.green/255,h=s.blue/255,f=Math.max(a,l,h),g=Math.min(a,l,h),b=(f+g)/2;if(f===g)return s.alpha!==void 0?{hue:0,saturation:0,lightness:b,alpha:s.alpha}:{hue:0,saturation:0,lightness:b};var _,E=f-g,P=b>.5?E/(2-f-g):E/(f+g);switch(f){case a:_=(l-h)/E+(l<h?6:0);break;case l:_=(h-a)/E+2;break;default:_=(a-l)/E+4;break}return _*=60,s.alpha!==void 0?{hue:_,saturation:P,lightness:b,alpha:s.alpha}:{hue:_,saturation:P,lightness:b}}function YO(s){return j_e(qO(s))}function q1(s){var a=s.toString(16);return a.length===1?"0"+a:a}function ZO(s){return q1(Math.round(s*255))}function H_e(s,a,l){return UE("#"+ZO(s)+ZO(a)+ZO(l))}function LE(s,a,l){return s6(s,a,l,H_e)}function G_e(s,a,l){if(typeof s=="number"&&typeof a=="number"&&typeof l=="number")return LE(s,a,l);if(typeof s=="object"&&a===void 0&&l===void 0)return LE(s.hue,s.saturation,s.lightness);throw new Ul(1)}function $_e(s,a,l,h){if(typeof s=="number"&&typeof a=="number"&&typeof l=="number"&&typeof h=="number")return h>=1?LE(s,a,l):"rgba("+s6(s,a,l)+","+h+")";if(typeof s=="object"&&a===void 0&&l===void 0&&h===void 0)return s.alpha>=1?LE(s.hue,s.saturation,s.lightness):"rgba("+s6(s.hue,s.saturation,s.lightness)+","+s.alpha+")";throw new Ul(2)}function QO(s,a,l){if(typeof s=="number"&&typeof a=="number"&&typeof l=="number")return UE("#"+q1(s)+q1(a)+q1(l));if(typeof s=="object"&&a===void 0&&l===void 0)return UE("#"+q1(s.red)+q1(s.green)+q1(s.blue));throw new Ul(6)}function wX(s,a,l,h){if(typeof s=="string"&&typeof a=="number"){var f=qO(s);return"rgba("+f.red+","+f.green+","+f.blue+","+a+")"}else{if(typeof s=="number"&&typeof a=="number"&&typeof l=="number"&&typeof h=="number")return h>=1?QO(s,a,l):"rgba("+s+","+a+","+l+","+h+")";if(typeof s=="object"&&a===void 0&&l===void 0&&h===void 0)return s.alpha>=1?QO(s.red,s.green,s.blue):"rgba("+s.red+","+s.green+","+s.blue+","+s.alpha+")"}throw new Ul(7)}function JO(s){if(typeof s!="object")throw new Ul(8);if(RX(s))return wX(s);if(IX(s))return QO(s);if(OX(s))return $_e(s);if(DX(s))return G_e(s);throw new Ul(8)}function xX(s,a,l){return function(){var h=l.concat(Array.prototype.slice.call(arguments));return h.length>=a?s.apply(this,h):xX(s,a,h)}}function NE(s){return xX(s,s.length,[])}function FE(s,a,l){return Math.max(s,Math.min(a,l))}function W_e(s,a){if(a==="transparent")return a;var l=YO(a);return JO(Zt({},l,{lightness:FE(0,1,l.lightness-parseFloat(s))}))}function K_e(s,a){if(a==="transparent")return a;var l=YO(a);return JO(Zt({},l,{lightness:FE(0,1,l.lightness+parseFloat(s))}))}function X_e(s,a){if(a==="transparent")return a;var l=YO(a);return JO(Zt({},l,{saturation:FE(0,1,l.saturation+parseFloat(s))}))}function q_e(s,a){if(a==="transparent")return a;var l=qO(a),h=typeof l.alpha=="number"?l.alpha:1,f=Zt({},l,{alpha:FE(0,1,+(h*100-parseFloat(s)*100).toFixed(2)/100)});return wX(f)}function eL(s){for(var a=arguments.length,l=new Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];return LX.indexOf(s)>=0&&s?Zt({},$0.apply(void 0,[""].concat(l)),{position:s}):$0.apply(void 0,["",s].concat(l))}var Ul,SX,tL,EX,CX,PX,MX,BE,TX,kX,AX,UE,IX,RX,DX,OX,o6,g3,zE,zl,LX,u0=C(()=>{kn(),ir(),Xs(),dd(),hd(),Ul=function(s){Rr(a,s);function a(l){var h;return h=s.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+l+" for more information.")||this,_n(h)}return a}(Bl(Error)),SX=["Top","Right","Bottom","Left"],tL={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},EX=/^#[a-fA-F0-9]{6}$/,CX=/^#[a-fA-F0-9]{8}$/,PX=/^#[a-fA-F0-9]{3}$/,MX=/^#[a-fA-F0-9]{4}$/,BE=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,TX=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,kX=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,AX=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,UE=function(s){return s.length===7&&s[1]===s[2]&&s[3]===s[4]&&s[5]===s[6]?"#"+s[1]+s[3]+s[5]:s},IX=function(s){return typeof s.red=="number"&&typeof s.green=="number"&&typeof s.blue=="number"&&(typeof s.alpha!="number"||typeof s.alpha>"u")},RX=function(s){return typeof s.red=="number"&&typeof s.green=="number"&&typeof s.blue=="number"&&typeof s.alpha=="number"},DX=function(s){return typeof s.hue=="number"&&typeof s.saturation=="number"&&typeof s.lightness=="number"&&(typeof s.alpha!="number"||typeof s.alpha>"u")},OX=function(s){return typeof s.hue=="number"&&typeof s.saturation=="number"&&typeof s.lightness=="number"&&typeof s.alpha=="number"},o6=NE(W_e),g3=NE(K_e),zE=NE(X_e),zl=NE(q_e),LX=["absolute","fixed","relative","static","sticky"]});function Y_e(s,a,l){return a in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function NX(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);a&&(h=h.filter(function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable})),l.push.apply(l,h)}return l}function Y1(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?NX(Object(l),!0).forEach(function(h){Y_e(s,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):NX(Object(l)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(l,h))})}return s}function v3(s,a){if(s==null)return{};var l={},h=Object.keys(s),f,g;for(g=0;g<h.length;g++)f=h[g],!(a.indexOf(f)>=0)&&(l[f]=s[f]);return l}var a6=C(()=>{}),FX,nL,BX=C(()=>{FX=q(Le()),nL=(0,FX.createContext)({})});function Z_e(s,a,l){return a in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function UX(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);a&&(h=h.filter(function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable})),l.push.apply(l,h)}return l}function y3(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?UX(Object(l),!0).forEach(function(h){Z_e(s,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):UX(Object(l)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(l,h))})}return s}function rL(s,a){if(s==null)return{};var l={},h=Object.keys(s),f,g;for(g=0;g<h.length;g++)f=h[g],!(a.indexOf(f)>=0)&&(l[f]=s[f]);return l}function Q_e(s,a){if(s){if(typeof s=="string")return zX(s,a);var l=Object.prototype.toString.call(s).slice(8,-1);if(l==="Object"&&s.constructor&&(l=s.constructor.name),l==="Map"||l==="Set")return Array.from(s);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return zX(s,a)}}function zX(s,a){(a==null||a>s.length)&&(a=s.length);for(var l=0,h=new Array(a);l<a;l++)h[l]=s[l];return h}function VX(s,a){var l;if(typeof Symbol>"u"||s[Symbol.iterator]==null){if(Array.isArray(s)||(l=Q_e(s))||a&&s&&typeof s.length=="number"){l&&(s=l);var h=0;return function(){return h>=s.length?{done:!0}:{done:!1,value:s[h++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return l=s[Symbol.iterator](),l.next.bind(l)}var VE=C(()=>{});function J_e(s){return typeof s=="function"}var iL,jX,ewe=C(()=>{iL=q(Le()),BX(),VE(),jX=function(s,a,l){l===void 0&&(l=a.children);var h=(0,iL.useContext)(nL);if(h.useCreateElement)return h.useCreateElement(s,a,l);if(typeof s=="string"&&J_e(l)){a.children;var f=rL(a,["children"]);return l(f)}return(0,iL.createElement)(s,a,l)}});function twe(s,a,l){return a in s?Object.defineProperty(s,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[a]=l,s}function HX(s,a){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);a&&(h=h.filter(function(f){return Object.getOwnPropertyDescriptor(s,f).enumerable})),l.push.apply(l,h)}return l}function b3(s){for(var a=1;a<arguments.length;a++){var l=arguments[a]!=null?arguments[a]:{};a%2?HX(Object(l),!0).forEach(function(h){twe(s,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):HX(Object(l)).forEach(function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(l,h))})}return s}function nwe(s,a){if(s==null)return{};var l={},h=Object.keys(s),f,g;for(g=0;g<h.length;g++)f=h[g],!(a.indexOf(f)>=0)&&(l[f]=s[f]);return l}var GX=C(()=>{});function rwe(s){return typeof s=="object"&&s!=null}var iwe=C(()=>{});function sL(s){var a;if(!rwe(s))return!1;var l=Object.getPrototypeOf(s);return l==null?!0:((a=l.constructor)===null||a===void 0?void 0:a.toString())===Object.toString()}var $X=C(()=>{iwe()});function WX(s,a){for(var l=Object.keys(s),h={},f={},g=0,b=l;g<b.length;g++){var _=b[g];a.indexOf(_)>=0?h[_]=s[_]:f[_]=s[_]}return[h,f]}function KX(s,a){if(a===void 0&&(a=[]),!sL(s.state))return WX(s,a);var l=WX(s,[].concat(a,["state"])),h=l[0],f=l[1],g=h.state,b=nwe(h,["state"]);return[b3(b3({},g),b),f]}var swe=C(()=>{GX(),$X()});function jE(s,a){if(s===a)return!0;if(!s||!a||typeof s!="object"||typeof a!="object")return!1;var l=Object.keys(s),h=Object.keys(a),f=l.length;if(h.length!==f)return!1;for(var g=0,b=l;g<b.length;g++){var _=b[g];if(s[_]!==a[_])return!1}return!0}var oL=C(()=>{});function XX(s){return s.name==="normalizePropsAreEqualInner"?s:function(a,l){return!sL(a.state)||!sL(l.state)?s(a,l):s(b3(b3({},a.state),a),b3(b3({},l.state),l))}}var owe=C(()=>{GX(),$X()});function awe(s){return(0,aL.forwardRef)(s)}function lwe(s,a){return(0,aL.memo)(s,a)}function l6(s){var a=s.as,l=s.useHook,h=s.memo,f=s.propsAreEqual,g=f===void 0?l==null?void 0:l.unstable_propsAreEqual:f,b=s.keys,_=b===void 0?(l==null?void 0:l.__keys)||[]:b,E=s.useCreateElement,P=E===void 0?jX:E,I=function(O,D){var A=O.as,F=A===void 0?a:A,N=rL(O,["as"]);if(l){var j,$=KX(N,_),K=$[0],Q=$[1],ie=l(K,y3({ref:D},Q)),re=ie.wrapElement,ce=rL(ie,["wrapElement"]),Ce=((j=F.render)===null||j===void 0?void 0:j.__keys)||F.__keys,ye=Ce&&KX(N,Ce)[0],we=ye?y3(y3({},ce),ye):ce,Oe=P(F,we);return re?re(Oe):Oe}return P(F,y3({ref:D},N))};return I=awe(I),h&&(I=lwe(I,g&&XX(g))),I.__keys=_,I.unstable_propsAreEqual=XX(g||jE),I}var aL,u6=C(()=>{aL=q(Le()),VE(),ewe(),swe(),oL(),owe()});function qX(s,a){(0,lL.useDebugValue)(s);var l=(0,lL.useContext)(nL);return l[s]!=null?l[s]:a}var lL,YX=C(()=>{lL=q(Le()),BX()});function uwe(s,a,l){a===void 0&&(a={}),l===void 0&&(l={});var h="use"+s+"Props";(0,ZX.useDebugValue)(h);var f=qX(h);return f?f(a,l):l}var ZX,cwe=C(()=>{ZX=q(Le()),YX()});function dwe(s,a,l){a===void 0&&(a={}),l===void 0&&(l={});var h="use"+s+"Options";(0,QX.useDebugValue)(h);var f=qX(h);return f?y3(y3({},a),f(a,l)):a}var QX,hwe=C(()=>{QX=q(Le()),YX(),VE()});function pwe(s){return Array.isArray(s)?s:typeof s<"u"?[s]:[]}var fwe=C(()=>{});function c6(s){var a,l,h=pwe(s.compose),f=function(_,E){if(s.useOptions&&(_=s.useOptions(_,E)),s.name&&(_=dwe(s.name,_,E)),s.compose)for(var P=VX(h),I;!(I=P()).done;){var O=I.value;_=O.__useOptions(_,E)}return _},g=function(_,E,P){if(_===void 0&&(_={}),E===void 0&&(E={}),P===void 0&&(P=!1),P||(_=f(_,E)),s.useProps&&(E=s.useProps(_,E)),s.name&&(E=uwe(s.name,_,E)),s.compose)if(s.useComposeOptions&&(_=s.useComposeOptions(_,E)),s.useComposeProps)E=s.useComposeProps(_,E);else for(var I=VX(h),O;!(O=I()).done;){var D=O.value;E=D(_,E,!0)}var A={},F=E||{};for(var N in F)F[N]!==void 0&&(A[N]=F[N]);return A};g.__useOptions=f;var b=h.reduce(function(_,E){return _.push.apply(_,E.__keys||[]),_},[]);return g.__keys=[].concat(b,((a=s.useState)===null||a===void 0?void 0:a.__keys)||[],s.keys||[]),g.unstable_propsAreEqual=s.propsAreEqual||((l=h[0])===null||l===void 0?void 0:l.unstable_propsAreEqual)||jE,g}var d6=C(()=>{q(Le()),cwe(),VE(),hwe(),oL(),fwe()});function JX(s,a){a===void 0&&(a=null),s&&(typeof s=="function"?s(a):s.current=a)}function eq(s,a){return(0,tq.useMemo)(function(){return s==null&&a==null?null:function(l){JX(s,l),JX(a,l)}},[s,a])}var tq,nq=C(()=>{tq=q(Le())});function uL(s){if(s.tagName==="BUTTON")return!0;if(s.tagName==="INPUT"){var a=s;return rq.indexOf(a.type)!==-1}return!1}var rq,cL=C(()=>{rq=["button","color","file","image","reset","submit"]}),dL=C(()=>{}),mwe=C(()=>{dL(),q(Le())}),HE=C(()=>{dL(),q(Le()),mwe()});function iq(s){return s?s.ownerDocument||s:document}var sq=C(()=>{});function gwe(s){return s&&iq(s).defaultView||oq}var oq,vwe=C(()=>{sq();try{oq=window}catch{}});function ywe(){var s=gwe();return!!(typeof s<"u"&&s.document&&s.document.createElement)}var GE,hL=C(()=>{vwe(),GE=ywe()}),pL,fL,mL=C(()=>{pL=q(Le()),hL(),fL=GE?pL.useLayoutEffect:pL.useEffect});function _3(s){var a=(0,aq.useRef)(s);return fL(function(){a.current=s}),a}var aq,lq=C(()=>{aq=q(Le()),mL()});function bwe(s){return s.target===s.currentTarget}var _we=C(()=>{});function wwe(s){var a=iq(s),l=a.activeElement;return l!=null&&l.nodeName?l:null}var xwe=C(()=>{sq()});function uq(s,a){return s===a||s.contains(a)}var cq=C(()=>{});function Swe(s){var a=wwe(s);if(!a)return!1;if(uq(s,a))return!0;var l=a.getAttribute("aria-activedescendant");return l?l===s.id?!0:!!s.querySelector("#"+l):!1}var Ewe=C(()=>{xwe(),cq()});function Cwe(s){return!uq(s.currentTarget,s.target)}var Pwe=C(()=>{cq()});function $E(s){return GE?window.navigator.userAgent.indexOf(s)!==-1:!1}var Mwe=C(()=>{hL()});function Twe(s,a){return"matches"in s?s.matches(a):"msMatchesSelector"in s?s.msMatchesSelector(a):s.webkitMatchesSelector(a)}var kwe=C(()=>{});function Awe(s){var a=s;return a.offsetWidth>0||a.offsetHeight>0||s.getClientRects().length>0}function Iwe(s){return Twe(s,dq)&&Awe(s)}var dq,Rwe=C(()=>{kwe(),dq="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),hq,WE,pq=C(()=>{a6(),u6(),d6(),oL(),hq=["unstable_system"],WE=c6({name:"Role",keys:hq,propsAreEqual:function(s,a){var l=s.unstable_system,h=v3(s,["unstable_system"]),f=a.unstable_system,g=v3(a,["unstable_system"]);return l!==f&&!jE(l,f)?!1:jE(h,g)}}),l6({as:"div",useHook:WE})});function fq(s){!Swe(s)&&Iwe(s)&&s.focus()}function Dwe(s){return s.tagName==="BUTTON"||s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.tagName==="A"}function Owe(s){return s.tagName==="BUTTON"||s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"}function Lwe(s,a,l,h){return s?a&&!l?-1:void 0:a?h:h||0}function gL(s,a){return(0,w3.useCallback)(function(l){var h;(h=s.current)===null||h===void 0||h.call(s,l),!l.defaultPrevented&&a&&(l.stopPropagation(),l.preventDefault())},[s,a])}var w3,mq,gq,vL,Nwe=C(()=>{a6(),u6(),d6(),w3=q(Le()),nq(),cL(),HE(),lq(),mL(),Ewe(),Pwe(),Mwe(),Rwe(),pq(),mq=["disabled","focusable"],gq=$E("Mac")&&!$E("Chrome")&&($E("Safari")||$E("Firefox")),vL=c6({name:"Tabbable",compose:WE,keys:mq,useOptions:function(s,a){var l=a.disabled;return Y1({disabled:l},s)},useProps:function(s,a){var l=a.ref,h=a.tabIndex,f=a.onClickCapture,g=a.onMouseDownCapture,b=a.onMouseDown,_=a.onKeyPressCapture,E=a.style,P=v3(a,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),I=(0,w3.useRef)(null),O=_3(f),D=_3(g),A=_3(b),F=_3(_),N=!!s.disabled&&!s.focusable,j=(0,w3.useState)(!0),$=j[0],K=j[1],Q=(0,w3.useState)(!0),ie=Q[0],re=Q[1],ce=s.disabled?Y1({pointerEvents:"none"},E):E;fL(function(){var rt=I.current;rt&&(Dwe(rt)||K(!1),Owe(rt)||re(!1))},[]);var Ce=gL(O,s.disabled),ye=gL(D,s.disabled),we=gL(F,s.disabled),Oe=(0,w3.useCallback)(function(rt){var he;(he=A.current)===null||he===void 0||he.call(A,rt);var De=rt.currentTarget;if(!rt.defaultPrevented&&gq&&!Cwe(rt)&&uL(De)){var J=requestAnimationFrame(function(){De.removeEventListener("mouseup",Ge,!0),fq(De)}),Ge=function(){cancelAnimationFrame(J),fq(De)};De.addEventListener("mouseup",Ge,{once:!0,capture:!0})}},[]);return Y1({ref:eq(I,l),style:ce,tabIndex:Lwe(N,$,ie,h),disabled:N&&ie?!0:void 0,"aria-disabled":s.disabled?!0:void 0,onClickCapture:Ce,onMouseDownCapture:ye,onMouseDown:Oe,onKeyPressCapture:we},P)}}),l6({as:"div",useHook:vL})});function Fwe(s){var a=s.currentTarget;return s.isTrusted?uL(a)||a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.tagName==="A"||a.tagName==="SELECT":!1}var KE,vq,yL,Bwe=C(()=>{a6(),u6(),d6(),KE=q(Le()),cL(),HE(),lq(),_we(),Nwe(),vq=["unstable_clickOnEnter","unstable_clickOnSpace"],yL=c6({name:"Clickable",compose:vL,keys:vq,useOptions:function(s){var a=s.unstable_clickOnEnter,l=a===void 0?!0:a,h=s.unstable_clickOnSpace,f=h===void 0?!0:h,g=v3(s,["unstable_clickOnEnter","unstable_clickOnSpace"]);return Y1({unstable_clickOnEnter:l,unstable_clickOnSpace:f},g)},useProps:function(s,a){var l=a.onKeyDown,h=a.onKeyUp,f=v3(a,["onKeyDown","onKeyUp"]),g=(0,KE.useState)(!1),b=g[0],_=g[1],E=_3(l),P=_3(h),I=(0,KE.useCallback)(function(D){var A;if((A=E.current)===null||A===void 0||A.call(E,D),!D.defaultPrevented&&!s.disabled&&!D.metaKey&&bwe(D)){var F=s.unstable_clickOnEnter&&D.key==="Enter",N=s.unstable_clickOnSpace&&D.key===" ";if(F||N){if(Fwe(D))return;D.preventDefault(),F?D.currentTarget.click():N&&_(!0)}}},[s.disabled,s.unstable_clickOnEnter,s.unstable_clickOnSpace]),O=(0,KE.useCallback)(function(D){var A;if((A=P.current)===null||A===void 0||A.call(P,D),!D.defaultPrevented&&!s.disabled&&!D.metaKey){var F=s.unstable_clickOnSpace&&D.key===" ";b&&F&&(_(!1),D.currentTarget.click())}},[s.disabled,s.unstable_clickOnSpace,b]);return Y1({"data-active":b||void 0,onKeyDown:I,onKeyUp:O},f)}}),l6({as:"button",memo:!0,useHook:yL})}),h6,yq,bq,_q,Uwe=C(()=>{a6(),u6(),d6(),h6=q(Le()),nq(),cL(),HE(),Bwe(),yq=[],bq=c6({name:"Button",compose:yL,keys:yq,useProps:function(s,a){var l=a.ref,h=v3(a,["ref"]),f=(0,h6.useRef)(null),g=(0,h6.useState)(void 0),b=g[0],_=g[1],E=(0,h6.useState)("button"),P=E[0],I=E[1];return(0,h6.useEffect)(function(){var O=f.current;O&&(uL(O)||(O.tagName!=="A"&&_("button"),I(void 0)))},[]),Y1({ref:eq(f,l),role:b,type:P},h)}}),_q=l6({as:"button",memo:!0,useHook:bq})}),wq,xq,Sq,zwe=C(()=>{a6(),u6(),d6(),pq(),wq=[],xq=c6({name:"Group",compose:WE,keys:wq,useProps:function(s,a){return Y1({role:"group"},a)}}),Sq=l6({as:"div",useHook:xq})});function Vwe(){return GE?document.body:null}var Eq,x3,jwe=C(()=>{Eq=q(Le()),mL(),hL(),q(Rl()),x3=(0,Eq.createContext)(Vwe())}),bL,Hwe=C(()=>{typeof window<"u"&&(bL={get passive(){}},window.addEventListener("testPassive",null,bL),window.removeEventListener("testPassive",null,bL))}),Z1=C(()=>{q(Le()),HE(),Uwe(),zwe(),q(Rl()),jwe(),Hwe(),dL()});function xr(s){let a=(0,_L.useMemo)(()=>{let f=s;return{get current(){return f},set current(g){f=g,h(g)}}},[]),[l,h]=(0,_L.useState)(()=>s);return[a,l]}var _L,Dr=C(()=>{_L=q(Le())});function Gwe(s){return a=>Lo.default.createElement(Aq,null,Lo.default.createElement(s,L({},a)))}var Lo,Cq,Pq,Tr,S3,Mq,Tq,kq,wL,xL,Aq,Or=C(()=>{u0(),Ue(),Ue(),Lo=q(Le()),Cq=q(Rl()),Z1(),Dr(),Tr=po(Pq||(Pq=W([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),S3={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return g3(.6,S3.panel.bg)}}}}}},Tq=typeof window<"u"?V0(Mq||(Mq=W([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},wL=ue.div(kq||(kq=W([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),xL=s=>Lo.default.createElement(G8,{disableVendorPrefixes:!0,target:s.target},Lo.default.createElement(Lo.default.Fragment,null,Lo.default.createElement(Tq,null),s.children)),Aq=s=>{let[a,l]=(0,Lo.useState)(null),[h,f]=(0,Lo.useState)(null);(0,Lo.useLayoutEffect)(()=>{if(!a)return;let{parentNode:_}=a;if(!_)return;let E=_.shadowRoot?parent.shadowRoot:_.attachShadow({mode:"open"});f(E)},[a]);let[g,b]=xr(void 0);return h?Cq.default.createPortal(Lo.default.createElement(xL,{target:h},Lo.default.createElement(Lo.default.Fragment,null,Lo.default.createElement(wL,{ref:g}),Lo.default.createElement(x3.Provider,{value:b},s.children))),h):Lo.default.createElement("template",{ref:l,"shadow-root":"open"},s.children)}}),E3,Iq,Rq,sp,Dq,p6,Oq,Lq,XE,Nq,SL,$u,pd=C(()=>{Or(),Ue(),E3={get outlinePanel(){return 1},get propsPanel(){return E3.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},Iq=S3.panel.bg,sp=ue.span(Rq||(Rq=W([`
  white-space: nowrap;
`]))),p6=ue.span(Dq||(Dq=W([`
  white-space: nowrap;
  color: `,`;
`])),S3.panel.head.punctuation.color),Lq=ue.div(Oq||(Oq=W([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),Iq),XE=18,SL=ue.div(Nq||(Nq=W([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),XE),$u=100}),Fq,Vl,C3=C(()=>{Fq=()=>{},Vl=Fq});function $we(s){return EL.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),EL.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var EL,CL,Wwe=C(()=>{EL=q(Le()),CL=$we});function Kwe(s){return PL.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),PL.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var PL,Bq,Xwe=C(()=>{PL=q(Le()),Bq=Kwe});function qwe(s){return ML.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),ML.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var ML,Uq,Ywe=C(()=>{ML=q(Le()),Uq=qwe});function Zwe(s){return TL.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),TL.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var TL,zq,Qwe=C(()=>{TL=q(Le()),zq=Zwe});function Jwe(s){return kL.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),kL.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var kL,AL,exe=C(()=>{kL=q(Le()),AL=Jwe});function txe(s){return IL.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),IL.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var IL,qE,nxe=C(()=>{IL=q(Le()),qE=txe});function rxe(s){return RL.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),RL.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var RL,DL,ixe=C(()=>{RL=q(Le()),DL=rxe}),f6=C(()=>{Wwe(),Xwe(),Ywe(),Qwe(),exe(),nxe(),ixe()}),Wu,Vq,YE,jq,Hq,Gq,$q,Wq,Kq,Xq,qq,Yq,Zq,Qq,Jq,eY,tY,nY,m6,ZE=C(()=>{Wu=q(Le()),Ue(),C3(),Or(),f6(),YE=ue.li(Vq||(Vq=W([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),Hq=ue.div(jq||(jq=W([""]))),$q=ue(Hq)(Gq||(Gq=W([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Tr),Kq=po(Wq||(Wq=W([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),qq=ue.span(Xq||(Xq=W([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),Kq,Tr),Zq=ue.div(Yq||(Yq=W([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),Jq=ue.span(Qq||(Qq=W([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),YE),tY=ue.ul(eY||(eY=W([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),YE),nY=({label:s,children:a,depth:l,select:h,selectionStatus:f,labelDecoration:g,collapsed:b=!1,setIsCollapsed:_})=>{let E=a!==void 0;return Wu.default.createElement(YE,{style:{"--depth":l},className:b?"collapsed":""},Wu.default.createElement($q,{className:f,onClick:h??Vl,"data-header":!0},Wu.default.createElement(Zq,null,E?Wu.default.createElement(Jq,{onClick:P=>{P.stopPropagation(),P.preventDefault(),_==null||_(!b)}},Wu.default.createElement(Bq,null)):Wu.default.createElement(AL,null)),Wu.default.createElement(qq,null,Wu.default.createElement("span",null,s)),g),E&&Wu.default.createElement(tY,null,a))},m6=nY});function sxe(s){return Object.keys(s)}function oxe(s){return Object.keys((0,Ku.val)(s.sheetTemplatesP))}function axe(){let s=Oo(op().filter(a=>pn(a)||kt(a)).map(a=>kt(a)?a.sheet:a))[0];if(s)return s.getSequence()}var Ku,op,rY,ap=C(()=>{Ku=Vt,bt(),pi(),ze(),op=()=>{var s;let a=(0,Ku.val)(xe().projectsP),l=((s=(0,Ku.val)(xe().atomP.historic.panels.outlinePanel.selection))!=null?s:[]).map(h=>{let f=a[h.projectId];if(!f)return;if(h.type==="Project")return f;if(!(0,Ku.val)(f.sheetTemplatesP[h.sheetId]))return;let g=rY(f,h.sheetId);if(!g)return;if(h.type==="Sheet")return g;let b=(0,Ku.val)(g.objectsP[h.objectKey]);if(b)return b});return Oo(l.filter(h=>typeof h<"u"))},rY=(s,a)=>{let l=xe().atomP.historic.projects.stateByProjectId[s.address.projectId],h=(0,Ku.val)(l.stateBySheetId[a].selectedInstanceId),f=(0,Ku.val)(s.sheetTemplatesP[a]);if(f){if(h)return(0,Ku.val)(f.instancesP[h]);{let g=(0,Ku.val)(f.instancesP);return g[sxe(g)[0]]}}}}),iY,sY,lxe=C(()=>{ze(),iY=q(Le()),ZE(),Sn(),ap(),sY=({sheetObject:s,depth:a,overrideLabel:l})=>{let h=()=>{xe().transaction(({stateEditors:g})=>{g.studio.historic.panels.outline.selection.set([s])})},f=Xn(()=>op(),[]);return iY.default.createElement(m6,{select:h,label:l??s.address.objectKey,depth:a,selectionStatus:f.includes(s)?"selected":"not-selected"})}});function OL(s){var a;let l=s.type==="namespace"?"namespace:".concat(s.sheet.address.sheetId,":").concat(s.path.join("/")):s.type==="Theatre_Project"?"project":s.type==="Theatre_Sheet"?"sheetInstance:".concat(s.address.sheetId,":").concat(s.address.sheetInstanceId):"unknown",h=s.type==="namespace"?s.sheet.address.projectId:s.address.projectId,f=(a=nr(xe().atomP.ahistoric.projects.stateByProjectId[h].collapsedItemsInOutline[l]))!=null?a:!1,g=(0,oY.useCallback)(b=>{xe().transaction(({stateEditors:_})=>{_.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:h,isCollapsed:b,itemKey:l})})},[l]);return{collapsed:f,setCollapsed:g}}var oY,LL=C(()=>{oY=q(Le()),ze(),Sn()});function aY(s){return Xu.default.createElement(Xu.default.Fragment,null,[...s.namespace.entries()].map(([a,{object:l,nested:h}])=>Xu.default.createElement(uxe,{key:a,label:a,object:l,nested:h,visualIndentation:s.visualIndentation,path:s.path,sheet:s.sheet})))}function uxe(s){let{nested:a,label:l,object:h,sheet:f}=s,{collapsed:g,setCollapsed:b}=OL({type:"namespace",sheet:f,path:[...s.path,l]}),_=a&&Xu.default.createElement(aY,{namespace:a,path:[...s.path,l],key:"namespaceTree("+l+")",visualIndentation:s.visualIndentation+1,sheet:f}),E=h&&Xu.default.createElement(sY,{depth:s.visualIndentation,key:"objectPath("+h.address.objectKey+")",sheetObject:h,overrideLabel:l});return Xu.default.createElement(Xu.default.Fragment,{key:"".concat(l," - ").concat(s.visualIndentation)},E,_&&Xu.default.createElement(m6,{selectionStatus:"not-selectable",label:l,key:"baseItem(".concat(l,")"),depth:s.visualIndentation,children:_,collapsed:g,setIsCollapsed:b}))}function lY(s,a,l=cxe(a)){let[h,...f]=l,g=s.get(h);g||(g={nested:void 0,object:void 0,path:[...l]},s.set(h,g)),f.length===0?(console.assert(!g.object,"expect not to have existing object with same name",{existing:g,object:a}),g.object=a):(g.nested||(g.nested=new Map),lY(g.nested,a,f))}function cxe(s){let a=NL.get(s);return a||(a=s.address.objectKey.split(pY),console.assert(a.length>0,"expected not empty"),NL.set(s,a)),a}var uY,Xu,cY,dY,hY,pY,NL,dxe=C(()=>{Sn(),uY=Vt,Xu=q(Le()),Ue(),lxe(),ZE(),LL(),ue.li(cY||(cY=W([`
  color: `,`;
`])),s=>s.isSelected?"white":"hsl(1, 1%, 80%)"),dY=({sheet:s,depth:a})=>Xn(()=>{let l=(0,uY.val)(s.objectsP),h=Object.values(l).filter(g=>g!=null),f=new Map;return h.forEach(g=>{lY(f,g)}),Xu.default.createElement(aY,{namespace:f,visualIndentation:a,path:[],sheet:s})},[s,a]),hY=dY,pY=/\s*\/\s*/g,NL=new WeakMap}),P3,fY,mY,gY,vY,yY,bY,hxe=C(()=>{ze(),ap(),Sn(),P3=q(Le()),Ue(),dxe(),ZE(),LL(),mY=ue.div(fY||(fY=W([`
  display: flex;
`]))),ue.li(gY||(gY=W([`
  color: `,`;
`])),s=>s.isSelected?"white":"hsl(1, 1%, 80%)"),yY=ue.div(vY||(vY=W([""]))),bY=({sheet:s,depth:a})=>{let{collapsed:l,setCollapsed:h}=OL(s),f=(0,P3.useCallback)(()=>{xe().transaction(({stateEditors:g})=>{g.studio.historic.panels.outline.selection.set([s])})},[s]);return Xn(()=>{let g=op();return P3.default.createElement(m6,{depth:a,select:f,setIsCollapsed:h,collapsed:l,selectionStatus:g.some(b=>b===s)?"selected":g.some(b=>b.type==="Theatre_SheetObject"&&b.sheet===s)?"descendant-is-selected":"not-selected",label:P3.default.createElement(mY,null,s.address.sheetId,": ",s.address.sheetInstanceId)},P3.default.createElement(yY,null,P3.default.createElement(hY,{depth:a+1,sheet:s,key:"objectList"+s.address.sheetInstanceId})))},[a,l])}}),FL,M3,_Y,wY,xY,SY,pxe=C(()=>{Sn(),FL=Vt,M3=q(Le()),Ue(),hxe(),ue.div(_Y||(_Y=W([`
  display: flex;
`]))),ue.li(wY||(wY=W([`
  color: `,`;
`])),s=>s.isSelected?"white":"hsl(1, 1%, 80%)"),ue.div(xY||(xY=W([""]))),SY=({sheetId:s,depth:a,project:l})=>Xn(()=>{let h=(0,FL.val)(l.sheetTemplatesP[s]);if(!h)return M3.default.createElement(M3.default.Fragment,null);let f=(0,FL.val)(h.instancesP);return M3.default.createElement(M3.default.Fragment,null,Object.entries(f).map(([g,b])=>M3.default.createElement(bY,{key:b.address.sheetInstanceId,sheet:b,depth:a})))},[a,s,l])}),QE,EY,CY,fxe=C(()=>{ap(),Sn(),QE=q(Le()),pxe(),EY=({project:s,depth:a})=>Xn(()=>{if(!s)return null;let l=oxe(s);return QE.default.createElement(QE.default.Fragment,null,l.map(h=>QE.default.createElement(SY,{depth:a,sheetId:h,key:"sheet-".concat(h),project:s})))},[s,a]),CY=EY}),g6,PY,MY,TY,kY,AY,mxe=C(()=>{g6=q(Le()),ZE(),fxe(),ze(),Sn(),ap(),PY=Vt,Ue(),LL(),TY=ue.div(MY||(MY=W([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),kY=({depth:s,project:a})=>{let l=Xn(()=>op(),[]),h=Xn(()=>{let _=a.address.projectId,E=(0,PY.val)(xe().atomP.ephemeral.coreByProject[_].loadingState);return(E==null?void 0:E.type)==="browserStateIsNotBasedOnDiskState"},[a]),f=(0,g6.useCallback)(()=>{xe().transaction(({stateEditors:_})=>{_.studio.historic.panels.outline.selection.set([a])})},[a]),{collapsed:g,setCollapsed:b}=OL(a);return g6.default.createElement(m6,{depth:s,label:a.address.projectId,setIsCollapsed:b,collapsed:g,labelDecoration:h?g6.default.createElement(TY,null,"Has Conflicts"):null,children:g6.default.createElement(CY,{project:a,depth:s+1}),selectionStatus:l.includes(a)?"selected":l.some(_=>_.address.projectId===a.address.projectId)?"descendant-is-selected":"not-selected",select:f})},AY=kY}),IY,BL,RY,DY,OY,LY,gxe=C(()=>{IY=Vt,Sn(),ze(),BL=q(Le()),Ue(),mxe(),DY=ue.ul(RY||(RY=W([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),OY=s=>Xn(()=>{let a=(0,IY.val)(xe().projectsP);return BL.default.createElement(DY,null,Object.keys(a).map(l=>{let h=a[l];return BL.default.createElement(AY,{depth:0,project:h,key:"projectListItem-".concat(l)})}))},[]),LY=OY});function NY(s){let[a,l]=(0,UL.useState)(!1);return(0,UL.useEffect)(()=>{let h=g=>{let b=a?200:50,_=56,E=s==="left"?g.x<b:g.x>window.innerWidth-b;E&&(E=g.y>_),l(!!E)};document.addEventListener("mousemove",h);let f=()=>{l(!1)};return document.addEventListener("mouseleave",f),()=>{document.removeEventListener("mousemove",h),document.removeEventListener("mouseleave",f)}},[a]),a}var UL,FY=C(()=>{UL=q(Le())}),v6,T3,zL,BY,UY,zY,VY,JE,y6,jY,vxe=C(()=>{v6=q(Le()),Ue(),pd(),gxe(),Sn(),ze(),FY(),T3=Vt,Or(),zL="44px",UY=ue.div(BY||(BY=W([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),Tr,E3.outlinePanel,zL,zL,({pin:s})=>s?"block":"none"),zY=()=>{var s;let a=(s=nr(xe().atomP.ahistoric.pinOutline))!=null?s:!0,l=nr(jY),h=NY("left");return(0,v6.useLayoutEffect)(()=>{JE.set(h)},[h]),(0,v6.useEffect)(()=>()=>{y6.set(!1),JE.set(!1)},[]),v6.default.createElement(UY,{pin:a||l,onMouseEnter:()=>{y6.set(!0)},onMouseLeave:()=>{y6.set(!1)}},v6.default.createElement(LY,null))},VY=zY,JE=new T3.Atom(!1),y6=new T3.Atom(!1),jY=(0,T3.prism)(()=>{let s=(0,T3.val)(y6.prism),a=(0,T3.val)(JE.prism);return s||a})}),HY,GY,$Y,yxe=C(()=>{Ue(),GY=ue.input.attrs({type:"checkbox"})(HY||(HY=W([`
  outline: none;
`]))),$Y=GY});function bxe({propConfig:s,editingTools:a,value:l,autoFocus:h}){let f=(0,VL.useCallback)(g=>{a.permanentlySetValue(!!g.target.checked)},[s,a]);return VL.default.createElement(KY,{checked:l,onChange:f,autoFocus:h})}var VL,WY,KY,XY,_xe=C(()=>{VL=q(Le()),Ue(),yxe(),KY=ue($Y)(WY||(WY=W([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),XY=bxe});function eC(s){return a=>{s.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var tC=C(()=>{});function jL(s,a,l){(0,qY.useEffect)(()=>{if(!s||l===!1)return;let h=Array.isArray(s)?s.filter(g=>g):[s],f=g=>{h.every(b=>!g.composedPath().includes(b))&&a(g)};return window.addEventListener("mousedown",f,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",f,{capture:!0,passive:!1})}},[s,l])}var qY,HL=C(()=>{qY=q(Le())}),fd,YY,md,ZY,QY,JY,eZ,GL,tZ,W0,nZ,c0=C(()=>{fd=q(Le()),Ue(),YY="pointer-root",md="--lockedCursor",QY=ue.div(ZY||(ZY=W([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),eZ=ue.div(JY||(JY=W([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),GL=(0,fd.createContext)({}),tZ=s=>{var a,l,h,f;let[g,b]=(0,fd.useState)([]),_=(0,fd.useMemo)(()=>({getLock:(P,I)=>{let O={className:P,cursor:I};return b(D=>[...D,O]),()=>{b(D=>D.filter(A=>A!==O))}}}),[]),E=(l=(a=g[0])==null?void 0:a.cursor)!=null?l:"";return fd.default.createElement(GL.Provider,{value:_},fd.default.createElement(QY,{id:YY,className:((f=(h=g[0])==null?void 0:h.className)!=null?f:"normal")+" "+s.className},fd.default.createElement(eZ,{style:{cursor:E,[md]:E}},s.children)))},W0=(s,a,l)=>{let h=(0,fd.useContext)(GL);(0,fd.useLayoutEffect)(()=>{if(s)return h.getLock(a,l)},[s,a,l])},nZ=tZ});function rZ(s){return b6.default.createElement($L.Provider,{value:s.logger},s.children)}function lp(s,a){let l=(0,b6.useContext)($L);return(0,b6.useMemo)(()=>s?l.named(s,a):l,[l,s,a])}var b6,$L,up=C(()=>{b6=q(Le()),$L=b6.default.createContext(null)});function wxe(){let s=lp("PointerCapturing"),a=jl.default.useRef(null),l=()=>a.current!=null;return h=>{let f,g=b=>(f=b,a.current=b,b);return{capturing:{capturePointer(b){if(s._debug("Capturing pointer",{forDebugName:h,reason:b}),a.current!=null)throw new Error('"'.concat(h,'" attempted capturing pointer for "').concat(b,'" while already captured by "').concat(a.current.debugOwnerName,'" for "').concat(a.current.debugReason,'"'));let _=g({debugOwnerName:h,debugReason:b});return{isCapturing(){return _===a.current},release(){return _===a.current?(s._debug("Releasing pointer",{forDebugName:h,reason:b}),g(null),!0):!1}}},isPointerBeingCaptured:l},forceRelease(){f&&a.current===f&&(s._debug("Force releasing pointer",{localCapture:f}),g(null))}}}}function xxe(s){let a=wxe();return jl.default.createElement(WL.Provider,{value:a},jl.default.createElement(sZ,{children:s.children}))}function iZ(s){let a=(0,jl.useContext)(WL),l=(0,jl.useMemo)(()=>a(s),[s,a]);return(0,jl.useEffect)(()=>()=>{l.forceRelease()},[l]),l.capturing}var jl,WL,sZ,KL=C(()=>{jl=q(Le()),up(),WL=jl.default.createContext(null),sZ=jl.default.memo(({children:s})=>jl.default.createElement(jl.default.Fragment,null,s))}),XL,Sxe=C(()=>{XL=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function ji(s,a){let l=(0,k3.useRef)(a);l.current=a;let h=a.shouldPointerLock&&!XL,f=(0,k3.useRef)({domDragStarted:!1}),{capturePointer:g}=iZ("useDrag for ".concat(a.debugName)),b=(0,k3.useRef)({onDrag:Vl,onDragEnd:Vl,onClick:Vl}),_=(0,k3.useRef)(),[E,P]=xr(!1);return(0,k3.useLayoutEffect)(()=>{if(!s)return;let I=()=>{let K=f.current.domDragStarted&&f.current.detection.detected;E.current!==K&&(E.current=K)},O=K=>{if(!f.current.domDragStarted)return;let Q=f.current;if(!Exe(K,Q)&&(Q.detection.detected||(Q.detection.totalDistanceMoved+=Math.abs(K.movementY)+Math.abs(K.movementX),Q.detection.totalDistanceMoved>oZ&&(h&&s.requestPointerLock(),Q.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},I())),Q.detection.detected)){Q.detection.dragEventCount+=1;let{dragMovement:ie}=Q.detection;if(h)ie.x+=K.movementX,ie.y+=K.movementY;else{let{startPos:re}=Q;ie.x=K.screenX-re.x,ie.y=K.screenY-re.y}b.current.onDrag(ie.x,ie.y,K,K.movementX,K.movementY)}},D=K=>{if(F(),!f.current.domDragStarted)return;let Q=f.current.detection.detected;f.current={domDragStarted:!1},a.shouldPointerLock&&!XL&&document.exitPointerLock(),b.current.onDragEnd(Q),window.focus(),Q||b.current.onClick(K),I()},A=()=>{document.addEventListener("mousemove",O),document.addEventListener("mouseup",D)},F=()=>{var K;(K=_.current)==null||K.release(),document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",D)},N=K=>{l.current.disabled||f.current.domDragStarted&&f.current.detection.detected&&(l.current.dontBlockMouseDown||(K.stopPropagation(),K.preventDefault()),f.current.detection={detected:!1,totalDistanceMoved:0},I())},j=K=>{var Q,ie,re,ce;(Q=_.current)==null||Q.release();let Ce=l.current;if(Ce.disabled===!0||!((ie=Ce.buttons)!=null?ie:[0]).includes(K.button))return;let ye=Ce.onDragStart(K);ye!==!1&&(b.current.onDrag=ye.onDrag,b.current.onDragEnd=(re=ye.onDragEnd)!=null?re:Vl,b.current.onClick=(ce=ye.onClick)!=null?ce:Vl,_.current=g("Drag start"),Ce.dontBlockMouseDown||(K.stopPropagation(),K.preventDefault()),f.current={domDragStarted:!0,startPos:{x:K.screenX,y:K.screenY},detection:{detected:!1,totalDistanceMoved:0}},I(),A())},$=K=>{j(K)};return s.addEventListener("mousedown",$),s.addEventListener("click",N),()=>{var K,Q;F(),s.removeEventListener("mousedown",$),s.removeEventListener("click",N),f.current.domDragStarted&&((Q=(K=b.current).onDragEnd)==null||Q.call(K,f.current.detection.detected)),f.current={domDragStarted:!1},I()}},[s]),W0(P&&!!a.lockCSSCursorTo,"dragging",a.lockCSSCursorTo),[P]}function Exe(s,a){return(!a.detection.detected||a.detection.detected&&a.detection.dragEventCount<3)&&(Math.abs(s.movementX)>qL||Math.abs(s.movementY)>qL)}var k3,oZ,qL,Ps=C(()=>{k3=q(Le()),c0(),KL(),C3(),Sxe(),Dr(),oZ=3,qL=100});function Cxe(s){return isNaN(s)?"NaN":Do(s)?s.toFixed(0):j1(s,3).toString()}var aZ,lZ,gd,uZ,nC,cZ,dZ,hZ,pZ,fZ,mZ,gZ,vZ,rC,YL=C(()=>{pi(),aZ=q(Le()),lZ=q(Le()),gd=q(Le()),Ue(),tC(),Dr(),HL(),Ps(),nC=ue.div(uZ||(uZ=W([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),dZ=ue.input(cZ||(cZ=W([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),pZ=ue.div(hZ||(hZ=W([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),nC,nC),mZ=ue.div(fZ||(fZ=W([`
  display: contents;
`]))),gZ=s=>!0,vZ=s=>{var a;let[l]=xr({mode:"noFocus"}),h=(a=s.isValid)!=null?a:gZ,f=(0,gd.useRef)(s);f.current=s;let g=(0,gd.useRef)(null);jL(g.current,()=>{g.current.blur()},l.current.mode==="editingViaKeyboard");let b=(0,gd.useRef)(null),_=(0,gd.useMemo)(()=>{let j=ye=>{let we=ye.target,{value:Oe}=we,rt=l.current;l.current=B(L({},rt),{currentEditedValueInString:Oe});let he=parseFloat(Oe);!isFinite(he)||!h(he)||f.current.temporarilySetValue(he)},$=()=>{l.current.mode==="editingViaKeyboard"&&(K(),l.current={mode:"noFocus"}),s.onBlur&&s.onBlur()},K=()=>{let ye=l.current,we=parseFloat(ye.currentEditedValueInString);!isFinite(we)||!h(we)||ye.valueBeforeEditing===we?f.current.discardTemporaryValue():f.current.permanentlySetValue(we)},Q=ye=>{ye.key==="Escape"?(f.current.discardTemporaryValue(),l.current={mode:"noFocus"},g.current.blur()):(ye.key==="Enter"||ye.key==="Tab")&&(K(),g.current.blur())},ie=ye=>{l.current.mode==="noFocus"&&(g.current.focus(),ye.preventDefault()),ye.stopPropagation()},re=()=>{l.current.mode==="noFocus"?ce():l.current.mode},ce=()=>{let ye=f.current.value;l.current={mode:"editingViaKeyboard",currentEditedValueInString:String(ye),valueBeforeEditing:ye},setTimeout(()=>{g.current.focus(),g.current.setSelectionRange(0,100)})},Ce;return{inputChange:j,onBlur:$,transitionToDraggingMode:()=>{var ye;let we=f.current.value;Ce=(ye=g.current)==null?void 0:ye.getBoundingClientRect().width,l.current={mode:"dragging"};let Oe=we,rt=we;return b.current=document.body.style.cursor,{onDrag(he,De,J,Ge){let zt=J.altKey?Ge/10:Ge,ke=rt+s.nudge({deltaX:zt,deltaFraction:zt/Ce,magnitude:1});rt=s.range?xi(ke,s.range[0],s.range[1]):ke,f.current.temporarilySetValue(rt)},onDragEnd(he){he?(Oe===rt?f.current.discardTemporaryValue():f.current.permanentlySetValue(rt),l.current={mode:"noFocus"}):(f.current.discardTemporaryValue(),l.current={mode:"noFocus"})},onClick(){g.current.focus(),g.current.setSelectionRange(0,100)}}},onInputKeyDown:Q,onClick:ie,onFocus:re}},[]);(0,aZ.useEffect)(()=>()=>{_.onBlur()},[]);let E=l.current.mode!=="editingViaKeyboard"?Cxe(s.value):l.current.currentEditedValueInString;typeof E=="number"&&isNaN(E)&&(E="NaN");let P=[g];s.inputRef&&P.push(s.inputRef);let I=gd.default.createElement(dZ,{key:"input",type:"text",onChange:_.inputChange,value:E,onBlur:_.onBlur,onKeyDown:_.onInputKeyDown,onClick:_.onClick,onFocus:_.onFocus,ref:eC(P),onMouseDown:j=>{j.stopPropagation()},onDoubleClick:j=>{j.preventDefault(),j.stopPropagation()},autoFocus:s.autoFocus}),{range:O}=s,D=parseFloat(E),A=O?gd.default.createElement(pZ,{style:{"--percentage":xi((D-O[0])/(O[1]-O[0]),0,1)}}):null,[F,N]=(0,lZ.useState)(null);return ji(F,{debugName:"form/BasicNumberInput",onDragStart:_.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:l.current.mode==="editingViaKeyboard"}),gd.default.createElement(nC,{className:s.className+" "+l.current.mode},gd.default.createElement(mZ,{ref:N},I),A)},rC=vZ});function Pxe({propConfig:s,editingTools:a,value:l,autoFocus:h}){let f=(0,ZL.useCallback)(g=>s.nudgeFn(B(L({},g),{config:s})),[s]);return ZL.default.createElement(rC,{value:l,temporarilySetValue:a.temporarilySetValue,discardTemporaryValue:a.discardTemporaryValue,permanentlySetValue:a.permanentlySetValue,range:s.range,nudge:f,autoFocus:h})}var ZL,QL,yZ=C(()=>{YL(),ZL=q(Le()),QL=Pxe});function Mxe({value:s,onChange:a,options:l,autoFocus:h}){let f=(0,_6.useCallback)(g=>{a(String(g.target.value))},[a]);return _6.default.createElement(JL,{role:"radiogroup"},Object.keys(l).map((g,b)=>_6.default.createElement(wZ,{key:"label-"+b,"data-checked":s===g},l[g],_6.default.createElement(SZ,{type:"radio",checked:s===g,value:g,onChange:f,name:"switchbox",autoFocus:h}))))}var _6,bZ,JL,_Z,wZ,xZ,SZ,EZ,Txe=C(()=>{u0(),_6=q(Le()),Ue(),JL=ue.form(bZ||(bZ=W([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),wZ=ue.label(_Z||(_Z=W([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),JL,o6(.1,"white")),SZ=ue.input(xZ||(xZ=W([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),EZ=Mxe}),kxe=C(()=>{}),eN,tN,nN,CZ=C(()=>{eN=q(Le()),tN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nN=eN.default.createContext&&eN.default.createContext(tN)});function PZ(s){return s&&s.map(function(a,l){return I3.default.createElement(a.tag,vd({key:l},a.attr),PZ(a.child))})}function A3(s){return function(a){return I3.default.createElement(Axe,vd({attr:vd({},s.attr)},a),PZ(s.child))}}function Axe(s){var a=function(l){var h=s.attr,f=s.size,g=s.title,b=MZ(s,["attr","size","title"]),_=f||l.size||"1em",E;return l.className&&(E=l.className),s.className&&(E=(E?E+" ":"")+s.className),I3.default.createElement("svg",vd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},l.attr,h,b,{className:E,style:vd(vd({color:s.color||l.color},l.style),s.style),height:_,width:_,xmlns:"http://www.w3.org/2000/svg"}),g&&I3.default.createElement("title",null,g),s.children)};return nN!==void 0?I3.default.createElement(nN.Consumer,null,function(l){return a(l)}):a(tN)}var I3,vd,MZ,Ixe=C(()=>{I3=q(Le()),CZ(),vd=function(){return vd=Object.assign||function(s){for(var a,l=1,h=arguments.length;l<h;l++){a=arguments[l];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(s[f]=a[f])}return s},vd.apply(this,arguments)},MZ=function(s,a){var l={};for(var h in s)Object.prototype.hasOwnProperty.call(s,h)&&a.indexOf(h)<0&&(l[h]=s[h]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,h=Object.getOwnPropertySymbols(s);f<h.length;f++)a.indexOf(h[f])<0&&Object.prototype.propertyIsEnumerable.call(s,h[f])&&(l[h[f]]=s[h[f]]);return l}}),fs=C(()=>{kxe(),Ixe(),CZ()}),Rxe=C(()=>{fs()}),Dxe=C(()=>{fs()});function Oxe(s){return A3({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(s)}var Lxe=C(()=>{fs()}),Nxe=C(()=>{fs()}),Fxe=C(()=>{fs()});function Bxe(s){return A3({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(s)}function Uxe(s){return A3({tag:"svg",attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(s)}var zxe=C(()=>{fs()}),Vxe=C(()=>{fs()}),jxe=C(()=>{fs()}),Hxe=C(()=>{fs()}),Gxe=C(()=>{fs()}),$xe=C(()=>{fs()}),Wxe=C(()=>{fs()}),Kxe=C(()=>{fs()}),Xxe=C(()=>{fs()}),qxe=C(()=>{fs()});function TZ(s){return A3({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(s)}var Yxe=C(()=>{fs()}),Zxe=C(()=>{fs()}),Qxe=C(()=>{fs()}),Jxe=C(()=>{fs()});function eSe(s){return A3({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(s)}var tSe=C(()=>{fs()});function nSe(s){return A3({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(s)}var rSe=C(()=>{fs()}),R3=C(()=>{Rxe(),Dxe(),Lxe(),Nxe(),Fxe(),zxe(),Vxe(),jxe(),Hxe(),Gxe(),$xe(),Wxe(),Kxe(),Xxe(),qxe(),Yxe(),Zxe(),Qxe(),Jxe(),tSe(),rSe()});function iSe({value:s,onChange:a,options:l,className:h,autoFocus:f}){let g=(0,Q1.useCallback)(b=>{a(String(b.target.value))},[a]);return Q1.default.createElement(AZ,null,Q1.default.createElement(OZ,{className:h,value:s,onChange:g,autoFocus:f},Object.keys(l).map((b,_)=>Q1.default.createElement("option",{key:"option-"+_,value:b},l[b]))),Q1.default.createElement(RZ,null,Q1.default.createElement(eSe,null)))}var Q1,kZ,AZ,IZ,RZ,DZ,OZ,LZ,sSe=C(()=>{Q1=q(Le()),Ue(),R3(),AZ=ue.div(kZ||(kZ=W([`
  width: 100%;
  position: relative;
`]))),RZ=ue.div(IZ||(IZ=W([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),OZ=ue.select(DZ||(DZ=W([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),LZ=iSe});function oSe({propConfig:s,editingTools:a,value:l,autoFocus:h}){let f=(0,iC.useCallback)(g=>{a.permanentlySetValue(g)},[s,a]);return s.as==="menu"?iC.default.createElement(LZ,{value:l,onChange:f,options:s.valuesAndLabels,autoFocus:h}):iC.default.createElement(EZ,{value:l,onChange:f,options:s.valuesAndLabels,autoFocus:h})}var iC,NZ,aSe=C(()=>{iC=q(Le()),Txe(),sSe(),NZ=oSe}),FZ,w6,BZ,UZ,zZ,VZ,sC,rN=C(()=>{Ue(),FZ=q(Le()),w6=q(Le()),tC(),Dr(),HL(),UZ=ue.input.attrs({type:"text"})(BZ||(BZ=W([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),zZ=s=>!0,VZ=s=>{var a,l;let[h]=xr({mode:"noFocus"}),f=(a=s.isValid)!=null?a:zZ,g=(0,w6.useRef)(s);g.current=s;let b=(0,w6.useRef)(null);jL(b.current,()=>{b.current.blur()},h.current.mode==="editingViaKeyboard");let _=(0,w6.useMemo)(()=>{let I=$=>{let K=$.target,{value:Q}=K,ie=h.current;h.current=B(L({},ie),{currentEditedValueInString:Q}),f(Q)&&g.current.temporarilySetValue(Q)},O=()=>{var $,K;h.current.mode==="editingViaKeyboard"&&(D(),h.current={mode:"noFocus"}),(K=($=g.current).onBlur)==null||K.call($)},D=()=>{let $=h.current,K=$.currentEditedValueInString;f(K)?$.valueBeforeEditing===K?g.current.discardTemporaryValue():g.current.permanentlySetValue(K):g.current.discardTemporaryValue()},A=$=>{$.key==="Escape"?(g.current.discardTemporaryValue(),h.current={mode:"noFocus"},b.current.blur()):($.key==="Enter"||$.key==="Tab")&&(D(),b.current.blur())},F=$=>{h.current.mode==="noFocus"&&(b.current.focus(),$.preventDefault()),$.stopPropagation()},N=()=>{h.current.mode==="noFocus"?j():h.current.mode},j=()=>{let $=g.current.value;h.current={mode:"editingViaKeyboard",currentEditedValueInString:String($),valueBeforeEditing:$},setTimeout(()=>{b.current.focus()})};return{inputChange:I,onBlur:O,onInputKeyDown:A,onClick:F,onFocus:N}},[]);(0,FZ.useEffect)(()=>()=>{_.onBlur()},[]);let E=h.current.mode!=="editingViaKeyboard"?s.value:h.current.currentEditedValueInString,P=[b];return s.inputRef&&P.push(s.inputRef),w6.default.createElement(UZ,{key:"input",type:"text",className:"".concat((l=s.className)!=null?l:""," ").concat(f(E)?"":"invalid"),onChange:_.inputChange,value:E,onBlur:_.onBlur,onKeyDown:_.onInputKeyDown,onClick:_.onClick,onFocus:_.onFocus,ref:eC(P),onMouseDown:I=>{I.stopPropagation()},onDoubleClick:I=>{I.preventDefault(),I.stopPropagation()},autoFocus:s.autoFocus})},sC=VZ});function lSe({editingTools:s,value:a,autoFocus:l}){return jZ.default.createElement(sC,{value:a,temporarilySetValue:s.temporarilySetValue,discardTemporaryValue:s.discardTemporaryValue,permanentlySetValue:s.permanentlySetValue,autoFocus:l})}var jZ,HZ,uSe=C(()=>{jZ=q(Le()),rN(),HZ=lSe});function cSe(s){s=s.trim().toLowerCase();let a=s.match(oN);if(!a)return{r:0,g:0,b:0,a:1};let l=dSe(a[1]);return{r:parseInt(l.substr(0,2),16)/255,g:parseInt(l.substr(2,2),16)/255,b:parseInt(l.substr(4,2),16)/255,a:parseInt(l.substr(6,2),16)/255}}function iN(s,{removeAlphaIfOpaque:a=!1}={}){let l=(s.a*255|256).toString(16).slice(1),h=(s.r*255|256).toString(16).slice(1)+(s.g*255|256).toString(16).slice(1)+(s.b*255|256).toString(16).slice(1)+(a&&l==="ff"?"":l);return"#".concat(h)}function sN(s){return B(L({},s),{toString(){return iN(this,{removeAlphaIfOpaque:!0})}})}function dSe(s){switch(s.length){case 3:return"".concat(s.repeat(2),"ff");case 4:let a=s.substr(0,3),l=s[3];return"".concat(a.repeat(2)).concat(l.repeat(2));case 6:return"".concat(s,"ff")}return s}var oN,GZ=C(()=>{oN=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function oC(s){let a=(0,aN.useRef)(s),l=(0,aN.useRef)(h=>{a.current&&a.current(h)});return a.current=s,l.current}var aN,$Z=C(()=>{aN=q(Le())}),J1,aC=C(()=>{J1=(s,a=0,l=1)=>s>l?l:s<a?a:s}),x6,lN,WZ,uN,cN=C(()=>{x6=q(Le()),lN=(0,x6.createContext)(void 0),WZ=({children:s})=>{let[a,l]=(0,x6.useState)(!1);return x6.default.createElement(lN.Provider,{value:{editing:a,setEditing:l}},s)},uN=()=>(0,x6.useContext)(lN)}),cp,D3,KZ,lC,dN,hN,XZ,qZ,YZ,ZZ,S6,uC=C(()=>{cp=q(Le()),$Z(),aC(),Ue(),cN(),D3=s=>"touches"in s,KZ=(s,a)=>{for(let l=0;l<s.length;l++)if(s[l].identifier===a)return s[l];return s[0]},lC=s=>s&&s.ownerDocument.defaultView||self,dN=(s,a,l)=>{let h=s.getBoundingClientRect(),f=D3(a)?KZ(a.touches,l):a;return{left:J1((f.pageX-(h.left+lC(s).pageXOffset))/h.width),top:J1((f.pageY-(h.top+lC(s).pageYOffset))/h.height)}},hN=s=>{!D3(s)&&s.preventDefault()},XZ=(s,a)=>a&&!D3(s),YZ=ue.div(qZ||(qZ=W([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),ZZ=s=>{var a=s,{onMove:l,onKey:h}=a,f=z(a,["onMove","onKey"]);let g=(0,cp.useRef)(null),b=oC(l),_=oC(h),E=(0,cp.useRef)(null),P=(0,cp.useRef)(!1),{setEditing:I}=uN(),[O,D,A]=(0,cp.useMemo)(()=>{let F=({nativeEvent:Q})=>{let ie=g.current;if(ie&&(hN(Q),!(XZ(Q,P.current)||!ie))){if(D3(Q)){P.current=!0;let re=Q.changedTouches||[];re.length&&(E.current=re[0].identifier)}ie.focus(),I(!0),b(dN(ie,Q,E.current)),K(!0)}},N=Q=>{hN(Q),(D3(Q)?Q.touches.length>0:Q.buttons>0)&&g.current?b(dN(g.current,Q,E.current)):(I(!1),K(!1))},j=Q=>{I(!1),K(!1)},$=Q=>{let ie=Q.which||Q.keyCode;ie<37||ie>40||(Q.preventDefault(),_({left:ie===39?.05:ie===37?-.05:0,top:ie===40?.05:ie===38?-.05:0}))};function K(Q){let ie=P.current,re=g.current,ce=lC(re),Ce=Q?ce.addEventListener:ce.removeEventListener;Ce(ie?"touchmove":"mousemove",N),Ce(ie?"touchend":"mouseup",j)}return[F,$,K]},[_,b]);return(0,cp.useEffect)(()=>A,[A]),cp.default.createElement(YZ,B(L({},f),{onTouchStart:O,onMouseDown:O,ref:g,onKeyDown:D,tabIndex:0,role:"slider"}))},S6=cp.default.memo(ZZ)}),pN,QZ,JZ,eQ,tQ,nQ,rQ,cC,fN=C(()=>{pN=q(Le()),Ue(),uC(),JZ=ue(S6)(QZ||(QZ=W([""]))),tQ=ue.div(eQ||(eQ=W([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),JZ),rQ=ue.div(nQ||(nQ=W([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),cC=({className:s,color:a,left:l,top:h=.5})=>{let f={top:"".concat(h*100,"%"),left:"".concat(l*100,"%")};return pN.default.createElement(tQ,{style:f,className:s},pN.default.createElement(rQ,{style:{backgroundColor:a}}))}}),No,dC=C(()=>{No=(s,a=0,l=Math.pow(10,a))=>Math.round(l*s)/l}),mN,hC,pC,iQ,sQ,fC=C(()=>{dC(),mN=({h:s,s:a,v:l,a:h})=>{let f=(200-a)*l/100;return{h:No(s),s:No(f>0&&f<200?a*l/100/(f<=100?f:200-f)*100:0),l:No(f/2),a:No(h,2)}},hC=s=>{let{h:a,s:l,l:h}=mN(s);return"hsl(".concat(a,", ").concat(l,"%, ").concat(h,"%)")},pC=s=>{let{h:a,s:l,l:h,a:f}=mN(s);return"hsla(".concat(a,", ").concat(l,"%, ").concat(h,"%, ").concat(f,")")},iQ=({h:s,s:a,v:l,a:h})=>{s=s/360*6,a=a/100,l=l/100;let f=Math.floor(s),g=l*(1-a),b=l*(1-(s-f)*a),_=l*(1-(1-s+f)*a),E=f%6;return{r:No([l,b,g,g,_,l][E]*255),g:No([_,l,l,b,g,g][E]*255),b:No([g,g,_,l,l,b][E]*255),a:No(h,2)}},sQ=({r:s,g:a,b:l,a:h})=>{let f=Math.max(s,a,l),g=f-Math.min(s,a,l),b=g?f===s?(a-l)/g:f===a?2+(l-s)/g:4+(s-a)/g:0;return{h:No(60*(b<0?b+6:b)),s:No(f?g/f*100:0),v:No(f/255*100),a:h}}}),E6,oQ,aQ,lQ,uQ,cQ,dQ,hSe=C(()=>{E6=q(Le()),uC(),fN(),fC(),aC(),dC(),Ue(),aQ=ue.div(oQ||(oQ=W([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),uQ=ue(cC)(lQ||(lQ=W([`
  z-index: 2;
`]))),cQ=({className:s,hue:a,onChange:l})=>E6.default.createElement(aQ,{className:s},E6.default.createElement(S6,{onMove:h=>{l({h:360*h.left})},onKey:h=>{l({h:J1(a+h.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":No(a)},E6.default.createElement(uQ,{left:a/360,color:hC({h:a,s:100,v:100,a:1})}))),dQ=E6.default.memo(cQ)}),C6,hQ,pQ,fQ,mQ,gQ,vQ,pSe=C(()=>{C6=q(Le()),uC(),fN(),fC(),aC(),dC(),Ue(),pQ=ue.div(hQ||(hQ=W([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),mQ=ue(cC)(fQ||(fQ=W([`
  z-index: 3;
`]))),gQ=({hsva:s,onChange:a})=>{let l=g=>{a({s:g.left*100,v:100-g.top*100})},h=g=>{a({s:J1(s.s+g.left*100,0,100),v:J1(s.v-g.top*100,0,100)})},f={backgroundColor:hC({h:s.h,s:100,v:100,a:1})};return C6.default.createElement(pQ,{style:f},C6.default.createElement(S6,{onMove:l,onKey:h,"aria-label":"Color","aria-valuetext":"Saturation ".concat(No(s.s),"%, Brightness ").concat(No(s.v),"%")},C6.default.createElement(mQ,{top:1-s.v/100,left:s.s/100,color:hC(s)})))},vQ=C6.default.memo(gQ)}),P6,yQ,bQ,_Q,wQ,xQ,SQ,EQ,fSe=C(()=>{P6=q(Le()),uC(),fN(),fC(),aC(),dC(),Ue(),bQ=ue.div(yQ||(yQ=W([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),wQ=ue.div.attrs(({colorFrom:s,colorTo:a})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(s,", ").concat(a,")")}}))(_Q||(_Q=W([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),SQ=ue(cC)(xQ||(xQ=W([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),EQ=({className:s,hsva:a,onChange:l})=>{let h=_=>{l({a:_.left})},f=_=>{l({a:J1(a.a+_.left)})},g=pC(Object.assign({},a,{a:0})),b=pC(Object.assign({},a,{a:1}));return P6.default.createElement(bQ,{className:s},P6.default.createElement(wQ,{colorFrom:g,colorTo:b}),P6.default.createElement(S6,{onMove:h,onKey:f,"aria-label":"Alpha","aria-valuetext":"".concat(No(a.a*100),"%")},P6.default.createElement(SQ,{left:a.a,color:pC(a)})))}}),mC,CQ=C(()=>{mC=(s,a)=>{if(s===a)return!0;for(let l in s)if(s[l]!==a[l])return!1;return!0}});function mSe(s,a,l,h){let{editing:f}=uN(),[g,b]=(0,yd.useState)(a),_=oC(l),E=oC(h),P=f?g:a,[I,O]=(0,yd.useState)(()=>s.toHsva(P)),D=(0,yd.useRef)({color:P,hsva:I}),A=(0,yd.useRef)({color:P,hsva:I});(0,yd.useEffect)(()=>{f&&b(D.current.color)},[f]),(0,yd.useEffect)(()=>{let N=s.fromHsva(I);f?!mC(I,D.current.hsva)&&!s.equal(N,D.current.color)&&(D.current={hsva:I,color:N},b(N),_(N)):!mC(I,A.current.hsva)&&!s.equal(N,A.current.color)&&(A.current={hsva:I,color:N},D.current={hsva:I,color:N},E(N))},[f,I,s,_,E]),(0,yd.useEffect)(()=>{if(!f&&!s.equal(P,A.current.color)){let N=s.toHsva(P);A.current={hsva:N,color:P},O(N)}},[f,P,s]);let F=(0,yd.useCallback)(N=>{O(j=>Object.assign({},j,N))},[]);return[I,F]}var yd,gSe=C(()=>{yd=q(Le()),CQ(),$Z(),cN()}),O3,PQ,MQ,TQ,vSe=C(()=>{O3=q(Le()),hSe(),pSe(),fSe(),gSe(),Ue(),MQ=ue.div(PQ||(PQ=W([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),TQ=s=>{var a=s,{className:l,colorModel:h,color:f=h.defaultColor,temporarilySetValue:g,permanentlySetValue:b,discardTemporaryValue:_}=a,E=z(a,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[P,I]=mSe(h,f,g,b);return(0,O3.useEffect)(()=>()=>{_()},[]),O3.default.createElement(MQ,L({},E),O3.default.createElement(vQ,{hsva:P,onChange:I}),O3.default.createElement(dQ,{hue:P.h,onChange:I}),O3.default.createElement(EQ,{hsva:P,onChange:I}))}}),gN,kQ,AQ,IQ,RQ,ySe=C(()=>{gN=q(Le()),vSe(),CQ(),fC(),cN(),kQ=s=>({r:s.r/255,g:s.g/255,b:s.b/255,a:s.a}),AQ=s=>({r:s.r*255,g:s.g*255,b:s.b*255,a:s.a}),IQ={defaultColor:{r:0,g:0,b:0,a:1},toHsva:s=>sQ(AQ(s)),fromHsva:s=>kQ(iQ(s)),equal:mC},RQ=s=>gN.default.createElement(WZ,null,gN.default.createElement(TQ,B(L({},s),{permanentlySetValue:a=>{s.permanentlySetValue(a)},colorModel:IQ})))}),bSe=C(()=>{ySe()}),DQ,OQ,LQ,_Se=C(()=>{DQ=q(Le()),OQ=function(s){(0,DQ.useEffect)(s,[])},LQ=OQ}),NQ,FQ,BQ,wSe=C(()=>{NQ=q(Le()),_Se(),FQ=function(s){var a=(0,NQ.useRef)(s);a.current=s,LQ(function(){return function(){return a.current()}})},BQ=FQ}),gC,UQ,zQ,xSe=C(()=>{gC=q(Le()),wSe(),UQ=function(s){var a=(0,gC.useRef)(0),l=(0,gC.useState)(s),h=l[0],f=l[1],g=(0,gC.useCallback)(function(b){cancelAnimationFrame(a.current),a.current=requestAnimationFrame(function(){f(b)})},[]);return BQ(function(){cancelAnimationFrame(a.current)}),[h,g]},zQ=UQ});function SSe(s){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];s&&s.addEventListener&&s.addEventListener.apply(s,a)}function ESe(s){for(var a=[],l=1;l<arguments.length;l++)a[l-1]=arguments[l];s&&s.removeEventListener&&s.removeEventListener.apply(s,a)}var vC,CSe=C(()=>{vC=typeof window<"u"}),VQ,jQ,yC,vN=C(()=>{VQ=q(Le()),xSe(),CSe(),jQ=function(s,a){s===void 0&&(s=1/0),a===void 0&&(a=1/0);var l=zQ({width:vC?window.innerWidth:s,height:vC?window.innerHeight:a}),h=l[0],f=l[1];return(0,VQ.useEffect)(function(){if(vC){var g=function(){f({width:window.innerWidth,height:window.innerHeight})};return SSe(window,"resize",g),function(){ESe(window,"resize",g)}}},[]),h},yC=jQ});function yN(s){let[a,l]=(0,bN.useState)(null);return(0,bN.useLayoutEffect)(()=>(s&&l(s.getBoundingClientRect()),()=>{l(null)}),[s]),a}var bN,HQ=C(()=>{bN=q(Le())}),GQ,$Q,_N,WQ=C(()=>{GQ=q(Le()),$Q=(0,GQ.createContext)({}),_N=$Q});function PSe(s,a,l){let h=s.getBoundingClientRect(),f=g=>{(g.clientX<h.left-a||g.clientX>h.left+h.width+a||g.clientY<h.top-a||g.clientY>h.top+h.height+a)&&l(g)};return window.addEventListener("mousemove",f),()=>{window.removeEventListener("mousemove",f)}}var MSe=C(()=>{}),KQ,bC,wN,XQ,xN,qQ=C(()=>{KQ=q(Le()),bC=q(Le()),vN(),HQ(),WQ(),Dr(),HL(),MSe(),C3(),pi(),wN=8,XQ=s=>{var a,l;let h=s.children(),[f,g]=xr(null),b=h.props.style?L({},h.props.style):{};b.position="absolute";let _=yN(g),E=yN(s.target),P=yC(),[I,O]=(0,bC.useState)({});return(0,bC.useLayoutEffect)(()=>{var D,A,F;if(!_||!g||!E)return;let N=(D=s.verticalGap)!=null?D:8,j={},$=(A=s.verticalPlacement)!=null?A:"bottom",K=0,Q=0;$==="bottom"?E.bottom+_.height+N<P.height?($="bottom",K=E.bottom+N,j.top="0px"):E.top>_.height+N?($="top",K=E.top-(_.height+N),j.bottom="0px",j.transform="rotateZ(180deg)"):$="overlay":$==="top"&&(E.top>_.height+N?($="top",K=E.top-(_.height+N),j.bottom="0px",j.transform="rotateZ(180deg)"):E.bottom+_.height+N<P.height?($="bottom",K=E.bottom+N,j.top="0px"):$="overlay");let ie=0;if($!=="overlay"){let Oe=E.left+E.width/2;Oe<_.width/2?(Q=N,ie=Math.max(Oe-N,wN)):Oe+_.width/2>P.width?(Q=P.width-(N+_.width),ie=Math.min(Oe-Q,_.width-wN)):(Q=Oe-_.width/2,ie=_.width/2),j.left=ie+"px"}let{minX:re=-1/0,maxX:ce=1/0,minY:Ce=-1/0,maxY:ye=1/0}=(F=s.constraints)!=null?F:{},we={left:xi(Q,re,ce-_.width),top:xi(K,Ce,ye+_.height)};if(g.style.left=we.left+"px",g.style.top=we.top+"px",O(j),s.onPointerOutside)return PSe(g,s.onPointerOutside.threshold,s.onPointerOutside.callback)},[_,g,s.target,E,P,s.onPointerOutside]),jL([g,(a=s.target)!=null?a:null],(l=s.onClickOutside)!=null?l:Vl),KQ.default.createElement(_N.Provider,{value:I},(0,bC.cloneElement)(h,{ref:f,style:b}))},xN=XQ});function qu(s,a){let l=(...A)=>{},{isPointerBeingCaptured:h}=iZ("usePopover"),[f,g]=xr({isOpen:!1}),b=(0,Fo.useRef)(s),_=(0,Fo.useCallback)(A=>{f.current={isOpen:!1}},[]),E=(0,Fo.useCallback)((A,F)=>{var N;let j=typeof b.current=="function"?b.current():b.current;function $(){I.childHasFocusRef.current||j.closeOnClickOutside!==!1&&_("clicked outside popover")}f.current={isOpen:!0,clickPoint:{clientX:A.clientX,clientY:A.clientY},target:F,opts:j,onClickOutside:$,onPointerOutside:j.closeWhenPointerIsDistant===!1?void 0:{threshold:(N=j.pointerDistanceThreshold)!=null?N:100,callback:()=>{I.childHasFocusRef.current||h()||_("pointer outside")}}}},[]),P=(0,Fo.useCallback)((...A)=>{f.current.isOpen?_("toggled"):E(...A)},[]),I=TSe({_debug:l,state:g}),[,O]=(0,Fo.useContext)(e7);(0,Fo.useEffect)(()=>{let A;return g.isOpen&&(A=O()),()=>A==null?void 0:A()},[g.isOpen]);let D=(0,Fo.useContext)(x3);return{node:g.isOpen?(0,YQ.createPortal)(Fo.default.createElement(SN.Provider,{value:I.childPopoverLock},Fo.default.createElement(xN,{children:a,target:g.target,onClickOutside:g.onClickOutside,onPointerOutside:g.onPointerOutside,constraints:g.opts.constraints,verticalGap:g.opts.verticalGap})),D):Fo.default.createElement(Fo.default.Fragment,null),open:E,close:_,toggle:P,isOpen:g.isOpen}}function TSe(s){let a=(0,Fo.useContext)(SN);(0,Fo.useEffect)(()=>{if(s.state.isOpen){let h=a.takeFocus();return s._debug("take focus"),()=>{s._debug("release focus"),h.releaseFocus()}}},[s.state.isOpen]);let l=(0,Fo.useRef)(!1);return{childHasFocusRef:l,childPopoverLock:{takeFocus(){return l.current=!0,{releaseFocus(){l.current=!1}}}}}}var Fo,YQ,SN,Yu=C(()=>{KL(),Dr(),Fo=q(Le()),YQ=q(Rl()),Z1(),qQ(),hF(),SN=Fo.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),bd,ZQ,QQ,JQ,eJ,tJ,nJ,rJ,iJ,sJ,oJ,aJ,lJ,kSe=C(()=>{bd=q(Le()),Ue(),WQ(),QQ=ue.div(ZQ||(ZQ=W([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),eJ=ue.div(JQ||(JQ=W([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),nJ=ue.path(tJ||(tJ=W([`
  fill: var(--popover-bg);
`]))),iJ=ue.path(rJ||(rJ=W([`
  fill: var(--popover-inner-stroke);
`]))),oJ=ue.path(sJ||(sJ=W([`
  fill: var(--popover-outer-stroke);
`]))),aJ=(0,bd.forwardRef)(({className:s},a)=>{let l=(0,bd.useContext)(_N);return bd.default.createElement(QQ,{className:s,ref:a,style:L({},l)},bd.default.createElement(eJ,null,bd.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},bd.default.createElement(oJ,{d:"M6 0L0 6H12L6 0Z"}),bd.default.createElement(iJ,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),bd.default.createElement(nJ,{d:"M6 3L0 9H12L6 3Z"}))))}),lJ=aJ}),_C,EN,uJ,cJ,dJ,Zu,Qu=C(()=>{Or(),u0(),_C=q(Le()),Ue(),kSe(),EN=zl(.05,"#2a2a31"),cJ=ue.div(uJ||(uJ=W([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),EN,Tr),dJ=_C.default.forwardRef(({children:s,className:a,showPopoverEdgeTriangle:l=!0},h)=>_C.default.createElement(cJ,{className:a,ref:h},l?_C.default.createElement(lJ,null):void 0,s)),Zu=dJ});function ASe({editingTools:s,value:a,autoFocus:l}){let h=(0,Ju.useRef)(null),f=(0,Ju.useCallback)(b=>{let _=sN(cSe(b));s.permanentlySetValue(_)},[s]),g=qu({debugName:"RgbaPropEditor"},()=>Ju.default.createElement(bJ,null,Ju.default.createElement(RQ,{color:{r:a.r,g:a.g,b:a.b,a:a.a},temporarilySetValue:b=>{let _=sN(b);s.temporarilySetValue(_)},permanentlySetValue:b=>{let _=sN(b);s.permanentlySetValue(_)},discardTemporaryValue:s.discardTemporaryValue})));return Ju.default.createElement(Ju.default.Fragment,null,Ju.default.createElement(pJ,null,Ju.default.createElement(mJ,{rgbaColor:a,ref:h,onClick:b=>{g.toggle(b,h.current)}}),Ju.default.createElement(vJ,{value:iN(a,{removeAlphaIfOpaque:!0}),temporarilySetValue:CN,discardTemporaryValue:CN,permanentlySetValue:f,isValid:b=>!!b.match(oN),autoFocus:l})),g.node)}var Ju,hJ,pJ,fJ,mJ,gJ,vJ,CN,yJ,bJ,_J,ISe=C(()=>{GZ(),GZ(),Ju=q(Le()),bSe(),Ue(),Yu(),rN(),Qu(),pJ=ue.div(hJ||(hJ=W([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),mJ=ue.div.attrs(s=>({style:{background:iN(s.rgbaColor)}}))(fJ||(fJ=W([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),vJ=ue(sC)(gJ||(gJ=W([`
  flex: 1;
`]))),CN=()=>{},bJ=ue.div(yJ||(yJ=W([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),EN),_J=ASe});function RSe({propConfig:s,editingTools:a,value:l,autoFocus:h}){let[f,g]=Hl.default.useState();(0,Hl.useEffect)(()=>{g(l?a.getAssetUrl(l):void 0)},[l]);let b=(0,Hl.useCallback)(E=>se(this,null,function*(){let P=E.target.files[0];a.permanentlySetValue({type:"image",id:void 0});let I=yield a.createAsset(P);I?a.permanentlySetValue({type:"image",id:I}):a.permanentlySetValue(l),E.target.value=null}),[a,l]),_=!(l!=null&&l.id);return Hl.default.createElement(PN,{empty:_},Hl.default.createElement(MJ,{empty:_,title:_?"Upload image":'"'.concat(l.id,'" (Click to upload new image)')},Hl.default.createElement(kJ,{type:"file",onChange:b,accept:"image/*,.hdr",autoFocus:h}),f?Hl.default.createElement(IJ,{src:f}):Hl.default.createElement(SJ,null)),!_&&Hl.default.createElement(DJ,{title:"Delete image",onClick:()=>{a.permanentlySetValue({type:"image",id:void 0})}},Hl.default.createElement(DL,null)))}var Hl,wJ,PN,xJ,SJ,EJ,CJ,PJ,MJ,TJ,kJ,AJ,IJ,RJ,DJ,OJ,DSe=C(()=>{f6(),Hl=q(Le()),Ue(),PN=ue.div(wJ||(wJ=W([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),SJ=ue.div(xJ||(xJ=W([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),MJ=ue.label(PJ||(PJ=W([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),s=>s.empty?po(EJ||(EJ=W([""]))):po(CJ||(CJ=W([""])))),kJ=ue.input.attrs({type:"file"})(TJ||(TJ=W([`
  display: none;
`]))),IJ=ue.img(AJ||(AJ=W([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),DJ=ue.button(RJ||(RJ=W([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),PN),OJ=RSe});function OSe({propConfig:s,editingTools:a,value:l,autoFocus:h}){let[f,g]=Gl.default.useState();(0,Gl.useEffect)(()=>{g(l?a.getAssetUrl(l):void 0)},[l]);let b=(0,Gl.useCallback)(E=>se(this,null,function*(){let P=E.target.files[0];a.permanentlySetValue({type:"file",id:void 0});let I=yield a.createAsset(P);I?a.permanentlySetValue({type:"file",id:I}):a.permanentlySetValue(l),E.target.value=null}),[a,l]),_=!(l!=null&&l.id);return Gl.default.createElement(MN,{empty:_},Gl.default.createElement(VJ,{empty:_,title:_?"Upload file":'"'.concat(l.id,'" (Click to upload new file)')},Gl.default.createElement(HJ,{type:"file",onChange:b,autoFocus:h}),f?Gl.default.createElement(AL,null):Gl.default.createElement(FJ,null)),!_&&Gl.default.createElement($J,{title:"Delete file",onClick:()=>{a.permanentlySetValue({type:"file",id:void 0})}},Gl.default.createElement(DL,null)))}var Gl,LJ,MN,NJ,FJ,BJ,UJ,zJ,VJ,jJ,HJ,GJ,$J,WJ,LSe=C(()=>{f6(),Gl=q(Le()),Ue(),MN=ue.div(LJ||(LJ=W([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),FJ=ue.div(NJ||(NJ=W([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),VJ=ue.label(zJ||(zJ=W([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),s=>s.empty?po(BJ||(BJ=W([""]))):po(UJ||(UJ=W([""])))),HJ=ue.input.attrs({type:"file"})(jJ||(jJ=W([`
  display: none;
`]))),$J=ue.button(GJ||(GJ=W([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),MN),WJ=OSe}),TN,KJ=C(()=>{_xe(),yZ(),aSe(),uSe(),ISe(),DSe(),LSe(),TN={number:QL,string:HZ,boolean:XY,stringLiteral:NZ,rgba:_J,image:OJ,file:WJ}});function M6(s){let a=new WeakMap;return l=>(a.has(l)||a.set(l,s(l)),a.get(l))}var wC=C(()=>{});function ec(s){return s.type==="compound"||s.type==="enum"}function xC(s,a){if(!s)return;let[l,...h]=a;if(l===void 0)return s;if(!ec(s))return;let f=s.type==="enum"?s.cases[l]:s.props[l];return xC(f,h)}function SC(s,a){let l=a.deserializeAndSanitize(s);return l===void 0?a.default:l}function NSe(s){return!ec(s)}function*T6(s,a){if(s.type==="compound")for(let l in s.props)yield*dt(T6(s.props[l],[...a,l]));else{if(s.type==="enum")throw new Error("Not implemented yet");return yield{path:a,conf:s}}}var kN,dp=C(()=>{wC(),kN=M6(s=>{if(s.type==="enum")throw new Error("Not implemented yet for enums");for(let a in s.props){let l=s.props[a];if(ec(l)){if(kN(l))return!0}else return!0}return!1})}),AN,XJ=C(()=>{AN="calc(var(--left-pad) + var(--depth) * var(--step))"}),qJ,hp,em=C(()=>{Ue(),hp=po(qJ||(qJ=W([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),s=>s.isHighlighted==="self"?"#CCC":"#919191")}),k6,EC,YJ,ZJ,QJ,JJ,eee,tee,nee=C(()=>{C3(),k6=q(Le()),Ue(),EC=26,ZJ=ue.li(YJ||(YJ=W([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),EC,s=>s.enabled?"white":"#8f8f8f",s=>s.enabled?"normal":"not-allowed",s=>s.enabled?"rgba(63, 174, 191, 0.75)":"initial"),JJ=ue.span(QJ||(QJ=W([""]))),eee=s=>k6.default.createElement(ZJ,{onClick:s.enabled?s.onClick:Vl,enabled:s.enabled,title:s.enabled?void 0:"Disabled"},k6.default.createElement(JJ,null,k6.default.createElement(k6.default.Fragment,null,s.label))),tee=eee});function FSe(s){let a=(0,IN.useRef)(s);a.current=s,(0,IN.useEffect)(()=>{let l=h=>a.current(h);return window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[])}var IN,BSe=C(()=>{IN=q(Le())}),A6,ree,iee,see,oee,aee,lee,uee,RN,cee=C(()=>{A6=q(Le()),nee(),Ue(),u0(),Or(),ree=190,iee=!0,oee=ue.ul(see||(see=W([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),ree,zl(.2,"#111"),Tr),lee=ue.div(aee||(aee=W([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),uee=A6.default.forwardRef((s,a)=>A6.default.createElement(oee,{ref:a},iee&&s.displayName?A6.default.createElement(lee,null,s.displayName):null,s.items.map((l,h)=>A6.default.createElement(tee,{key:"item-".concat(h),label:l.label,enabled:l.enabled!==!1,onClick:f=>{l.callback&&l.callback(f),s.onRequestClose()}})))),RN=uee}),dee,hee,CC,pee,I6,fee,mee,USe=C(()=>{HQ(),dee=q(Le()),hee=q(Le()),CC=q(Le()),pee=q(Rl()),vN(),nee(),Z1(),BSe(),cee(),I6=20,fee=s=>{let[a,l]=(0,CC.useState)(null),h=yN(a),f=yC();(0,CC.useLayoutEffect)(()=>{if(!h||!a)return;let _={left:h.width/2,top:EC/2+(s.displayName?EC:0)},E={left:s.clickPoint.clientX-_.left,top:s.clickPoint.clientY-_.top};E.left<0?E.left=0:E.left+h.width>f.width&&(E.left=f.width-h.width),E.top<0?E.top=0:E.top+h.height>f.height&&(E.top=f.height-h.height),a.style.left=E.left+"px",a.style.top=E.top+"px";let P=I=>{(I.clientX<E.left-I6||I.clientX>E.left+h.width+I6||I.clientY<E.top-I6||I.clientY>E.top+h.height+I6)&&s.onRequestClose()};return window.addEventListener("mousemove",P),()=>{window.removeEventListener("mousemove",P)}},[h,a,s.clickPoint,f,s.onRequestClose]);let g=(0,hee.useContext)(x3);FSe(_=>{_.key==="Escape"&&s.onRequestClose()});let b=(0,dee.useMemo)(()=>{let _=Array.isArray(s.items)?s.items:s.items();return _.length>0?_:[{label:s.displayName?"No actions for ".concat(s.displayName):"No actions found",enabled:!1}]},[s.items]);return(0,pee.createPortal)(CC.default.createElement(RN,{items:b,onRequestClose:s.onRequestClose,displayName:s.displayName,ref:l}),g)},mee=fee}),PC,gee,vee,zSe=C(()=>{PC=q(Le()),gee=(s,a)=>{let[l,h]=(0,PC.useState)({isOpen:!1}),f=(0,PC.useCallback)(()=>h({isOpen:!1}),[]);return(0,PC.useEffect)(()=>{if(!s||a.disabled===!0){h({isOpen:!1});return}let g=b=>{h({isOpen:!0,event:b}),b.preventDefault(),b.stopPropagation()};return s.addEventListener("contextmenu",g),()=>{s.removeEventListener("contextmenu",g)}},[s,a.disabled]),[l,f]},vee=gee});function ua(s,a){let[l,h]=vee(s,a),[,f]=(0,L3.useContext)(e7);return(0,L3.useEffect)(()=>{var g;let b;return l.isOpen&&((g=a.onOpen)==null||g.call(a),b=f()),()=>b==null?void 0:b()},[l.isOpen,a.onOpen]),[l.isOpen?L3.default.createElement(mee,{items:a.menuItems,displayName:a.displayName,clickPoint:l.event,onRequestClose:h}):yee,h,l.isOpen]}var L3,yee,ca=C(()=>{L3=q(Le()),USe(),zSe(),hF(),yee=L3.default.createElement(L3.default.Fragment,null)});function pp(s,a){return a.length===0?s:Jc(s,a)}var MC=C(()=>{jh()});function bee(s,a){return s==null?null:s instanceof Element&&s.matches(a)?s:bee(s.parentElement,a)}var VSe=C(()=>{});function R6(s,a){let l=s;for(let h of a)l=l[h];return l}var TC=C(()=>{});function jSe(s){let a=new kC.Atom(void 0),l=new kC.Atom({}),h=new kC.Atom({}),f=0;return{addRelatedFlags(g,b){let _=String(++f),E=b.map(P=>{let I={flag:P.flag},O=[P.affects,g,_];return h.setByPointer(D=>R6(D,O),I),O});return()=>{for(let P of E)h.setByPointer(I=>R6(I,P),void 0)}},usePresenceFlag(g){if(!s.enabled)return;let b=(0,D6.useMemo)(()=>{if(!g)return ON;let _=a.prism,E=(0,O6.pointerToPrism)(l.pointer[g]),P=(0,O6.pointerToPrism)(h.pointer[g]);return(0,O6.prism)(()=>{if(E.getValue())return 2;{let I=P.getValue(),O=_.getValue(),D=I&&O&&I[O];if(D){let A;for(let F of Object.values(D))F&&(A&&A>=F.flag||(A=F.flag));return A}return}})},[g]);return e3(b)},setUserHover(g){let b=a.get();b!==g&&(b&&l.setByPointer(_=>_[b],!1),a.set(g),g&&l.setByPointer(_=>_[g],!0))}}}function tm(s){let a=D6.default.useContext(LN),l=a.usePresenceFlag(s);return{attrs:{[AC]:s},flag:l,useRelations(h,f){(0,DN.useEffect)(()=>s&&a.addRelatedFlags(s,h()),[s,...f])}}}function _ee(s){let a=D6.default.useContext(LN),l=lp("PresenceListeners");(0,DN.useEffect)(()=>{let h;if(!s)return;let f=g=>{if(g.target instanceof Node){let b=bee(g.target,"[".concat(AC,"]"));if(b){let _=b.getAttribute(AC);h!==_&&(h=_,a.setUserHover(_||void 0),l._debug("Updated current hover",{itemKey:_}));return}h!=null&&(h=null,a.setUserHover(void 0),l._debug("Cleared current hover"))}};return s.addEventListener("mouseover",f),()=>{s.removeEventListener("mouseover",f),h!=null&&(h=null,l._debug("Cleared current hover as part of cleanup"))}},[s,a])}var D6,DN,O6,kC,ON,LN,AC,nm=C(()=>{D6=q(Le()),DN=q(Le()),up(),O6=Vt,kC=Vt,Sn(),VSe(),TC(),ON=(0,O6.prism)(()=>{}),ON.keepHot(),LN=D6.default.createContext(jSe({enabled:!1})),AC="data-pi-key"}),mo,wee,L6,xee,NN,fp,See,FN,Eee,Cee,Pee,IC,Mee,Tee,kee,Aee,Iee,Ree,N6,Dee,BN,RC=C(()=>{Or(),u0(),mo=q(Le()),Ue(),nm(),L6=ue.div(wee||(wee=W([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),zl(.2,"black")),NN=ue.div(xee||(xee=W([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),L6),fp={offColor:"#555",onColor:"#e0c917"},FN=ue(NN)(See||(See=W([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),s=>s.presence===2?"white":s.isOn?fp.onColor:fp.offColor),Cee=po(Eee||(Eee=W([`
  pointer-events: none !important;
`]))),IC=ue(NN)(Pee||(Pee=W([`
  color: `,`;

  `,`;
`])),s=>s.flag===2?"white":s.available?fp.onColor:fp.offColor,s=>s.available?Tr:Cee),Tee=ue(IC)(Mee||(Mee=W([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),L6),Aee=ue(IC)(kee||(kee=W([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),L6),(s=>{let a=ue.g(Iee||(Iee=W([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),IC);s.Prev=()=>mo.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mo.default.createElement(a,{transform:"translate(6 3)"},mo.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),s.Next=()=>mo.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mo.default.createElement(a,{transform:"translate(1 3)"},mo.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let l=ue.g(Ree||(Ree=W([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),FN);s.Cur=()=>mo.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},mo.default.createElement(l,{transform:"translate(1 4)"},mo.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(N6||(N6={})),Dee=s=>{var a,l,h,f,g;let b=tm((a=s.prev)==null?void 0:a.itemKey),_=tm(((l=s.cur)==null?void 0:l.type)==="on"?s.cur.itemKey:void 0),E=tm((h=s.next)==null?void 0:h.itemKey);return mo.default.createElement(L6,null,mo.default.createElement(Tee,L({available:!!s.prev,onClick:(f=s.prev)==null?void 0:f.jump,flag:b.flag},b.attrs),mo.default.createElement(N6.Prev,null)),mo.default.createElement(FN,L({isOn:s.cur.type==="on",onClick:s.cur.toggle,presence:_.flag},_.attrs),mo.default.createElement(N6.Cur,null)),mo.default.createElement(Aee,L({available:!!s.next,onClick:(g=s.next)==null?void 0:g.jump,flag:E.flag},E.attrs),mo.default.createElement(N6.Next,null)))},BN=Dee}),DC,F6,Oee,Lee,Nee,Fee,Bee,Uee,zee,B6,Vee=C(()=>{u0(),DC=q(Le()),Ue(),ze(),RC(),dp(),F6={defaultState:{color:zl(.95,"#C4C4C4"),hoverColor:zl(.15,fp.onColor)},withStaticOverride:{color:zl(.85,"#C4C4C4"),hoverColor:zl(.15,fp.onColor)}},Lee=ue.div(Oee||(Oee=W([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),s=>s.hasStaticOverride?F6.withStaticOverride.color:F6.defaultState.color,s=>s.hasStaticOverride?F6.withStaticOverride.hoverColor:F6.defaultState.hoverColor),Fee=ue.div(Nee||(Nee=W([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),Uee=ue.div(Bee||(Bee=W([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),zee=s=>{let{hasStaticOverride:a,obj:l,propConfig:h,pathToProp:f}=s;return DC.default.createElement(Lee,{hasStaticOverride:a,onClick:()=>{xe().transaction(({stateEditors:g})=>{for(let{path:b,conf:_}of T6(h,f)){if(ec(_))continue;let E=B(L({},l.address),{pathToProp:b});g.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(E,h)}})},title:"Sequence this prop"},a?DC.default.createElement(Uee,{title:"The default value is overridden"}):DC.default.createElement(Fee,{title:"This is the default value for this prop"}))},B6=zee});function U6(s){return JSON.stringify(UN(s))}function UN(s){return N9(s)?Object.keys(s).sort().reduce((a,l)=>(a[l]=UN(s[l]),a),{}):Array.isArray(s)?s.map(UN):s}var HSe=C(()=>{pi()}),jee,z6,Hee=C(()=>{jee="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",z6=(s=21)=>{let a="",l=s;for(;l--;)a+=jee[Math.random()*64|0];return a}});function Gee(){return z6(10)}function GSe(){return z6(10)}function $Se(){return z6(10)}var Bs,_d=C(()=>{HSe(),Hee(),Bs={forSheet(){return"sheet"},forSheetObject(s){return U6({o:s.address.objectKey})},forSheetObjectProp(s,a){return U6({o:s.address.objectKey,p:a})},forTrackKeyframe(s,a,l){return U6({o:s.address.objectKey,t:a,k:l})},forSheetObjectAggregateKeyframe(s,a){return Bs.forCompoundPropAggregateKeyframe(s,[],a)},forSheetAggregateKeyframe(s,a){return U6({o:s.address.sheetId,pos:a})},forCompoundPropAggregateKeyframe(s,a,l){return U6({o:s.address.objectKey,p:a,pos:l})}}});function $ee(s,a,l){if(!a||a.data.keyframes.length===0)return Wee;let h=zN.get(a.data);if(h&&h[0]===l)return h[1];function f(b){if(!a)return;let _=a.data.keyframes[b];return _&&{kf:_,track:a,itemKey:Bs.forTrackKeyframe(s,a.id,_.id)}}let g=(()=>{let b=a.data.keyframes.findIndex(E=>E.position>=l);if(b===-1)return{prev:f(a.data.keyframes.length-1)};let _=f(b);return _.kf.position===l?{prev:f(b-1),cur:_,next:f(b+1)}:{next:_,prev:f(b-1)}})();return zN.set(a.data,[l,g]),g}var zN,Wee,Kee=C(()=>{_d(),zN=new WeakMap,Wee={}}),VN,Xee=C(()=>{VN={}});function WSe(s,a,l){let h=(0,K0.getPointerParts)(s).path;return Xn(()=>{if(!kN(l))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:rm.default.createElement(B6,{hasStaticOverride:!1,obj:a,pathToProp:h,propConfig:l})};let f=!!(0,K0.val)(Jc(xe().atomP.ephemeral.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].stateByObjectKey[a.address.objectKey].valuesBeingScrubbed,(0,K0.getPointerParts)(s).path)),g=[],b={beingScrubbed:f,contextMenuItems:g,controlIndicators:rm.default.createElement(rm.default.Fragment,null)},_=(0,K0.val)(a.template.getMapOfValidSequenceTracks_forStudio()),E=pp(_,h),P=E!==void 0&&Object.keys(E).length!==0,I=[],O=(0,K0.val)(a.template.getStaticButNotSequencedOverrides()),D=pp(O??VN,h)!==void 0;if(P)for(let A of T6(l,[])){if(ec(A.conf))continue;let F=pp(E,A.path);typeof F!="string"?D=!0:I.push(F)}if((D||P)&&g.push({label:"Reset all to default",callback:()=>{xe().transaction(({unset:A})=>{A(s)})}}),P&&g.push({label:"Make all static",callback:()=>{xe().transaction(({stateEditors:A})=>{for(let{path:F,conf:N}of T6(l,[])){if(ec(N))continue;let j=B(L({},a.address),{pathToProp:[...h,...F]}),$=R6(s,F);A.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(B(L({},j),{value:a.getValueByPointer($)}))}})}}),(!P||P&&D)&&g.push({label:"Sequence all",callback:()=>{xe().transaction(({stateEditors:A})=>{for(let{path:F,conf:N}of T6(l,h)){if(ec(N))continue;let j=B(L({},a.address),{pathToProp:F});A.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(j,l)}})}}),P){let A=K0.prism.memo("controlIndicators",()=>rm.default.createElement(KSe,{pointerToProp:s,obj:a,possibleSequenceTrackIds:E,listOfDescendantTrackIds:I}),[E,I]);return B(L({},b),{type:"HasSequences",controlIndicators:A})}else return B(L({},b),{type:"AllStatic",controlIndicators:rm.default.createElement(B6,{hasStaticOverride:D,obj:a,pathToProp:h,propConfig:l})})},[])}function KSe({pointerToProp:s,obj:a,possibleSequenceTrackIds:l,listOfDescendantTrackIds:h}){return Xn(()=>{let f=(0,K0.getPointerParts)(s).path,g=(0,K0.val)(a.sheet.getSequence().positionPrism),b=h.map(A=>({trackId:A,track:(0,K0.val)(a.template.project.pointers.historic.sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[A])})).filter(({track:A})=>!!A).map(A=>B(L({},A),{nearbies:$ee(a,{id:A.trackId,data:A.track,sheetObject:a},g)})),_=b.find(({nearbies:A})=>!!A.cur),E=b.every(({nearbies:A})=>!!A.cur),P=b.reduce((A,F)=>F.nearbies.prev&&(A===void 0||F.nearbies.prev.kf.position>A.kf.position)?F.nearbies.prev:A,void 0),I=b.reduce((A,F)=>F.nearbies.next&&(A===void 0||F.nearbies.next.kf.position<A.kf.position)?F.nearbies.next:A,void 0),O=()=>{E?xe().transaction(A=>{A.unset(s)}):_?xe().transaction(A=>{A.set(s,(0,K0.val)(s))}):xe().transaction(A=>{A.set(s,(0,K0.val)(s))})},D={cur:_?{type:"on",itemKey:Bs.forCompoundPropAggregateKeyframe(a,f,g),toggle:O}:{toggle:O,type:"off"},prev:P!==void 0?{position:P.kf.position,itemKey:Bs.forCompoundPropAggregateKeyframe(a,f,P.kf.position),jump:()=>{a.sheet.getSequence().position=P.kf.position}}:void 0,next:I!==void 0?{position:I.kf.position,itemKey:Bs.forCompoundPropAggregateKeyframe(a,f,I.kf.position),jump:()=>{a.sheet.getSequence().position=I.kf.position}}:void 0};return rm.default.createElement(BN,L({},D))},[s,a,l,h])}var K0,rm,XSe=C(()=>{ze(),MC(),Sn(),K0=Vt,jh(),rm=q(Le()),Vee(),dp(),_d(),TC(),RC(),Kee(),Xee()});function qSe(){let s=0,a=new Zee.Atom({hasLock:!1});return{replaceLock(l,h){let f=s++,g=a.get();return g.hasLock&&g.cleanup(),a.set({hasLock:!0,lockId:f,cleanup:h,deepPath:YSe(qee(l))}),function(){let b=a.get();b.hasLock&&b.lockId===f&&(b.cleanup(),a.set({hasLock:!1}))}},getIsPropHighlightedD(l){let h=R6(a.pointer.deepPath,qee(l));return(0,Qee.prism)(()=>{let f=(0,Yee.val)(h);return f===!0?"self":f?"descendent":null})}}}function qee(s){return[s.projectId,s.sheetId,s.objectKey,...s.pathToProp]}function YSe(s){let a={};return qh(a,s,!0),a}var Yee,Zee,Qee,OC,jN=C(()=>{Yee=Vt,Zee=Vt,Qee=Vt,TC(),Z9(),OC=qSe()});function ZSe(s,a){return JSON.stringify(s,a,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var QSe=C(()=>{});function Jee(s,a=!0){try{return typeof s=="string"?s:typeof s=="function"||s instanceof Error?s.toString():a?ZSe(s):JSON.stringify(s)}catch{return(s==null?void 0:s.name)||String(s)}}var JSe=C(()=>{QSe()});function eEe(s,a,l){s||(arguments.length>2?ete(a,l):ete(a))}function ete(s,a){let l=arguments.length>1,h=Jee(typeof s=="function"?s():s),f=l?`
Instead found: `.concat(Jee(a)):"";throw new ste("Invariant: ".concat(h).concat(f),a)}var tte,nte,rte,ite,ste,tEe=C(()=>{JSe(),tte=/^\s*at.+node:internal.+/gm,nte=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,rte=/^\s*(at|[^@]+@).+test\-helpers.+/gm,ite=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,ste=class extends Error{constructor(s,a){var l;super(s),ve(this,"found"),a!==void 0&&(this.found=a),this.stack=(l=this.stack)==null?void 0:l.replace(nte,"").replace(ite,"").replace(rte,"").replace(tte,"")}}});function nEe(s){return(0,LC.prism)(()=>{if(Array.isArray(s)){let a=new Array(s.length);for(let l=0;l<s.length;l++)a[l]=s[l].getValue();return a}else{let a={};for(let l in s)a[l]=(0,LC.val)(s[l]);return a}})}function HN(s){let a=N3.default.memo(N3.default.forwardRef(function(l,h){let f=[],g={},b={ref:h};for(let I in l){let O=l[I];(0,LC.isPrism)(O)?(f.push(O),g[I]=O):b[I]=O}let _=(0,N3.useRef)(f.length);eEe(_.current===f.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:_.current,count:f.length});let E=(0,N3.useMemo)(()=>nEe(g),f),P=e3(E);return P&&N3.default.createElement(s,L(L({},b),P))}));return a.displayName="deriver(".concat(s.displayName,")"),a}var LC,N3,ote=C(()=>{LC=Vt,Sn(),N3=q(Le()),tEe()});function rEe(s,a,l){return(0,$l.prism)(()=>{var h;let f=(0,$l.getPointerParts)(s).path,g=a.getValueByPointer(s),b=$l.prism.memo("editPropValue",()=>{let F=null;return{temporarilySetValue(N){F||(F=xe().scrub()),F.capture(j=>{j.set(s,N)})},discardTemporaryValue(){F&&(F.discard(),F=null)},permanentlySetValue(N){F?(F.capture(j=>{j.set(s,N)}),F.commit(),F=null):xe().transaction(j=>{j.set(s,N)})}}},[]),_={createAsset:F=>a.sheet.project.assetStorage.createAsset(F),getAssetUrl:F=>F.id?a.sheet.project.assetStorage.getAssetUrl(F.id):void 0},E=(0,$l.val)(Jc(xe().atomP.ephemeral.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].stateByObjectKey[a.address.objectKey].valuesBeingScrubbed,(0,$l.getPointerParts)(s).path))===!0,P=[],I=B(L(L({},b),_),{value:g,beingScrubbed:E,contextMenuItems:P,controlIndicators:F3.default.createElement(F3.default.Fragment,null)}),O=NSe(l);if(O){let F=(0,$l.val)(a.template.getMapOfValidSequenceTracks_forStudio()),N=pp(F,f);if(typeof N=="string"){P.push({label:"Make static",callback:()=>{xe().transaction(({stateEditors:ce})=>{let Ce=B(L({},a.address),{pathToProp:f});ce.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(B(L({},Ce),{value:a.getValueByPointer(s)}))})}});let j=N,$=$l.prism.sub("lcr",()=>{let ce=(0,$l.val)(a.template.project.pointers.historic.sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[j]),Ce=(0,$l.val)(a.sheet.getSequence().positionPrism);return $ee(a,ce&&{data:ce,id:j,sheetObject:a},Ce)},[j]),K;I.beingScrubbed?K="Sequenced_OnKeyframe_BeingScrubbed":$.cur?K="Sequenced_OnKeyframe":((h=$.prev)==null?void 0:h.kf.connectedRight)===!0?K="Sequenced_BeingInterpolated":K="Sequened_NotBeingInterpolated";let Q=()=>{$.cur?xe().transaction(ce=>{ce.unset(s)}):xe().transaction(ce=>{ce.set(s,I.value)})},ie={cur:$.cur?{type:"on",itemKey:$.cur.itemKey,toggle:Q}:{type:"off",toggle:Q},prev:$.prev!==void 0?{itemKey:$.prev.itemKey,position:$.prev.kf.position,jump:()=>{a.sheet.getSequence().position=$.prev.kf.position}}:void 0,next:$.next!==void 0?{itemKey:$.next.itemKey,position:$.next.kf.position,jump:()=>{a.sheet.getSequence().position=$.next.kf.position}}:void 0},re=F3.default.createElement(BN,L({},ie));return B(L({},I),{type:"Sequenced",shade:K,nearbyKeyframes:$,controlIndicators:re})}}let D=(0,$l.val)(a.template.getStaticValues()),A=pp(D,f);return typeof A<"u"&&P.push({label:"Reset to default",callback:()=>{xe().transaction(({unset:F})=>{F(s)})}}),O&&P.push({label:"Sequence",callback:()=>{xe().transaction(({stateEditors:F})=>{let N=B(L({},a.address),{pathToProp:f});F.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(N,l)})}}),typeof A<"u"?B(L({},I),{type:"Static",shade:I.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:F3.default.createElement(B6,{hasStaticOverride:!0,obj:a,pathToProp:f,propConfig:l})}):B(L({},I),{type:"Default",shade:"Default",controlIndicators:F3.default.createElement(B6,{hasStaticOverride:!0,obj:a,pathToProp:f,propConfig:l})})})}function iEe(s,a,l){if(NC.has(s))return NC.get(s);{let h=rEe(s,a,l);return NC.set(s,h),h}}function GN(s,a,l){let h=iEe(s,a,l);return e3(h)}var F3,$l,NC,$N=C(()=>{jh(),F3=q(Le()),$l=Vt,ze(),MC(),Sn(),dp(),Vee(),Kee(),RC(),NC=new WeakMap});function sEe({propConfig:s,pointerToProp:a,obj:l,SimpleEditorComponent:h}){let f=GN(a,l,s);return go.default.createElement(QL,{editingTools:f,propConfig:s,value:f.value})}function oEe({pointerToProp:s,obj:a,propConfig:l,visualIndentation:h}){var f;let g=(f=l.label)!=null?f:nd((0,V6.getPointerParts)(s).path),b=Object.entries(l.props),_=b.filter(([Q,ie])=>ec(ie)),E=b.filter(([Q,ie])=>!ec(ie)),[P,I]=xr(null),O=WSe(s,a,l),[D]=ua(I,{menuItems:O.contextMenuItems}),A=_.length>0,F=(0,go.useMemo)(()=>OC.getIsPropHighlightedD(B(L({},a.address),{pathToProp:(0,V6.getPointerParts)(s).path})),[s]),N="".concat(a.address.projectId,",").concat(a.address.sheetId,",").concat(a.address.sheetInstanceId,",").concat(a.address.objectKey,",").concat((0,V6.getPointerParts)(s).path.join()),j=xte(l);(0,go.useLayoutEffect)(()=>{FC.has(N)||FC.set(N,new V6.Atom(j))},[N,l]);let $=FC.get(N),K=Xn(()=>$?(0,ate.val)($.pointer):j,[$]);return go.default.createElement(ute,null,D,go.default.createElement(WN,{style:{"--depth":h-1}},go.default.createElement(hte,{isVectorProp:j},go.default.createElement(fte,null,O.controlIndicators),go.default.createElement(gte,{isHighlighted:F,ref:P},go.default.createElement("span",null,g||"Props")),go.default.createElement(yte,{isCollapsed:K,isVector:j,onClick:()=>{$==null||$.set(!$.get())}},go.default.createElement(TZ,null))),j&&K&&go.default.createElement(Ete,null,[...b].map(([Q,ie])=>go.default.createElement(sEe,{key:"prop-"+Q,propConfig:ie,pointerToProp:s[Q],obj:a})))),!K&&go.default.createElement(wte,{style:{"--depth":h},depth:h,lastSubIsComposite:A},[...E,..._].map(([Q,ie])=>go.default.createElement(XN,{key:"prop-"+Q,propConfig:ie,pointerToProp:s[Q],obj:a,visualIndentation:h+1}))))}var V6,go,ate,lte,ute,cte,WN,dte,hte,pte,fte,mte,gte,vte,yte,bte,_te,wte,xte,Ste,Ete,Cte,FC,aEe=C(()=>{dp(),V6=Vt,K9(),u0(),go=q(Le()),Ue(),XJ(),em(),Or(),Dr(),Ute(),ca(),XSe(),jN(),ote(),yZ(),$N(),Sn(),ate=Vt,R3(),wC(),ute=ue.div(lte||(lte=W([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),Tr),WN=ue.div(cte||(cte=W([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),hte=ue.div(dte||(dte=W([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),AN,({isVectorProp:s})=>s?"width: calc(100% - var(--right-width))":""),fte=ue.div(pte||(pte=W([`
  flexshrink: 0;
`]))),gte=HN(ue.div(mte||(mte=W([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>hp)),yte=ue.span(vte||(vte=W([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),s=>s.isCollapsed?0:90,s=>!s.isVector&&s.isCollapsed||s.isVector&&!s.isCollapsed?"visible":"hidden",WN,s=>s.isCollapsed?15:75),bte=zl(.05,"#282b2f"),wte=ue.div(_te||(_te=W([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:s})=>o6(s*.03,bte),s=>s.lastSubIsComposite?0:"4px"),xte=M6(s=>{let a=Object.entries(s.props);return a.length<=3&&a.every(([l,h])=>h.type==="number"&&["x","y","z"].includes(l))}),Ete=ue.div(Ste||(Ste=W([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),Cte=go.default.memo(oEe),FC=new Map});function lEe({isHighlighted:s}){return s==="self"?"#1857a4":s==="descendent"?"#0a2f5c":"initial"}var uEe=C(()=>{});function cEe({propConfig:s,pointerToProp:a,editingTools:l,children:h,isPropHighlightedD:f}){var g;let b=(g=s.label)!=null?g:nd((0,KN.getPointerParts)(a).path),[_,E]=xr(null),[P]=ua(E,{menuItems:l.contextMenuItems});return B3.default.createElement(Mte,{isHighlighted:f},P,B3.default.createElement(kte,null,B3.default.createElement(Dte,null,l.controlIndicators),B3.default.createElement(Ite,{isHighlighted:f,ref:_,title:["obj","props",...(0,KN.getPointerParts)(a).path].join(".")},b)),B3.default.createElement(Lte,null,h))}var KN,B3,Pte,Mte,Tte,kte,Ate,Ite,Rte,Dte,Ote,Lte,dEe=C(()=>{KN=Vt,ca(),Dr(),pi(),B3=q(Le()),Ue(),Or(),em(),ote(),XJ(),uEe(),Mte=HN(ue.div(Pte||(Pte=W([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),Tr,lEe)),kte=ue.div(Tte||(Tte=W([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),AN),Ite=HN(ue.div(Ate||(Ate=W([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),hp)),Dte=ue.div(Rte||(Rte=W([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),Lte=ue.div(Ote||(Ote=W([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function hEe({propConfig:s,pointerToProp:a,obj:l,SimpleEditorComponent:h}){let f=GN(a,l,s),g=(0,j6.useMemo)(()=>OC.getIsPropHighlightedD(B(L({},l.address),{pathToProp:(0,Nte.getPointerParts)(a).path})),[a]);return j6.default.createElement(cEe,{editingTools:f,propConfig:s,pointerToProp:a,isPropHighlightedD:g},j6.default.createElement(h,{editingTools:f,propConfig:s,value:f.value}))}var j6,Nte,Fte,pEe=C(()=>{j6=q(Le()),$N(),dEe(),Nte=Vt,jN(),Fte=j6.default.memo(hEe)}),H6,Bte,XN,Ute=C(()=>{H6=q(Le()),KJ(),aEe(),pEe(),Bte=({propConfig:s,visualIndentation:a,pointerToProp:l,obj:h})=>{if(s.type==="compound")return H6.default.createElement(Cte,{obj:h,visualIndentation:a,pointerToProp:l,propConfig:s});if(s.type==="enum")return H6.default.createElement(H6.default.Fragment,null);{let f=TN[s.type];return H6.default.createElement(Fte,{SimpleEditorComponent:f,obj:h,visualIndentation:a,pointerToProp:l,propConfig:s})}},XN=Bte});function zte(s){return BC.has(s)||BC.set(s,(Vte++).toString()),BC.get(s)}var BC,Vte,jte=C(()=>{BC=new WeakMap,Vte=0}),U3,Hte,Gte,$te,Wte,Kte,Xte,fEe=C(()=>{U3=q(Le()),Ute(),Sn(),jte(),Ue(),Gte=ue.div(Hte||(Hte=W([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),Wte=ue.button($te||($te=W([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),Kte=({objects:s})=>{let a=s[0],l=nr(a.template.configPointer),h=nr(a.template._temp_actionsPointer);return U3.default.createElement(U3.default.Fragment,null,U3.default.createElement(XN,{key:zte(a),obj:a,pointerToProp:a.propsP,propConfig:l,visualIndentation:1}),U3.default.createElement(Gte,null,h&&Object.entries(h).map(([f,g])=>U3.default.createElement(Wte,{key:f,onClick:()=>{g(a.publicApi)}},f))))},Xte=Kte}),qte,Yte,UC,Zte=C(()=>{Ue(),Yte=ue.button(qte||(qte=W([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),s=>s.disabled?"none":"pointer",s=>s.disabled?.4:1),UC=Yte}),mEe=C(()=>{}),Qte,gEe=C(()=>{mEe(),Qte=(s=21)=>{let a="",l=crypto.getRandomValues(new Uint8Array(s));for(;s--;){let h=l[s]&63;h<36?a+=h.toString(36):h<62?a+=(h-26).toString(36).toUpperCase():h<63?a+="_":a+="-"}return a}});function Jte(){return Qte(16)}var ene=C(()=>{gEe()}),tne,wd,qN,nne,rne,ine,sne,one=C(()=>{tne=Vt,Dr(),wd=q(Le()),qN=(0,wd.createContext)(null),nne=0,rne=()=>{let s=(0,wd.useMemo)(()=>nne++,[]),{cur:a,set:l}=(0,wd.useContext)(qN),[h,f]=xr(!1),g=(0,wd.useCallback)((b,_)=>{l(b?s:-1,_)},[]);return(0,wd.useEffect)(()=>a.onStale(()=>{let b=a.getValue()===s;h.current!==b&&(h.current=b)}),[a,s]),[f,g]},ine=({children:s})=>{let a=(0,wd.useMemo)(()=>new tne.Atom(-1),[]),l=a.prism,h=(0,wd.useMemo)(()=>{let f;return(g,b)=>{let _=f!==void 0;f!==void 0&&(clearTimeout(f),f=void 0),b===0||_?a.set(g):f=setTimeout(()=>{a.set(g),f=void 0},b)}},[]);return wd.default.createElement(qN.Provider,{value:{cur:l,set:h}},s)},sne=ine});function z3(s,a){let l=s.enabled!==!1,[h,f]=rne(),[g,b]=xr(null);(0,lne.useEffect)(()=>{if(!l)return;let E=g.current;if(!E)return;let P=()=>{var O;return f(!0,(O=s.enterDelay)!=null?O:400)},I=()=>{var O;return f(!1,(O=s.exitDelay)!=null?O:200)};return E.addEventListener("mouseenter",P),E.addEventListener("mouseleave",I),()=>{E.removeEventListener("mouseenter",P),E.removeEventListener("mouseleave",I)}},[g,l,s.enterDelay,s.exitDelay]);let _=(0,ane.useContext)(x3);return[l&&h&&b?(0,une.createPortal)(zC.default.createElement(xN,{children:a,target:b,onClickOutside:Vl,verticalPlacement:s.verticalPlacement,verticalGap:s.verticalGap}),_):zC.default.createElement(zC.default.Fragment,null),g,h]}var ane,lne,zC,une,G6=C(()=>{Dr(),ane=q(Le()),lne=q(Le()),zC=q(Le()),qQ(),une=q(Rl()),one(),Z1(),C3()}),cne,dne,V3,VC=C(()=>{Ue(),Qu(),dne=ue(Zu)(cne||(cne=W([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),V3=dne}),tc,hne,pne,fne,mne,gne,vne,yne,bne,_ne,vEe=C(()=>{Sn(),ze(),tc=q(Le()),Ue(),ene(),G6(),VC(),Zte(),pne=ue.div(hne||(hne=W([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),mne=ue.div(fne||(fne=W([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),vne=ue.div(gne||(gne=W([`
  display: flex;
  gap: 8px;
`]))),yne=({projectId:s})=>{let a=nr(xe().atomP.ephemeral.coreByProject[s].loadingState);return a&&a.type==="browserStateIsNotBasedOnDiskState"?tc.default.createElement(bne,{loadingState:a,projectId:s}):null},bne=({projectId:s,loadingState:a})=>{let l=()=>{xe().transaction(({drafts:E,stateEditors:P})=>{P.coreByProject.historic.revisionHistory.add({projectId:s,revision:a.onDiskState.revisionHistory[0]}),P.coreByProject.historic.revisionHistory.add({projectId:s,revision:Jte()}),E.ephemeral.coreByProject[s].loadingState={type:"loaded"}})},h=()=>{xe().transaction(({drafts:E})=>{E.historic.coreByProject[s]=a.onDiskState,E.ephemeral.coreByProject[s].loadingState={type:"loaded"}})},[f,g]=z3({},()=>tc.default.createElement(V3,null,"The browser's state will override the disk state.")),[b,_]=z3({},()=>tc.default.createElement(V3,null,"The disk's state will override the browser's state."));return tc.default.createElement(pne,null,tc.default.createElement(mne,null,"Browser state is not based on disk state."," ",tc.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),tc.default.createElement(vne,null,f,tc.default.createElement(UC,{onClick:l,ref:g},"Use browser's state"),b,tc.default.createElement(UC,{onClick:h,ref:_},"Use disk state")))},_ne=yne}),yEe=V((s,a)=>{(function(l){typeof s=="object"&&typeof a<"u"?a.exports=l():(typeof window<"u"?window:typeof Ki<"u"?Ki:typeof self<"u"?self:this).JSZip=l()})(function(){return function l(h,f,g){function b(P,I){if(!f[P]){if(!h[P]){var O=typeof ZT=="function"&&ZT;if(!I&&O)return O(P,!0);if(_)return _(P,!0);var D=new Error("Cannot find module '"+P+"'");throw D.code="MODULE_NOT_FOUND",D}var A=f[P]={exports:{}};h[P][0].call(A.exports,function(F){var N=h[P][1][F];return b(N||F)},A,A.exports,l,h,f,g)}return f[P].exports}for(var _=typeof ZT=="function"&&ZT,E=0;E<g.length;E++)b(g[E]);return b}({1:[function(l,h,f){var g=l("./utils"),b=l("./support"),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.encode=function(E){for(var P,I,O,D,A,F,N,j=[],$=0,K=E.length,Q=K,ie=g.getTypeOf(E)!=="string";$<E.length;)Q=K-$,O=ie?(P=E[$++],I=$<K?E[$++]:0,$<K?E[$++]:0):(P=E.charCodeAt($++),I=$<K?E.charCodeAt($++):0,$<K?E.charCodeAt($++):0),D=P>>2,A=(3&P)<<4|I>>4,F=1<Q?(15&I)<<2|O>>6:64,N=2<Q?63&O:64,j.push(_.charAt(D)+_.charAt(A)+_.charAt(F)+_.charAt(N));return j.join("")},f.decode=function(E){var P,I,O,D,A,F,N=0,j=0,$="data:";if(E.substr(0,$.length)===$)throw new Error("Invalid base64 input, it looks like a data url.");var K,Q=3*(E=E.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(E.charAt(E.length-1)===_.charAt(64)&&Q--,E.charAt(E.length-2)===_.charAt(64)&&Q--,Q%1!=0)throw new Error("Invalid base64 input, bad content length.");for(K=b.uint8array?new Uint8Array(0|Q):new Array(0|Q);N<E.length;)P=_.indexOf(E.charAt(N++))<<2|(D=_.indexOf(E.charAt(N++)))>>4,I=(15&D)<<4|(A=_.indexOf(E.charAt(N++)))>>2,O=(3&A)<<6|(F=_.indexOf(E.charAt(N++))),K[j++]=P,A!==64&&(K[j++]=I),F!==64&&(K[j++]=O);return K}},{"./support":30,"./utils":32}],2:[function(l,h,f){var g=l("./external"),b=l("./stream/DataWorker"),_=l("./stream/Crc32Probe"),E=l("./stream/DataLengthProbe");function P(I,O,D,A,F){this.compressedSize=I,this.uncompressedSize=O,this.crc32=D,this.compression=A,this.compressedContent=F}P.prototype={getContentWorker:function(){var I=new b(g.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new E("data_length")),O=this;return I.on("end",function(){if(this.streamInfo.data_length!==O.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),I},getCompressedWorker:function(){return new b(g.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},P.createWorkerFrom=function(I,O,D){return I.pipe(new _).pipe(new E("uncompressedSize")).pipe(O.compressWorker(D)).pipe(new E("compressedSize")).withStreamInfo("compression",O)},h.exports=P},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(l,h,f){var g=l("./stream/GenericWorker");f.STORE={magic:"\0\0",compressWorker:function(){return new g("STORE compression")},uncompressWorker:function(){return new g("STORE decompression")}},f.DEFLATE=l("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(l,h,f){var g=l("./utils"),b=function(){for(var _,E=[],P=0;P<256;P++){_=P;for(var I=0;I<8;I++)_=1&_?3988292384^_>>>1:_>>>1;E[P]=_}return E}();h.exports=function(_,E){return _!==void 0&&_.length?g.getTypeOf(_)!=="string"?function(P,I,O,D){var A=b,F=D+O;P^=-1;for(var N=D;N<F;N++)P=P>>>8^A[255&(P^I[N])];return-1^P}(0|E,_,_.length,0):function(P,I,O,D){var A=b,F=D+O;P^=-1;for(var N=D;N<F;N++)P=P>>>8^A[255&(P^I.charCodeAt(N))];return-1^P}(0|E,_,_.length,0):0}},{"./utils":32}],5:[function(l,h,f){f.base64=!1,f.binary=!1,f.dir=!1,f.createFolders=!0,f.date=null,f.compression=null,f.compressionOptions=null,f.comment=null,f.unixPermissions=null,f.dosPermissions=null},{}],6:[function(l,h,f){var g=null;g=typeof Promise<"u"?Promise:l("lie"),h.exports={Promise:g}},{lie:37}],7:[function(l,h,f){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",b=l("pako"),_=l("./utils"),E=l("./stream/GenericWorker"),P=g?"uint8array":"array";function I(O,D){E.call(this,"FlateWorker/"+O),this._pako=null,this._pakoAction=O,this._pakoOptions=D,this.meta={}}f.magic="\b\0",_.inherits(I,E),I.prototype.processChunk=function(O){this.meta=O.meta,this._pako===null&&this._createPako(),this._pako.push(_.transformTo(P,O.data),!1)},I.prototype.flush=function(){E.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},I.prototype.cleanUp=function(){E.prototype.cleanUp.call(this),this._pako=null},I.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var O=this;this._pako.onData=function(D){O.push({data:D,meta:O.meta})}},f.compressWorker=function(O){return new I("Deflate",O)},f.uncompressWorker=function(){return new I("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(l,h,f){function g(A,F){var N,j="";for(N=0;N<F;N++)j+=String.fromCharCode(255&A),A>>>=8;return j}function b(A,F,N,j,$,K){var Q,ie,re=A.file,ce=A.compression,Ce=K!==P.utf8encode,ye=_.transformTo("string",K(re.name)),we=_.transformTo("string",P.utf8encode(re.name)),Oe=re.comment,rt=_.transformTo("string",K(Oe)),he=_.transformTo("string",P.utf8encode(Oe)),De=we.length!==re.name.length,J=he.length!==Oe.length,Ge="",zt="",ke="",Ae=re.dir,We=re.date,Pt={crc32:0,compressedSize:0,uncompressedSize:0};F&&!N||(Pt.crc32=A.crc32,Pt.compressedSize=A.compressedSize,Pt.uncompressedSize=A.uncompressedSize);var pe=0;F&&(pe|=8),Ce||!De&&!J||(pe|=2048);var ge=0,Je=0;Ae&&(ge|=16),$==="UNIX"?(Je=798,ge|=function(lt,Ke){var sn=lt;return lt||(sn=Ke?16893:33204),(65535&sn)<<16}(re.unixPermissions,Ae)):(Je=20,ge|=function(lt){return 63&(lt||0)}(re.dosPermissions)),Q=We.getUTCHours(),Q<<=6,Q|=We.getUTCMinutes(),Q<<=5,Q|=We.getUTCSeconds()/2,ie=We.getUTCFullYear()-1980,ie<<=4,ie|=We.getUTCMonth()+1,ie<<=5,ie|=We.getUTCDate(),De&&(zt=g(1,1)+g(I(ye),4)+we,Ge+="up"+g(zt.length,2)+zt),J&&(ke=g(1,1)+g(I(rt),4)+he,Ge+="uc"+g(ke.length,2)+ke);var nt="";return nt+=`
\0`,nt+=g(pe,2),nt+=ce.magic,nt+=g(Q,2),nt+=g(ie,2),nt+=g(Pt.crc32,4),nt+=g(Pt.compressedSize,4),nt+=g(Pt.uncompressedSize,4),nt+=g(ye.length,2),nt+=g(Ge.length,2),{fileRecord:O.LOCAL_FILE_HEADER+nt+ye+Ge,dirRecord:O.CENTRAL_FILE_HEADER+g(Je,2)+nt+g(rt.length,2)+"\0\0\0\0"+g(ge,4)+g(j,4)+ye+Ge+rt}}var _=l("../utils"),E=l("../stream/GenericWorker"),P=l("../utf8"),I=l("../crc32"),O=l("../signature");function D(A,F,N,j){E.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=F,this.zipPlatform=N,this.encodeFileName=j,this.streamFiles=A,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}_.inherits(D,E),D.prototype.push=function(A){var F=A.meta.percent||0,N=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(A):(this.bytesWritten+=A.data.length,E.prototype.push.call(this,{data:A.data,meta:{currentFile:this.currentFile,percent:N?(F+100*(N-j-1))/N:100}}))},D.prototype.openedSource=function(A){this.currentSourceOffset=this.bytesWritten,this.currentFile=A.file.name;var F=this.streamFiles&&!A.file.dir;if(F){var N=b(A,F,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},D.prototype.closedSource=function(A){this.accumulate=!1;var F=this.streamFiles&&!A.file.dir,N=b(A,F,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),F)this.push({data:function(j){return O.DATA_DESCRIPTOR+g(j.crc32,4)+g(j.compressedSize,4)+g(j.uncompressedSize,4)}(A),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},D.prototype.flush=function(){for(var A=this.bytesWritten,F=0;F<this.dirRecords.length;F++)this.push({data:this.dirRecords[F],meta:{percent:100}});var N=this.bytesWritten-A,j=function($,K,Q,ie,re){var ce=_.transformTo("string",re(ie));return O.CENTRAL_DIRECTORY_END+"\0\0\0\0"+g($,2)+g($,2)+g(K,4)+g(Q,4)+g(ce.length,2)+ce}(this.dirRecords.length,N,A,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},D.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},D.prototype.registerPrevious=function(A){this._sources.push(A);var F=this;return A.on("data",function(N){F.processChunk(N)}),A.on("end",function(){F.closedSource(F.previous.streamInfo),F._sources.length?F.prepareNextSource():F.end()}),A.on("error",function(N){F.error(N)}),this},D.prototype.resume=function(){return!!E.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},D.prototype.error=function(A){var F=this._sources;if(!E.prototype.error.call(this,A))return!1;for(var N=0;N<F.length;N++)try{F[N].error(A)}catch{}return!0},D.prototype.lock=function(){E.prototype.lock.call(this);for(var A=this._sources,F=0;F<A.length;F++)A[F].lock()},h.exports=D},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(l,h,f){var g=l("../compressions"),b=l("./ZipFileWorker");f.generateWorker=function(_,E,P){var I=new b(E.streamFiles,P,E.platform,E.encodeFileName),O=0;try{_.forEach(function(D,A){O++;var F=function(K,Q){var ie=K||Q,re=g[ie];if(!re)throw new Error(ie+" is not a valid compression method !");return re}(A.options.compression,E.compression),N=A.options.compressionOptions||E.compressionOptions||{},j=A.dir,$=A.date;A._compressWorker(F,N).withStreamInfo("file",{name:D,dir:j,date:$,comment:A.comment||"",unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions}).pipe(I)}),I.entriesCount=O}catch(D){I.error(D)}return I}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(l,h,f){function g(){if(!(this instanceof g))return new g;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new g;for(var _ in this)typeof this[_]!="function"&&(b[_]=this[_]);return b}}(g.prototype=l("./object")).loadAsync=l("./load"),g.support=l("./support"),g.defaults=l("./defaults"),g.version="3.10.1",g.loadAsync=function(b,_){return new g().loadAsync(b,_)},g.external=l("./external"),h.exports=g},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(l,h,f){var g=l("./utils"),b=l("./external"),_=l("./utf8"),E=l("./zipEntries"),P=l("./stream/Crc32Probe"),I=l("./nodejsUtils");function O(D){return new b.Promise(function(A,F){var N=D.decompressed.getContentWorker().pipe(new P);N.on("error",function(j){F(j)}).on("end",function(){N.streamInfo.crc32!==D.decompressed.crc32?F(new Error("Corrupted zip : CRC32 mismatch")):A()}).resume()})}h.exports=function(D,A){var F=this;return A=g.extend(A||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:_.utf8decode}),I.isNode&&I.isStream(D)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):g.prepareContent("the loaded zip file",D,!0,A.optimizedBinaryString,A.base64).then(function(N){var j=new E(A);return j.load(N),j}).then(function(N){var j=[b.Promise.resolve(N)],$=N.files;if(A.checkCRC32)for(var K=0;K<$.length;K++)j.push(O($[K]));return b.Promise.all(j)}).then(function(N){for(var j=N.shift(),$=j.files,K=0;K<$.length;K++){var Q=$[K],ie=Q.fileNameStr,re=g.resolve(Q.fileNameStr);F.file(re,Q.decompressed,{binary:!0,optimizedBinaryString:!0,date:Q.date,dir:Q.dir,comment:Q.fileCommentStr.length?Q.fileCommentStr:null,unixPermissions:Q.unixPermissions,dosPermissions:Q.dosPermissions,createFolders:A.createFolders}),Q.dir||(F.file(re).unsafeOriginalName=ie)}return j.zipComment.length&&(F.comment=j.zipComment),F})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(l,h,f){var g=l("../utils"),b=l("../stream/GenericWorker");function _(E,P){b.call(this,"Nodejs stream input adapter for "+E),this._upstreamEnded=!1,this._bindStream(P)}g.inherits(_,b),_.prototype._bindStream=function(E){var P=this;(this._stream=E).pause(),E.on("data",function(I){P.push({data:I,meta:{percent:0}})}).on("error",function(I){P.isPaused?this.generatedError=I:P.error(I)}).on("end",function(){P.isPaused?P._upstreamEnded=!0:P.end()})},_.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},_.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},h.exports=_},{"../stream/GenericWorker":28,"../utils":32}],13:[function(l,h,f){var g=l("readable-stream").Readable;function b(_,E,P){g.call(this,E),this._helper=_;var I=this;_.on("data",function(O,D){I.push(O)||I._helper.pause(),P&&P(D)}).on("error",function(O){I.emit("error",O)}).on("end",function(){I.push(null)})}l("../utils").inherits(b,g),b.prototype._read=function(){this._helper.resume()},h.exports=b},{"../utils":32,"readable-stream":16}],14:[function(l,h,f){h.exports={isNode:typeof Buffer<"u",newBufferFrom:function(g,b){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(g,b);if(typeof g=="number")throw new Error('The "data" argument must not be a number');return new Buffer(g,b)},allocBuffer:function(g){if(Buffer.alloc)return Buffer.alloc(g);var b=new Buffer(g);return b.fill(0),b},isBuffer:function(g){return Buffer.isBuffer(g)},isStream:function(g){return g&&typeof g.on=="function"&&typeof g.pause=="function"&&typeof g.resume=="function"}}},{}],15:[function(l,h,f){function g(re,ce,Ce){var ye,we=_.getTypeOf(ce),Oe=_.extend(Ce||{},I);Oe.date=Oe.date||new Date,Oe.compression!==null&&(Oe.compression=Oe.compression.toUpperCase()),typeof Oe.unixPermissions=="string"&&(Oe.unixPermissions=parseInt(Oe.unixPermissions,8)),Oe.unixPermissions&&16384&Oe.unixPermissions&&(Oe.dir=!0),Oe.dosPermissions&&16&Oe.dosPermissions&&(Oe.dir=!0),Oe.dir&&(re=$(re)),Oe.createFolders&&(ye=j(re))&&K.call(this,ye,!0);var rt=we==="string"&&Oe.binary===!1&&Oe.base64===!1;Ce&&Ce.binary!==void 0||(Oe.binary=!rt),(ce instanceof O&&ce.uncompressedSize===0||Oe.dir||!ce||ce.length===0)&&(Oe.base64=!1,Oe.binary=!0,ce="",Oe.compression="STORE",we="string");var he=null;he=ce instanceof O||ce instanceof E?ce:F.isNode&&F.isStream(ce)?new N(re,ce):_.prepareContent(re,ce,Oe.binary,Oe.optimizedBinaryString,Oe.base64);var De=new D(re,he,Oe);this.files[re]=De}var b=l("./utf8"),_=l("./utils"),E=l("./stream/GenericWorker"),P=l("./stream/StreamHelper"),I=l("./defaults"),O=l("./compressedObject"),D=l("./zipObject"),A=l("./generate"),F=l("./nodejsUtils"),N=l("./nodejs/NodejsStreamInputAdapter"),j=function(re){re.slice(-1)==="/"&&(re=re.substring(0,re.length-1));var ce=re.lastIndexOf("/");return 0<ce?re.substring(0,ce):""},$=function(re){return re.slice(-1)!=="/"&&(re+="/"),re},K=function(re,ce){return ce=ce!==void 0?ce:I.createFolders,re=$(re),this.files[re]||g.call(this,re,null,{dir:!0,createFolders:ce}),this.files[re]};function Q(re){return Object.prototype.toString.call(re)==="[object RegExp]"}var ie={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(re){var ce,Ce,ye;for(ce in this.files)ye=this.files[ce],(Ce=ce.slice(this.root.length,ce.length))&&ce.slice(0,this.root.length)===this.root&&re(Ce,ye)},filter:function(re){var ce=[];return this.forEach(function(Ce,ye){re(Ce,ye)&&ce.push(ye)}),ce},file:function(re,ce,Ce){if(arguments.length!==1)return re=this.root+re,g.call(this,re,ce,Ce),this;if(Q(re)){var ye=re;return this.filter(function(Oe,rt){return!rt.dir&&ye.test(Oe)})}var we=this.files[this.root+re];return we&&!we.dir?we:null},folder:function(re){if(!re)return this;if(Q(re))return this.filter(function(we,Oe){return Oe.dir&&re.test(we)});var ce=this.root+re,Ce=K.call(this,ce),ye=this.clone();return ye.root=Ce.name,ye},remove:function(re){re=this.root+re;var ce=this.files[re];if(ce||(re.slice(-1)!=="/"&&(re+="/"),ce=this.files[re]),ce&&!ce.dir)delete this.files[re];else for(var Ce=this.filter(function(we,Oe){return Oe.name.slice(0,re.length)===re}),ye=0;ye<Ce.length;ye++)delete this.files[Ce[ye].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(re){var ce,Ce={};try{if((Ce=_.extend(re||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=Ce.type.toLowerCase(),Ce.compression=Ce.compression.toUpperCase(),Ce.type==="binarystring"&&(Ce.type="string"),!Ce.type)throw new Error("No output type specified.");_.checkSupport(Ce.type),Ce.platform!=="darwin"&&Ce.platform!=="freebsd"&&Ce.platform!=="linux"&&Ce.platform!=="sunos"||(Ce.platform="UNIX"),Ce.platform==="win32"&&(Ce.platform="DOS");var ye=Ce.comment||this.comment||"";ce=A.generateWorker(this,Ce,ye)}catch(we){(ce=new E("error")).error(we)}return new P(ce,Ce.type||"string",Ce.mimeType)},generateAsync:function(re,ce){return this.generateInternalStream(re).accumulate(ce)},generateNodeStream:function(re,ce){return(re=re||{}).type||(re.type="nodebuffer"),this.generateInternalStream(re).toNodejsStream(ce)}};h.exports=ie},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(l,h,f){h.exports=l("stream")},{stream:void 0}],17:[function(l,h,f){var g=l("./DataReader");function b(_){g.call(this,_);for(var E=0;E<this.data.length;E++)_[E]=255&_[E]}l("../utils").inherits(b,g),b.prototype.byteAt=function(_){return this.data[this.zero+_]},b.prototype.lastIndexOfSignature=function(_){for(var E=_.charCodeAt(0),P=_.charCodeAt(1),I=_.charCodeAt(2),O=_.charCodeAt(3),D=this.length-4;0<=D;--D)if(this.data[D]===E&&this.data[D+1]===P&&this.data[D+2]===I&&this.data[D+3]===O)return D-this.zero;return-1},b.prototype.readAndCheckSignature=function(_){var E=_.charCodeAt(0),P=_.charCodeAt(1),I=_.charCodeAt(2),O=_.charCodeAt(3),D=this.readData(4);return E===D[0]&&P===D[1]&&I===D[2]&&O===D[3]},b.prototype.readData=function(_){if(this.checkOffset(_),_===0)return[];var E=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,E},h.exports=b},{"../utils":32,"./DataReader":18}],18:[function(l,h,f){var g=l("../utils");function b(_){this.data=_,this.length=_.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(_){this.checkIndex(this.index+_)},checkIndex:function(_){if(this.length<this.zero+_||_<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+_+"). Corrupted zip ?")},setIndex:function(_){this.checkIndex(_),this.index=_},skip:function(_){this.setIndex(this.index+_)},byteAt:function(){},readInt:function(_){var E,P=0;for(this.checkOffset(_),E=this.index+_-1;E>=this.index;E--)P=(P<<8)+this.byteAt(E);return this.index+=_,P},readString:function(_){return g.transformTo("string",this.readData(_))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var _=this.readInt(4);return new Date(Date.UTC(1980+(_>>25&127),(_>>21&15)-1,_>>16&31,_>>11&31,_>>5&63,(31&_)<<1))}},h.exports=b},{"../utils":32}],19:[function(l,h,f){var g=l("./Uint8ArrayReader");function b(_){g.call(this,_)}l("../utils").inherits(b,g),b.prototype.readData=function(_){this.checkOffset(_);var E=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,E},h.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(l,h,f){var g=l("./DataReader");function b(_){g.call(this,_)}l("../utils").inherits(b,g),b.prototype.byteAt=function(_){return this.data.charCodeAt(this.zero+_)},b.prototype.lastIndexOfSignature=function(_){return this.data.lastIndexOf(_)-this.zero},b.prototype.readAndCheckSignature=function(_){return _===this.readData(4)},b.prototype.readData=function(_){this.checkOffset(_);var E=this.data.slice(this.zero+this.index,this.zero+this.index+_);return this.index+=_,E},h.exports=b},{"../utils":32,"./DataReader":18}],21:[function(l,h,f){var g=l("./ArrayReader");function b(_){g.call(this,_)}l("../utils").inherits(b,g),b.prototype.readData=function(_){if(this.checkOffset(_),_===0)return new Uint8Array(0);var E=this.data.subarray(this.zero+this.index,this.zero+this.index+_);return this.index+=_,E},h.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(l,h,f){var g=l("../utils"),b=l("../support"),_=l("./ArrayReader"),E=l("./StringReader"),P=l("./NodeBufferReader"),I=l("./Uint8ArrayReader");h.exports=function(O){var D=g.getTypeOf(O);return g.checkSupport(D),D!=="string"||b.uint8array?D==="nodebuffer"?new P(O):b.uint8array?new I(g.transformTo("uint8array",O)):new _(g.transformTo("array",O)):new E(O)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(l,h,f){f.LOCAL_FILE_HEADER="PK",f.CENTRAL_FILE_HEADER="PK",f.CENTRAL_DIRECTORY_END="PK",f.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",f.ZIP64_CENTRAL_DIRECTORY_END="PK",f.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(l,h,f){var g=l("./GenericWorker"),b=l("../utils");function _(E){g.call(this,"ConvertWorker to "+E),this.destType=E}b.inherits(_,g),_.prototype.processChunk=function(E){this.push({data:b.transformTo(this.destType,E.data),meta:E.meta})},h.exports=_},{"../utils":32,"./GenericWorker":28}],25:[function(l,h,f){var g=l("./GenericWorker"),b=l("../crc32");function _(){g.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}l("../utils").inherits(_,g),_.prototype.processChunk=function(E){this.streamInfo.crc32=b(E.data,this.streamInfo.crc32||0),this.push(E)},h.exports=_},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(l,h,f){var g=l("../utils"),b=l("./GenericWorker");function _(E){b.call(this,"DataLengthProbe for "+E),this.propName=E,this.withStreamInfo(E,0)}g.inherits(_,b),_.prototype.processChunk=function(E){if(E){var P=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=P+E.data.length}b.prototype.processChunk.call(this,E)},h.exports=_},{"../utils":32,"./GenericWorker":28}],27:[function(l,h,f){var g=l("../utils"),b=l("./GenericWorker");function _(E){b.call(this,"DataWorker");var P=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,E.then(function(I){P.dataIsReady=!0,P.data=I,P.max=I&&I.length||0,P.type=g.getTypeOf(I),P.isPaused||P._tickAndRepeat()},function(I){P.error(I)})}g.inherits(_,b),_.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},_.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,g.delay(this._tickAndRepeat,[],this)),!0)},_.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(g.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},_.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var E=null,P=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":E=this.data.substring(this.index,P);break;case"uint8array":E=this.data.subarray(this.index,P);break;case"array":case"nodebuffer":E=this.data.slice(this.index,P)}return this.index=P,this.push({data:E,meta:{percent:this.max?this.index/this.max*100:0}})},h.exports=_},{"../utils":32,"./GenericWorker":28}],28:[function(l,h,f){function g(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}g.prototype={push:function(b){this.emit("data",b)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(b){this.emit("error",b)}return!0},error:function(b){return!this.isFinished&&(this.isPaused?this.generatedError=b:(this.isFinished=!0,this.emit("error",b),this.previous&&this.previous.error(b),this.cleanUp()),!0)},on:function(b,_){return this._listeners[b].push(_),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(b,_){if(this._listeners[b])for(var E=0;E<this._listeners[b].length;E++)this._listeners[b][E].call(this,_)},pipe:function(b){return b.registerPrevious(this)},registerPrevious:function(b){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=b.streamInfo,this.mergeStreamInfo(),this.previous=b;var _=this;return b.on("data",function(E){_.processChunk(E)}),b.on("end",function(){_.end()}),b.on("error",function(E){_.error(E)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var b=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),b=!0),this.previous&&this.previous.resume(),!b},flush:function(){},processChunk:function(b){this.push(b)},withStreamInfo:function(b,_){return this.extraStreamInfo[b]=_,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var b in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,b)&&(this.streamInfo[b]=this.extraStreamInfo[b])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var b="Worker "+this.name;return this.previous?this.previous+" -> "+b:b}},h.exports=g},{}],29:[function(l,h,f){var g=l("../utils"),b=l("./ConvertWorker"),_=l("./GenericWorker"),E=l("../base64"),P=l("../support"),I=l("../external"),O=null;if(P.nodestream)try{O=l("../nodejs/NodejsStreamOutputAdapter")}catch{}function D(F,N){return new I.Promise(function(j,$){var K=[],Q=F._internalType,ie=F._outputType,re=F._mimeType;F.on("data",function(ce,Ce){K.push(ce),N&&N(Ce)}).on("error",function(ce){K=[],$(ce)}).on("end",function(){try{var ce=function(Ce,ye,we){switch(Ce){case"blob":return g.newBlob(g.transformTo("arraybuffer",ye),we);case"base64":return E.encode(ye);default:return g.transformTo(Ce,ye)}}(ie,function(Ce,ye){var we,Oe=0,rt=null,he=0;for(we=0;we<ye.length;we++)he+=ye[we].length;switch(Ce){case"string":return ye.join("");case"array":return Array.prototype.concat.apply([],ye);case"uint8array":for(rt=new Uint8Array(he),we=0;we<ye.length;we++)rt.set(ye[we],Oe),Oe+=ye[we].length;return rt;case"nodebuffer":return Buffer.concat(ye);default:throw new Error("concat : unsupported type '"+Ce+"'")}}(Q,K),re);j(ce)}catch(Ce){$(Ce)}K=[]}).resume()})}function A(F,N,j){var $=N;switch(N){case"blob":case"arraybuffer":$="uint8array";break;case"base64":$="string"}try{this._internalType=$,this._outputType=N,this._mimeType=j,g.checkSupport($),this._worker=F.pipe(new b($)),F.lock()}catch(K){this._worker=new _("error"),this._worker.error(K)}}A.prototype={accumulate:function(F){return D(this,F)},on:function(F,N){var j=this;return F==="data"?this._worker.on(F,function($){N.call(j,$.data,$.meta)}):this._worker.on(F,function(){g.delay(N,arguments,j)}),this},resume:function(){return g.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(F){if(g.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new O(this,{objectMode:this._outputType!=="nodebuffer"},F)}},h.exports=A},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(l,h,f){if(f.base64=!0,f.array=!0,f.string=!0,f.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",f.nodebuffer=typeof Buffer<"u",f.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")f.blob=!1;else{var g=new ArrayBuffer(0);try{f.blob=new Blob([g],{type:"application/zip"}).size===0}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(g),f.blob=b.getBlob("application/zip").size===0}catch{f.blob=!1}}}try{f.nodestream=!!l("readable-stream").Readable}catch{f.nodestream=!1}},{"readable-stream":16}],31:[function(l,h,f){for(var g=l("./utils"),b=l("./support"),_=l("./nodejsUtils"),E=l("./stream/GenericWorker"),P=new Array(256),I=0;I<256;I++)P[I]=252<=I?6:248<=I?5:240<=I?4:224<=I?3:192<=I?2:1;P[254]=P[254]=1;function O(){E.call(this,"utf-8 decode"),this.leftOver=null}function D(){E.call(this,"utf-8 encode")}f.utf8encode=function(A){return b.nodebuffer?_.newBufferFrom(A,"utf-8"):function(F){var N,j,$,K,Q,ie=F.length,re=0;for(K=0;K<ie;K++)(64512&(j=F.charCodeAt(K)))==55296&&K+1<ie&&(64512&($=F.charCodeAt(K+1)))==56320&&(j=65536+(j-55296<<10)+($-56320),K++),re+=j<128?1:j<2048?2:j<65536?3:4;for(N=b.uint8array?new Uint8Array(re):new Array(re),K=Q=0;Q<re;K++)(64512&(j=F.charCodeAt(K)))==55296&&K+1<ie&&(64512&($=F.charCodeAt(K+1)))==56320&&(j=65536+(j-55296<<10)+($-56320),K++),j<128?N[Q++]=j:(j<2048?N[Q++]=192|j>>>6:(j<65536?N[Q++]=224|j>>>12:(N[Q++]=240|j>>>18,N[Q++]=128|j>>>12&63),N[Q++]=128|j>>>6&63),N[Q++]=128|63&j);return N}(A)},f.utf8decode=function(A){return b.nodebuffer?g.transformTo("nodebuffer",A).toString("utf-8"):function(F){var N,j,$,K,Q=F.length,ie=new Array(2*Q);for(N=j=0;N<Q;)if(($=F[N++])<128)ie[j++]=$;else if(4<(K=P[$]))ie[j++]=65533,N+=K-1;else{for($&=K===2?31:K===3?15:7;1<K&&N<Q;)$=$<<6|63&F[N++],K--;1<K?ie[j++]=65533:$<65536?ie[j++]=$:($-=65536,ie[j++]=55296|$>>10&1023,ie[j++]=56320|1023&$)}return ie.length!==j&&(ie.subarray?ie=ie.subarray(0,j):ie.length=j),g.applyFromCharCode(ie)}(A=g.transformTo(b.uint8array?"uint8array":"array",A))},g.inherits(O,E),O.prototype.processChunk=function(A){var F=g.transformTo(b.uint8array?"uint8array":"array",A.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var N=F;(F=new Uint8Array(N.length+this.leftOver.length)).set(this.leftOver,0),F.set(N,this.leftOver.length)}else F=this.leftOver.concat(F);this.leftOver=null}var j=function(K,Q){var ie;for((Q=Q||K.length)>K.length&&(Q=K.length),ie=Q-1;0<=ie&&(192&K[ie])==128;)ie--;return ie<0||ie===0?Q:ie+P[K[ie]]>Q?ie:Q}(F),$=F;j!==F.length&&(b.uint8array?($=F.subarray(0,j),this.leftOver=F.subarray(j,F.length)):($=F.slice(0,j),this.leftOver=F.slice(j,F.length))),this.push({data:f.utf8decode($),meta:A.meta})},O.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:f.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},f.Utf8DecodeWorker=O,g.inherits(D,E),D.prototype.processChunk=function(A){this.push({data:f.utf8encode(A.data),meta:A.meta})},f.Utf8EncodeWorker=D},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(l,h,f){var g=l("./support"),b=l("./base64"),_=l("./nodejsUtils"),E=l("./external");function P(N){return N}function I(N,j){for(var $=0;$<N.length;++$)j[$]=255&N.charCodeAt($);return j}l("setimmediate"),f.newBlob=function(N,j){f.checkSupport("blob");try{return new Blob([N],{type:j})}catch{try{var $=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return $.append(N),$.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var O={stringifyByChunk:function(N,j,$){var K=[],Q=0,ie=N.length;if(ie<=$)return String.fromCharCode.apply(null,N);for(;Q<ie;)j==="array"||j==="nodebuffer"?K.push(String.fromCharCode.apply(null,N.slice(Q,Math.min(Q+$,ie)))):K.push(String.fromCharCode.apply(null,N.subarray(Q,Math.min(Q+$,ie)))),Q+=$;return K.join("")},stringifyByChar:function(N){for(var j="",$=0;$<N.length;$++)j+=String.fromCharCode(N[$]);return j},applyCanBeUsed:{uint8array:function(){try{return g.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return g.nodebuffer&&String.fromCharCode.apply(null,_.allocBuffer(1)).length===1}catch{return!1}}()}};function D(N){var j=65536,$=f.getTypeOf(N),K=!0;if($==="uint8array"?K=O.applyCanBeUsed.uint8array:$==="nodebuffer"&&(K=O.applyCanBeUsed.nodebuffer),K)for(;1<j;)try{return O.stringifyByChunk(N,$,j)}catch{j=Math.floor(j/2)}return O.stringifyByChar(N)}function A(N,j){for(var $=0;$<N.length;$++)j[$]=N[$];return j}f.applyFromCharCode=D;var F={};F.string={string:P,array:function(N){return I(N,new Array(N.length))},arraybuffer:function(N){return F.string.uint8array(N).buffer},uint8array:function(N){return I(N,new Uint8Array(N.length))},nodebuffer:function(N){return I(N,_.allocBuffer(N.length))}},F.array={string:D,array:P,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return _.newBufferFrom(N)}},F.arraybuffer={string:function(N){return D(new Uint8Array(N))},array:function(N){return A(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:P,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return _.newBufferFrom(new Uint8Array(N))}},F.uint8array={string:D,array:function(N){return A(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:P,nodebuffer:function(N){return _.newBufferFrom(N)}},F.nodebuffer={string:D,array:function(N){return A(N,new Array(N.length))},arraybuffer:function(N){return F.nodebuffer.uint8array(N).buffer},uint8array:function(N){return A(N,new Uint8Array(N.length))},nodebuffer:P},f.transformTo=function(N,j){if(j=j||"",!N)return j;f.checkSupport(N);var $=f.getTypeOf(j);return F[$][N](j)},f.resolve=function(N){for(var j=N.split("/"),$=[],K=0;K<j.length;K++){var Q=j[K];Q==="."||Q===""&&K!==0&&K!==j.length-1||(Q===".."?$.pop():$.push(Q))}return $.join("/")},f.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":g.nodebuffer&&_.isBuffer(N)?"nodebuffer":g.uint8array&&N instanceof Uint8Array?"uint8array":g.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},f.checkSupport=function(N){if(!g[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},f.MAX_VALUE_16BITS=65535,f.MAX_VALUE_32BITS=-1,f.pretty=function(N){var j,$,K="";for($=0;$<(N||"").length;$++)K+="\\x"+((j=N.charCodeAt($))<16?"0":"")+j.toString(16).toUpperCase();return K},f.delay=function(N,j,$){setImmediate(function(){N.apply($||null,j||[])})},f.inherits=function(N,j){function $(){}$.prototype=j.prototype,N.prototype=new $},f.extend=function(){var N,j,$={};for(N=0;N<arguments.length;N++)for(j in arguments[N])Object.prototype.hasOwnProperty.call(arguments[N],j)&&$[j]===void 0&&($[j]=arguments[N][j]);return $},f.prepareContent=function(N,j,$,K,Q){return E.Promise.resolve(j).then(function(ie){return g.blob&&(ie instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(ie))!==-1)&&typeof FileReader<"u"?new E.Promise(function(re,ce){var Ce=new FileReader;Ce.onload=function(ye){re(ye.target.result)},Ce.onerror=function(ye){ce(ye.target.error)},Ce.readAsArrayBuffer(ie)}):ie}).then(function(ie){var re=f.getTypeOf(ie);return re?(re==="arraybuffer"?ie=f.transformTo("uint8array",ie):re==="string"&&(Q?ie=b.decode(ie):$&&K!==!0&&(ie=function(ce){return I(ce,g.uint8array?new Uint8Array(ce.length):new Array(ce.length))}(ie))),ie):E.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(l,h,f){var g=l("./reader/readerFor"),b=l("./utils"),_=l("./signature"),E=l("./zipEntry"),P=l("./support");function I(O){this.files=[],this.loadOptions=O}I.prototype={checkSignature:function(O){if(!this.reader.readAndCheckSignature(O)){this.reader.index-=4;var D=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(D)+", expected "+b.pretty(O)+")")}},isSignature:function(O,D){var A=this.reader.index;this.reader.setIndex(O);var F=this.reader.readString(4)===D;return this.reader.setIndex(A),F},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var O=this.reader.readData(this.zipCommentLength),D=P.uint8array?"uint8array":"array",A=b.transformTo(D,O);this.zipComment=this.loadOptions.decodeFileName(A)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var O,D,A,F=this.zip64EndOfCentralSize-44;0<F;)O=this.reader.readInt(2),D=this.reader.readInt(4),A=this.reader.readData(D),this.zip64ExtensibleData[O]={id:O,length:D,value:A}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var O,D;for(O=0;O<this.files.length;O++)D=this.files[O],this.reader.setIndex(D.localHeaderOffset),this.checkSignature(_.LOCAL_FILE_HEADER),D.readLocalPart(this.reader),D.handleUTF8(),D.processAttributes()},readCentralDir:function(){var O;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(_.CENTRAL_FILE_HEADER);)(O=new E({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(O);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var O=this.reader.lastIndexOfSignature(_.CENTRAL_DIRECTORY_END);if(O<0)throw this.isSignature(0,_.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(O);var D=O;if(this.checkSignature(_.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(O=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(O),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,_.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(_.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var A=this.centralDirOffset+this.centralDirSize;this.zip64&&(A+=20,A+=12+this.zip64EndOfCentralSize);var F=D-A;if(0<F)this.isSignature(D,_.CENTRAL_FILE_HEADER)||(this.reader.zero=F);else if(F<0)throw new Error("Corrupted zip: missing "+Math.abs(F)+" bytes.")},prepareReader:function(O){this.reader=g(O)},load:function(O){this.prepareReader(O),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},h.exports=I},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(l,h,f){var g=l("./reader/readerFor"),b=l("./utils"),_=l("./compressedObject"),E=l("./crc32"),P=l("./utf8"),I=l("./compressions"),O=l("./support");function D(A,F){this.options=A,this.loadOptions=F}D.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(A){var F,N;if(A.skip(22),this.fileNameLength=A.readInt(2),N=A.readInt(2),this.fileName=A.readData(this.fileNameLength),A.skip(N),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((F=function(j){for(var $ in I)if(Object.prototype.hasOwnProperty.call(I,$)&&I[$].magic===j)return I[$];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new _(this.compressedSize,this.uncompressedSize,this.crc32,F,A.readData(this.compressedSize))},readCentralPart:function(A){this.versionMadeBy=A.readInt(2),A.skip(2),this.bitFlag=A.readInt(2),this.compressionMethod=A.readString(2),this.date=A.readDate(),this.crc32=A.readInt(4),this.compressedSize=A.readInt(4),this.uncompressedSize=A.readInt(4);var F=A.readInt(2);if(this.extraFieldsLength=A.readInt(2),this.fileCommentLength=A.readInt(2),this.diskNumberStart=A.readInt(2),this.internalFileAttributes=A.readInt(2),this.externalFileAttributes=A.readInt(4),this.localHeaderOffset=A.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");A.skip(F),this.readExtraFields(A),this.parseZIP64ExtraField(A),this.fileComment=A.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var A=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),A==0&&(this.dosPermissions=63&this.externalFileAttributes),A==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var A=g(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=A.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=A.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=A.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=A.readInt(4))}},readExtraFields:function(A){var F,N,j,$=A.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});A.index+4<$;)F=A.readInt(2),N=A.readInt(2),j=A.readData(N),this.extraFields[F]={id:F,length:N,value:j};A.setIndex($)},handleUTF8:function(){var A=O.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=P.utf8decode(this.fileName),this.fileCommentStr=P.utf8decode(this.fileComment);else{var F=this.findExtraFieldUnicodePath();if(F!==null)this.fileNameStr=F;else{var N=b.transformTo(A,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(N)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var $=b.transformTo(A,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName($)}}},findExtraFieldUnicodePath:function(){var A=this.extraFields[28789];if(A){var F=g(A.value);return F.readInt(1)!==1||E(this.fileName)!==F.readInt(4)?null:P.utf8decode(F.readData(A.length-5))}return null},findExtraFieldUnicodeComment:function(){var A=this.extraFields[25461];if(A){var F=g(A.value);return F.readInt(1)!==1||E(this.fileComment)!==F.readInt(4)?null:P.utf8decode(F.readData(A.length-5))}return null}},h.exports=D},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(l,h,f){function g(F,N,j){this.name=F,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=N,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var b=l("./stream/StreamHelper"),_=l("./stream/DataWorker"),E=l("./utf8"),P=l("./compressedObject"),I=l("./stream/GenericWorker");g.prototype={internalStream:function(F){var N=null,j="string";try{if(!F)throw new Error("No output type specified.");var $=(j=F.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),N=this._decompressWorker();var K=!this._dataBinary;K&&!$&&(N=N.pipe(new E.Utf8EncodeWorker)),!K&&$&&(N=N.pipe(new E.Utf8DecodeWorker))}catch(Q){(N=new I("error")).error(Q)}return new b(N,j,"")},async:function(F,N){return this.internalStream(F).accumulate(N)},nodeStream:function(F,N){return this.internalStream(F||"nodebuffer").toNodejsStream(N)},_compressWorker:function(F,N){if(this._data instanceof P&&this._data.compression.magic===F.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new E.Utf8EncodeWorker)),P.createWorkerFrom(j,F,N)},_decompressWorker:function(){return this._data instanceof P?this._data.getContentWorker():this._data instanceof I?this._data:new _(this._data)}};for(var O=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],D=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},A=0;A<O.length;A++)g.prototype[O[A]]=D;h.exports=g},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(l,h,f){(function(g){var b,_,E=g.MutationObserver||g.WebKitMutationObserver;if(E){var P=0,I=new E(F),O=g.document.createTextNode("");I.observe(O,{characterData:!0}),b=function(){O.data=P=++P%2}}else if(g.setImmediate||g.MessageChannel===void 0)b="document"in g&&"onreadystatechange"in g.document.createElement("script")?function(){var N=g.document.createElement("script");N.onreadystatechange=function(){F(),N.onreadystatechange=null,N.parentNode.removeChild(N),N=null},g.document.documentElement.appendChild(N)}:function(){setTimeout(F,0)};else{var D=new g.MessageChannel;D.port1.onmessage=F,b=function(){D.port2.postMessage(0)}}var A=[];function F(){var N,j;_=!0;for(var $=A.length;$;){for(j=A,A=[],N=-1;++N<$;)j[N]();$=A.length}_=!1}h.exports=function(N){A.push(N)!==1||_||b()}}).call(this,typeof Ki<"u"?Ki:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(l,h,f){var g=l("immediate");function b(){}var _={},E=["REJECTED"],P=["FULFILLED"],I=["PENDING"];function O($){if(typeof $!="function")throw new TypeError("resolver must be a function");this.state=I,this.queue=[],this.outcome=void 0,$!==b&&N(this,$)}function D($,K,Q){this.promise=$,typeof K=="function"&&(this.onFulfilled=K,this.callFulfilled=this.otherCallFulfilled),typeof Q=="function"&&(this.onRejected=Q,this.callRejected=this.otherCallRejected)}function A($,K,Q){g(function(){var ie;try{ie=K(Q)}catch(re){return _.reject($,re)}ie===$?_.reject($,new TypeError("Cannot resolve promise with itself")):_.resolve($,ie)})}function F($){var K=$&&$.then;if($&&(typeof $=="object"||typeof $=="function")&&typeof K=="function")return function(){K.apply($,arguments)}}function N($,K){var Q=!1;function ie(Ce){Q||(Q=!0,_.reject($,Ce))}function re(Ce){Q||(Q=!0,_.resolve($,Ce))}var ce=j(function(){K(re,ie)});ce.status==="error"&&ie(ce.value)}function j($,K){var Q={};try{Q.value=$(K),Q.status="success"}catch(ie){Q.status="error",Q.value=ie}return Q}(h.exports=O).prototype.finally=function($){if(typeof $!="function")return this;var K=this.constructor;return this.then(function(Q){return K.resolve($()).then(function(){return Q})},function(Q){return K.resolve($()).then(function(){throw Q})})},O.prototype.catch=function($){return this.then(null,$)},O.prototype.then=function($,K){if(typeof $!="function"&&this.state===P||typeof K!="function"&&this.state===E)return this;var Q=new this.constructor(b);return this.state!==I?A(Q,this.state===P?$:K,this.outcome):this.queue.push(new D(Q,$,K)),Q},D.prototype.callFulfilled=function($){_.resolve(this.promise,$)},D.prototype.otherCallFulfilled=function($){A(this.promise,this.onFulfilled,$)},D.prototype.callRejected=function($){_.reject(this.promise,$)},D.prototype.otherCallRejected=function($){A(this.promise,this.onRejected,$)},_.resolve=function($,K){var Q=j(F,K);if(Q.status==="error")return _.reject($,Q.value);var ie=Q.value;if(ie)N($,ie);else{$.state=P,$.outcome=K;for(var re=-1,ce=$.queue.length;++re<ce;)$.queue[re].callFulfilled(K)}return $},_.reject=function($,K){$.state=E,$.outcome=K;for(var Q=-1,ie=$.queue.length;++Q<ie;)$.queue[Q].callRejected(K);return $},O.resolve=function($){return $ instanceof this?$:_.resolve(new this(b),$)},O.reject=function($){var K=new this(b);return _.reject(K,$)},O.all=function($){var K=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=$.length,ie=!1;if(!Q)return this.resolve([]);for(var re=new Array(Q),ce=0,Ce=-1,ye=new this(b);++Ce<Q;)we($[Ce],Ce);return ye;function we(Oe,rt){K.resolve(Oe).then(function(he){re[rt]=he,++ce!==Q||ie||(ie=!0,_.resolve(ye,re))},function(he){ie||(ie=!0,_.reject(ye,he))})}},O.race=function($){var K=this;if(Object.prototype.toString.call($)!=="[object Array]")return this.reject(new TypeError("must be an array"));var Q=$.length,ie=!1;if(!Q)return this.resolve([]);for(var re=-1,ce=new this(b);++re<Q;)Ce=$[re],K.resolve(Ce).then(function(ye){ie||(ie=!0,_.resolve(ce,ye))},function(ye){ie||(ie=!0,_.reject(ce,ye))});var Ce;return ce}},{immediate:36}],38:[function(l,h,f){var g={};(0,l("./lib/utils/common").assign)(g,l("./lib/deflate"),l("./lib/inflate"),l("./lib/zlib/constants")),h.exports=g},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(l,h,f){var g=l("./zlib/deflate"),b=l("./utils/common"),_=l("./utils/strings"),E=l("./zlib/messages"),P=l("./zlib/zstream"),I=Object.prototype.toString,O=0,D=-1,A=0,F=8;function N($){if(!(this instanceof N))return new N($);this.options=b.assign({level:D,method:F,chunkSize:16384,windowBits:15,memLevel:8,strategy:A,to:""},$||{});var K=this.options;K.raw&&0<K.windowBits?K.windowBits=-K.windowBits:K.gzip&&0<K.windowBits&&K.windowBits<16&&(K.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new P,this.strm.avail_out=0;var Q=g.deflateInit2(this.strm,K.level,K.method,K.windowBits,K.memLevel,K.strategy);if(Q!==O)throw new Error(E[Q]);if(K.header&&g.deflateSetHeader(this.strm,K.header),K.dictionary){var ie;if(ie=typeof K.dictionary=="string"?_.string2buf(K.dictionary):I.call(K.dictionary)==="[object ArrayBuffer]"?new Uint8Array(K.dictionary):K.dictionary,(Q=g.deflateSetDictionary(this.strm,ie))!==O)throw new Error(E[Q]);this._dict_set=!0}}function j($,K){var Q=new N(K);if(Q.push($,!0),Q.err)throw Q.msg||E[Q.err];return Q.result}N.prototype.push=function($,K){var Q,ie,re=this.strm,ce=this.options.chunkSize;if(this.ended)return!1;ie=K===~~K?K:K===!0?4:0,typeof $=="string"?re.input=_.string2buf($):I.call($)==="[object ArrayBuffer]"?re.input=new Uint8Array($):re.input=$,re.next_in=0,re.avail_in=re.input.length;do{if(re.avail_out===0&&(re.output=new b.Buf8(ce),re.next_out=0,re.avail_out=ce),(Q=g.deflate(re,ie))!==1&&Q!==O)return this.onEnd(Q),!(this.ended=!0);re.avail_out!==0&&(re.avail_in!==0||ie!==4&&ie!==2)||(this.options.to==="string"?this.onData(_.buf2binstring(b.shrinkBuf(re.output,re.next_out))):this.onData(b.shrinkBuf(re.output,re.next_out)))}while((0<re.avail_in||re.avail_out===0)&&Q!==1);return ie===4?(Q=g.deflateEnd(this.strm),this.onEnd(Q),this.ended=!0,Q===O):ie!==2||(this.onEnd(O),!(re.avail_out=0))},N.prototype.onData=function($){this.chunks.push($)},N.prototype.onEnd=function($){$===O&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=$,this.msg=this.strm.msg},f.Deflate=N,f.deflate=j,f.deflateRaw=function($,K){return(K=K||{}).raw=!0,j($,K)},f.gzip=function($,K){return(K=K||{}).gzip=!0,j($,K)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(l,h,f){var g=l("./zlib/inflate"),b=l("./utils/common"),_=l("./utils/strings"),E=l("./zlib/constants"),P=l("./zlib/messages"),I=l("./zlib/zstream"),O=l("./zlib/gzheader"),D=Object.prototype.toString;function A(N){if(!(this instanceof A))return new A(N);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},N||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||N&&N.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&!(15&j.windowBits)&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new I,this.strm.avail_out=0;var $=g.inflateInit2(this.strm,j.windowBits);if($!==E.Z_OK)throw new Error(P[$]);this.header=new O,g.inflateGetHeader(this.strm,this.header)}function F(N,j){var $=new A(j);if($.push(N,!0),$.err)throw $.msg||P[$.err];return $.result}A.prototype.push=function(N,j){var $,K,Q,ie,re,ce,Ce=this.strm,ye=this.options.chunkSize,we=this.options.dictionary,Oe=!1;if(this.ended)return!1;K=j===~~j?j:j===!0?E.Z_FINISH:E.Z_NO_FLUSH,typeof N=="string"?Ce.input=_.binstring2buf(N):D.call(N)==="[object ArrayBuffer]"?Ce.input=new Uint8Array(N):Ce.input=N,Ce.next_in=0,Ce.avail_in=Ce.input.length;do{if(Ce.avail_out===0&&(Ce.output=new b.Buf8(ye),Ce.next_out=0,Ce.avail_out=ye),($=g.inflate(Ce,E.Z_NO_FLUSH))===E.Z_NEED_DICT&&we&&(ce=typeof we=="string"?_.string2buf(we):D.call(we)==="[object ArrayBuffer]"?new Uint8Array(we):we,$=g.inflateSetDictionary(this.strm,ce)),$===E.Z_BUF_ERROR&&Oe===!0&&($=E.Z_OK,Oe=!1),$!==E.Z_STREAM_END&&$!==E.Z_OK)return this.onEnd($),!(this.ended=!0);Ce.next_out&&(Ce.avail_out!==0&&$!==E.Z_STREAM_END&&(Ce.avail_in!==0||K!==E.Z_FINISH&&K!==E.Z_SYNC_FLUSH)||(this.options.to==="string"?(Q=_.utf8border(Ce.output,Ce.next_out),ie=Ce.next_out-Q,re=_.buf2string(Ce.output,Q),Ce.next_out=ie,Ce.avail_out=ye-ie,ie&&b.arraySet(Ce.output,Ce.output,Q,ie,0),this.onData(re)):this.onData(b.shrinkBuf(Ce.output,Ce.next_out)))),Ce.avail_in===0&&Ce.avail_out===0&&(Oe=!0)}while((0<Ce.avail_in||Ce.avail_out===0)&&$!==E.Z_STREAM_END);return $===E.Z_STREAM_END&&(K=E.Z_FINISH),K===E.Z_FINISH?($=g.inflateEnd(this.strm),this.onEnd($),this.ended=!0,$===E.Z_OK):K!==E.Z_SYNC_FLUSH||(this.onEnd(E.Z_OK),!(Ce.avail_out=0))},A.prototype.onData=function(N){this.chunks.push(N)},A.prototype.onEnd=function(N){N===E.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},f.Inflate=A,f.inflate=F,f.inflateRaw=function(N,j){return(j=j||{}).raw=!0,F(N,j)},f.ungzip=F},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(l,h,f){var g=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";f.assign=function(E){for(var P=Array.prototype.slice.call(arguments,1);P.length;){var I=P.shift();if(I){if(typeof I!="object")throw new TypeError(I+"must be non-object");for(var O in I)I.hasOwnProperty(O)&&(E[O]=I[O])}}return E},f.shrinkBuf=function(E,P){return E.length===P?E:E.subarray?E.subarray(0,P):(E.length=P,E)};var b={arraySet:function(E,P,I,O,D){if(P.subarray&&E.subarray)E.set(P.subarray(I,I+O),D);else for(var A=0;A<O;A++)E[D+A]=P[I+A]},flattenChunks:function(E){var P,I,O,D,A,F;for(P=O=0,I=E.length;P<I;P++)O+=E[P].length;for(F=new Uint8Array(O),P=D=0,I=E.length;P<I;P++)A=E[P],F.set(A,D),D+=A.length;return F}},_={arraySet:function(E,P,I,O,D){for(var A=0;A<O;A++)E[D+A]=P[I+A]},flattenChunks:function(E){return[].concat.apply([],E)}};f.setTyped=function(E){E?(f.Buf8=Uint8Array,f.Buf16=Uint16Array,f.Buf32=Int32Array,f.assign(f,b)):(f.Buf8=Array,f.Buf16=Array,f.Buf32=Array,f.assign(f,_))},f.setTyped(g)},{}],42:[function(l,h,f){var g=l("./common"),b=!0,_=!0;try{String.fromCharCode.apply(null,[0])}catch{b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_=!1}for(var E=new g.Buf8(256),P=0;P<256;P++)E[P]=252<=P?6:248<=P?5:240<=P?4:224<=P?3:192<=P?2:1;function I(O,D){if(D<65537&&(O.subarray&&_||!O.subarray&&b))return String.fromCharCode.apply(null,g.shrinkBuf(O,D));for(var A="",F=0;F<D;F++)A+=String.fromCharCode(O[F]);return A}E[254]=E[254]=1,f.string2buf=function(O){var D,A,F,N,j,$=O.length,K=0;for(N=0;N<$;N++)(64512&(A=O.charCodeAt(N)))==55296&&N+1<$&&(64512&(F=O.charCodeAt(N+1)))==56320&&(A=65536+(A-55296<<10)+(F-56320),N++),K+=A<128?1:A<2048?2:A<65536?3:4;for(D=new g.Buf8(K),N=j=0;j<K;N++)(64512&(A=O.charCodeAt(N)))==55296&&N+1<$&&(64512&(F=O.charCodeAt(N+1)))==56320&&(A=65536+(A-55296<<10)+(F-56320),N++),A<128?D[j++]=A:(A<2048?D[j++]=192|A>>>6:(A<65536?D[j++]=224|A>>>12:(D[j++]=240|A>>>18,D[j++]=128|A>>>12&63),D[j++]=128|A>>>6&63),D[j++]=128|63&A);return D},f.buf2binstring=function(O){return I(O,O.length)},f.binstring2buf=function(O){for(var D=new g.Buf8(O.length),A=0,F=D.length;A<F;A++)D[A]=O.charCodeAt(A);return D},f.buf2string=function(O,D){var A,F,N,j,$=D||O.length,K=new Array(2*$);for(A=F=0;A<$;)if((N=O[A++])<128)K[F++]=N;else if(4<(j=E[N]))K[F++]=65533,A+=j-1;else{for(N&=j===2?31:j===3?15:7;1<j&&A<$;)N=N<<6|63&O[A++],j--;1<j?K[F++]=65533:N<65536?K[F++]=N:(N-=65536,K[F++]=55296|N>>10&1023,K[F++]=56320|1023&N)}return I(K,F)},f.utf8border=function(O,D){var A;for((D=D||O.length)>O.length&&(D=O.length),A=D-1;0<=A&&(192&O[A])==128;)A--;return A<0||A===0?D:A+E[O[A]]>D?A:D}},{"./common":41}],43:[function(l,h,f){h.exports=function(g,b,_,E){for(var P=65535&g|0,I=g>>>16&65535|0,O=0;_!==0;){for(_-=O=2e3<_?2e3:_;I=I+(P=P+b[E++]|0)|0,--O;);P%=65521,I%=65521}return P|I<<16|0}},{}],44:[function(l,h,f){h.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(l,h,f){var g=function(){for(var b,_=[],E=0;E<256;E++){b=E;for(var P=0;P<8;P++)b=1&b?3988292384^b>>>1:b>>>1;_[E]=b}return _}();h.exports=function(b,_,E,P){var I=g,O=P+E;b^=-1;for(var D=P;D<O;D++)b=b>>>8^I[255&(b^_[D])];return-1^b}},{}],46:[function(l,h,f){var g,b=l("../utils/common"),_=l("./trees"),E=l("./adler32"),P=l("./crc32"),I=l("./messages"),O=0,D=4,A=0,F=-2,N=-1,j=4,$=2,K=8,Q=9,ie=286,re=30,ce=19,Ce=2*ie+1,ye=15,we=3,Oe=258,rt=Oe+we+1,he=42,De=113,J=1,Ge=2,zt=3,ke=4;function Ae(ee,mt){return ee.msg=I[mt],mt}function We(ee){return(ee<<1)-(4<ee?9:0)}function Pt(ee){for(var mt=ee.length;0<=--mt;)ee[mt]=0}function pe(ee){var mt=ee.state,ct=mt.pending;ct>ee.avail_out&&(ct=ee.avail_out),ct!==0&&(b.arraySet(ee.output,mt.pending_buf,mt.pending_out,ct,ee.next_out),ee.next_out+=ct,mt.pending_out+=ct,ee.total_out+=ct,ee.avail_out-=ct,mt.pending-=ct,mt.pending===0&&(mt.pending_out=0))}function ge(ee,mt){_._tr_flush_block(ee,0<=ee.block_start?ee.block_start:-1,ee.strstart-ee.block_start,mt),ee.block_start=ee.strstart,pe(ee.strm)}function Je(ee,mt){ee.pending_buf[ee.pending++]=mt}function nt(ee,mt){ee.pending_buf[ee.pending++]=mt>>>8&255,ee.pending_buf[ee.pending++]=255&mt}function lt(ee,mt){var ct,Ee,Se=ee.max_chain_length,Xe=ee.strstart,Tt=ee.prev_length,Ft=ee.nice_match,et=ee.strstart>ee.w_size-rt?ee.strstart-(ee.w_size-rt):0,jt=ee.window,Lt=ee.w_mask,Bt=ee.prev,An=ee.strstart+Oe,Lr=jt[Xe+Tt-1],Jn=jt[Xe+Tt];ee.prev_length>=ee.good_match&&(Se>>=2),Ft>ee.lookahead&&(Ft=ee.lookahead);do if(jt[(ct=mt)+Tt]===Jn&&jt[ct+Tt-1]===Lr&&jt[ct]===jt[Xe]&&jt[++ct]===jt[Xe+1]){Xe+=2,ct++;do;while(jt[++Xe]===jt[++ct]&&jt[++Xe]===jt[++ct]&&jt[++Xe]===jt[++ct]&&jt[++Xe]===jt[++ct]&&jt[++Xe]===jt[++ct]&&jt[++Xe]===jt[++ct]&&jt[++Xe]===jt[++ct]&&jt[++Xe]===jt[++ct]&&Xe<An);if(Ee=Oe-(An-Xe),Xe=An-Oe,Tt<Ee){if(ee.match_start=mt,Ft<=(Tt=Ee))break;Lr=jt[Xe+Tt-1],Jn=jt[Xe+Tt]}}while((mt=Bt[mt&Lt])>et&&--Se!=0);return Tt<=ee.lookahead?Tt:ee.lookahead}function Ke(ee){var mt,ct,Ee,Se,Xe,Tt,Ft,et,jt,Lt,Bt=ee.w_size;do{if(Se=ee.window_size-ee.lookahead-ee.strstart,ee.strstart>=Bt+(Bt-rt)){for(b.arraySet(ee.window,ee.window,Bt,Bt,0),ee.match_start-=Bt,ee.strstart-=Bt,ee.block_start-=Bt,mt=ct=ee.hash_size;Ee=ee.head[--mt],ee.head[mt]=Bt<=Ee?Ee-Bt:0,--ct;);for(mt=ct=Bt;Ee=ee.prev[--mt],ee.prev[mt]=Bt<=Ee?Ee-Bt:0,--ct;);Se+=Bt}if(ee.strm.avail_in===0)break;if(Tt=ee.strm,Ft=ee.window,et=ee.strstart+ee.lookahead,jt=Se,Lt=void 0,Lt=Tt.avail_in,jt<Lt&&(Lt=jt),ct=Lt===0?0:(Tt.avail_in-=Lt,b.arraySet(Ft,Tt.input,Tt.next_in,Lt,et),Tt.state.wrap===1?Tt.adler=E(Tt.adler,Ft,Lt,et):Tt.state.wrap===2&&(Tt.adler=P(Tt.adler,Ft,Lt,et)),Tt.next_in+=Lt,Tt.total_in+=Lt,Lt),ee.lookahead+=ct,ee.lookahead+ee.insert>=we)for(Xe=ee.strstart-ee.insert,ee.ins_h=ee.window[Xe],ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[Xe+1])&ee.hash_mask;ee.insert&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[Xe+we-1])&ee.hash_mask,ee.prev[Xe&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=Xe,Xe++,ee.insert--,!(ee.lookahead+ee.insert<we)););}while(ee.lookahead<rt&&ee.strm.avail_in!==0)}function sn(ee,mt){for(var ct,Ee;;){if(ee.lookahead<rt){if(Ke(ee),ee.lookahead<rt&&mt===O)return J;if(ee.lookahead===0)break}if(ct=0,ee.lookahead>=we&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+we-1])&ee.hash_mask,ct=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),ct!==0&&ee.strstart-ct<=ee.w_size-rt&&(ee.match_length=lt(ee,ct)),ee.match_length>=we)if(Ee=_._tr_tally(ee,ee.strstart-ee.match_start,ee.match_length-we),ee.lookahead-=ee.match_length,ee.match_length<=ee.max_lazy_match&&ee.lookahead>=we){for(ee.match_length--;ee.strstart++,ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+we-1])&ee.hash_mask,ct=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart,--ee.match_length!=0;);ee.strstart++}else ee.strstart+=ee.match_length,ee.match_length=0,ee.ins_h=ee.window[ee.strstart],ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+1])&ee.hash_mask;else Ee=_._tr_tally(ee,0,ee.window[ee.strstart]),ee.lookahead--,ee.strstart++;if(Ee&&(ge(ee,!1),ee.strm.avail_out===0))return J}return ee.insert=ee.strstart<we-1?ee.strstart:we-1,mt===D?(ge(ee,!0),ee.strm.avail_out===0?zt:ke):ee.last_lit&&(ge(ee,!1),ee.strm.avail_out===0)?J:Ge}function St(ee,mt){for(var ct,Ee,Se;;){if(ee.lookahead<rt){if(Ke(ee),ee.lookahead<rt&&mt===O)return J;if(ee.lookahead===0)break}if(ct=0,ee.lookahead>=we&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+we-1])&ee.hash_mask,ct=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),ee.prev_length=ee.match_length,ee.prev_match=ee.match_start,ee.match_length=we-1,ct!==0&&ee.prev_length<ee.max_lazy_match&&ee.strstart-ct<=ee.w_size-rt&&(ee.match_length=lt(ee,ct),ee.match_length<=5&&(ee.strategy===1||ee.match_length===we&&4096<ee.strstart-ee.match_start)&&(ee.match_length=we-1)),ee.prev_length>=we&&ee.match_length<=ee.prev_length){for(Se=ee.strstart+ee.lookahead-we,Ee=_._tr_tally(ee,ee.strstart-1-ee.prev_match,ee.prev_length-we),ee.lookahead-=ee.prev_length-1,ee.prev_length-=2;++ee.strstart<=Se&&(ee.ins_h=(ee.ins_h<<ee.hash_shift^ee.window[ee.strstart+we-1])&ee.hash_mask,ct=ee.prev[ee.strstart&ee.w_mask]=ee.head[ee.ins_h],ee.head[ee.ins_h]=ee.strstart),--ee.prev_length!=0;);if(ee.match_available=0,ee.match_length=we-1,ee.strstart++,Ee&&(ge(ee,!1),ee.strm.avail_out===0))return J}else if(ee.match_available){if((Ee=_._tr_tally(ee,0,ee.window[ee.strstart-1]))&&ge(ee,!1),ee.strstart++,ee.lookahead--,ee.strm.avail_out===0)return J}else ee.match_available=1,ee.strstart++,ee.lookahead--}return ee.match_available&&(Ee=_._tr_tally(ee,0,ee.window[ee.strstart-1]),ee.match_available=0),ee.insert=ee.strstart<we-1?ee.strstart:we-1,mt===D?(ge(ee,!0),ee.strm.avail_out===0?zt:ke):ee.last_lit&&(ge(ee,!1),ee.strm.avail_out===0)?J:Ge}function Qt(ee,mt,ct,Ee,Se){this.good_length=ee,this.max_lazy=mt,this.nice_length=ct,this.max_chain=Ee,this.func=Se}function wn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*Ce),this.dyn_dtree=new b.Buf16(2*(2*re+1)),this.bl_tree=new b.Buf16(2*(2*ce+1)),Pt(this.dyn_ltree),Pt(this.dyn_dtree),Pt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(ye+1),this.heap=new b.Buf16(2*ie+1),Pt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*ie+1),Pt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Nn(ee){var mt;return ee&&ee.state?(ee.total_in=ee.total_out=0,ee.data_type=$,(mt=ee.state).pending=0,mt.pending_out=0,mt.wrap<0&&(mt.wrap=-mt.wrap),mt.status=mt.wrap?he:De,ee.adler=mt.wrap===2?0:1,mt.last_flush=O,_._tr_init(mt),A):Ae(ee,F)}function Rn(ee){var mt=Nn(ee);return mt===A&&function(ct){ct.window_size=2*ct.w_size,Pt(ct.head),ct.max_lazy_match=g[ct.level].max_lazy,ct.good_match=g[ct.level].good_length,ct.nice_match=g[ct.level].nice_length,ct.max_chain_length=g[ct.level].max_chain,ct.strstart=0,ct.block_start=0,ct.lookahead=0,ct.insert=0,ct.match_length=ct.prev_length=we-1,ct.match_available=0,ct.ins_h=0}(ee.state),mt}function jr(ee,mt,ct,Ee,Se,Xe){if(!ee)return F;var Tt=1;if(mt===N&&(mt=6),Ee<0?(Tt=0,Ee=-Ee):15<Ee&&(Tt=2,Ee-=16),Se<1||Q<Se||ct!==K||Ee<8||15<Ee||mt<0||9<mt||Xe<0||j<Xe)return Ae(ee,F);Ee===8&&(Ee=9);var Ft=new wn;return(ee.state=Ft).strm=ee,Ft.wrap=Tt,Ft.gzhead=null,Ft.w_bits=Ee,Ft.w_size=1<<Ft.w_bits,Ft.w_mask=Ft.w_size-1,Ft.hash_bits=Se+7,Ft.hash_size=1<<Ft.hash_bits,Ft.hash_mask=Ft.hash_size-1,Ft.hash_shift=~~((Ft.hash_bits+we-1)/we),Ft.window=new b.Buf8(2*Ft.w_size),Ft.head=new b.Buf16(Ft.hash_size),Ft.prev=new b.Buf16(Ft.w_size),Ft.lit_bufsize=1<<Se+6,Ft.pending_buf_size=4*Ft.lit_bufsize,Ft.pending_buf=new b.Buf8(Ft.pending_buf_size),Ft.d_buf=1*Ft.lit_bufsize,Ft.l_buf=3*Ft.lit_bufsize,Ft.level=mt,Ft.strategy=Xe,Ft.method=ct,Rn(ee)}g=[new Qt(0,0,0,0,function(ee,mt){var ct=65535;for(ct>ee.pending_buf_size-5&&(ct=ee.pending_buf_size-5);;){if(ee.lookahead<=1){if(Ke(ee),ee.lookahead===0&&mt===O)return J;if(ee.lookahead===0)break}ee.strstart+=ee.lookahead,ee.lookahead=0;var Ee=ee.block_start+ct;if((ee.strstart===0||ee.strstart>=Ee)&&(ee.lookahead=ee.strstart-Ee,ee.strstart=Ee,ge(ee,!1),ee.strm.avail_out===0)||ee.strstart-ee.block_start>=ee.w_size-rt&&(ge(ee,!1),ee.strm.avail_out===0))return J}return ee.insert=0,mt===D?(ge(ee,!0),ee.strm.avail_out===0?zt:ke):(ee.strstart>ee.block_start&&(ge(ee,!1),ee.strm.avail_out),J)}),new Qt(4,4,8,4,sn),new Qt(4,5,16,8,sn),new Qt(4,6,32,32,sn),new Qt(4,4,16,16,St),new Qt(8,16,32,32,St),new Qt(8,16,128,128,St),new Qt(8,32,128,256,St),new Qt(32,128,258,1024,St),new Qt(32,258,258,4096,St)],f.deflateInit=function(ee,mt){return jr(ee,mt,K,15,8,0)},f.deflateInit2=jr,f.deflateReset=Rn,f.deflateResetKeep=Nn,f.deflateSetHeader=function(ee,mt){return ee&&ee.state?ee.state.wrap!==2?F:(ee.state.gzhead=mt,A):F},f.deflate=function(ee,mt){var ct,Ee,Se,Xe;if(!ee||!ee.state||5<mt||mt<0)return ee?Ae(ee,F):F;if(Ee=ee.state,!ee.output||!ee.input&&ee.avail_in!==0||Ee.status===666&&mt!==D)return Ae(ee,ee.avail_out===0?-5:F);if(Ee.strm=ee,ct=Ee.last_flush,Ee.last_flush=mt,Ee.status===he)if(Ee.wrap===2)ee.adler=0,Je(Ee,31),Je(Ee,139),Je(Ee,8),Ee.gzhead?(Je(Ee,(Ee.gzhead.text?1:0)+(Ee.gzhead.hcrc?2:0)+(Ee.gzhead.extra?4:0)+(Ee.gzhead.name?8:0)+(Ee.gzhead.comment?16:0)),Je(Ee,255&Ee.gzhead.time),Je(Ee,Ee.gzhead.time>>8&255),Je(Ee,Ee.gzhead.time>>16&255),Je(Ee,Ee.gzhead.time>>24&255),Je(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),Je(Ee,255&Ee.gzhead.os),Ee.gzhead.extra&&Ee.gzhead.extra.length&&(Je(Ee,255&Ee.gzhead.extra.length),Je(Ee,Ee.gzhead.extra.length>>8&255)),Ee.gzhead.hcrc&&(ee.adler=P(ee.adler,Ee.pending_buf,Ee.pending,0)),Ee.gzindex=0,Ee.status=69):(Je(Ee,0),Je(Ee,0),Je(Ee,0),Je(Ee,0),Je(Ee,0),Je(Ee,Ee.level===9?2:2<=Ee.strategy||Ee.level<2?4:0),Je(Ee,3),Ee.status=De);else{var Tt=K+(Ee.w_bits-8<<4)<<8;Tt|=(2<=Ee.strategy||Ee.level<2?0:Ee.level<6?1:Ee.level===6?2:3)<<6,Ee.strstart!==0&&(Tt|=32),Tt+=31-Tt%31,Ee.status=De,nt(Ee,Tt),Ee.strstart!==0&&(nt(Ee,ee.adler>>>16),nt(Ee,65535&ee.adler)),ee.adler=1}if(Ee.status===69)if(Ee.gzhead.extra){for(Se=Ee.pending;Ee.gzindex<(65535&Ee.gzhead.extra.length)&&(Ee.pending!==Ee.pending_buf_size||(Ee.gzhead.hcrc&&Ee.pending>Se&&(ee.adler=P(ee.adler,Ee.pending_buf,Ee.pending-Se,Se)),pe(ee),Se=Ee.pending,Ee.pending!==Ee.pending_buf_size));)Je(Ee,255&Ee.gzhead.extra[Ee.gzindex]),Ee.gzindex++;Ee.gzhead.hcrc&&Ee.pending>Se&&(ee.adler=P(ee.adler,Ee.pending_buf,Ee.pending-Se,Se)),Ee.gzindex===Ee.gzhead.extra.length&&(Ee.gzindex=0,Ee.status=73)}else Ee.status=73;if(Ee.status===73)if(Ee.gzhead.name){Se=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>Se&&(ee.adler=P(ee.adler,Ee.pending_buf,Ee.pending-Se,Se)),pe(ee),Se=Ee.pending,Ee.pending===Ee.pending_buf_size)){Xe=1;break}Xe=Ee.gzindex<Ee.gzhead.name.length?255&Ee.gzhead.name.charCodeAt(Ee.gzindex++):0,Je(Ee,Xe)}while(Xe!==0);Ee.gzhead.hcrc&&Ee.pending>Se&&(ee.adler=P(ee.adler,Ee.pending_buf,Ee.pending-Se,Se)),Xe===0&&(Ee.gzindex=0,Ee.status=91)}else Ee.status=91;if(Ee.status===91)if(Ee.gzhead.comment){Se=Ee.pending;do{if(Ee.pending===Ee.pending_buf_size&&(Ee.gzhead.hcrc&&Ee.pending>Se&&(ee.adler=P(ee.adler,Ee.pending_buf,Ee.pending-Se,Se)),pe(ee),Se=Ee.pending,Ee.pending===Ee.pending_buf_size)){Xe=1;break}Xe=Ee.gzindex<Ee.gzhead.comment.length?255&Ee.gzhead.comment.charCodeAt(Ee.gzindex++):0,Je(Ee,Xe)}while(Xe!==0);Ee.gzhead.hcrc&&Ee.pending>Se&&(ee.adler=P(ee.adler,Ee.pending_buf,Ee.pending-Se,Se)),Xe===0&&(Ee.status=103)}else Ee.status=103;if(Ee.status===103&&(Ee.gzhead.hcrc?(Ee.pending+2>Ee.pending_buf_size&&pe(ee),Ee.pending+2<=Ee.pending_buf_size&&(Je(Ee,255&ee.adler),Je(Ee,ee.adler>>8&255),ee.adler=0,Ee.status=De)):Ee.status=De),Ee.pending!==0){if(pe(ee),ee.avail_out===0)return Ee.last_flush=-1,A}else if(ee.avail_in===0&&We(mt)<=We(ct)&&mt!==D)return Ae(ee,-5);if(Ee.status===666&&ee.avail_in!==0)return Ae(ee,-5);if(ee.avail_in!==0||Ee.lookahead!==0||mt!==O&&Ee.status!==666){var Ft=Ee.strategy===2?function(et,jt){for(var Lt;;){if(et.lookahead===0&&(Ke(et),et.lookahead===0)){if(jt===O)return J;break}if(et.match_length=0,Lt=_._tr_tally(et,0,et.window[et.strstart]),et.lookahead--,et.strstart++,Lt&&(ge(et,!1),et.strm.avail_out===0))return J}return et.insert=0,jt===D?(ge(et,!0),et.strm.avail_out===0?zt:ke):et.last_lit&&(ge(et,!1),et.strm.avail_out===0)?J:Ge}(Ee,mt):Ee.strategy===3?function(et,jt){for(var Lt,Bt,An,Lr,Jn=et.window;;){if(et.lookahead<=Oe){if(Ke(et),et.lookahead<=Oe&&jt===O)return J;if(et.lookahead===0)break}if(et.match_length=0,et.lookahead>=we&&0<et.strstart&&(Bt=Jn[An=et.strstart-1])===Jn[++An]&&Bt===Jn[++An]&&Bt===Jn[++An]){Lr=et.strstart+Oe;do;while(Bt===Jn[++An]&&Bt===Jn[++An]&&Bt===Jn[++An]&&Bt===Jn[++An]&&Bt===Jn[++An]&&Bt===Jn[++An]&&Bt===Jn[++An]&&Bt===Jn[++An]&&An<Lr);et.match_length=Oe-(Lr-An),et.match_length>et.lookahead&&(et.match_length=et.lookahead)}if(et.match_length>=we?(Lt=_._tr_tally(et,1,et.match_length-we),et.lookahead-=et.match_length,et.strstart+=et.match_length,et.match_length=0):(Lt=_._tr_tally(et,0,et.window[et.strstart]),et.lookahead--,et.strstart++),Lt&&(ge(et,!1),et.strm.avail_out===0))return J}return et.insert=0,jt===D?(ge(et,!0),et.strm.avail_out===0?zt:ke):et.last_lit&&(ge(et,!1),et.strm.avail_out===0)?J:Ge}(Ee,mt):g[Ee.level].func(Ee,mt);if(Ft!==zt&&Ft!==ke||(Ee.status=666),Ft===J||Ft===zt)return ee.avail_out===0&&(Ee.last_flush=-1),A;if(Ft===Ge&&(mt===1?_._tr_align(Ee):mt!==5&&(_._tr_stored_block(Ee,0,0,!1),mt===3&&(Pt(Ee.head),Ee.lookahead===0&&(Ee.strstart=0,Ee.block_start=0,Ee.insert=0))),pe(ee),ee.avail_out===0))return Ee.last_flush=-1,A}return mt!==D?A:Ee.wrap<=0?1:(Ee.wrap===2?(Je(Ee,255&ee.adler),Je(Ee,ee.adler>>8&255),Je(Ee,ee.adler>>16&255),Je(Ee,ee.adler>>24&255),Je(Ee,255&ee.total_in),Je(Ee,ee.total_in>>8&255),Je(Ee,ee.total_in>>16&255),Je(Ee,ee.total_in>>24&255)):(nt(Ee,ee.adler>>>16),nt(Ee,65535&ee.adler)),pe(ee),0<Ee.wrap&&(Ee.wrap=-Ee.wrap),Ee.pending!==0?A:1)},f.deflateEnd=function(ee){var mt;return ee&&ee.state?(mt=ee.state.status)!==he&&mt!==69&&mt!==73&&mt!==91&&mt!==103&&mt!==De&&mt!==666?Ae(ee,F):(ee.state=null,mt===De?Ae(ee,-3):A):F},f.deflateSetDictionary=function(ee,mt){var ct,Ee,Se,Xe,Tt,Ft,et,jt,Lt=mt.length;if(!ee||!ee.state||(Xe=(ct=ee.state).wrap)===2||Xe===1&&ct.status!==he||ct.lookahead)return F;for(Xe===1&&(ee.adler=E(ee.adler,mt,Lt,0)),ct.wrap=0,Lt>=ct.w_size&&(Xe===0&&(Pt(ct.head),ct.strstart=0,ct.block_start=0,ct.insert=0),jt=new b.Buf8(ct.w_size),b.arraySet(jt,mt,Lt-ct.w_size,ct.w_size,0),mt=jt,Lt=ct.w_size),Tt=ee.avail_in,Ft=ee.next_in,et=ee.input,ee.avail_in=Lt,ee.next_in=0,ee.input=mt,Ke(ct);ct.lookahead>=we;){for(Ee=ct.strstart,Se=ct.lookahead-(we-1);ct.ins_h=(ct.ins_h<<ct.hash_shift^ct.window[Ee+we-1])&ct.hash_mask,ct.prev[Ee&ct.w_mask]=ct.head[ct.ins_h],ct.head[ct.ins_h]=Ee,Ee++,--Se;);ct.strstart=Ee,ct.lookahead=we-1,Ke(ct)}return ct.strstart+=ct.lookahead,ct.block_start=ct.strstart,ct.insert=ct.lookahead,ct.lookahead=0,ct.match_length=ct.prev_length=we-1,ct.match_available=0,ee.next_in=Ft,ee.input=et,ee.avail_in=Tt,ct.wrap=Xe,A},f.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(l,h,f){h.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(l,h,f){h.exports=function(g,b){var _,E,P,I,O,D,A,F,N,j,$,K,Q,ie,re,ce,Ce,ye,we,Oe,rt,he,De,J,Ge;_=g.state,E=g.next_in,J=g.input,P=E+(g.avail_in-5),I=g.next_out,Ge=g.output,O=I-(b-g.avail_out),D=I+(g.avail_out-257),A=_.dmax,F=_.wsize,N=_.whave,j=_.wnext,$=_.window,K=_.hold,Q=_.bits,ie=_.lencode,re=_.distcode,ce=(1<<_.lenbits)-1,Ce=(1<<_.distbits)-1;e:do{Q<15&&(K+=J[E++]<<Q,Q+=8,K+=J[E++]<<Q,Q+=8),ye=ie[K&ce];t:for(;;){if(K>>>=we=ye>>>24,Q-=we,(we=ye>>>16&255)===0)Ge[I++]=65535&ye;else{if(!(16&we)){if(!(64&we)){ye=ie[(65535&ye)+(K&(1<<we)-1)];continue t}if(32&we){_.mode=12;break e}g.msg="invalid literal/length code",_.mode=30;break e}Oe=65535&ye,(we&=15)&&(Q<we&&(K+=J[E++]<<Q,Q+=8),Oe+=K&(1<<we)-1,K>>>=we,Q-=we),Q<15&&(K+=J[E++]<<Q,Q+=8,K+=J[E++]<<Q,Q+=8),ye=re[K&Ce];n:for(;;){if(K>>>=we=ye>>>24,Q-=we,!(16&(we=ye>>>16&255))){if(!(64&we)){ye=re[(65535&ye)+(K&(1<<we)-1)];continue n}g.msg="invalid distance code",_.mode=30;break e}if(rt=65535&ye,Q<(we&=15)&&(K+=J[E++]<<Q,(Q+=8)<we&&(K+=J[E++]<<Q,Q+=8)),A<(rt+=K&(1<<we)-1)){g.msg="invalid distance too far back",_.mode=30;break e}if(K>>>=we,Q-=we,(we=I-O)<rt){if(N<(we=rt-we)&&_.sane){g.msg="invalid distance too far back",_.mode=30;break e}if(De=$,(he=0)===j){if(he+=F-we,we<Oe){for(Oe-=we;Ge[I++]=$[he++],--we;);he=I-rt,De=Ge}}else if(j<we){if(he+=F+j-we,(we-=j)<Oe){for(Oe-=we;Ge[I++]=$[he++],--we;);if(he=0,j<Oe){for(Oe-=we=j;Ge[I++]=$[he++],--we;);he=I-rt,De=Ge}}}else if(he+=j-we,we<Oe){for(Oe-=we;Ge[I++]=$[he++],--we;);he=I-rt,De=Ge}for(;2<Oe;)Ge[I++]=De[he++],Ge[I++]=De[he++],Ge[I++]=De[he++],Oe-=3;Oe&&(Ge[I++]=De[he++],1<Oe&&(Ge[I++]=De[he++]))}else{for(he=I-rt;Ge[I++]=Ge[he++],Ge[I++]=Ge[he++],Ge[I++]=Ge[he++],2<(Oe-=3););Oe&&(Ge[I++]=Ge[he++],1<Oe&&(Ge[I++]=Ge[he++]))}break}}break}}while(E<P&&I<D);E-=Oe=Q>>3,K&=(1<<(Q-=Oe<<3))-1,g.next_in=E,g.next_out=I,g.avail_in=E<P?P-E+5:5-(E-P),g.avail_out=I<D?D-I+257:257-(I-D),_.hold=K,_.bits=Q}},{}],49:[function(l,h,f){var g=l("../utils/common"),b=l("./adler32"),_=l("./crc32"),E=l("./inffast"),P=l("./inftrees"),I=1,O=2,D=0,A=-2,F=1,N=852,j=592;function $(he){return(he>>>24&255)+(he>>>8&65280)+((65280&he)<<8)+((255&he)<<24)}function K(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new g.Buf16(320),this.work=new g.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Q(he){var De;return he&&he.state?(De=he.state,he.total_in=he.total_out=De.total=0,he.msg="",De.wrap&&(he.adler=1&De.wrap),De.mode=F,De.last=0,De.havedict=0,De.dmax=32768,De.head=null,De.hold=0,De.bits=0,De.lencode=De.lendyn=new g.Buf32(N),De.distcode=De.distdyn=new g.Buf32(j),De.sane=1,De.back=-1,D):A}function ie(he){var De;return he&&he.state?((De=he.state).wsize=0,De.whave=0,De.wnext=0,Q(he)):A}function re(he,De){var J,Ge;return he&&he.state?(Ge=he.state,De<0?(J=0,De=-De):(J=1+(De>>4),De<48&&(De&=15)),De&&(De<8||15<De)?A:(Ge.window!==null&&Ge.wbits!==De&&(Ge.window=null),Ge.wrap=J,Ge.wbits=De,ie(he))):A}function ce(he,De){var J,Ge;return he?(Ge=new K,(he.state=Ge).window=null,(J=re(he,De))!==D&&(he.state=null),J):A}var Ce,ye,we=!0;function Oe(he){if(we){var De;for(Ce=new g.Buf32(512),ye=new g.Buf32(32),De=0;De<144;)he.lens[De++]=8;for(;De<256;)he.lens[De++]=9;for(;De<280;)he.lens[De++]=7;for(;De<288;)he.lens[De++]=8;for(P(I,he.lens,0,288,Ce,0,he.work,{bits:9}),De=0;De<32;)he.lens[De++]=5;P(O,he.lens,0,32,ye,0,he.work,{bits:5}),we=!1}he.lencode=Ce,he.lenbits=9,he.distcode=ye,he.distbits=5}function rt(he,De,J,Ge){var zt,ke=he.state;return ke.window===null&&(ke.wsize=1<<ke.wbits,ke.wnext=0,ke.whave=0,ke.window=new g.Buf8(ke.wsize)),Ge>=ke.wsize?(g.arraySet(ke.window,De,J-ke.wsize,ke.wsize,0),ke.wnext=0,ke.whave=ke.wsize):(Ge<(zt=ke.wsize-ke.wnext)&&(zt=Ge),g.arraySet(ke.window,De,J-Ge,zt,ke.wnext),(Ge-=zt)?(g.arraySet(ke.window,De,J-Ge,Ge,0),ke.wnext=Ge,ke.whave=ke.wsize):(ke.wnext+=zt,ke.wnext===ke.wsize&&(ke.wnext=0),ke.whave<ke.wsize&&(ke.whave+=zt))),0}f.inflateReset=ie,f.inflateReset2=re,f.inflateResetKeep=Q,f.inflateInit=function(he){return ce(he,15)},f.inflateInit2=ce,f.inflate=function(he,De){var J,Ge,zt,ke,Ae,We,Pt,pe,ge,Je,nt,lt,Ke,sn,St,Qt,wn,Nn,Rn,jr,ee,mt,ct,Ee,Se=0,Xe=new g.Buf8(4),Tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!he||!he.state||!he.output||!he.input&&he.avail_in!==0)return A;(J=he.state).mode===12&&(J.mode=13),Ae=he.next_out,zt=he.output,Pt=he.avail_out,ke=he.next_in,Ge=he.input,We=he.avail_in,pe=J.hold,ge=J.bits,Je=We,nt=Pt,mt=D;e:for(;;)switch(J.mode){case F:if(J.wrap===0){J.mode=13;break}for(;ge<16;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(2&J.wrap&&pe===35615){Xe[J.check=0]=255&pe,Xe[1]=pe>>>8&255,J.check=_(J.check,Xe,2,0),ge=pe=0,J.mode=2;break}if(J.flags=0,J.head&&(J.head.done=!1),!(1&J.wrap)||(((255&pe)<<8)+(pe>>8))%31){he.msg="incorrect header check",J.mode=30;break}if((15&pe)!=8){he.msg="unknown compression method",J.mode=30;break}if(ge-=4,ee=8+(15&(pe>>>=4)),J.wbits===0)J.wbits=ee;else if(ee>J.wbits){he.msg="invalid window size",J.mode=30;break}J.dmax=1<<ee,he.adler=J.check=1,J.mode=512&pe?10:12,ge=pe=0;break;case 2:for(;ge<16;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(J.flags=pe,(255&J.flags)!=8){he.msg="unknown compression method",J.mode=30;break}if(57344&J.flags){he.msg="unknown header flags set",J.mode=30;break}J.head&&(J.head.text=pe>>8&1),512&J.flags&&(Xe[0]=255&pe,Xe[1]=pe>>>8&255,J.check=_(J.check,Xe,2,0)),ge=pe=0,J.mode=3;case 3:for(;ge<32;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}J.head&&(J.head.time=pe),512&J.flags&&(Xe[0]=255&pe,Xe[1]=pe>>>8&255,Xe[2]=pe>>>16&255,Xe[3]=pe>>>24&255,J.check=_(J.check,Xe,4,0)),ge=pe=0,J.mode=4;case 4:for(;ge<16;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}J.head&&(J.head.xflags=255&pe,J.head.os=pe>>8),512&J.flags&&(Xe[0]=255&pe,Xe[1]=pe>>>8&255,J.check=_(J.check,Xe,2,0)),ge=pe=0,J.mode=5;case 5:if(1024&J.flags){for(;ge<16;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}J.length=pe,J.head&&(J.head.extra_len=pe),512&J.flags&&(Xe[0]=255&pe,Xe[1]=pe>>>8&255,J.check=_(J.check,Xe,2,0)),ge=pe=0}else J.head&&(J.head.extra=null);J.mode=6;case 6:if(1024&J.flags&&(We<(lt=J.length)&&(lt=We),lt&&(J.head&&(ee=J.head.extra_len-J.length,J.head.extra||(J.head.extra=new Array(J.head.extra_len)),g.arraySet(J.head.extra,Ge,ke,lt,ee)),512&J.flags&&(J.check=_(J.check,Ge,lt,ke)),We-=lt,ke+=lt,J.length-=lt),J.length))break e;J.length=0,J.mode=7;case 7:if(2048&J.flags){if(We===0)break e;for(lt=0;ee=Ge[ke+lt++],J.head&&ee&&J.length<65536&&(J.head.name+=String.fromCharCode(ee)),ee&&lt<We;);if(512&J.flags&&(J.check=_(J.check,Ge,lt,ke)),We-=lt,ke+=lt,ee)break e}else J.head&&(J.head.name=null);J.length=0,J.mode=8;case 8:if(4096&J.flags){if(We===0)break e;for(lt=0;ee=Ge[ke+lt++],J.head&&ee&&J.length<65536&&(J.head.comment+=String.fromCharCode(ee)),ee&&lt<We;);if(512&J.flags&&(J.check=_(J.check,Ge,lt,ke)),We-=lt,ke+=lt,ee)break e}else J.head&&(J.head.comment=null);J.mode=9;case 9:if(512&J.flags){for(;ge<16;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(pe!==(65535&J.check)){he.msg="header crc mismatch",J.mode=30;break}ge=pe=0}J.head&&(J.head.hcrc=J.flags>>9&1,J.head.done=!0),he.adler=J.check=0,J.mode=12;break;case 10:for(;ge<32;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}he.adler=J.check=$(pe),ge=pe=0,J.mode=11;case 11:if(J.havedict===0)return he.next_out=Ae,he.avail_out=Pt,he.next_in=ke,he.avail_in=We,J.hold=pe,J.bits=ge,2;he.adler=J.check=1,J.mode=12;case 12:if(De===5||De===6)break e;case 13:if(J.last){pe>>>=7&ge,ge-=7&ge,J.mode=27;break}for(;ge<3;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}switch(J.last=1&pe,ge-=1,3&(pe>>>=1)){case 0:J.mode=14;break;case 1:if(Oe(J),J.mode=20,De!==6)break;pe>>>=2,ge-=2;break e;case 2:J.mode=17;break;case 3:he.msg="invalid block type",J.mode=30}pe>>>=2,ge-=2;break;case 14:for(pe>>>=7&ge,ge-=7&ge;ge<32;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if((65535&pe)!=(pe>>>16^65535)){he.msg="invalid stored block lengths",J.mode=30;break}if(J.length=65535&pe,ge=pe=0,J.mode=15,De===6)break e;case 15:J.mode=16;case 16:if(lt=J.length){if(We<lt&&(lt=We),Pt<lt&&(lt=Pt),lt===0)break e;g.arraySet(zt,Ge,ke,lt,Ae),We-=lt,ke+=lt,Pt-=lt,Ae+=lt,J.length-=lt;break}J.mode=12;break;case 17:for(;ge<14;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(J.nlen=257+(31&pe),pe>>>=5,ge-=5,J.ndist=1+(31&pe),pe>>>=5,ge-=5,J.ncode=4+(15&pe),pe>>>=4,ge-=4,286<J.nlen||30<J.ndist){he.msg="too many length or distance symbols",J.mode=30;break}J.have=0,J.mode=18;case 18:for(;J.have<J.ncode;){for(;ge<3;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}J.lens[Tt[J.have++]]=7&pe,pe>>>=3,ge-=3}for(;J.have<19;)J.lens[Tt[J.have++]]=0;if(J.lencode=J.lendyn,J.lenbits=7,ct={bits:J.lenbits},mt=P(0,J.lens,0,19,J.lencode,0,J.work,ct),J.lenbits=ct.bits,mt){he.msg="invalid code lengths set",J.mode=30;break}J.have=0,J.mode=19;case 19:for(;J.have<J.nlen+J.ndist;){for(;Qt=(Se=J.lencode[pe&(1<<J.lenbits)-1])>>>16&255,wn=65535&Se,!((St=Se>>>24)<=ge);){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(wn<16)pe>>>=St,ge-=St,J.lens[J.have++]=wn;else{if(wn===16){for(Ee=St+2;ge<Ee;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(pe>>>=St,ge-=St,J.have===0){he.msg="invalid bit length repeat",J.mode=30;break}ee=J.lens[J.have-1],lt=3+(3&pe),pe>>>=2,ge-=2}else if(wn===17){for(Ee=St+3;ge<Ee;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}ge-=St,ee=0,lt=3+(7&(pe>>>=St)),pe>>>=3,ge-=3}else{for(Ee=St+7;ge<Ee;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}ge-=St,ee=0,lt=11+(127&(pe>>>=St)),pe>>>=7,ge-=7}if(J.have+lt>J.nlen+J.ndist){he.msg="invalid bit length repeat",J.mode=30;break}for(;lt--;)J.lens[J.have++]=ee}}if(J.mode===30)break;if(J.lens[256]===0){he.msg="invalid code -- missing end-of-block",J.mode=30;break}if(J.lenbits=9,ct={bits:J.lenbits},mt=P(I,J.lens,0,J.nlen,J.lencode,0,J.work,ct),J.lenbits=ct.bits,mt){he.msg="invalid literal/lengths set",J.mode=30;break}if(J.distbits=6,J.distcode=J.distdyn,ct={bits:J.distbits},mt=P(O,J.lens,J.nlen,J.ndist,J.distcode,0,J.work,ct),J.distbits=ct.bits,mt){he.msg="invalid distances set",J.mode=30;break}if(J.mode=20,De===6)break e;case 20:J.mode=21;case 21:if(6<=We&&258<=Pt){he.next_out=Ae,he.avail_out=Pt,he.next_in=ke,he.avail_in=We,J.hold=pe,J.bits=ge,E(he,nt),Ae=he.next_out,zt=he.output,Pt=he.avail_out,ke=he.next_in,Ge=he.input,We=he.avail_in,pe=J.hold,ge=J.bits,J.mode===12&&(J.back=-1);break}for(J.back=0;Qt=(Se=J.lencode[pe&(1<<J.lenbits)-1])>>>16&255,wn=65535&Se,!((St=Se>>>24)<=ge);){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(Qt&&!(240&Qt)){for(Nn=St,Rn=Qt,jr=wn;Qt=(Se=J.lencode[jr+((pe&(1<<Nn+Rn)-1)>>Nn)])>>>16&255,wn=65535&Se,!(Nn+(St=Se>>>24)<=ge);){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}pe>>>=Nn,ge-=Nn,J.back+=Nn}if(pe>>>=St,ge-=St,J.back+=St,J.length=wn,Qt===0){J.mode=26;break}if(32&Qt){J.back=-1,J.mode=12;break}if(64&Qt){he.msg="invalid literal/length code",J.mode=30;break}J.extra=15&Qt,J.mode=22;case 22:if(J.extra){for(Ee=J.extra;ge<Ee;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}J.length+=pe&(1<<J.extra)-1,pe>>>=J.extra,ge-=J.extra,J.back+=J.extra}J.was=J.length,J.mode=23;case 23:for(;Qt=(Se=J.distcode[pe&(1<<J.distbits)-1])>>>16&255,wn=65535&Se,!((St=Se>>>24)<=ge);){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(!(240&Qt)){for(Nn=St,Rn=Qt,jr=wn;Qt=(Se=J.distcode[jr+((pe&(1<<Nn+Rn)-1)>>Nn)])>>>16&255,wn=65535&Se,!(Nn+(St=Se>>>24)<=ge);){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}pe>>>=Nn,ge-=Nn,J.back+=Nn}if(pe>>>=St,ge-=St,J.back+=St,64&Qt){he.msg="invalid distance code",J.mode=30;break}J.offset=wn,J.extra=15&Qt,J.mode=24;case 24:if(J.extra){for(Ee=J.extra;ge<Ee;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}J.offset+=pe&(1<<J.extra)-1,pe>>>=J.extra,ge-=J.extra,J.back+=J.extra}if(J.offset>J.dmax){he.msg="invalid distance too far back",J.mode=30;break}J.mode=25;case 25:if(Pt===0)break e;if(lt=nt-Pt,J.offset>lt){if((lt=J.offset-lt)>J.whave&&J.sane){he.msg="invalid distance too far back",J.mode=30;break}Ke=lt>J.wnext?(lt-=J.wnext,J.wsize-lt):J.wnext-lt,lt>J.length&&(lt=J.length),sn=J.window}else sn=zt,Ke=Ae-J.offset,lt=J.length;for(Pt<lt&&(lt=Pt),Pt-=lt,J.length-=lt;zt[Ae++]=sn[Ke++],--lt;);J.length===0&&(J.mode=21);break;case 26:if(Pt===0)break e;zt[Ae++]=J.length,Pt--,J.mode=21;break;case 27:if(J.wrap){for(;ge<32;){if(We===0)break e;We--,pe|=Ge[ke++]<<ge,ge+=8}if(nt-=Pt,he.total_out+=nt,J.total+=nt,nt&&(he.adler=J.check=J.flags?_(J.check,zt,nt,Ae-nt):b(J.check,zt,nt,Ae-nt)),nt=Pt,(J.flags?pe:$(pe))!==J.check){he.msg="incorrect data check",J.mode=30;break}ge=pe=0}J.mode=28;case 28:if(J.wrap&&J.flags){for(;ge<32;){if(We===0)break e;We--,pe+=Ge[ke++]<<ge,ge+=8}if(pe!==(4294967295&J.total)){he.msg="incorrect length check",J.mode=30;break}ge=pe=0}J.mode=29;case 29:mt=1;break e;case 30:mt=-3;break e;case 31:return-4;case 32:default:return A}return he.next_out=Ae,he.avail_out=Pt,he.next_in=ke,he.avail_in=We,J.hold=pe,J.bits=ge,(J.wsize||nt!==he.avail_out&&J.mode<30&&(J.mode<27||De!==4))&&rt(he,he.output,he.next_out,nt-he.avail_out)?(J.mode=31,-4):(Je-=he.avail_in,nt-=he.avail_out,he.total_in+=Je,he.total_out+=nt,J.total+=nt,J.wrap&&nt&&(he.adler=J.check=J.flags?_(J.check,zt,nt,he.next_out-nt):b(J.check,zt,nt,he.next_out-nt)),he.data_type=J.bits+(J.last?64:0)+(J.mode===12?128:0)+(J.mode===20||J.mode===15?256:0),(Je==0&&nt===0||De===4)&&mt===D&&(mt=-5),mt)},f.inflateEnd=function(he){if(!he||!he.state)return A;var De=he.state;return De.window&&(De.window=null),he.state=null,D},f.inflateGetHeader=function(he,De){var J;return he&&he.state&&2&(J=he.state).wrap?((J.head=De).done=!1,D):A},f.inflateSetDictionary=function(he,De){var J,Ge=De.length;return he&&he.state?(J=he.state).wrap!==0&&J.mode!==11?A:J.mode===11&&b(1,De,Ge,0)!==J.check?-3:rt(he,De,Ge,Ge)?(J.mode=31,-4):(J.havedict=1,D):A},f.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(l,h,f){var g=l("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],_=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],E=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];h.exports=function(I,O,D,A,F,N,j,$){var K,Q,ie,re,ce,Ce,ye,we,Oe,rt=$.bits,he=0,De=0,J=0,Ge=0,zt=0,ke=0,Ae=0,We=0,Pt=0,pe=0,ge=null,Je=0,nt=new g.Buf16(16),lt=new g.Buf16(16),Ke=null,sn=0;for(he=0;he<=15;he++)nt[he]=0;for(De=0;De<A;De++)nt[O[D+De]]++;for(zt=rt,Ge=15;1<=Ge&&nt[Ge]===0;Ge--);if(Ge<zt&&(zt=Ge),Ge===0)return F[N++]=20971520,F[N++]=20971520,$.bits=1,0;for(J=1;J<Ge&&nt[J]===0;J++);for(zt<J&&(zt=J),he=We=1;he<=15;he++)if(We<<=1,(We-=nt[he])<0)return-1;if(0<We&&(I===0||Ge!==1))return-1;for(lt[1]=0,he=1;he<15;he++)lt[he+1]=lt[he]+nt[he];for(De=0;De<A;De++)O[D+De]!==0&&(j[lt[O[D+De]]++]=De);if(Ce=I===0?(ge=Ke=j,19):I===1?(ge=b,Je-=257,Ke=_,sn-=257,256):(ge=E,Ke=P,-1),he=J,ce=N,Ae=De=pe=0,ie=-1,re=(Pt=1<<(ke=zt))-1,I===1&&852<Pt||I===2&&592<Pt)return 1;for(;;){for(ye=he-Ae,Oe=j[De]<Ce?(we=0,j[De]):j[De]>Ce?(we=Ke[sn+j[De]],ge[Je+j[De]]):(we=96,0),K=1<<he-Ae,J=Q=1<<ke;F[ce+(pe>>Ae)+(Q-=K)]=ye<<24|we<<16|Oe|0,Q!==0;);for(K=1<<he-1;pe&K;)K>>=1;if(K!==0?(pe&=K-1,pe+=K):pe=0,De++,--nt[he]==0){if(he===Ge)break;he=O[D+j[De]]}if(zt<he&&(pe&re)!==ie){for(Ae===0&&(Ae=zt),ce+=J,We=1<<(ke=he-Ae);ke+Ae<Ge&&!((We-=nt[ke+Ae])<=0);)ke++,We<<=1;if(Pt+=1<<ke,I===1&&852<Pt||I===2&&592<Pt)return 1;F[ie=pe&re]=zt<<24|ke<<16|ce-N|0}}return pe!==0&&(F[ce+pe]=he-Ae<<24|64<<16|0),$.bits=zt,0}},{"../utils/common":41}],51:[function(l,h,f){h.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(l,h,f){var g=l("../utils/common"),b=0,_=1;function E(Se){for(var Xe=Se.length;0<=--Xe;)Se[Xe]=0}var P=0,I=29,O=256,D=O+1+I,A=30,F=19,N=2*D+1,j=15,$=16,K=7,Q=256,ie=16,re=17,ce=18,Ce=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ye=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],we=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],rt=new Array(2*(D+2));E(rt);var he=new Array(2*A);E(he);var De=new Array(512);E(De);var J=new Array(256);E(J);var Ge=new Array(I);E(Ge);var zt,ke,Ae,We=new Array(A);function Pt(Se,Xe,Tt,Ft,et){this.static_tree=Se,this.extra_bits=Xe,this.extra_base=Tt,this.elems=Ft,this.max_length=et,this.has_stree=Se&&Se.length}function pe(Se,Xe){this.dyn_tree=Se,this.max_code=0,this.stat_desc=Xe}function ge(Se){return Se<256?De[Se]:De[256+(Se>>>7)]}function Je(Se,Xe){Se.pending_buf[Se.pending++]=255&Xe,Se.pending_buf[Se.pending++]=Xe>>>8&255}function nt(Se,Xe,Tt){Se.bi_valid>$-Tt?(Se.bi_buf|=Xe<<Se.bi_valid&65535,Je(Se,Se.bi_buf),Se.bi_buf=Xe>>$-Se.bi_valid,Se.bi_valid+=Tt-$):(Se.bi_buf|=Xe<<Se.bi_valid&65535,Se.bi_valid+=Tt)}function lt(Se,Xe,Tt){nt(Se,Tt[2*Xe],Tt[2*Xe+1])}function Ke(Se,Xe){for(var Tt=0;Tt|=1&Se,Se>>>=1,Tt<<=1,0<--Xe;);return Tt>>>1}function sn(Se,Xe,Tt){var Ft,et,jt=new Array(j+1),Lt=0;for(Ft=1;Ft<=j;Ft++)jt[Ft]=Lt=Lt+Tt[Ft-1]<<1;for(et=0;et<=Xe;et++){var Bt=Se[2*et+1];Bt!==0&&(Se[2*et]=Ke(jt[Bt]++,Bt))}}function St(Se){var Xe;for(Xe=0;Xe<D;Xe++)Se.dyn_ltree[2*Xe]=0;for(Xe=0;Xe<A;Xe++)Se.dyn_dtree[2*Xe]=0;for(Xe=0;Xe<F;Xe++)Se.bl_tree[2*Xe]=0;Se.dyn_ltree[2*Q]=1,Se.opt_len=Se.static_len=0,Se.last_lit=Se.matches=0}function Qt(Se){8<Se.bi_valid?Je(Se,Se.bi_buf):0<Se.bi_valid&&(Se.pending_buf[Se.pending++]=Se.bi_buf),Se.bi_buf=0,Se.bi_valid=0}function wn(Se,Xe,Tt,Ft){var et=2*Xe,jt=2*Tt;return Se[et]<Se[jt]||Se[et]===Se[jt]&&Ft[Xe]<=Ft[Tt]}function Nn(Se,Xe,Tt){for(var Ft=Se.heap[Tt],et=Tt<<1;et<=Se.heap_len&&(et<Se.heap_len&&wn(Xe,Se.heap[et+1],Se.heap[et],Se.depth)&&et++,!wn(Xe,Ft,Se.heap[et],Se.depth));)Se.heap[Tt]=Se.heap[et],Tt=et,et<<=1;Se.heap[Tt]=Ft}function Rn(Se,Xe,Tt){var Ft,et,jt,Lt,Bt=0;if(Se.last_lit!==0)for(;Ft=Se.pending_buf[Se.d_buf+2*Bt]<<8|Se.pending_buf[Se.d_buf+2*Bt+1],et=Se.pending_buf[Se.l_buf+Bt],Bt++,Ft===0?lt(Se,et,Xe):(lt(Se,(jt=J[et])+O+1,Xe),(Lt=Ce[jt])!==0&&nt(Se,et-=Ge[jt],Lt),lt(Se,jt=ge(--Ft),Tt),(Lt=ye[jt])!==0&&nt(Se,Ft-=We[jt],Lt)),Bt<Se.last_lit;);lt(Se,Q,Xe)}function jr(Se,Xe){var Tt,Ft,et,jt=Xe.dyn_tree,Lt=Xe.stat_desc.static_tree,Bt=Xe.stat_desc.has_stree,An=Xe.stat_desc.elems,Lr=-1;for(Se.heap_len=0,Se.heap_max=N,Tt=0;Tt<An;Tt++)jt[2*Tt]!==0?(Se.heap[++Se.heap_len]=Lr=Tt,Se.depth[Tt]=0):jt[2*Tt+1]=0;for(;Se.heap_len<2;)jt[2*(et=Se.heap[++Se.heap_len]=Lr<2?++Lr:0)]=1,Se.depth[et]=0,Se.opt_len--,Bt&&(Se.static_len-=Lt[2*et+1]);for(Xe.max_code=Lr,Tt=Se.heap_len>>1;1<=Tt;Tt--)Nn(Se,jt,Tt);for(et=An;Tt=Se.heap[1],Se.heap[1]=Se.heap[Se.heap_len--],Nn(Se,jt,1),Ft=Se.heap[1],Se.heap[--Se.heap_max]=Tt,Se.heap[--Se.heap_max]=Ft,jt[2*et]=jt[2*Tt]+jt[2*Ft],Se.depth[et]=(Se.depth[Tt]>=Se.depth[Ft]?Se.depth[Tt]:Se.depth[Ft])+1,jt[2*Tt+1]=jt[2*Ft+1]=et,Se.heap[1]=et++,Nn(Se,jt,1),2<=Se.heap_len;);Se.heap[--Se.heap_max]=Se.heap[1],function(Jn,Eo){var Rp,Uo,eu,Gi,Lm,d5,tu=Eo.dyn_tree,h5=Eo.max_code,R7=Eo.stat_desc.static_tree,D7=Eo.stat_desc.has_stree,O7=Eo.stat_desc.extra_bits,p5=Eo.stat_desc.extra_base,el=Eo.stat_desc.max_length,nu=0;for(Gi=0;Gi<=j;Gi++)Jn.bl_count[Gi]=0;for(tu[2*Jn.heap[Jn.heap_max]+1]=0,Rp=Jn.heap_max+1;Rp<N;Rp++)el<(Gi=tu[2*tu[2*(Uo=Jn.heap[Rp])+1]+1]+1)&&(Gi=el,nu++),tu[2*Uo+1]=Gi,h5<Uo||(Jn.bl_count[Gi]++,Lm=0,p5<=Uo&&(Lm=O7[Uo-p5]),d5=tu[2*Uo],Jn.opt_len+=d5*(Gi+Lm),D7&&(Jn.static_len+=d5*(R7[2*Uo+1]+Lm)));if(nu!==0){do{for(Gi=el-1;Jn.bl_count[Gi]===0;)Gi--;Jn.bl_count[Gi]--,Jn.bl_count[Gi+1]+=2,Jn.bl_count[el]--,nu-=2}while(0<nu);for(Gi=el;Gi!==0;Gi--)for(Uo=Jn.bl_count[Gi];Uo!==0;)h5<(eu=Jn.heap[--Rp])||(tu[2*eu+1]!==Gi&&(Jn.opt_len+=(Gi-tu[2*eu+1])*tu[2*eu],tu[2*eu+1]=Gi),Uo--)}}(Se,Xe),sn(jt,Lr,Se.bl_count)}function ee(Se,Xe,Tt){var Ft,et,jt=-1,Lt=Xe[1],Bt=0,An=7,Lr=4;for(Lt===0&&(An=138,Lr=3),Xe[2*(Tt+1)+1]=65535,Ft=0;Ft<=Tt;Ft++)et=Lt,Lt=Xe[2*(Ft+1)+1],++Bt<An&&et===Lt||(Bt<Lr?Se.bl_tree[2*et]+=Bt:et!==0?(et!==jt&&Se.bl_tree[2*et]++,Se.bl_tree[2*ie]++):Bt<=10?Se.bl_tree[2*re]++:Se.bl_tree[2*ce]++,jt=et,Lr=(Bt=0)===Lt?(An=138,3):et===Lt?(An=6,3):(An=7,4))}function mt(Se,Xe,Tt){var Ft,et,jt=-1,Lt=Xe[1],Bt=0,An=7,Lr=4;for(Lt===0&&(An=138,Lr=3),Ft=0;Ft<=Tt;Ft++)if(et=Lt,Lt=Xe[2*(Ft+1)+1],!(++Bt<An&&et===Lt)){if(Bt<Lr)for(;lt(Se,et,Se.bl_tree),--Bt!=0;);else et!==0?(et!==jt&&(lt(Se,et,Se.bl_tree),Bt--),lt(Se,ie,Se.bl_tree),nt(Se,Bt-3,2)):Bt<=10?(lt(Se,re,Se.bl_tree),nt(Se,Bt-3,3)):(lt(Se,ce,Se.bl_tree),nt(Se,Bt-11,7));jt=et,Lr=(Bt=0)===Lt?(An=138,3):et===Lt?(An=6,3):(An=7,4)}}E(We);var ct=!1;function Ee(Se,Xe,Tt,Ft){nt(Se,(P<<1)+(Ft?1:0),3),function(et,jt,Lt,Bt){Qt(et),Bt&&(Je(et,Lt),Je(et,~Lt)),g.arraySet(et.pending_buf,et.window,jt,Lt,et.pending),et.pending+=Lt}(Se,Xe,Tt,!0)}f._tr_init=function(Se){ct||(function(){var Xe,Tt,Ft,et,jt,Lt=new Array(j+1);for(et=Ft=0;et<I-1;et++)for(Ge[et]=Ft,Xe=0;Xe<1<<Ce[et];Xe++)J[Ft++]=et;for(J[Ft-1]=et,et=jt=0;et<16;et++)for(We[et]=jt,Xe=0;Xe<1<<ye[et];Xe++)De[jt++]=et;for(jt>>=7;et<A;et++)for(We[et]=jt<<7,Xe=0;Xe<1<<ye[et]-7;Xe++)De[256+jt++]=et;for(Tt=0;Tt<=j;Tt++)Lt[Tt]=0;for(Xe=0;Xe<=143;)rt[2*Xe+1]=8,Xe++,Lt[8]++;for(;Xe<=255;)rt[2*Xe+1]=9,Xe++,Lt[9]++;for(;Xe<=279;)rt[2*Xe+1]=7,Xe++,Lt[7]++;for(;Xe<=287;)rt[2*Xe+1]=8,Xe++,Lt[8]++;for(sn(rt,D+1,Lt),Xe=0;Xe<A;Xe++)he[2*Xe+1]=5,he[2*Xe]=Ke(Xe,5);zt=new Pt(rt,Ce,O+1,D,j),ke=new Pt(he,ye,0,A,j),Ae=new Pt(new Array(0),we,0,F,K)}(),ct=!0),Se.l_desc=new pe(Se.dyn_ltree,zt),Se.d_desc=new pe(Se.dyn_dtree,ke),Se.bl_desc=new pe(Se.bl_tree,Ae),Se.bi_buf=0,Se.bi_valid=0,St(Se)},f._tr_stored_block=Ee,f._tr_flush_block=function(Se,Xe,Tt,Ft){var et,jt,Lt=0;0<Se.level?(Se.strm.data_type===2&&(Se.strm.data_type=function(Bt){var An,Lr=4093624447;for(An=0;An<=31;An++,Lr>>>=1)if(1&Lr&&Bt.dyn_ltree[2*An]!==0)return b;if(Bt.dyn_ltree[18]!==0||Bt.dyn_ltree[20]!==0||Bt.dyn_ltree[26]!==0)return _;for(An=32;An<O;An++)if(Bt.dyn_ltree[2*An]!==0)return _;return b}(Se)),jr(Se,Se.l_desc),jr(Se,Se.d_desc),Lt=function(Bt){var An;for(ee(Bt,Bt.dyn_ltree,Bt.l_desc.max_code),ee(Bt,Bt.dyn_dtree,Bt.d_desc.max_code),jr(Bt,Bt.bl_desc),An=F-1;3<=An&&Bt.bl_tree[2*Oe[An]+1]===0;An--);return Bt.opt_len+=3*(An+1)+5+5+4,An}(Se),et=Se.opt_len+3+7>>>3,(jt=Se.static_len+3+7>>>3)<=et&&(et=jt)):et=jt=Tt+5,Tt+4<=et&&Xe!==-1?Ee(Se,Xe,Tt,Ft):Se.strategy===4||jt===et?(nt(Se,2+(Ft?1:0),3),Rn(Se,rt,he)):(nt(Se,4+(Ft?1:0),3),function(Bt,An,Lr,Jn){var Eo;for(nt(Bt,An-257,5),nt(Bt,Lr-1,5),nt(Bt,Jn-4,4),Eo=0;Eo<Jn;Eo++)nt(Bt,Bt.bl_tree[2*Oe[Eo]+1],3);mt(Bt,Bt.dyn_ltree,An-1),mt(Bt,Bt.dyn_dtree,Lr-1)}(Se,Se.l_desc.max_code+1,Se.d_desc.max_code+1,Lt+1),Rn(Se,Se.dyn_ltree,Se.dyn_dtree)),St(Se),Ft&&Qt(Se)},f._tr_tally=function(Se,Xe,Tt){return Se.pending_buf[Se.d_buf+2*Se.last_lit]=Xe>>>8&255,Se.pending_buf[Se.d_buf+2*Se.last_lit+1]=255&Xe,Se.pending_buf[Se.l_buf+Se.last_lit]=255&Tt,Se.last_lit++,Xe===0?Se.dyn_ltree[2*Tt]++:(Se.matches++,Xe--,Se.dyn_ltree[2*(J[Tt]+O+1)]++,Se.dyn_dtree[2*ge(Xe)]++),Se.last_lit===Se.lit_bufsize-1},f._tr_align=function(Se){nt(Se,2,3),lt(Se,Q,rt),function(Xe){Xe.bi_valid===16?(Je(Xe,Xe.bi_buf),Xe.bi_buf=0,Xe.bi_valid=0):8<=Xe.bi_valid&&(Xe.pending_buf[Xe.pending++]=255&Xe.bi_buf,Xe.bi_buf>>=8,Xe.bi_valid-=8)}(Se)}},{"../utils/common":41}],53:[function(l,h,f){h.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(l,h,f){(function(g){(function(b,_){if(!b.setImmediate){var E,P,I,O,D=1,A={},F=!1,N=b.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(b);j=j&&j.setTimeout?j:b,E={}.toString.call(b.process)==="[object process]"?function(ie){process.nextTick(function(){K(ie)})}:function(){if(b.postMessage&&!b.importScripts){var ie=!0,re=b.onmessage;return b.onmessage=function(){ie=!1},b.postMessage("","*"),b.onmessage=re,ie}}()?(O="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",Q,!1):b.attachEvent("onmessage",Q),function(ie){b.postMessage(O+ie,"*")}):b.MessageChannel?((I=new MessageChannel).port1.onmessage=function(ie){K(ie.data)},function(ie){I.port2.postMessage(ie)}):N&&"onreadystatechange"in N.createElement("script")?(P=N.documentElement,function(ie){var re=N.createElement("script");re.onreadystatechange=function(){K(ie),re.onreadystatechange=null,P.removeChild(re),re=null},P.appendChild(re)}):function(ie){setTimeout(K,0,ie)},j.setImmediate=function(ie){typeof ie!="function"&&(ie=new Function(""+ie));for(var re=new Array(arguments.length-1),ce=0;ce<re.length;ce++)re[ce]=arguments[ce+1];var Ce={callback:ie,args:re};return A[D]=Ce,E(D),D++},j.clearImmediate=$}function $(ie){delete A[ie]}function K(ie){if(F)setTimeout(K,0,ie);else{var re=A[ie];if(re){F=!0;try{(function(ce){var Ce=ce.callback,ye=ce.args;switch(ye.length){case 0:Ce();break;case 1:Ce(ye[0]);break;case 2:Ce(ye[0],ye[1]);break;case 3:Ce(ye[0],ye[1],ye[2]);break;default:Ce.apply(_,ye)}})(re)}finally{$(ie),F=!1}}}}function Q(ie){ie.source===b&&typeof ie.data=="string"&&ie.data.indexOf(O)===0&&K(+ie.data.slice(O.length))}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,typeof Ki<"u"?Ki:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),YN,jC,wne,ZN,xne,Sne,$6,Ene,QN,Cne,HC,W6,K6,mp,Pne,Mne,Tne,j3,Va,kne,Ane,JN,GC,bEe=C(()=>{YN=q(Le(),1),jC=q(Le(),1),wne=s=>typeof s=="function",ZN=(s,a)=>wne(s)?s(a):s,xne=(()=>{let s=0;return()=>(++s).toString()})(),Sne=20,$6=new Map,Ene=1e3,QN=s=>{if($6.has(s))return;let a=setTimeout(()=>{$6.delete(s),mp({type:4,toastId:s})},Ene);$6.set(s,a)},Cne=s=>{let a=$6.get(s);a&&clearTimeout(a)},HC=(s,a)=>{switch(a.type){case 0:return B(L({},s),{toasts:[a.toast,...s.toasts].slice(0,Sne)});case 1:return a.toast.id&&Cne(a.toast.id),B(L({},s),{toasts:s.toasts.map(g=>g.id===a.toast.id?L(L({},g),a.toast):g)});case 2:let{toast:l}=a;return s.toasts.find(g=>g.id===l.id)?HC(s,{type:1,toast:l}):HC(s,{type:0,toast:l});case 3:let{toastId:h}=a;return h?QN(h):s.toasts.forEach(g=>{QN(g.id)}),B(L({},s),{toasts:s.toasts.map(g=>g.id===h||h===void 0?B(L({},g),{visible:!1}):g)});case 4:return a.toastId===void 0?B(L({},s),{toasts:[]}):B(L({},s),{toasts:s.toasts.filter(g=>g.id!==a.toastId)});case 5:return B(L({},s),{pausedAt:a.time});case 6:let f=a.time-(s.pausedAt||0);return B(L({},s),{pausedAt:void 0,toasts:s.toasts.map(g=>B(L({},g),{pauseDuration:g.pauseDuration+f}))})}},W6=[],K6={toasts:[],pausedAt:void 0},mp=s=>{K6=HC(K6,s),W6.forEach(a=>{a(K6)})},Pne={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Mne=(s={})=>{let[a,l]=(0,YN.useState)(K6);(0,YN.useEffect)(()=>(W6.push(l),()=>{let f=W6.indexOf(l);f>-1&&W6.splice(f,1)}),[a]);let h=a.toasts.map(f=>{var g,b;return B(L(L(L({},s),s[f.type]),f),{duration:f.duration||((g=s[f.type])==null?void 0:g.duration)||(s==null?void 0:s.duration)||Pne[f.type],style:L(L(L({},s.style),(b=s[f.type])==null?void 0:b.style),f.style)})});return B(L({},a),{toasts:h})},Tne=(s,a="blank",l)=>B(L({createdAt:Date.now(),visible:!0,type:a,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0},l),{id:(l==null?void 0:l.id)||xne()}),j3=s=>(a,l)=>{let h=Tne(a,s,l);return mp({type:2,toast:h}),h.id},Va=(s,a)=>j3("blank")(s,a),Va.error=j3("error"),Va.success=j3("success"),Va.loading=j3("loading"),Va.custom=j3("custom"),Va.dismiss=s=>{mp({type:3,toastId:s})},Va.remove=s=>mp({type:4,toastId:s}),Va.promise=(s,a,l)=>{let h=Va.loading(a.loading,L(L({},l),l==null?void 0:l.loading));return s.then(f=>(Va.success(ZN(a.success,f),L(L({id:h},l),l==null?void 0:l.success)),f)).catch(f=>{Va.error(ZN(a.error,f),L(L({id:h},l),l==null?void 0:l.error))}),s},kne=(s,a)=>{mp({type:1,toast:{id:s,height:a}})},Ane=()=>{mp({type:5,time:Date.now()})},JN=s=>{let{toasts:a,pausedAt:l}=Mne(s);(0,jC.useEffect)(()=>{if(l)return;let g=Date.now(),b=a.map(_=>{if(_.duration===1/0)return;let E=(_.duration||0)+_.pauseDuration-(g-_.createdAt);if(E<0){_.visible&&Va.dismiss(_.id);return}return setTimeout(()=>Va.dismiss(_.id),E)});return()=>{b.forEach(_=>_&&clearTimeout(_))}},[a,l]);let h=(0,jC.useCallback)(()=>{l&&mp({type:6,time:Date.now()})},[l]),f=(0,jC.useCallback)((g,b)=>{let{reverseOrder:_=!1,gutter:E=8,defaultPosition:P}=b||{},I=a.filter(A=>(A.position||P)===(g.position||P)&&A.height),O=I.findIndex(A=>A.id===g.id),D=I.filter((A,F)=>F<O&&A.visible).length;return I.filter(A=>A.visible).slice(..._?[D+1]:[0,D]).reduce((A,F)=>A+(F.height||0)+E,0)},[a]);return{toasts:a,handlers:{updateHeight:kne,startPause:Ane,endPause:h,calculateOffset:f}}},GC=Va});function Ine(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function _Ee(s){im=s}function Qs(s,a){if(a){if(Une.test(s))return s.replace(zne,eF)}else if(Vne.test(s))return s.replace(jne,eF);return s}function Rne(s){return s.replace(Gne,(a,l)=>(l=l.toLowerCase(),l==="colon"?":":l.charAt(0)==="#"?l.charAt(1)==="x"?String.fromCharCode(parseInt(l.substring(2),16)):String.fromCharCode(+l.substring(1)):""))}function di(s,a){s=typeof s=="string"?s:s.source,a=a||"";let l={replace:(h,f)=>(f=f.source||f,f=f.replace($ne,"$1"),s=s.replace(h,f),l),getRegex:()=>new RegExp(s,a)};return l}function Dne(s,a,l){if(s){let h;try{h=decodeURIComponent(Rne(l)).replace(Wne,"").toLowerCase()}catch{return null}if(h.indexOf("javascript:")===0||h.indexOf("vbscript:")===0||h.indexOf("data:")===0)return null}a&&!Kne.test(l)&&(l=wEe(a,l));try{l=encodeURI(l).replace(/%25/g,"%")}catch{return null}return l}function wEe(s,a){X6[" "+s]||(Xne.test(s)?X6[" "+s]=s+"/":X6[" "+s]=$C(s,"/",!0)),s=X6[" "+s];let l=s.indexOf(":")===-1;return a.substring(0,2)==="//"?l?a:s.replace(qne,"$1")+a:a.charAt(0)==="/"?l?a:s.replace(Yne,"$1")+a:s+a}function Wl(s){let a=1,l,h;for(;a<arguments.length;a++){l=arguments[a];for(h in l)Object.prototype.hasOwnProperty.call(l,h)&&(s[h]=l[h])}return s}function One(s,a){let l=s.replace(/\|/g,(g,b,_)=>{let E=!1,P=b;for(;--P>=0&&_[P]==="\\";)E=!E;return E?"|":" |"}),h=l.split(/ \|/),f=0;if(h[0].trim()||h.shift(),h.length>0&&!h[h.length-1].trim()&&h.pop(),h.length>a)h.splice(a);else for(;h.length<a;)h.push("");for(;f<h.length;f++)h[f]=h[f].trim().replace(/\\\|/g,"|");return h}function $C(s,a,l){let h=s.length;if(h===0)return"";let f=0;for(;f<h;){let g=s.charAt(h-f-1);if(g===a&&!l)f++;else if(g!==a&&l)f++;else break}return s.slice(0,h-f)}function xEe(s,a){if(s.indexOf(a[1])===-1)return-1;let l=s.length,h=0,f=0;for(;f<l;f++)if(s[f]==="\\")f++;else if(s[f]===a[0])h++;else if(s[f]===a[1]&&(h--,h<0))return f;return-1}function Lne(s){s&&s.sanitize&&!s.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Nne(s,a){if(a<1)return"";let l="";for(;a>1;)a&1&&(l+=s),a>>=1,s+=s;return l+s}function Fne(s,a,l,h){let f=a.href,g=a.title?Qs(a.title):null,b=s[1].replace(/\\([\[\]])/g,"$1");if(s[0].charAt(0)!=="!"){h.state.inLink=!0;let _={type:"link",raw:l,href:f,title:g,text:b,tokens:h.inlineTokens(b)};return h.state.inLink=!1,_}return{type:"image",raw:l,href:f,title:g,text:Qs(b)}}function SEe(s,a){let l=s.match(/^(\s+)(?:```)/);if(l===null)return a;let h=l[1];return a.split(`
`).map(f=>{let g=f.match(/^\s+/);if(g===null)return f;let[b]=g;return b.length>=h.length?f.slice(h.length):f}).join(`
`)}function EEe(s){return s.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function Bne(s){let a="",l,h,f=s.length;for(l=0;l<f;l++)h=s.charCodeAt(l),Math.random()>.5&&(h="x"+h.toString(16)),a+="&#"+h+";";return a}function qn(s,a,l){if(typeof s>"u"||s===null)throw new Error("marked(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");if(typeof a=="function"&&(l=a,a=null),a=Wl({},qn.defaults,a||{}),Lne(a),l){let f=a.highlight,g;try{g=sm.lex(s,a)}catch(E){return l(E)}let b=function(E){let P;if(!E)try{a.walkTokens&&qn.walkTokens(g,a.walkTokens),P=gp.parse(g,a)}catch(I){E=I}return a.highlight=f,E?l(E):l(null,P)};if(!f||f.length<3||(delete a.highlight,!g.length))return b();let _=0;qn.walkTokens(g,function(E){E.type==="code"&&(_++,setTimeout(()=>{f(E.text,E.lang,function(P,I){if(P)return b(P);I!=null&&I!==E.text&&(E.text=I,E.escaped=!0),_--,_===0&&b()})},0))}),_===0&&b();return}function h(f){if(f.message+=`
Please report this to https://github.com/markedjs/marked.`,a.silent)return"<p>An error occurred:</p><pre>"+Qs(f.message+"",!0)+"</pre>";throw f}try{let f=sm.lex(s,a);if(a.walkTokens){if(a.async)return Promise.all(qn.walkTokens(f,a.walkTokens)).then(()=>gp.parse(f,a)).catch(h);qn.walkTokens(f,a.walkTokens)}return gp.parse(f,a)}catch(f){h(f)}}var im,Une,zne,Vne,jne,Hne,eF,Gne,$ne,Wne,Kne,X6,Xne,qne,Yne,q6,WC,Ln,mn,sm,KC,tF,nF,gp,CEe=C(()=>{im=Ine(),Une=/[&<>"']/,zne=/[&<>"']/g,Vne=/[<>"']|&(?!#?\w+;)/,jne=/[<>"']|&(?!#?\w+;)/g,Hne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},eF=s=>Hne[s],Gne=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,$ne=/(^|[^\[])\^/g,Wne=/[^\w:]/g,Kne=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,X6={},Xne=/^[^:]+:\/*[^/]*$/,qne=/^([^:]+:)[\s\S]*$/,Yne=/^([^:]+:\/*[^/]*)[\s\S]*$/,q6={exec:function(){}},WC=class{constructor(s){this.options=s||im}space(s){let a=this.rules.block.newline.exec(s);if(a&&a[0].length>0)return{type:"space",raw:a[0]}}code(s){let a=this.rules.block.code.exec(s);if(a){let l=a[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:a[0],codeBlockStyle:"indented",text:this.options.pedantic?l:$C(l,`
`)}}}fences(s){let a=this.rules.block.fences.exec(s);if(a){let l=a[0],h=SEe(l,a[3]||"");return{type:"code",raw:l,lang:a[2]?a[2].trim():a[2],text:h}}}heading(s){let a=this.rules.block.heading.exec(s);if(a){let l=a[2].trim();if(/#$/.test(l)){let h=$C(l,"#");(this.options.pedantic||!h||/ $/.test(h))&&(l=h.trim())}return{type:"heading",raw:a[0],depth:a[1].length,text:l,tokens:this.lexer.inline(l)}}}hr(s){let a=this.rules.block.hr.exec(s);if(a)return{type:"hr",raw:a[0]}}blockquote(s){let a=this.rules.block.blockquote.exec(s);if(a){let l=a[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:a[0],tokens:this.lexer.blockTokens(l,[]),text:l}}}list(s){let a=this.rules.block.list.exec(s);if(a){let l,h,f,g,b,_,E,P,I,O,D,A,F=a[1].trim(),N=F.length>1,j={type:"list",raw:"",ordered:N,start:N?+F.slice(0,-1):"",loose:!1,items:[]};F=N?"\\d{1,9}\\".concat(F.slice(-1)):"\\".concat(F),this.options.pedantic&&(F=N?F:"[*+-]");let $=new RegExp("^( {0,3}".concat(F,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;s&&(A=!1,!(!(a=$.exec(s))||this.rules.block.hr.test(s)));){if(l=a[0],s=s.substring(l.length),P=a[2].split(`
`,1)[0],I=s.split(`
`,1)[0],this.options.pedantic?(g=2,D=P.trimLeft()):(g=a[2].search(/[^ ]/),g=g>4?1:g,D=P.slice(g),g+=a[1].length),_=!1,!P&&/^ *$/.test(I)&&(l+=I+`
`,s=s.substring(I.length+1),A=!0),!A){let Q=new RegExp("^ {0,".concat(Math.min(3,g-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),ie=new RegExp("^ {0,".concat(Math.min(3,g-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),re=new RegExp("^ {0,".concat(Math.min(3,g-1),"}(?:```|~~~)")),ce=new RegExp("^ {0,".concat(Math.min(3,g-1),"}#"));for(;s&&(O=s.split(`
`,1)[0],P=O,this.options.pedantic&&(P=P.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(re.test(P)||ce.test(P)||Q.test(P)||ie.test(s)));){if(P.search(/[^ ]/)>=g||!P.trim())D+=`
`+P.slice(g);else if(!_)D+=`
`+P;else break;!_&&!P.trim()&&(_=!0),l+=O+`
`,s=s.substring(O.length+1)}}j.loose||(E?j.loose=!0:/\n *\n *$/.test(l)&&(E=!0)),this.options.gfm&&(h=/^\[[ xX]\] /.exec(D),h&&(f=h[0]!=="[ ] ",D=D.replace(/^\[[ xX]\] +/,""))),j.items.push({type:"list_item",raw:l,task:!!h,checked:f,loose:!1,text:D}),j.raw+=l}j.items[j.items.length-1].raw=l.trimRight(),j.items[j.items.length-1].text=D.trimRight(),j.raw=j.raw.trimRight();let K=j.items.length;for(b=0;b<K;b++){this.lexer.state.top=!1,j.items[b].tokens=this.lexer.blockTokens(j.items[b].text,[]);let Q=j.items[b].tokens.filter(re=>re.type==="space"),ie=Q.every(re=>{let ce=re.raw.split(""),Ce=0;for(let ye of ce)if(ye===`
`&&(Ce+=1),Ce>1)return!0;return!1});!j.loose&&Q.length&&ie&&(j.loose=!0,j.items[b].loose=!0)}return j}}html(s){let a=this.rules.block.html.exec(s);if(a){let l={type:"html",raw:a[0],pre:!this.options.sanitizer&&(a[1]==="pre"||a[1]==="script"||a[1]==="style"),text:a[0]};if(this.options.sanitize){let h=this.options.sanitizer?this.options.sanitizer(a[0]):Qs(a[0]);l.type="paragraph",l.text=h,l.tokens=this.lexer.inline(h)}return l}}def(s){let a=this.rules.block.def.exec(s);if(a)return a[3]&&(a[3]=a[3].substring(1,a[3].length-1)),{type:"def",tag:a[1].toLowerCase().replace(/\s+/g," "),raw:a[0],href:a[2],title:a[3]}}table(s){let a=this.rules.block.table.exec(s);if(a){let l={type:"table",header:One(a[1]).map(h=>({text:h})),align:a[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:a[3]&&a[3].trim()?a[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(l.header.length===l.align.length){l.raw=a[0];let h=l.align.length,f,g,b,_;for(f=0;f<h;f++)/^ *-+: *$/.test(l.align[f])?l.align[f]="right":/^ *:-+: *$/.test(l.align[f])?l.align[f]="center":/^ *:-+ *$/.test(l.align[f])?l.align[f]="left":l.align[f]=null;for(h=l.rows.length,f=0;f<h;f++)l.rows[f]=One(l.rows[f],l.header.length).map(E=>({text:E}));for(h=l.header.length,g=0;g<h;g++)l.header[g].tokens=this.lexer.inline(l.header[g].text);for(h=l.rows.length,g=0;g<h;g++)for(_=l.rows[g],b=0;b<_.length;b++)_[b].tokens=this.lexer.inline(_[b].text);return l}}}lheading(s){let a=this.rules.block.lheading.exec(s);if(a)return{type:"heading",raw:a[0],depth:a[2].charAt(0)==="="?1:2,text:a[1],tokens:this.lexer.inline(a[1])}}paragraph(s){let a=this.rules.block.paragraph.exec(s);if(a){let l=a[1].charAt(a[1].length-1)===`
`?a[1].slice(0,-1):a[1];return{type:"paragraph",raw:a[0],text:l,tokens:this.lexer.inline(l)}}}text(s){let a=this.rules.block.text.exec(s);if(a)return{type:"text",raw:a[0],text:a[0],tokens:this.lexer.inline(a[0])}}escape(s){let a=this.rules.inline.escape.exec(s);if(a)return{type:"escape",raw:a[0],text:Qs(a[1])}}tag(s){let a=this.rules.inline.tag.exec(s);if(a)return!this.lexer.state.inLink&&/^<a /i.test(a[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(a[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(a[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(a[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:a[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(a[0]):Qs(a[0]):a[0]}}link(s){let a=this.rules.inline.link.exec(s);if(a){let l=a[2].trim();if(!this.options.pedantic&&/^</.test(l)){if(!/>$/.test(l))return;let g=$C(l.slice(0,-1),"\\");if((l.length-g.length)%2===0)return}else{let g=xEe(a[2],"()");if(g>-1){let b=(a[0].indexOf("!")===0?5:4)+a[1].length+g;a[2]=a[2].substring(0,g),a[0]=a[0].substring(0,b).trim(),a[3]=""}}let h=a[2],f="";if(this.options.pedantic){let g=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(h);g&&(h=g[1],f=g[3])}else f=a[3]?a[3].slice(1,-1):"";return h=h.trim(),/^</.test(h)&&(this.options.pedantic&&!/>$/.test(l)?h=h.slice(1):h=h.slice(1,-1)),Fne(a,{href:h&&h.replace(this.rules.inline._escapes,"$1"),title:f&&f.replace(this.rules.inline._escapes,"$1")},a[0],this.lexer)}}reflink(s,a){let l;if((l=this.rules.inline.reflink.exec(s))||(l=this.rules.inline.nolink.exec(s))){let h=(l[2]||l[1]).replace(/\s+/g," ");if(h=a[h.toLowerCase()],!h||!h.href){let f=l[0].charAt(0);return{type:"text",raw:f,text:f}}return Fne(l,h,l[0],this.lexer)}}emStrong(s,a,l=""){let h=this.rules.inline.emStrong.lDelim.exec(s);if(!h||h[3]&&l.match(/[\p{L}\p{N}]/u))return;let f=h[1]||h[2]||"";if(!f||f&&(l===""||this.rules.inline.punctuation.exec(l))){let g=h[0].length-1,b,_,E=g,P=0,I=h[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(I.lastIndex=0,a=a.slice(-1*s.length+g);(h=I.exec(a))!=null;){if(b=h[1]||h[2]||h[3]||h[4]||h[5]||h[6],!b)continue;if(_=b.length,h[3]||h[4]){E+=_;continue}else if((h[5]||h[6])&&g%3&&!((g+_)%3)){P+=_;continue}if(E-=_,E>0)continue;if(_=Math.min(_,_+E+P),Math.min(g,_)%2){let D=s.slice(1,g+h.index+_);return{type:"em",raw:s.slice(0,g+h.index+_+1),text:D,tokens:this.lexer.inlineTokens(D)}}let O=s.slice(2,g+h.index+_-1);return{type:"strong",raw:s.slice(0,g+h.index+_+1),text:O,tokens:this.lexer.inlineTokens(O)}}}}codespan(s){let a=this.rules.inline.code.exec(s);if(a){let l=a[2].replace(/\n/g," "),h=/[^ ]/.test(l),f=/^ /.test(l)&&/ $/.test(l);return h&&f&&(l=l.substring(1,l.length-1)),l=Qs(l,!0),{type:"codespan",raw:a[0],text:l}}}br(s){let a=this.rules.inline.br.exec(s);if(a)return{type:"br",raw:a[0]}}del(s){let a=this.rules.inline.del.exec(s);if(a)return{type:"del",raw:a[0],text:a[2],tokens:this.lexer.inlineTokens(a[2])}}autolink(s,a){let l=this.rules.inline.autolink.exec(s);if(l){let h,f;return l[2]==="@"?(h=Qs(this.options.mangle?a(l[1]):l[1]),f="mailto:"+h):(h=Qs(l[1]),f=h),{type:"link",raw:l[0],text:h,href:f,tokens:[{type:"text",raw:h,text:h}]}}}url(s,a){let l;if(l=this.rules.inline.url.exec(s)){let h,f;if(l[2]==="@")h=Qs(this.options.mangle?a(l[0]):l[0]),f="mailto:"+h;else{let g;do g=l[0],l[0]=this.rules.inline._backpedal.exec(l[0])[0];while(g!==l[0]);h=Qs(l[0]),l[1]==="www."?f="http://"+h:f=h}return{type:"link",raw:l[0],text:h,href:f,tokens:[{type:"text",raw:h,text:h}]}}}inlineText(s,a){let l=this.rules.inline.text.exec(s);if(l){let h;return this.lexer.state.inRawBlock?h=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):Qs(l[0]):l[0]:h=Qs(this.options.smartypants?a(l[0]):l[0]),{type:"text",raw:l[0],text:h}}}},Ln={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:q6,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Ln._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ln._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ln.def=di(Ln.def).replace("label",Ln._label).replace("title",Ln._title).getRegex(),Ln.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ln.listItemStart=di(/^( *)(bull) */).replace("bull",Ln.bullet).getRegex(),Ln.list=di(Ln.list).replace(/bull/g,Ln.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ln.def.source+")").getRegex(),Ln._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ln._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ln.html=di(Ln.html,"i").replace("comment",Ln._comment).replace("tag",Ln._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ln.paragraph=di(Ln._paragraph).replace("hr",Ln.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln._tag).getRegex(),Ln.blockquote=di(Ln.blockquote).replace("paragraph",Ln.paragraph).getRegex(),Ln.normal=Wl({},Ln),Ln.gfm=Wl({},Ln.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ln.gfm.table=di(Ln.gfm.table).replace("hr",Ln.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln._tag).getRegex(),Ln.gfm.paragraph=di(Ln._paragraph).replace("hr",Ln.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ln.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ln._tag).getRegex(),Ln.pedantic=Wl({},Ln.normal,{html:di(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ln._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:q6,paragraph:di(Ln.normal._paragraph).replace("hr",Ln.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ln.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),mn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:q6,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:q6,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},mn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",mn.punctuation=di(mn.punctuation).replace(/punctuation/g,mn._punctuation).getRegex(),mn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,mn.escapedEmSt=/\\\*|\\_/g,mn._comment=di(Ln._comment).replace("(?:-->|$)","-->").getRegex(),mn.emStrong.lDelim=di(mn.emStrong.lDelim).replace(/punct/g,mn._punctuation).getRegex(),mn.emStrong.rDelimAst=di(mn.emStrong.rDelimAst,"g").replace(/punct/g,mn._punctuation).getRegex(),mn.emStrong.rDelimUnd=di(mn.emStrong.rDelimUnd,"g").replace(/punct/g,mn._punctuation).getRegex(),mn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,mn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,mn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,mn.autolink=di(mn.autolink).replace("scheme",mn._scheme).replace("email",mn._email).getRegex(),mn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,mn.tag=di(mn.tag).replace("comment",mn._comment).replace("attribute",mn._attribute).getRegex(),mn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,mn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,mn.link=di(mn.link).replace("label",mn._label).replace("href",mn._href).replace("title",mn._title).getRegex(),mn.reflink=di(mn.reflink).replace("label",mn._label).replace("ref",Ln._label).getRegex(),mn.nolink=di(mn.nolink).replace("ref",Ln._label).getRegex(),mn.reflinkSearch=di(mn.reflinkSearch,"g").replace("reflink",mn.reflink).replace("nolink",mn.nolink).getRegex(),mn.normal=Wl({},mn),mn.pedantic=Wl({},mn.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:di(/^!?\[(label)\]\((.*?)\)/).replace("label",mn._label).getRegex(),reflink:di(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",mn._label).getRegex()}),mn.gfm=Wl({},mn.normal,{escape:di(mn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),mn.gfm.url=di(mn.gfm.url,"i").replace("email",mn.gfm._extended_email).getRegex(),mn.breaks=Wl({},mn.gfm,{br:di(mn.br).replace("{2,}","*").getRegex(),text:di(mn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),sm=class xG{constructor(a){this.tokens=[],this.tokens.links=Object.create(null),this.options=a||im,this.options.tokenizer=this.options.tokenizer||new WC,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let l={block:Ln.normal,inline:mn.normal};this.options.pedantic?(l.block=Ln.pedantic,l.inline=mn.pedantic):this.options.gfm&&(l.block=Ln.gfm,this.options.breaks?l.inline=mn.breaks:l.inline=mn.gfm),this.tokenizer.rules=l}static get rules(){return{block:Ln,inline:mn}}static lex(a,l){return new xG(l).lex(a)}static lexInline(a,l){return new xG(l).inlineTokens(a)}lex(a){a=a.replace(/\r\n|\r/g,`
`),this.blockTokens(a,this.tokens);let l;for(;l=this.inlineQueue.shift();)this.inlineTokens(l.src,l.tokens);return this.tokens}blockTokens(a,l=[]){this.options.pedantic?a=a.replace(/\t/g,"    ").replace(/^ +$/gm,""):a=a.replace(/^( *)(\t+)/gm,(_,E,P)=>E+"    ".repeat(P.length));let h,f,g,b;for(;a;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(_=>(h=_.call({lexer:this},a,l))?(a=a.substring(h.raw.length),l.push(h),!0):!1))){if(h=this.tokenizer.space(a)){a=a.substring(h.raw.length),h.raw.length===1&&l.length>0?l[l.length-1].raw+=`
`:l.push(h);continue}if(h=this.tokenizer.code(a)){a=a.substring(h.raw.length),f=l[l.length-1],f&&(f.type==="paragraph"||f.type==="text")?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue[this.inlineQueue.length-1].src=f.text):l.push(h);continue}if(h=this.tokenizer.fences(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.heading(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.hr(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.blockquote(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.list(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.html(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.def(a)){a=a.substring(h.raw.length),f=l[l.length-1],f&&(f.type==="paragraph"||f.type==="text")?(f.raw+=`
`+h.raw,f.text+=`
`+h.raw,this.inlineQueue[this.inlineQueue.length-1].src=f.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title});continue}if(h=this.tokenizer.table(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.lheading(a)){a=a.substring(h.raw.length),l.push(h);continue}if(g=a,this.options.extensions&&this.options.extensions.startBlock){let _=1/0,E=a.slice(1),P;this.options.extensions.startBlock.forEach(function(I){P=I.call({lexer:this},E),typeof P=="number"&&P>=0&&(_=Math.min(_,P))}),_<1/0&&_>=0&&(g=a.substring(0,_+1))}if(this.state.top&&(h=this.tokenizer.paragraph(g))){f=l[l.length-1],b&&f.type==="paragraph"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=f.text):l.push(h),b=g.length!==a.length,a=a.substring(h.raw.length);continue}if(h=this.tokenizer.text(a)){a=a.substring(h.raw.length),f=l[l.length-1],f&&f.type==="text"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=f.text):l.push(h);continue}if(a){let _="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(_);break}else throw new Error(_)}}return this.state.top=!0,l}inline(a,l=[]){return this.inlineQueue.push({src:a,tokens:l}),l}inlineTokens(a,l=[]){let h,f,g,b=a,_,E,P;if(this.tokens.links){let I=Object.keys(this.tokens.links);if(I.length>0)for(;(_=this.tokenizer.rules.inline.reflinkSearch.exec(b))!=null;)I.includes(_[0].slice(_[0].lastIndexOf("[")+1,-1))&&(b=b.slice(0,_.index)+"["+Nne("a",_[0].length-2)+"]"+b.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(_=this.tokenizer.rules.inline.blockSkip.exec(b))!=null;)b=b.slice(0,_.index)+"["+Nne("a",_[0].length-2)+"]"+b.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(_=this.tokenizer.rules.inline.escapedEmSt.exec(b))!=null;)b=b.slice(0,_.index)+"++"+b.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;a;)if(E||(P=""),E=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(I=>(h=I.call({lexer:this},a,l))?(a=a.substring(h.raw.length),l.push(h),!0):!1))){if(h=this.tokenizer.escape(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.tag(a)){a=a.substring(h.raw.length),f=l[l.length-1],f&&h.type==="text"&&f.type==="text"?(f.raw+=h.raw,f.text+=h.text):l.push(h);continue}if(h=this.tokenizer.link(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.reflink(a,this.tokens.links)){a=a.substring(h.raw.length),f=l[l.length-1],f&&h.type==="text"&&f.type==="text"?(f.raw+=h.raw,f.text+=h.text):l.push(h);continue}if(h=this.tokenizer.emStrong(a,b,P)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.codespan(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.br(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.del(a)){a=a.substring(h.raw.length),l.push(h);continue}if(h=this.tokenizer.autolink(a,Bne)){a=a.substring(h.raw.length),l.push(h);continue}if(!this.state.inLink&&(h=this.tokenizer.url(a,Bne))){a=a.substring(h.raw.length),l.push(h);continue}if(g=a,this.options.extensions&&this.options.extensions.startInline){let I=1/0,O=a.slice(1),D;this.options.extensions.startInline.forEach(function(A){D=A.call({lexer:this},O),typeof D=="number"&&D>=0&&(I=Math.min(I,D))}),I<1/0&&I>=0&&(g=a.substring(0,I+1))}if(h=this.tokenizer.inlineText(g,EEe)){a=a.substring(h.raw.length),h.raw.slice(-1)!=="_"&&(P=h.raw.slice(-1)),E=!0,f=l[l.length-1],f&&f.type==="text"?(f.raw+=h.raw,f.text+=h.text):l.push(h);continue}if(a){let I="Infinite loop on byte: "+a.charCodeAt(0);if(this.options.silent){console.error(I);break}else throw new Error(I)}}return l}},KC=class{constructor(s){this.options=s||im}code(s,a,l){let h=(a||"").match(/\S*/)[0];if(this.options.highlight){let f=this.options.highlight(s,h);f!=null&&f!==s&&(l=!0,s=f)}return s=s.replace(/\n$/,"")+`
`,h?'<pre><code class="'+this.options.langPrefix+Qs(h,!0)+'">'+(l?s:Qs(s,!0))+`</code></pre>
`:"<pre><code>"+(l?s:Qs(s,!0))+`</code></pre>
`}blockquote(s){return`<blockquote>
`.concat(s,`</blockquote>
`)}html(s){return s}heading(s,a,l,h){if(this.options.headerIds){let f=this.options.headerPrefix+h.slug(l);return"<h".concat(a,' id="').concat(f,'">').concat(s,"</h").concat(a,`>
`)}return"<h".concat(a,">").concat(s,"</h").concat(a,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(s,a,l){let h=a?"ol":"ul",f=a&&l!==1?' start="'+l+'"':"";return"<"+h+f+`>
`+s+"</"+h+`>
`}listitem(s){return"<li>".concat(s,`</li>
`)}checkbox(s){return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(s){return"<p>".concat(s,`</p>
`)}table(s,a){return a&&(a="<tbody>".concat(a,"</tbody>")),`<table>
<thead>
`+s+`</thead>
`+a+`</table>
`}tablerow(s){return`<tr>
`.concat(s,`</tr>
`)}tablecell(s,a){let l=a.header?"th":"td";return(a.align?"<".concat(l,' align="').concat(a.align,'">'):"<".concat(l,">"))+s+"</".concat(l,`>
`)}strong(s){return"<strong>".concat(s,"</strong>")}em(s){return"<em>".concat(s,"</em>")}codespan(s){return"<code>".concat(s,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(s){return"<del>".concat(s,"</del>")}link(s,a,l){if(s=Dne(this.options.sanitize,this.options.baseUrl,s),s===null)return l;let h='<a href="'+Qs(s)+'"';return a&&(h+=' title="'+a+'"'),h+=">"+l+"</a>",h}image(s,a,l){if(s=Dne(this.options.sanitize,this.options.baseUrl,s),s===null)return l;let h='<img src="'.concat(s,'" alt="').concat(l,'"');return a&&(h+=' title="'.concat(a,'"')),h+=this.options.xhtml?"/>":">",h}text(s){return s}},tF=class{strong(s){return s}em(s){return s}codespan(s){return s}del(s){return s}html(s){return s}text(s){return s}link(s,a,l){return""+l}image(s,a,l){return""+l}br(){return""}},nF=class{constructor(){this.seen={}}serialize(s){return s.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(s,a){let l=s,h=0;if(this.seen.hasOwnProperty(l)){h=this.seen[s];do h++,l=s+"-"+h;while(this.seen.hasOwnProperty(l))}return a||(this.seen[s]=h,this.seen[l]=0),l}slug(s,a={}){let l=this.serialize(s);return this.getNextSafeSlug(l,a.dryrun)}},gp=class SG{constructor(a){this.options=a||im,this.options.renderer=this.options.renderer||new KC,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new tF,this.slugger=new nF}static parse(a,l){return new SG(l).parse(a)}static parseInline(a,l){return new SG(l).parseInline(a)}parse(a,l=!0){let h="",f,g,b,_,E,P,I,O,D,A,F,N,j,$,K,Q,ie,re,ce,Ce=a.length;for(f=0;f<Ce;f++){if(A=a[f],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[A.type]&&(ce=this.options.extensions.renderers[A.type].call({parser:this},A),ce!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(A.type))){h+=ce||"";continue}switch(A.type){case"space":continue;case"hr":{h+=this.renderer.hr();continue}case"heading":{h+=this.renderer.heading(this.parseInline(A.tokens),A.depth,Rne(this.parseInline(A.tokens,this.textRenderer)),this.slugger);continue}case"code":{h+=this.renderer.code(A.text,A.lang,A.escaped);continue}case"table":{for(O="",I="",_=A.header.length,g=0;g<_;g++)I+=this.renderer.tablecell(this.parseInline(A.header[g].tokens),{header:!0,align:A.align[g]});for(O+=this.renderer.tablerow(I),D="",_=A.rows.length,g=0;g<_;g++){for(P=A.rows[g],I="",E=P.length,b=0;b<E;b++)I+=this.renderer.tablecell(this.parseInline(P[b].tokens),{header:!1,align:A.align[b]});D+=this.renderer.tablerow(I)}h+=this.renderer.table(O,D);continue}case"blockquote":{D=this.parse(A.tokens),h+=this.renderer.blockquote(D);continue}case"list":{for(F=A.ordered,N=A.start,j=A.loose,_=A.items.length,D="",g=0;g<_;g++)K=A.items[g],Q=K.checked,ie=K.task,$="",K.task&&(re=this.renderer.checkbox(Q),j?K.tokens.length>0&&K.tokens[0].type==="paragraph"?(K.tokens[0].text=re+" "+K.tokens[0].text,K.tokens[0].tokens&&K.tokens[0].tokens.length>0&&K.tokens[0].tokens[0].type==="text"&&(K.tokens[0].tokens[0].text=re+" "+K.tokens[0].tokens[0].text)):K.tokens.unshift({type:"text",text:re}):$+=re),$+=this.parse(K.tokens,j),D+=this.renderer.listitem($,ie,Q);h+=this.renderer.list(D,F,N);continue}case"html":{h+=this.renderer.html(A.text);continue}case"paragraph":{h+=this.renderer.paragraph(this.parseInline(A.tokens));continue}case"text":{for(D=A.tokens?this.parseInline(A.tokens):A.text;f+1<Ce&&a[f+1].type==="text";)A=a[++f],D+=`
`+(A.tokens?this.parseInline(A.tokens):A.text);h+=l?this.renderer.paragraph(D):D;continue}default:{let ye='Token with "'+A.type+'" type was not found.';if(this.options.silent){console.error(ye);return}else throw new Error(ye)}}}return h}parseInline(a,l){l=l||this.renderer;let h="",f,g,b,_=a.length;for(f=0;f<_;f++){if(g=a[f],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[g.type]&&(b=this.options.extensions.renderers[g.type].call({parser:this},g),b!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(g.type))){h+=b||"";continue}switch(g.type){case"escape":{h+=l.text(g.text);break}case"html":{h+=l.html(g.text);break}case"link":{h+=l.link(g.href,g.title,this.parseInline(g.tokens,l));break}case"image":{h+=l.image(g.href,g.title,g.text);break}case"strong":{h+=l.strong(this.parseInline(g.tokens,l));break}case"em":{h+=l.em(this.parseInline(g.tokens,l));break}case"codespan":{h+=l.codespan(g.text);break}case"br":{h+=l.br();break}case"del":{h+=l.del(this.parseInline(g.tokens,l));break}case"text":{h+=l.text(g.text);break}default:{let E='Token with "'+g.type+'" type was not found.';if(this.options.silent){console.error(E);return}else throw new Error(E)}}}return h}},qn.options=qn.setOptions=function(s){return Wl(qn.defaults,s),_Ee(qn.defaults),qn},qn.getDefaults=Ine,qn.defaults=im,qn.use=function(...s){let a=Wl({},...s),l=qn.defaults.extensions||{renderers:{},childTokens:{}},h;s.forEach(f=>{if(f.extensions&&(h=!0,f.extensions.forEach(g=>{if(!g.name)throw new Error("extension name required");if(g.renderer){let b=l.renderers?l.renderers[g.name]:null;b?l.renderers[g.name]=function(..._){let E=g.renderer.apply(this,_);return E===!1&&(E=b.apply(this,_)),E}:l.renderers[g.name]=g.renderer}if(g.tokenizer){if(!g.level||g.level!=="block"&&g.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");l[g.level]?l[g.level].unshift(g.tokenizer):l[g.level]=[g.tokenizer],g.start&&(g.level==="block"?l.startBlock?l.startBlock.push(g.start):l.startBlock=[g.start]:g.level==="inline"&&(l.startInline?l.startInline.push(g.start):l.startInline=[g.start]))}g.childTokens&&(l.childTokens[g.name]=g.childTokens)})),f.renderer){let g=qn.defaults.renderer||new KC;for(let b in f.renderer){let _=g[b];g[b]=(...E)=>{let P=f.renderer[b].apply(g,E);return P===!1&&(P=_.apply(g,E)),P}}a.renderer=g}if(f.tokenizer){let g=qn.defaults.tokenizer||new WC;for(let b in f.tokenizer){let _=g[b];g[b]=(...E)=>{let P=f.tokenizer[b].apply(g,E);return P===!1&&(P=_.apply(g,E)),P}}a.tokenizer=g}if(f.walkTokens){let g=qn.defaults.walkTokens;a.walkTokens=function(b){let _=[];return _.push(f.walkTokens.call(this,b)),g&&(_=_.concat(g.call(this,b))),_}}h&&(a.extensions=l),qn.setOptions(a)})},qn.walkTokens=function(s,a){let l=[];for(let h of s)switch(l=l.concat(a.call(qn,h)),h.type){case"table":{for(let f of h.header)l=l.concat(qn.walkTokens(f.tokens,a));for(let f of h.rows)for(let g of f)l=l.concat(qn.walkTokens(g.tokens,a));break}case"list":{l=l.concat(qn.walkTokens(h.items,a));break}default:qn.defaults.extensions&&qn.defaults.extensions.childTokens&&qn.defaults.extensions.childTokens[h.type]?qn.defaults.extensions.childTokens[h.type].forEach(function(f){l=l.concat(qn.walkTokens(h[f],a))}):h.tokens&&(l=l.concat(qn.walkTokens(h.tokens,a)))}return l},qn.parseInline=function(s,a){if(typeof s>"u"||s===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof s!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected");a=Wl({},qn.defaults,a||{}),Lne(a);try{let l=sm.lexInline(s,a);return a.walkTokens&&qn.walkTokens(l,a.walkTokens),gp.parseInline(l,a)}catch(l){if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,a.silent)return"<p>An error occurred:</p><pre>"+Qs(l.message+"",!0)+"</pre>";throw l}},qn.Parser=gp,qn.parser=gp.parse,qn.Renderer=KC,qn.TextRenderer=tF,qn.Lexer=sm,qn.lexer=sm.lex,qn.Tokenizer=WC,qn.Slugger=nF,qn.parse=qn,qn.options,qn.setOptions,qn.use,qn.walkTokens,qn.parseInline,gp.parse,sm.lex}),Zne,Qne,rF,Jne=C(()=>{Ue(),VC(),Qne=ue(V3)(Zne||(Zne=W([`
  padding: 6px;
`]))),rF=Qne}),ms,XC,Y6,qC,ere,tre,nre,iF,rre,ire,sre,sF,ore,are,lre,ure,cre,Z6,Q6,dre,hre,pre,fre,mre,gre,vre,yre,bre,_re,wre,xre,oF,J6=C(()=>{ms=q(Le()),bEe(),Ue(),Or(),Sn(),ze(),CEe(),G6(),Jne(),XC=({title:s,message:a})=>"".concat(s," ").concat(a),Y6=(()=>{let s=new Map;return{add:a=>{let l=XC(a);s.has(l)?s.set(l,s.get(l)+1):s.set(l,1)},delete:a=>{let l=XC(a);s.has(l)&&s.get(l)>1?s.set(l,s.get(l)-1):s.delete(l)},clear:()=>{s.clear()},check:a=>s.has(XC(a))}})(),qC=(()=>{let s=new Map;return{add:a=>{s.has(a)?s.set(a,s.get(a)+1):s.set(a,1)},delete:a=>{s.has(a)&&s.get(a)>1?s.set(a,s.get(a)-1):s.delete(a)},clear:()=>{s.clear()},check:a=>s.has(a),get types(){return Array.of(...s.keys())}}})(),tre=ue.div(ere||(ere=W([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Tr),iF=ue.div(nre||(nre=W([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),ire=ue.div(rre||(rre=W([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),sF=ue.div(sre||(sre=W([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),are=ue.button(ore||(ore=W([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),lre={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},cre=ue.div(ure||(ure=W([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:s})=>lre[s]),Z6=s=>(a,l,h=[],f=!1)=>{(f||!Y6.check({title:a,message:l}))&&(Y6.add({title:a,message:l}),qC.add(s),GC.custom(g=>ms.default.createElement(tre,null,ms.default.createElement(cre,{type:s}),ms.default.createElement(ire,null,ms.default.createElement(iF,null,a),ms.default.createElement(sF,{dangerouslySetInnerHTML:{__html:qn.parse(l)}}),h.length>0&&ms.default.createElement(sF,null,ms.default.createElement("span",null,"Docs:"," ",h.map((b,_)=>ms.default.createElement(ms.Fragment,{key:_},_>0&&", ",ms.default.createElement("a",{target:"_blank",href:b.url},b.title)))))),ms.default.createElement(are,{onClick:()=>{GC.remove(g.id),Y6.delete({title:a,message:l}),qC.delete(s)}},"Close")),{duration:1/0}))},Q6={warning:Z6("warning"),success:Z6("success"),info:Z6("info"),error:Z6("error")},hre=ue.div(dre||(dre=W([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:s})=>s==="center"?"center":"flex-end"),fre=ue.button(pre||(pre=W([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Tr,({danger:s})=>s?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),gre=ue.div(mre||(mre=W([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),yre=ue.div(vre||(vre=W([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),_re=ue.div(bre||(bre=W([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),wre=()=>{let{hasNotifications:s}=oF();return z3({enabled:!s},()=>ms.default.createElement(rF,null,ms.default.createElement(_re,null,ms.default.createElement(iF,null,"No notifications"),"Notifications will appear here when you get them.")))},xre=()=>{var s;let{toasts:a,handlers:l}=JN(),{startPause:h,endPause:f}=l,g=(s=nr(xe().atomP.ahistoric.pinNotifications))!=null?s:!1;return ms.default.createElement(gre,null,g?a.length>0&&ms.default.createElement(yre,{onMouseEnter:h,onMouseLeave:f},ms.default.createElement("div",null,a.map(b=>ms.default.createElement("div",{key:b.id},b.message(b))))):null,ms.default.createElement(hre,{align:"side"},g&&a.length>0&&ms.default.createElement(fre,{onClick:()=>{qC.clear(),Y6.clear(),GC.remove()},danger:!0},"Clear")))},oF=()=>{let{toasts:s}=JN();return{hasNotifications:s.length>0}}});function aF(s,a){var l;let h=Object.values((l=(0,Sre.val)(s.pointers.historic.sheetsById))!=null?l:{}),f=h.flatMap(b=>{var _;return Object.values((_=b==null?void 0:b.staticOverrides.byObject)!=null?_:{})}).flatMap(b=>Object.values(b??{})),g=[...h.flatMap(b=>{var _,E;return Object.values((E=(_=b==null?void 0:b.sequence)==null?void 0:_.tracksByObject)!=null?E:{})}).flatMap(b=>{var _;return Object.values((_=b==null?void 0:b.trackData)!=null?_:{})}).flatMap(b=>b==null?void 0:b.keyframes).map(b=>b==null?void 0:b.value)];return f.forEach(b=>{At(b,_=>{g.push(_)},[])}),g.filter(b=>(b==null?void 0:b.type)&&(a?(b==null?void 0:b.type)==a:typeof(b==null?void 0:b.type)=="string")).map(b=>b.id).filter((b,_,E)=>b!==null&&b!==""&&E.indexOf(b)===_)}var Sre,Ere=C(()=>{Sre=Vt,pt()});function Cre(s,a){let l=new File([s],a),h=URL.createObjectURL(l),f=Object.assign(document.createElement("a"),{href:h,target:"_blank",rel:"noopener"});f.setAttribute("download",a),f.click(),setTimeout(()=>{URL.revokeObjectURL(h)},4e4)}var d0,Pre,Mre,Tre,kre,Are,Ire,Rre,Dre,Ore,PEe=C(()=>{ze(),Qu(),Yu(),d0=q(Le()),Ue(),Zte(),vEe(),Pre=q(yEe()),J6(),Ere(),Tre=ue.div(Mre||(Mre=W([""]))),Are=ue.div(kre||(kre=W([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),Rre=ue(Zu)(Ire||(Ire=W([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),Dre=({projects:s})=>{let a=s[0],l=a.address.projectId,h=l.replace(/[^\w\d'_\-]+/g," ").trim(),f="".concat(h,".theatre-project-state.json"),[g,b]=(0,d0.useState)(!1),_=(0,d0.useCallback)(()=>se(void 0,null,function*(){var P,I;let O=aF(a),D=new Map;try{yield Promise.all(O.map(F=>se(void 0,null,function*(){let N=a.assetStorage.getAssetUrl(F),j=yield fetch(N);j.ok&&D.set(F,yield j.blob())})))}catch{Q6.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((I=(P=a.config.assets)==null?void 0:P.baseUrl)!=null?I:"/",". This is likely due to a CORS issue."));return}if(D.size>0){let F=new Pre.default;for(let[j,$]of D)F.file(j,$);let N=yield F.generateAsync({type:"blob"});Cre(N,"".concat(h,".assets.zip"))}let A=JSON.stringify(xe().createContentOfSaveFile(a.address.projectId),null,2);Cre(A,f),b(!0),setTimeout(()=>{b(!1)},2e3)}),[a,f]),E=qu({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>d0.default.createElement(Rre,null,d0.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),d0.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),d0.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return d0.default.createElement(d0.default.Fragment,null,E.node,d0.default.createElement(Tre,null,d0.default.createElement(_ne,{projectId:l}),d0.default.createElement(Are,null,d0.default.createElement(UC,{onMouseEnter:P=>E.open(P,P.target),onClick:g?void 0:_,disabled:g},g?"(Exported)":"Export ".concat(l," to JSON")))))},Ore=Dre}),vp,Lre,Nre,Fre,Bre,Ure,zre,Vre,jre,Hre,Gre,MEe=C(()=>{vp=q(Le()),Ue(),f6(),Nre=ue.div(Lre||(Lre=W([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),Bre=ue.div(Fre||(Fre=W([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),zre=ue.div(Ure||(Ure=W([`
  color: rgba(145, 145, 145, 0.8);
`]))),jre=ue.a(Vre||(Vre=W([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),Hre=()=>vp.default.createElement(Nre,null,vp.default.createElement(Bre,null,vp.default.createElement(zre,null,vp.default.createElement(CL,null)),vp.default.createElement("div",null,"Please select an object from the ",vp.default.createElement("u",null,"Outline Menu")," to see its properties.")),vp.default.createElement(jre,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),Gre=Hre});function $re(){let[s,a]=(0,lF.useState)(!1),l=(0,lF.useMemo)(()=>{let h=new Set;return()=>{let f=()=>{h.delete(f),a(h.size>0)};return h.add(f),a(!0),f}},[]);return[s,l]}var lF,Wre=C(()=>{lF=q(Le())}),fi,H3,Kre,Xre,YC,qre,uF,Yre,cF,Zre,dF,e7,Qre,Jre,ZC,om,hF=C(()=>{ap(),Sn(),fi=q(Le()),Ue(),bt(),pd(),Or(),fEe(),PEe(),ze(),FY(),H3=Vt,MEe(),Wre(),nm(),Kre="32px",YC=ue.div(Xre||(Xre=W([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Tr,E3.propsPanel,({pin:s})=>s?"block":"none"),uF=ue.div(qre||(qre=W([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),Tr),cF=ue.div(Yre||(Yre=W([`
  height: `,`;
  display: flex;
  align-items: center;
`])),Kre),dF=ue.div(Zre||(Zre=W([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),Tr),e7=(0,fi.createContext)([!1,()=>()=>{}]),Qre=s=>{let a=nr(xe().atomP.ahistoric.pinDetails)!==!1,l=NY("right");(0,fi.useLayoutEffect)(()=>{ZC.set(l)},[l]),(0,fi.useEffect)(()=>()=>{om.set(!1),ZC.set(!1)},[]);let[h]=(0,fi.useContext)(e7),f=a||l||h,[g,b]=(0,fi.useState)(null);return _ee(g),Xn(()=>{let _=op(),E=_.find(kt);if(E)return fi.default.createElement(YC,{"data-testid":"DetailPanel-Object",pin:f,ref:b,onMouseEnter:()=>{om.set(!0)},onMouseLeave:()=>{om.set(!1)}},fi.default.createElement(cF,null,fi.default.createElement(uF,{title:"".concat(E.sheet.address.sheetId,": ").concat(E.sheet.address.sheetInstanceId," > ").concat(E.address.objectKey)},fi.default.createElement(sp,null,E.sheet.address.sheetId," "),fi.default.createElement(p6,null,":",""),fi.default.createElement(sp,null,E.sheet.address.sheetInstanceId," "),fi.default.createElement(p6,null,""),fi.default.createElement(sp,null,E.address.objectKey))),fi.default.createElement(dF,null,fi.default.createElement(Xte,{objects:[E]})));let P=_.find(tn);return P?fi.default.createElement(YC,{pin:f},fi.default.createElement(cF,null,fi.default.createElement(uF,{title:"".concat(P.address.projectId)},fi.default.createElement(sp,null,P.address.projectId," "))),fi.default.createElement(dF,null,fi.default.createElement(Ore,{projects:[P]}))):fi.default.createElement(YC,{pin:f,onMouseEnter:()=>{om.set(!0)},onMouseLeave:()=>{om.set(!1)}},fi.default.createElement(Gre,null))},[f])},Jre=()=>{let s=$re();return fi.default.createElement(e7.Provider,{value:s},fi.default.createElement(Qre,null))},ZC=new H3.Atom(!1),om=new H3.Atom(!1),(0,H3.prism)(()=>{let s=(0,H3.val)(om.prism),a=(0,H3.val)(ZC.prism);return s||a})}),pF,QC,JC,fF,G3,eie,mF,$3=C(()=>{pF=Vt,Sn(),ze(),Wre(),QC=q(Le()),vN(),JC=(s,a)=>{let l=s.left/a.width,h=(s.left+s.width)/a.width,f=s.top/a.height,g=(s.height+s.top)/a.height;return{edges:{left:l<=.5?{from:"screenLeft",distance:l}:{from:"screenRight",distance:1-l},right:h<=.5?{from:"screenLeft",distance:h}:{from:"screenRight",distance:1-h},top:f<=.5?{from:"screenTop",distance:f}:{from:"screenBottom",distance:1-f},bottom:g<=.5?{from:"screenTop",distance:g}:{from:"screenBottom",distance:1-g}}}},fF=QC.default.createContext(null),G3=()=>(0,QC.useContext)(fF),eie=({panelId:s,children:a,defaultPosition:l,minDims:h})=>{let f=yC(800,200),[g,b]=$re(),{stuff:_}=Xn(()=>{var E;let{edges:P}=(E=(0,pF.val)(xe().atomP.historic.panelPositions[s]))!=null?E:l,I=Math.floor(f.width*(P.left.from==="screenLeft"?P.left.distance:1-P.left.distance)),O=Math.floor(f.width*(P.right.from==="screenLeft"?P.right.distance:1-P.right.distance)),D=Math.floor(f.height*(P.top.from==="screenTop"?P.top.distance:1-P.top.distance)),A=Math.floor(f.height*(P.bottom.from==="screenTop"?P.bottom.distance:1-P.bottom.distance)),F=Math.max(O-I,h.width),N=Math.max(A-D,h.height);return{stuff:{dims:pF.prism.memo("dims",()=>({width:F,left:I,top:D,height:N}),[F,I,D,N]),panelId:s,minDims:h,boundsHighlighted:g,addBoundsHighlightLock:b}}},[s,f,g,b]);return QC.default.createElement(fF.Provider,{value:_},a)},mF=eie}),t7,tie,nie,rie,gF,iie=C(()=>{Dr(),ze(),Ps(),t7=q(Le()),Ue(),$3(),c0(),pi(),pd(),nie=ue.div(tie||(tie=W([`
  cursor: move;
`]))),rie=s=>{let a=G3(),l=(0,t7.useRef)(a);l.current=a;let[h,f]=xr(null),g=(0,t7.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let P=l.current,I,O=a.addBoundsHighlightLock();return{onDrag(D,A){let F=B(L({},P.dims),{top:xi(P.dims.top+A,0,window.innerHeight-$u),left:xi(P.dims.left+D,-P.dims.width+$u,window.innerWidth-$u)}),N=JC(F,{width:window.innerWidth,height:window.innerHeight});I==null||I.discard(),I=xe().tempTransaction(({stateEditors:j})=>{j.studio.historic.panelPositions.setPanelPosition({position:N,panelId:P.panelId})})},onDragEnd(D){O(),D?I==null||I.commit():I==null||I.discard()}}}}),[]),[b]=ji(f,g);W0(b,"dragging","move");let[_,E]=(0,t7.useMemo)(()=>{let P;return[function(){if(P){let I=P;P=void 0,I()}P=a.addBoundsHighlightLock()},function(){if(P){let I=P;P=void 0,I()}}]},[]);return t7.default.createElement(nie,B(L({},s),{ref:h,onMouseEnter:_,onMouseLeave:E}))},gF=rie}),eP,sie,vF,oie,yF,aie,bF,lie,uie,cie,die,hie,_F,pie,fie,mie,gie,vie,n7,yie,bie,_ie,wie,xie,Sie,Eie,Cie,Pie,wF,Mie,xd,TEe=C(()=>{Dr(),ze(),Ps(),u0(),eP=q(Le()),Ue(),$3(),Or(),pi(),pd(),vF=ue.div(sie||(sie=W([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),Tr,g3(.2,"#478698")),yF=ue(vF)(oie||(oie=W([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),bF=ue(yF)(aie||(aie=W([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),uie=ue(bF)(lie||(lie=W([`
  top: -1px;
`]))),die=ue(bF)(cie||(cie=W([`
  bottom: -1px;
`]))),_F=ue(yF)(hie||(hie=W([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),fie=ue(_F)(pie||(pie=W([`
  left: -1px;
`]))),gie=ue(_F)(mie||(mie=W([`
  right: -1px;
`]))),n7=ue(vF)(vie||(vie=W([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),bie=ue(n7)(yie||(yie=W([`
  top: 0;
  left: 0;
`]))),wie=ue(n7)(_ie||(_ie=W([`
  top: 0;
  right: 0;
`]))),Sie=ue(n7)(xie||(xie=W([`
  bottom: 0;
  left: 0;
`]))),Cie=ue(n7)(Eie||(Eie=W([`
  bottom: 0;
  right: 0;
`]))),Pie={Top:uie,TopLeft:bie,TopRight:wie,Bottom:die,BottomLeft:Sie,BottomRight:Cie,Left:fie,Right:gie},wF={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},Mie=({which:s})=>{let a=G3(),l=(0,eP.useRef)(a);l.current=a;let[h,f]=xr(null),g=(0,eP.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:wF[s],onDragStart(){let P,I=l.current,O=a.addBoundsHighlightLock();return{onDrag(D,A){let F=L({},I.dims);if(s.startsWith("Bottom"))F.height=Math.max(F.height+A,I.minDims.height);else if(s.startsWith("Top")){let j=F.top+F.height,$=xi(F.top+A,0,Math.min(j-I.minDims.height,window.innerHeight-$u)),K=j-$;F.height=K,F.top=$}if(s.endsWith("Left")){let j=F.left+F.width,$=Math.min(F.left+D,Math.min(j-I.minDims.width,window.innerWidth-$u)),K=j-$;F.width=K,F.left=$}else s.endsWith("Right")&&(F.width=Math.max(F.width+D,Math.max(I.minDims.width,$u-I.dims.left)));let N=JC(F,{width:window.innerWidth,height:window.innerHeight});P==null||P.discard(),P=xe().tempTransaction(({stateEditors:j})=>{j.studio.historic.panelPositions.setPanelPosition({position:N,panelId:I.panelId})})},onDragEnd(D){O(),D?P==null||P.commit():P==null||P.discard()}}}}),[s]),[b]=ji(f,g),_=Pie[s],E=s.length<=6;return eP.default.createElement(_,{ref:h,className:[b?"isDragging":"",a.boundsHighlighted&&E?"isHighlighted":""].join(" "),style:{cursor:wF[s]}})},xd=Mie}),Kl,Tie,kie,kEe=C(()=>{Kl=q(Le()),TEe(),Tie=s=>Kl.default.createElement(Kl.default.Fragment,null,Kl.default.createElement(xd,{which:"Bottom"}),Kl.default.createElement(xd,{which:"Top"}),Kl.default.createElement(xd,{which:"Left"}),Kl.default.createElement(xd,{which:"Right"}),Kl.default.createElement(xd,{which:"TopLeft"}),Kl.default.createElement(xd,{which:"TopRight"}),Kl.default.createElement(xd,{which:"BottomLeft"}),Kl.default.createElement(xd,{which:"BottomRight"})),kie=Tie}),tP,Aie,Iie,Rie,xF,Die=C(()=>{Or(),tP=q(Le()),Ue(),$3(),kEe(),Iie=ue.div(Aie||(Aie=W([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),Tr),Rie=tP.default.forwardRef((s,a)=>{let l=G3(),h=s,{style:f,children:g}=h,b=z(h,["style","children"]);return tP.default.createElement(Iie,B(L({ref:a},b),{style:L({width:l.dims.width+"px",height:l.dims.height+"px",top:l.dims.top+"px",left:l.dims.left+"px"},f??{})}),tP.default.createElement(kie,null),g)}),xF=Rie}),AEe=V((s,a)=>{(function(l,h){typeof s=="object"&&typeof a<"u"?h(s,Le()):(l=typeof globalThis<"u"?globalThis:l||self,h(l.ReactErrorBoundary={},l.React))})(s,function(l,h){function f(A){if(A&&A.__esModule)return A;var F=Object.create(null);return A&&Object.keys(A).forEach(function(N){if(N!=="default"){var j=Object.getOwnPropertyDescriptor(A,N);Object.defineProperty(F,N,j.get?j:{enumerable:!0,get:function(){return A[N]}})}}),F.default=A,Object.freeze(F)}var g=f(h);function b(A,F){return b=Object.setPrototypeOf||function(N,j){return N.__proto__=j,N},b(A,F)}function _(A,F){A.prototype=Object.create(F.prototype),A.prototype.constructor=A,b(A,F)}var E=function(A,F){return A===void 0&&(A=[]),F===void 0&&(F=[]),A.length!==F.length||A.some(function(N,j){return!Object.is(N,F[j])})},P={error:null},I=function(A){_(F,A);function F(){for(var j,$=arguments.length,K=new Array($),Q=0;Q<$;Q++)K[Q]=arguments[Q];return j=A.call.apply(A,[this].concat(K))||this,j.state=P,j.updatedWithError=!1,j.resetErrorBoundary=function(){for(var ie,re=arguments.length,ce=new Array(re),Ce=0;Ce<re;Ce++)ce[Ce]=arguments[Ce];j.props.onReset==null||(ie=j.props).onReset.apply(ie,ce),j.reset()},j}F.getDerivedStateFromError=function(j){return{error:j}};var N=F.prototype;return N.reset=function(){this.updatedWithError=!1,this.setState(P)},N.componentDidCatch=function(j,$){var K,Q;(K=(Q=this.props).onError)==null||K.call(Q,j,$)},N.componentDidMount=function(){var j=this.state.error;j!==null&&(this.updatedWithError=!0)},N.componentDidUpdate=function(j){var $=this.state.error,K=this.props.resetKeys;if($!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if($!==null&&E(j.resetKeys,K)){var Q,ie;(Q=(ie=this.props).onResetKeysChange)==null||Q.call(ie,j.resetKeys,K),this.reset()}},N.render=function(){var j=this.state.error,$=this.props,K=$.fallbackRender,Q=$.FallbackComponent,ie=$.fallback;if(j!==null){var re={error:j,resetErrorBoundary:this.resetErrorBoundary};if(g.isValidElement(ie))return ie;if(typeof K=="function")return K(re);if(Q)return g.createElement(Q,re);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},F}(g.Component);function O(A,F){var N=function($){return g.createElement(I,F,g.createElement(A,$))},j=A.displayName||A.name||"Unknown";return N.displayName="withErrorBoundary("+j+")",N}function D(A){var F=g.useState(null),N=F[0],j=F[1];if(A!=null)throw A;if(N!=null)throw N;return j}l.ErrorBoundary=I,l.useErrorHandler=D,l.withErrorBoundary=O,Object.defineProperty(l,"__esModule",{value:!0})})}),vo,Oie,Lie,Nie,Fie,Bie,Uie,zie,Vie,jie,Hie,Gie,$ie,Wie,Kie,Xie,qie,Yie,Zie,Qie,IEe=C(()=>{vo=q(Le()),Ue(),pd(),$3(),iie(),Die(),Oie=q(AEe()),R3(),ze(),pd(),Lie={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},Nie={width:300,height:300},Fie=({paneInstance:s})=>vo.default.createElement(mF,{panelId:"pane-".concat(s.instanceId),defaultPosition:Lie,minDims:Nie},vo.default.createElement(Zie,{paneInstance:s})),Uie=ue(xF)(Bie||(Bie=W([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),E3.pluginPanes),Vie=ue.div(zie||(zie=W([`
  width: 100%;
`]))),Hie=ue.div(jie||(jie=W([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),$ie=ue.button(Gie||(Gie=W([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),Kie=ue(Lq)(Wie||(Wie=W([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),qie=ue.div(Xie||(Xie=W([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),Yie=s=>vo.default.createElement(qie,null,"An Error occurred rendering this pane. Open the console for more info.",vo.default.createElement("pre",null,JSON.stringify({message:s.error.message,stack:s.error.stack},null,2))),Zie=({paneInstance:s})=>{let[a,l]=(0,vo.useState)(null),h=s.definition.mount;(0,vo.useLayoutEffect)(()=>{if(!a)return;let g=h({paneId:s.instanceId,node:a});if(typeof g=="function")return g},[a,h,s.instanceId]);let f=(0,vo.useCallback)(()=>{xe().paneManager.destroyPane(s.instanceId)},[s]);return vo.default.createElement(Uie,{"data-testid":"theatre-pane-wrapper-".concat(s.instanceId)},vo.default.createElement(gF,null,vo.default.createElement(SL,null,vo.default.createElement(Hie,null,vo.default.createElement($ie,{onClick:f,title:"Close Pane"},vo.default.createElement(Oxe,null))),vo.default.createElement(Vie,null,s.instanceId))),vo.default.createElement(Oie.ErrorBoundary,{FallbackComponent:Yie},vo.default.createElement(Kie,{"data-testid":"theatre-pane-content-".concat(s.instanceId),ref:l})))},Qie=Fie}),SF,EF,Jie=C(()=>{SF=Vt,EF=(s,a)=>{let l=SF.prism.memo(s,()=>new SF.Atom(a),[]);return l.set(a),l}});function ese(s,a){(0,tse.useLayoutEffect)(()=>{if(!s||a.type!=="propWithChildren"&&a.type!=="primitiveProp"&&a.type!=="sheetObject")return;let l=null,h=B(L({},a.sheetObject.address),{pathToProp:a.type==="sheetObject"?[]:a.pathToProp});function f(){l=OC.replaceLock(h,()=>{})}function g(){l==null||l()}return s.addEventListener("mouseenter",f),s.addEventListener("mouseleave",g),()=>{l==null||l(),s.removeEventListener("mouseenter",f),s.removeEventListener("mouseleave",g)}},[s])}var tse,nse=C(()=>{tse=q(Le()),jN()}),yp,rse,CF,ise,PF,sse,MF,ose,ase,lse,use,cse,dse,hse,nP,rP=C(()=>{Or(),yp=q(Le()),R3(),Ue(),em(),nse(),CF=ue.li(rse||(rse=W([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),s=>s.depth),PF=ue.div(ise||(ise=W([`
  border-bottom: 1px solid #7695b705;
`]))),MF=ue(PF)(sse||(sse=W([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),S3.panel.body.compoudThing.label.color,s=>s.isSelected&&"background: blue"),ase=ue.span(ose||(ose=W([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),hp,MF),use=ue.span(lse||(lse=W([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),s=>s.isCollapsed?0:90,s=>s.isCollapsed?15:75),dse=ue.ul(cse||(cse=W([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),hse=({leaf:s,label:a,children:l,isSelectable:h,isSelected:f,toggleSelect:g,toggleCollapsed:b,isCollapsed:_})=>{let E=Array.isArray(l)&&l.length>0,P=(0,yp.useRef)(null);return ese(P.current,s),s.shouldRender?yp.default.createElement(CF,{depth:s.depth},yp.default.createElement(MF,{ref:P,style:{height:s.nodeHeight+"px"},isSelectable:h===!0,isSelected:f===!0,onClick:g,isEven:s.n%2===0},yp.default.createElement(use,{isCollapsed:_,onClick:b},yp.default.createElement(TZ,null)),yp.default.createElement(ase,null,a)),E&&yp.default.createElement(dse,null,l)):null},nP=hse});function REe(s,a){return a.every((l,h)=>l===s[h])}function DEe(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;l++)if(s[l]!==a[l])return!1;return!0}function iP(s){var a;let l=[];for(;;){let h=l.length,f=(a=s[0])==null?void 0:a[h];if(f===void 0)return l;for(let g of s)if(f!==g[h])return l;l.push(f)}}var nc,sP,rc=C(()=>{wC(),nc=M6(s=>JSON.stringify(s)),sP=s=>JSON.parse(s)});function OEe(s,a){let l=(0,TF.useRef)({combo:s,listener:a});l.current={combo:s,listener:a},(0,TF.useEffect)(()=>{function h(b){b.key===l.current.combo&&l.current.listener({down:!0,event:b})}function f(b){b.key===l.current.combo&&l.current.listener({down:!1,event:b})}function g(b){l.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",h),document.addEventListener("keyup",f),window.addEventListener("blur",g),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",f),window.removeEventListener("blur",g)}},[])}var TF,LEe=C(()=>{TF=q(Le())});function pse(s){let[a,l]=(0,fse.useState)(!1);return OEe(s,({down:h})=>{l(h)}),a}var fse,mse=C(()=>{fse=q(Le()),LEe()});function NEe(s){let a=(0,kF.useMemo)(()=>new gse.Atom(s),[]);return(0,kF.useLayoutEffect)(()=>{a.set(s)},[s]),a}var gse,kF,FEe=C(()=>{gse=Vt,kF=q(Le())});function vse(s,a,l){let h=(0,AF.pointer)({root:{},path:[]}),f=a(h);qh(s,(0,AF.getPointerParts)(f).path,l)}var AF,BEe=C(()=>{AF=Vt,Z9()}),oP,yse,da,Xl=C(()=>{oP="data-pos",yse={checkIfMouseEventSnapToPos(s,a){let l=s.composedPath().find(h=>h instanceof Element&&h!==(a==null?void 0:a.ignore)&&h.hasAttribute(oP));if(l){let h=parseFloat(l.getAttribute(oP));if(isFinite(h))return h}return null},includePositionSnapAttrs(s){return{[oP]:s}}},da=yse});function aP(s){let a=s.type==="sheet"?zEe(s):IF(s);return{byPosition:UEe(a),tracks:a}}function UEe(s){let a=new Map;for(let l of s)for(let h of l.data.keyframes){let f=a.get(h.position);f||(f=[],a.set(h.position,f)),f.push({kf:h,track:l,itemKey:Bs.forTrackKeyframe(l.sheetObject,l.id,h.id)})}return a}function zEe(s){return s.children.flatMap(IF)}function IF(s){return s.children.flatMap(a=>a.type==="propWithChildren"?IF(a):VEe(a))}function VEe(s){let a=s.sheetObject,l=a.address.projectId,h=xe().atomP.historic.coreByProject[l].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey],f=(0,lP.val)(h.trackIdByPropPath[nc(s.pathToProp)]);if(!f)return[];let g=(0,lP.val)(h.trackData[f]);return g?[{id:f,data:g,sheetObject:a}]:[]}function jEe(s,a){return Oo(s.children.flatMap(l=>RF(l,a)))}function RF(s,a){return Oo(s.children.flatMap(l=>l.type==="propWithChildren"?RF(l,a):HEe(l,a)))}function HEe(s,a){var l,h;let f=s.sheetObject,g=f.address.projectId,b=xe().atomP.historic.coreByProject[g].sheetsById[f.address.sheetId].sequence.tracksByObject[f.address.objectKey],_=(0,lP.val)(b.trackIdByPropPath[nc(s.pathToProp)]);return _?(h=(l=a[f.address.objectKey])==null?void 0:l[_])!=null?h:[]:[]}var lP,W3=C(()=>{ze(),lP=Vt,_d(),rc(),pi()});function GEe(s,a){let[l,h]=xr(null),f=lp("useCaptureSelection");return ji(a,(0,K3.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(g){if(!g.shiftKey||g.target instanceof HTMLInputElement)return!1;let b=a.getBoundingClientRect(),_=g.clientX-b.left-(0,X0.val)(s.scaledSpace.leftPadding),E=(0,X0.val)(s.scaledSpace.toUnitSpace)(_);return l.current={h:[E,E],v:[g.clientY-b.top,g.clientY-b.top]},(0,X0.val)(s.selectionAtom).set({current:void 0}),{onDrag(P,I,O){let D=a.getBoundingClientRect(),A=O.clientX-D.left-(0,X0.val)(s.scaledSpace.leftPadding),F=(0,X0.val)(s.scaledSpace.toUnitSpace)(A);l.current={h:[l.current.h[0],F],v:[l.current.v[0],O.clientY-D.top]};let N=DF.boundsToSelection(f,(0,X0.val)(s),l.current);(0,X0.val)(s.selectionAtom).set({current:N})},onDragEnd(P){l.current=null}}}}),[s,a,l])),h}var X0,K3,bp,bse,_se,wse,DF,xse,Sse,OF,Ese,Cse,$Ee=C(()=>{ze(),Ps(),mse(),FEe(),BEe(),Dr(),Sn(),X0=Vt,K3=q(Le()),Ue(),Xl(),W3(),up(),bp=5,_se=ue.div(bse||(bse=W([`
  cursor: `,`;
`])),s=>s.isShiftDown?"cell":"default"),wse=({layoutP:s,children:a,height:l})=>{let[h,f]=xr(null),g=pse("Shift"),b=GEe(s,f),_=(0,K3.useRef)(b);return _.current=b,K3.default.createElement(_se,{style:{height:l+"px"},ref:h,isShiftDown:g,className:"selectionview"},b&&K3.default.createElement(Ese,{state:b,layoutP:s}),a)},(s=>{let a=(b,_,E,P,I)=>{let O=aP(E);if(E.top+E.nodeHeight/2+bp>P.v[0]&&E.top+E.nodeHeight/2-bp<P.v[1])for(let[D,A]of O.byPosition){let F=_.scaledSpace.toUnitSpace(bp);if(!(D+F<=P.h[0]||D-F>=P.h[1]))for(let N of A)vse(I,j=>j[N.track.sheetObject.address.objectKey].byTrackId[N.track.id].byKeyframeId[N.kf.id],!0)}h(b,_,E,P,I)},l={sheet(b,_,E,P,I){a(b,_,E,P,I)},propWithChildren(b,_,E,P,I){a(b,_,E,P,I)},sheetObject(b,_,E,P,I){a(b,_,E,P,I)},primitiveProp(b,_,E,P,I){let{sheetObject:O,trackId:D}=E,A=(0,X0.val)(xe().atomP.historic.coreByProject[O.address.projectId].sheetsById[O.address.sheetId].sequence.tracksByObject[O.address.objectKey].trackData[D]);if(!(P.v[0]>E.top+E.heightIncludingChildren/2+bp||E.top+E.heightIncludingChildren/2-bp>P.v[1])){for(let F of A.keyframes)if(!(F.position+_.scaledSpace.toUnitSpace(bp)<=P.h[0])){if(F.position-_.scaledSpace.toUnitSpace(bp)>=P.h[1])break;vse(I,N=>N[O.address.objectKey].byTrackId[D].byKeyframeId[F.id],!0)}}}},h=(b,_,E,P,I)=>{if("children"in E)for(let O of E.children)f(b,_,O,P,I)};function f(b,_,E,P,I){if(!E.shouldRender||P.v[0]>E.top+E.heightIncludingChildren||E.top>P.v[1])return;let O=l[E.type];O?O(b,_,E,P,I):h(b,_,E,P,I)}function g(b,_,E){let P={};E=OF(E);let I=_.tree;f(b.utilFor.internal(),_,I,E,P);let O=_.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:P,getDragHandlers(D){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let A,F=_.scaledSpace.toUnitSpace;return{onDrag(N,j,$){A&&(A.discard(),A=void 0);let K=da.checkIfMouseEventSnapToPos($,{ignore:D.domNode}),Q=K!=null?K-D.positionAtStartOfDrag:F(N);A=xe().tempTransaction(({stateEditors:ie})=>{let re=ie.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let ce of Object.keys(P)){let{byTrackId:Ce}=P[ce];for(let ye of Object.keys(Ce)){let{byKeyframeId:we}=Ce[ye];re({trackId:ye,keyframeIds:Object.keys(we),translate:Q,scale:1,origin:0,snappingFunction:O.getSequence().closestGridPosition,objectKey:ce,projectId:D.projectId,sheetId:D.sheetId})}}})},onDragEnd(N){N?A==null||A.commit():A==null||A.discard()}}}}},delete(){xe().transaction(({stateEditors:D})=>{let A=D.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let F of Object.keys(P)){let{byTrackId:N}=P[F];for(let j of Object.keys(N)){let{byKeyframeId:$}=N[j];A(B(L({},O.address),{objectKey:F,trackId:j,keyframeIds:Object.keys($)}))}}})}}}s.boundsToSelection=g})(DF||(DF={})),Sse=ue.div(xse||(xse=W([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),OF=s=>({h:[...s.h].sort((a,l)=>a-l),v:[...s.v].sort((a,l)=>a-l)}),Ese=({state:s,layoutP:a})=>{let l=NEe(s);return Xn(()=>{let h=(0,X0.val)(l.pointer),f=OF(h),g=(0,X0.val)(a.scaledSpace.fromUnitSpace),b=(0,X0.val)(a.scaledSpace.leftPadding),_=f.h.map(g).map(D=>D+b),E=f.v[0],P=f.v[1]-f.v[0],I=_[0],O=_[1]-_[0];return K3.default.createElement(Sse,{style:{top:E+"px",height:P+"px",left:I+"px",width:O+"px"}})},[a,l])},Cse=wse}),am,Pse,Mse,LF,Tse,kse,Ase,Ise=C(()=>{C3(),am=q(Le()),Ue(),Ad(),Mse=ue.div(Pse||(Pse=W([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>pc.scrollableArea),LF=(0,am.createContext)(Vl),Tse=()=>(0,am.useContext)(LF),kse=s=>{let a=(0,am.useRef)(null),l=(0,am.useCallback)(h=>{a.current.scrollBy(0,h.deltaY)},[]);return am.default.createElement(LF.Provider,{value:l},am.default.createElement(Mse,{ref:a},s.children))},Ase=kse}),Rse,WEe=C(()=>{Rse='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),q0,uP=C(()=>{q0=(s,a=s)=>`
  left: `.concat(s*-.5,`px;
  top: `).concat(a*-.5,`px;
  width: `).concat(s,`px;
  height: `).concat(a,`px;
`)}),cP,Dse,Ose,KEe=C(()=>{cP=Vt,Dse=(0,cP.prism)(()=>{let[s,a]=cP.prism.state("pos",null);return cP.prism.effect("setupListeners",()=>{let l=h=>{a(h)};return document.addEventListener("mousemove",l),()=>{document.removeEventListener("mousemove",l)}},[]),s}),Ose=Dse}),Sd,ha,r7,Lse,Nse,Fse,Bse,Ed,ic,dP,Use,zse,yo=C(()=>{Sd=Vt,KEe(),pi(),ha=q(Le()),r7=(0,ha.createContext)(null),Lse=0,Nse=({children:s,layoutP:a})=>{let l=(0,ha.useMemo)(()=>new Sd.Atom([]),[]),h=(0,ha.useMemo)(()=>(0,Sd.prism)(()=>{let b=Sd.prism.memo("p",()=>Use(a),[a]).getValue(),_=(0,Sd.val)(l.pointer);return _.length>0?nd(_).position:b}),[a]),f=(0,ha.useCallback)(()=>{let b=Lse++;return l.reduce(_=>[..._,{id:b,position:[-1,0]}]),{set:_=>{l.reduce(E=>{let P=E.findIndex(O=>O.id===b);if(P===-1)return console.warn("Lock is already freed. This is a bug."),E;let I=[...E];return I.splice(P,1,{id:b,position:[_,_===-1?0:1]}),I})},unlock:()=>{l.reduce(_=>_.filter(E=>E.id!==b))}}},[]),g={currentD:h,getLock:f};return ha.default.createElement(r7.Provider,{value:g},s)},Fse=()=>(0,ha.useContext)(r7).currentD,Bse=()=>{let{getLock:s}=(0,ha.useContext)(r7),a=(0,ha.useRef)();return(0,ha.useLayoutEffect)(()=>()=>{var l;(l=a.current)==null||l.unlock()},[]),(0,ha.useMemo)(()=>{let l;return(h,f)=>{var g,b;(l==null?void 0:l.shouldLock)!==h&&(h?a.current=s():(g=a.current)==null||g.unlock()),(l==null?void 0:l.pos)!==f&&h&&((b=a.current)==null||b.set(f)),l={shouldLock:h,pos:f}}},[s])},Ed=(s,a)=>{let{getLock:l}=(0,ha.useContext)(r7),h=(0,ha.useRef)();(0,ha.useLayoutEffect)(()=>{if(s)return h.current=l(),()=>{h.current.unlock()}},[s,l]),(0,ha.useLayoutEffect)(()=>{s&&h.current.set(a)},[a,s])},ic=s=>({[dP]:s==="hide"?s:s.toFixed(3)}),dP="data-theatre-lock-framestamp-to",Use=s=>(0,Sd.prism)(()=>{let a=(0,Sd.val)(s.rightDims),l=(0,Sd.val)(s.clippedSpace.toUnitSpace),h=(0,Sd.val)(Ose);if(!h)return[-1,0];for(let I of h.composedPath()){if(!(I instanceof HTMLElement||I instanceof SVGElement))break;if(I.hasAttribute(dP)){let O=I.getAttribute(dP);if(typeof O!="string")continue;if(O==="hide")return[-1,0];let D=parseFloat(O);if(isFinite(D)&&D>=0)return[D,2]}}let{clientX:f,clientY:g}=h,{screenX:b,screenY:_,width:E,height:P}=a;if(T8(f,b,b+E)&&T8(g,_+16,_+P)){let I=f-b;return[l(I),3]}else return[-1,0]}),zse=Nse}),Vse,i7,NF,jse,Hse,sc,Gse=C(()=>{Or(),c0(),Ue(),WEe(),uP(),Xl(),yo(),Vse=12,i7=34,NF="beingDragged",sc={BEING_DRAGGED_CLASS:NF,CSS:po(jse||(jse=W([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),q0(Vse),Tr,NF),CSS_WHEN_SOMETHING_DRAGGING:po(Hse||(Hse=W([`
    pointer-events: auto;
    cursor: var(`,`);

    //  thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),md,i7/2,i7/2,i7,i7,Rse),reactProps(s){return B(L(L({},ic(s.position)),da.includePositionSnapAttrs(s.position)),{className:s.isDragging?sc.BEING_DRAGGED_CLASS:""})}}});function FF(){o7.set({mode:"snapToAll"})}function lm(){o7.set({mode:"snapToNone"})}function $se(s){o7.set({mode:"snapToSome",positions:s})}function Wse(s,a){return Object.fromEntries(Object.entries(s).map(([l,h])=>[l,Object.fromEntries(Object.entries(h.trackData).map(([f,g])=>[f,g.keyframes.filter(b=>a(b,{trackId:f,trackData:g,objectKey:l})).map(b=>b.position)]))]))}var Kse,Xse,BF,qse,Yse,Zse,Qse,Jse,s7,o7,UF,um=C(()=>{Kse=Vt,Xse=Vt,BF=q(Le()),Ue(),Gse(),Yse=ue.div(qse||(qse=W([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),sc.CSS,sc.CSS_WHEN_SOMETHING_DRAGGING),Qse=ue.div(Zse||(Zse=W([`
  position: absolute;
`]))),Jse=s=>BF.default.createElement(Qse,{style:{top:"".concat(s.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,Xse.val)(s.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(s.position,"px))")}},BF.default.createElement(Yse,L({},sc.reactProps({isDragging:!1,position:s.position})))),s7=Jse,o7=new Kse.Atom({mode:"snapToNone"}),UF=o7.prism});function XEe(s,a){let l=(0,cm.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(f){if(f.target instanceof HTMLInputElement||f.shiftKey||f.altKey||f.ctrlKey||f.metaKey||f.composedPath().some(O=>O instanceof HTMLElement&&O.draggable===!0))return!1;let g=f.clientX-a.getBoundingClientRect().left,b=xi((0,Hi.val)(s.clippedSpace.toUnitSpace)(g),0,1/0),_=(0,Hi.val)(s.seeker.setIsSeeking),E=(0,Hi.val)(s.sheet).getSequence();E.position=b;let P=b,I=(0,Hi.val)(s.scaledSpace.toUnitSpace);return _(!0),FF(),{onDrag(O,D,A){let F=I(O),N=xi(P+F,0,E.length),j=da.checkIfMouseEventSnapToPos(A,{});j!=null&&(N=j),E.position=N},onDragEnd(){_(!1),lm()}}}}),[s,a]),[h]=ji(a,l);W0(h,"draggingPositionInSequenceEditor","ew-resize")}function qEe(s,a){let l=Tse();(0,cm.useLayoutEffect)(()=>{if(!a)return;let h=g=>{if(g.ctrlKey){g.preventDefault(),g.stopPropagation();let b=g.clientX-a.getBoundingClientRect().left,_=(0,Hi.val)(s.clippedSpace.toUnitSpace)(b),E=(0,Hi.val)(s.clippedSpace.range),P=1+zF(g.deltaY,[-50,50])*.03,I=rd(E,A=>(A-_)*P+_),O=(0,Hi.val)(s.sheet).getSequence().length,D=O+O*.25;(0,Hi.val)(s.clippedSpace.setRange)(YEe(I,[0,D]));return}else if(g.shiftKey){g.preventDefault(),g.stopPropagation();let b=(0,Hi.val)(s.sheet).getSequence().length,_=(0,Hi.val)(s.clippedSpace.range),E=(_.end-_.start)/b,P=zF(g.deltaY||g.deltaX,[-50,50])*.05*E,I=rd(_,O=>O+P);(0,Hi.val)(s.clippedSpace.setRange)(I);return}else{l(g),g.preventDefault(),g.stopPropagation();let b=(0,Hi.val)(s.scaledSpace.toUnitSpace)(g.deltaX*1),_=(0,Hi.val)(s.clippedSpace.range),E=rd(_,P=>P+b);(0,Hi.val)(s.clippedSpace.setRange)(E);return}},f={capture:!0,passive:!1};return a.addEventListener("wheel",h,f),()=>{a.removeEventListener("wheel",h,f)}},[a,s]),ji(a,(0,cm.useMemo)(()=>({onDragStart(h){let f=(0,Hi.val)(s.clippedSpace.range),g=(0,Hi.val)(s.clippedSpace.setRange),b=(0,Hi.val)(s.scaledSpace.toUnitSpace);return h.preventDefault(),h.stopPropagation(),{onDrag(_,E,P,I,O){l({deltaY:-O});let D=-b(_),A=rd(f,F=>F+D);g(A)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[s]))}function zF(s,[a,l]){return Math.max(Math.min(s,l),a)}function YEe(s,a){return rd(s,l=>zF(l,a))}function ZEe(s,a){(0,cm.useLayoutEffect)(()=>{if(!a)return;let l=(0,Hi.prism)(()=>{let b=(0,Hi.val)(s.clippedSpace.range);return(0,Hi.val)(s.scaledSpace.fromUnitSpace)(b.start)}),h=()=>{let b=l.getValue();a.scrollLeft=b},f=l.onStale(h);h();let g=setTimeout(h,100);return()=>{clearTimeout(g),f()}},[s,a])}var Hi,cm,eoe,toe,noe,VF,roe=C(()=>{Ps(),Dr(),Sn(),Hi=Vt,pi(),cm=q(Le()),Ue(),Ise(),Or(),c0(),Xl(),um(),toe=ue.div(eoe||(eoe=W([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),Tr),noe=cm.default.memo(({layoutP:s,children:a,height:l})=>{let{width:h,unitSpaceToScaledSpaceMultiplier:f}=Xn(()=>({width:(0,Hi.val)(s.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,Hi.val)(s.scaledSpace.fromUnitSpace)(1)}),[s]),[g,b]=xr(null);return qEe(s,b),XEe(s,b),ZEe(s,b),cm.default.createElement(toe,{ref:g,style:{width:h+"px",height:l+"px","--unitSpaceToScaledSpaceMultiplier":f}},a)}),VF=noe}),hP,ioe,soe,ooe,aoe,loe,uoe,coe,X3,pP=C(()=>{hP=q(Le()),Ue(),soe=ue.li(ioe||(ioe=W([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),aoe=ue.div(ooe||(ooe=W([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),s=>s.isEven?"transparent":"#6b8fb505"),uoe=ue.ul(loe||(loe=W([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),coe=({leaf:s,children:a,node:l,isCollapsed:h})=>{let f=Array.isArray(a)&&a.length>0;return s.shouldRender?hP.default.createElement(soe,null,hP.default.createElement(aoe,{style:{height:s.nodeHeight+"px"},isEven:s.n%2===0},l),f&&hP.default.createElement(uoe,null,a)):null},X3=coe}),QEe=V((s,a)=>{(function(){var l=this,h={};typeof s<"u"?a.exports=h:l.fuzzy=h,h.simpleFilter=function(f,g){return g.filter(function(b){return h.test(f,b)})},h.test=function(f,g){return h.match(f,g)!==null},h.match=function(f,g,b){b=b||{};var _=0,E=[],P=g.length,I=0,O=0,D=b.pre||"",A=b.post||"",F=b.caseSensitive&&g||g.toLowerCase(),N;f=b.caseSensitive&&f||f.toLowerCase();for(var j=0;j<P;j++)N=g[j],F[j]===f[_]?(N=D+N+A,_+=1,O+=1+O):O=0,I+=O,E[E.length]=N;return _===f.length?(I=F===f?1/0:I,{rendered:E.join(""),score:I}):null},h.filter=function(f,g,b){return!g||g.length===0?[]:typeof f!="string"?g:(b=b||{},g.reduce(function(_,E,P,I){var O=E;b.extract&&(O=b.extract(E));var D=h.match(f,O,b);return D!=null&&(_[_.length]={string:D.rendered,score:D.score,index:P,original:E}),_},[]).sort(function(_,E){var P=E.score-_.score;return P||_.index-E.index}))}})()});function JEe(s,a){let[l,h]=(0,fP.useState)(!1),f=(0,fP.useRef)(a);return l||(f.current=a),(0,fP.useMemo)(()=>s(h),f.current)}var fP,eCe=C(()=>{fP=q(Le())}),jF,_p,mP=C(()=>{jF="rgba(26, 28, 30, 0.97);",_p="#272B2F"});function doe(s,a,l,h){let f=JEe(g=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return g(!0),{onDrag(b,_){s&&l.onCurveChange(h(b,_))},onDragEnd(b){g(!1),l.onCancelCurveChange()}}}}),[s,l.onCurveChange,l.onCancelCurveChange]);ji(a,f)}var Pr,gP,a7,q3,hoe,l7,poe,vP,foe,moe,goe,Y3,voe,dm,yoe,boe,HF,_oe,yP,woe,GF,xoe,Soe,tCe=C(()=>{Pr=q(Le()),Ps(),Dr(),F9(),Ue(),Or(),eCe(),mP(),gP=.12,a7=1+gP*2,q3=.01,hoe=8,l7=(1-q3)/(hoe-1),poe="#3EAAA4",vP="#3EAAA4",foe="#3EAAA4",moe="#3EAAA4",goe="#3EAAA4",Y3="#3EAAA4",voe="#3EAAA4",dm="#B3B3B3",yoe="#3eaaa4",boe="#67dfd8",HF=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],yP=ue.circle(_oe||(_oe=W([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),yoe),GF=ue.circle(woe||(woe=W([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),Tr,yP,boe),xoe=s=>{let{curveConnection:{left:a,right:l},backgroundConnections:h}=s,f=Math.min(0,1-l.handles[1],1-a.handles[3]),g=Math.max(1,1-l.handles[1],1-a.handles[3]),b=Math.max(1,g-f),_=$=>($-f)/b,[E,P]=xr(null),I=a7/((P==null?void 0:P.clientWidth)||1),O=a7/((P==null?void 0:P.clientHeight)||1),[D,A]=xr(null);doe(P,A,s,($,K)=>{let Q=xi(a.handles[2]+$*I,0,1),ie=a.handles[3]-K*O;return[Q,ie,l.handles[0],l.handles[1]]});let[F,N]=xr(null);doe(P,N,s,($,K)=>{let Q=xi(l.handles[0]+$*I,0,1),ie=l.handles[1]-K*O;return[a.handles[2],a.handles[3],Q,ie]});let j=$=>"M0 ".concat(_(1)," C").concat($.left.handles[2]," ").concat(_(1-$.left.handles[3])," ").concat($.right.handles[0]," ").concat(_(1-$.right.handles[1])," 1 ").concat(_(0));return Pr.default.createElement("svg",{height:"100%",width:"100%",ref:E,viewBox:"".concat(-gP," ").concat(-gP," ").concat(a7," ").concat(a7),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},Pr.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},Pr.default.createElement("stop",{offset:_(-1),stopColor:voe}),Pr.default.createElement("stop",{offset:_(0),stopColor:Y3}),Pr.default.createElement("stop",{offset:_(.3),stopColor:goe}),Pr.default.createElement("stop",{offset:_(.5),stopColor:moe}),Pr.default.createElement("stop",{offset:_(.7),stopColor:foe}),Pr.default.createElement("stop",{offset:_(1),stopColor:vP}),Pr.default.createElement("stop",{offset:_(2),stopColor:poe})),Pr.default.createElement("pattern",{id:"dot-background-pattern-1",width:l7,height:l7/b,y:-f/b},Pr.default.createElement("rect",{width:q3,height:q3,fill:dm,opacity:.3})),Pr.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),Pr.default.createElement("pattern",{id:"dot-background-pattern-2",width:l7,height:l7},Pr.default.createElement("rect",{width:q3,height:q3,fill:dm})),Pr.default.createElement("rect",{x:0,y:_(0),width:"1",height:_(1)-_(0),fill:"url(#dot-background-pattern-2)"}),!a.type||a.type==="bezier"?Pr.default.createElement(Pr.default.Fragment,null,Pr.default.createElement("line",{x1:0,y1:_(1),x2:a.handles[2],y2:_(1-a.handles[3]),stroke:dm,strokeWidth:"0.01"}),Pr.default.createElement("line",{x1:1,y1:_(0),x2:l.handles[0],y2:_(1-l.handles[1]),stroke:dm,strokeWidth:"0.01"}),Pr.default.createElement("path",{d:j(s.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),h.map(($,K)=>Pr.default.createElement("path",{key:$.objectKey+"/"+$.left.id,d:j($),stroke:HF[K%HF.length],opacity:.6,strokeWidth:"0.01"})),Pr.default.createElement("path",{d:j(s.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),Pr.default.createElement("circle",{cx:0,cy:_(1),r:"0.025",stroke:vP,strokeWidth:"0.02",fill:_p}),Pr.default.createElement("circle",{cx:1,cy:_(0),r:"0.025",stroke:Y3,strokeWidth:"0.02",fill:_p}),Pr.default.createElement(GF,{ref:D,cx:a.handles[2],cy:_(1-a.handles[3]),fill:vP,opacity:.2}),Pr.default.createElement(yP,{cx:a.handles[2],cy:_(1-a.handles[3])}),Pr.default.createElement(GF,{ref:F,cx:l.handles[0],cy:_(1-l.handles[1]),fill:Y3,opacity:.2}),Pr.default.createElement(yP,{cx:l.handles[0],cy:_(1-l.handles[1])})):Pr.default.createElement(Pr.default.Fragment,null,Pr.default.createElement("line",{x1:0,y1:_(1),x2:1,y2:_(1),stroke:dm,strokeWidth:"0.01"}),Pr.default.createElement("line",{x1:1,y1:_(1),x2:1,y2:0,stroke:dm,strokeWidth:"0.01"}),Pr.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:Y3,strokeWidth:"0.02",fill:_p}),Pr.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:Y3,strokeWidth:"0.02",fill:_p})))},Soe=xoe});function bP(s){return s.map(a=>a.toFixed(3)).join(", ")}function _P(s){if(!s||(s==null?void 0:s.length)>Eoe)return null;let a=s.split(",");if(a.length!==4)return null;let l=a.map(h=>Number(h.trim()));return!l.every(h=>isFinite(h))||l[0]<0||l[0]>1||l[2]<0||l[2]>1?null:l}function nCe(s,a,l={threshold:.02}){if(!s||!a)return!1;let h=0;for(let f=0;f<4;f++)h+=Math.abs(s[f]-a[f]);return h<l.threshold}var Eoe,wP,Coe=C(()=>{Eoe=128,wP=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),Bo,xP,hm,$F,Poe,Moe,u7,WF,KF,Toe,koe,rCe=C(()=>{Bo=q(Le()),xP=.75,hm=.1,$F=1+xP*2,Poe="#F5F5F5",Moe="#888888",u7="#4f4f4f",WF="rgba(255, 255, 255, 0.1)",KF=s=>1-s,Toe=s=>{let{easing:a,isSelected:l}=s,h=l?Poe:Moe,f="".concat(-xP," ").concat(-xP," ").concat($F," ").concat($F);if(a){let g=[a[0],KF(a[1])],b=[a[2],KF(a[3])];return Bo.default.createElement("svg",{height:"100%",width:"100%",viewBox:f,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bo.default.createElement("line",{x1:"0",y1:"1",x2:g[0],y2:g[1],stroke:u7,strokeWidth:"0.1"}),Bo.default.createElement("line",{x1:"1",y1:"0",x2:b[0],y2:b[1],stroke:u7,strokeWidth:"0.1"}),Bo.default.createElement("circle",{cx:g[0],cy:g[1],r:.1,fill:WF}),Bo.default.createElement("circle",{cx:b[0],cy:b[1],r:.1,fill:WF}),Bo.default.createElement("circle",{cx:g[0],cy:g[1],r:hm,fill:u7}),Bo.default.createElement("circle",{cx:b[0],cy:b[1],r:hm,fill:u7}),Bo.default.createElement("path",{d:"M0 1 C".concat(g[0]," ").concat(g[1]," ").concat(b[0],` 
        `).concat(b[1]," 1 0"),stroke:h,strokeWidth:"0.08"}),Bo.default.createElement("circle",{cx:0,cy:1,r:hm,fill:h}),Bo.default.createElement("circle",{cx:1,cy:0,r:hm,fill:h}))}return Bo.default.createElement("svg",{height:"100%",width:"100%",viewBox:f,fill:"none",xmlns:"http://www.w3.org/2000/svg"},Bo.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:h,strokeWidth:"0.08"}),Bo.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:h,strokeWidth:"0.08"}),Bo.default.createElement("circle",{cx:0,cy:1,r:hm,fill:h}),Bo.default.createElement("circle",{cx:1,cy:0,r:hm,fill:h}))},koe=Toe}),c7,Aoe,Ioe,Roe,Doe,Ooe,Loe,Noe,iCe=C(()=>{G6(),c7=q(Le()),Ue(),Coe(),rCe(),tC(),mP(),Qu(),Roe=ue.div(Ioe||(Ioe=W([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),_p,({isSelected:s})=>s&&po(Aoe||(Aoe=W([`
      background-color: #383d42;
    `])))),Ooe=ue(Zu)(Doe||(Doe=W([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),Loe=c7.default.forwardRef((s,a)=>{let[l,h]=z3({enabled:!0,verticalPlacement:s.tooltipPlacement,verticalGap:0},()=>c7.default.createElement(Ooe,{showPopoverEdgeTriangle:!1},s.easing.label));return c7.default.createElement(Roe,L({ref:eC([h,a])},s),l,c7.default.createElement(koe,{easing:_P(s.easing.value),isSelected:s.isSelected}))}),Noe=Loe});function sCe(s){var a;let[l,h]=(0,Foe.useState)(null),f=b=>{if(l===null){s.items.length>0&&h(0);return}let _=l+b*s.uiColumns,E=_<0,P=_>s.items.length-1;if(E||P){if(s.canVerticleExit&&s.canVerticleExit(E?"top":"bottom")){h(null);return}return}h(_)},g=b=>{l===null?h(uCe(b,s.items.length)):l+b<0?h(null):h(Math.min(l+b,s.items.length-1))};return{focusFirstItem(){h(0)},onParentEltKeyDown:b=>{if(b.key==="ArrowRight")g(1);else if(b.key==="ArrowLeft")g(-1);else if(b.key==="ArrowUp")f(-1);else if(b.key==="ArrowDown")f(1);else return 0;return 1},gridItems:s.items.map((b,_)=>s.renderItem({isSelected:_===l,item:b,select(E){h(_),s.onSelectItem(b)===1&&(E==null||E.preventDefault(),E==null||E.stopPropagation())}})),currentSelection:(a=s.items[l??-1])!=null?a:null}}var Foe,oCe=C(()=>{Foe=q(Le()),EP()});function Boe(s,a,l){var h;(h=s.current)==null||h.discard(),s.current=null;let f=_P(l);f===null?s.current=lCe(a):s.current=aCe(a,f)}function Uoe(s){var a;(a=s.current)==null||a.discard(),s.current=null}function aCe(s,a){return xe().tempTransaction(({stateEditors:l})=>{let{setHandlesForKeyframe:h,setKeyframeType:f}=l.coreByProject.historic.sheetsById.sequence;for(let{projectId:g,sheetId:b,objectKey:_,trackId:E,left:P,right:I}of s)h({projectId:g,sheetId:b,objectKey:_,trackId:E,keyframeId:P.id,start:[a[0],a[1]]}),h({projectId:g,sheetId:b,objectKey:_,trackId:E,keyframeId:I.id,end:[a[2],a[3]]}),f({projectId:g,sheetId:b,objectKey:_,trackId:E,keyframeId:P.id,keyframeType:"bezier"})})}function lCe(s){return xe().tempTransaction(({stateEditors:a})=>{let{setKeyframeType:l}=a.coreByProject.historic.sheetsById.sequence;for(let{projectId:h,sheetId:f,objectKey:g,trackId:b,left:_}of s)l({projectId:h,sheetId:f,objectKey:g,trackId:b,keyframeId:_.id,keyframeType:"hold"})})}function uCe(s,a){return(s%a+a)%a}function cCe(s,a){return()=>setTimeout(s,a)}function dCe({left:s,right:a}){return({left:l,right:h})=>s.handles[2]!==l.handles[2]||s.handles[3]!==l.handles[3]||a.handles[0]!==h.handles[0]||a.handles[1]!==h.handles[1]}var SP,Ei,zoe,XF,qF,Voe,joe,Hoe,Goe,$oe,Woe,Koe,Xoe,qoe,Yoe,Zoe,Qoe,YF,hCe,ZF,Joe,EP=C(()=>{SP=Vt,Ei=q(Le()),Ue(),zoe=q(QEe()),ze(),tCe(),iCe(),Coe(),mP(),Dr(),oCe(),XF=3,qF=53,Voe=25,Hoe=ue.div(joe||(joe=W([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),jF,XF*qF),$oe=ue.div(Goe||(Goe=W([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),XF),Koe=ue.input.attrs({type:"text"})(Woe||(Woe=W([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),_p),qoe=ue.div(Xoe||(Xoe=W([`
  grid-area: tween;
  background: `,`;
`])),_p),Zoe=ue.div(Yoe||(Yoe=W([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),Qoe=s=>{let a=(0,Ei.useMemo)(()=>[s.curveConnection,...s.additionalConnections],[s.curveConnection,...s.additionalConnections]),l=(0,Ei.useRef)(null);(0,Ei.useEffect)(()=>{let he=Joe(a);return()=>{var De;he(),(De=l.current)==null||De.commit()}},[l]);let h=[s.curveConnection.left.handles[2],s.curveConnection.left.handles[3],s.curveConnection.right.handles[0],s.curveConnection.right.handles[1]],f=(0,Ei.useRef)(null);(0,Ei.useLayoutEffect)(()=>{var he,De;(he=f.current)==null||he.select(),(De=f.current)==null||De.focus()},[f.current]);let[g,b]=(0,Ei.useState)(bP(h)),_=he=>{he!==void 0&&(I(1),b(he.target.value),_P(he.target.value)&&D(he.target.value))},E=he=>{var De,J;I(1),(he.key==="ArrowDown"||he.key==="ArrowUp")&&he.preventDefault(),he.key==="ArrowDown"?(rt.focusFirstItem(),(J=(De=ce.current[$[0].label])==null?void 0:De.current)==null||J.focus()):he.key==="Escape"?(Uoe(l),s.onRequestClose("key Escape")):he.key==="Enter"&&s.onRequestClose("key Enter")},[P,I]=(0,Ei.useState)(0);(0,Ei.useEffect)(()=>{P===2?b(bP(h)):P===3&&g!==""&&b("")},a);let[O,D]=(0,Ei.useState)(bP(h)),[A,F]=(0,Ei.useState)(null);(0,Ei.useEffect)(()=>{var he;P!==0&&P!==3&&Boe(l,a,(he=A??O)!=null?he:"")},[A,O,P]),a.some(dCe(s.curveConnection))&&P===0&&I(3);let N=he=>{var De,J;I(2);let Ge=bP(he);b(Ge),D(Ge),(De=f.current)==null||De.select(),(J=f.current)==null||J.focus()},j=()=>{},$=(0,Ei.useMemo)(()=>/^[A-Za-z]/.test(g)?zoe.default.filter(g,wP,{extract:he=>he.label}).map(he=>he.original):wP,[g]);(0,Ei.useEffect)(()=>{P===1&&$[0]&&D($[0].value)},[$]);let K=he=>{he.key==="Escape"?(Uoe(l),s.onRequestClose("key Escape"),he.stopPropagation()):he.key==="Enter"&&(s.onRequestClose("key Enter"),he.stopPropagation())},Q=he=>{P===0&&I(2),F(he.value)},ie=()=>F(null),re=he=>(Boe(l,a,he.value),s.onRequestClose("selected easing option"),1),ce=(0,Ei.useRef)(wP.reduce((he,De)=>(he[De.label]={current:null},he),{})),[Ce,ye]=xr(null),[we,Oe]=(0,Ei.useState)(0);(0,Ei.useEffect)(()=>{let he=()=>{var De;Oe((De=ye==null?void 0:ye.scrollTop)!=null?De:0)};return ye==null||ye.addEventListener("scroll",he),()=>ye==null?void 0:ye.removeEventListener("scroll",he)},[ye]);let rt=sCe({items:$,uiColumns:3,onSelectItem:re,canVerticleExit(he){var De,J;return he==="top"?((De=f.current)==null||De.select(),(J=f.current)==null||J.focus(),1):0},renderItem:({item:he,select:De})=>{var J,Ge;return Ei.default.createElement(Noe,{key:he.label,easing:he,tabIndex:0,onKeyDown:K,ref:ce.current[he.label],onMouseOver:()=>Q(he),onMouseOut:ie,onClick:De,tooltipPlacement:((Ge=(J=ce.current[he.label].current)==null?void 0:J.offsetTop)!=null?Ge:0)-(we??0)<qF+Voe?"bottom":"top",isSelected:nCe(h,_P(he.value))})}});return(0,Ei.useLayoutEffect)(()=>{var he,De;if(rt.currentSelection!==null&&document.activeElement!==f.current){let J=(De=(he=ce.current)==null?void 0:he[rt.currentSelection.label])==null?void 0:De.current;J==null||J.focus(),D(rt.currentSelection.value),/^[A-Za-z]/.test(g)||b(rt.currentSelection.value)}},[rt.currentSelection]),Ei.default.createElement(Hoe,null,Ei.default.createElement(Koe,{value:g,placeholder:P===3?"Multiple easings selected":"Search presets...",onPaste:cCe(_),onChange:_,ref:f,onKeyDown:E}),Ei.default.createElement($oe,{ref:Ce,onKeyDown:he=>rt.onParentEltKeyDown(he)},rt.gridItems,rt.gridItems.length===0?Ei.default.createElement(Zoe,null,"No results found"):void 0),Ei.default.createElement(qoe,{onClick:()=>{var he;return(he=f.current)==null?void 0:he.focus()}},Ei.default.createElement(Soe,{curveConnection:s.curveConnection,backgroundConnections:s.additionalConnections,onCurveChange:N,onCancelCurveChange:j})))},YF=Qoe,{isCurveEditorOpenD:hCe,isConnectionEditingInCurvePopover:ZF,getLock:Joe}=(()=>{let s=new SP.Atom([]);return{getLock(a){return s.set(a),function(){s.set([])}},isCurveEditorOpenD:(0,SP.prism)(()=>s.prism.getValue().length>0),isConnectionEditingInCurvePopover(a){return SP.prism.ensurePrism(),s.prism.getValue().some(({left:l,right:h})=>a.left.id===l.id&&a.right.id===h.id)}}})()});function pCe(s,a){for(let{keyframeId:l}of gCe(a))if(s.left.id===l)return!0;return!1}function eae(s,a,l){return(0,PP.prism)(()=>{if(l===void 0)return[];let h=[];for(let{objectKey:f,trackId:g}of tae(l)){let b=(0,PP.val)(xe().atomP.historic.coreByProject[s].sheetsById[a].sequence.tracksByObject[f].trackData[g]);b&&(h=h.concat(mCe(b.keyframes).filter(_=>pCe(_,l)).map(({left:_,right:E})=>({left:_,right:E,trackId:g,objectKey:f,sheetId:a,projectId:s}))))}return h})}function CP(s,a,l){var h;if(l===void 0)return[];let f=[];for(let{objectKey:b,trackId:_,keyframeIds:E}of tae(l))f=f.concat((h=QF({projectId:s,sheetId:a,objectKey:b,trackId:_,keyframeIds:E}))!=null?h:[]);let g=iP(f.map(b=>b.pathToProp));return f.map(({keyframe:b,pathToProp:_})=>({keyframe:b,pathToProp:_.slice(g.length)}))}function QF({projectId:s,sheetId:a,objectKey:l,trackId:h,keyframeIds:f}){let g=(0,PP.val)(xe().atomP.historic.coreByProject[s].sheetsById[a].sequence.tracksByObject[l]),b=g==null?void 0:g.trackData[h];if(!b)return null;let _=fCe((g==null?void 0:g.trackIdByPropPath)||{})[h];if(!_)return null;let E=[l,...sP(_)];return f.map(P=>({keyframe:b.keyframes.find(I=>I.id===P),pathToProp:E})).filter(({keyframe:P})=>P!==void 0)}function fCe(s){let a={};for(let[l,h]of Object.entries(s))a[h]=l;return a}function mCe(s){return s.map((a,l)=>({left:a,right:s[l+1]})).slice(0,-1)}function gCe(s){var a,l,h;let f=[];for(let[g,b]of Object.entries((a=s==null?void 0:s.byObjectKey)!=null?a:{}))for(let[_,E]of Object.entries((l=b==null?void 0:b.byTrackId)!=null?l:{}))for(let P of Object.keys((h=E==null?void 0:E.byKeyframeId)!=null?h:{}))f.push({objectKey:g,trackId:_,keyframeId:P});return f}function tae(s){var a,l,h;let f=[];for(let[g,b]of Object.entries((a=s==null?void 0:s.byObjectKey)!=null?a:{}))for(let[_,E]of Object.entries((l=b==null?void 0:b.byTrackId)!=null?l:{}))f.push({objectKey:g,trackId:_,keyframeIds:Object.keys((h=E==null?void 0:E.byKeyframeId)!=null?h:{})});return f}var PP,Z3=C(()=>{PP=Vt,ze(),rc()});function vCe(s,a){return(0,nae.useMemo)(()=>yCe(s,a),[])}function yCe(s,a){let l=null,h=b=>xe().tempTransaction(_=>s(_,b));function f(){l==null||l.discard(),l=null}let g={createAsset:a.sheet.project.assetStorage.createAsset,getAssetUrl:b=>b.id?a.sheet.project.assetStorage.getAssetUrl(b.id):void 0};return L({temporarilySetValue(b){f(),l=h(b)},discardTemporaryValue:f,permanentlySetValue(b){f(),h(b).commit()}},g)}var nae,bCe=C(()=>{ze(),nae=q(Le())});function JF(s){var a;if(s.type==="sheetObject")return bo.default.createElement(bo.default.Fragment,null,bo.default.createElement(MP,{style:{paddingLeft:"".concat(s.indent*TP,"px")}},s.sheetObject.address.objectKey),s.children.map((l,h)=>bo.default.createElement(JF,B(L({key:h},l),{autoFocusInput:s.autoFocusInput&&h===0,indent:s.indent+1}))));if(s.type==="propWithChildren"){let l=(a=s.propConfig.label)!=null?a:nd(s.pathToProp);return bo.default.createElement(bo.default.Fragment,null,bo.default.createElement(MP,{style:{paddingLeft:"".concat(s.indent*TP,"px")}},l),s.children.map((h,f)=>bo.default.createElement(JF,B(L({key:f},h),{autoFocusInput:s.autoFocusInput&&f===0,indent:s.indent+1}))))}else return bo.default.createElement(_Ce,B(L({},s),{autoFocusInput:s.autoFocusInput,indent:s.indent}))}function _Ce(s){var a;let l=(a=s.propConfig.label)!=null?a:nd(s.pathToProp),h=wCe(s);if(s.propConfig.type==="enum")return bo.default.createElement(bo.default.Fragment,null);{let f=TN[s.propConfig.type];return bo.default.createElement(iae,null,bo.default.createElement(MP,null,bo.default.createElement("span",{style:{paddingLeft:"".concat(s.indent*TP,"px")}},l)),bo.default.createElement(aae,null,bo.default.createElement(f,{editingTools:h,propConfig:s.propConfig,value:SC(s.keyframe.value,s.propConfig),autoFocus:s.autoFocusInput})))}}function wCe(s){let a=s.sheetObject;return vCe(({stateEditors:l},h)=>{let f=B(L({},s.keyframe),{value:h});l.coreByProject.historic.sheetsById.sequence.replaceKeyframes(B(L({},a.address),{trackId:s.trackId,keyframes:[f],snappingFunction:a.sheet.getSequence().closestGridPosition}))},a)}var bo,rae,iae,sae,MP,TP,oae,aae,xCe=C(()=>{bo=q(Le()),Ue(),KJ(),K9(),bCe(),dp(),iae=ue.div(rae||(rae=W([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),MP=ue.div(sae||(sae=W([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),TP=10,aae=ue.div(oae||(oae=W([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function kP(s){return qu({debugName:"useKeyframeInlineEditorPopover"},()=>AP.default.createElement(Zu,{showPopoverEdgeTriangle:!0},AP.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(s)?s.map((a,l)=>AP.default.createElement(JF,B(L({key:l},a),{autoFocusInput:l===0,indent:0}))):void 0)))}var AP,IP=C(()=>{AP=q(Le()),Yu(),Qu(),xCe()});function SCe(s,a,l){return ua(s,{displayName:"Keyframe",menuItems:()=>{let h=CP(l.leaf.sheetObject.address.projectId,l.leaf.sheetObject.address.sheetId,l.selection);return[{label:h.length>0?"Copy (selection)":"Copy",callback:()=>{h.length>0?xe().transaction(f=>{f.stateEditors.studio.ahistoric.setClipboardKeyframes(h)}):xe().transaction(f=>{f.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:l.keyframe,pathToProp:l.leaf.pathToProp}])})}},{label:l.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{l.selection?l.selection.delete():xe().transaction(({stateEditors:f})=>{f.coreByProject.historic.sheetsById.sequence.deleteKeyframes(B(L({},l.leaf.sheetObject.address),{keyframeIds:[l.keyframe.id],trackId:l.leaf.trackId}))})}}]},onOpen(){a._debug("Show keyframe",l)}})}function ECe(s,a,l){let h=(0,wp.useRef)(a);h.current=a;let{onClickFromDrag:f}=l,g=(0,wp.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(_){let E=h.current,P=(0,RP.val)(xe().atomP.historic.coreByProject[E.leaf.sheetObject.address.projectId].sheetsById[E.leaf.sheetObject.address.sheetId].sequence.tracksByObject),I=Wse(P,function(F,{trackId:N,objectKey:j}){var $,K;return F.id!==E.keyframe.id&&!(E.selection&&(K=($=E.selection.byObjectKey[j])==null?void 0:$.byTrackId[N])!=null&&K.byKeyframeId[F.id])});if($se(I),E.selection){let{selection:F,leaf:N}=E,{sheetObject:j}=N,$=F.getDragHandlers(B(L({},j.address),{domNode:s,positionAtStartOfDrag:E.track.data.keyframes[E.index].position})).onDragStart(_);return $&&B(L({},$),{onClick:f,onDragEnd:(...K)=>{var Q;(Q=$.onDragEnd)==null||Q.call($,...K),lm()}})}let O=E,D=(0,RP.val)(O.layoutP.scaledSpace.toUnitSpace),A;return{onDrag(F,N,j){var $;let K=O.track.data.keyframes[O.index],Q=Math.max(($=da.checkIfMouseEventSnapToPos(j,{ignore:s}))!=null?$:K.position+D(F),0);A==null||A.discard(),A=void 0,A=xe().tempTransaction(({stateEditors:ie})=>{ie.coreByProject.historic.sheetsById.sequence.replaceKeyframes(B(L({},O.leaf.sheetObject.address),{trackId:O.leaf.trackId,keyframes:[B(L({},K),{position:Q})],snappingFunction:(0,RP.val)(O.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(F){F?A==null||A.commit():A==null||A.discard(),lm()},onClick(F){f(F)}}}}),[f]),[b]=ji(s,g);return Ed(b,a.keyframe.position),W0(b,"draggingPositionInSequenceEditor","ew-resize"),[b]}var wp,RP,d7,eB,h7,tB,lae,DP,uae,cae,dae,hae,pae,fae,mae=C(()=>{wp=q(Le()),Ue(),ze(),ca(),Ps(),Dr(),RP=Vt,yo(),c0(),Xl(),uP(),up(),Z3(),Or(),um(),IP(),nm(),d7=6,eB=d7+2,h7={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},tB=({isSelected:s,isInlineEditorPopoverOpen:a})=>s&&a?h7.inlineEditorOpenColor:s?h7.selectedColor:a?h7.selectedAndInlineEditorOpenColor:h7.normalColor,DP=ue.div(lae||(lae=W([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),q0(d7),s=>tB(s),s=>s.flag===2?"outline: 2px solid white;":""),cae=ue.div(uae||(uae=W([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),q0(d7*1.5),s=>tB(s),s=>s.flag===2?"outline: 2px solid white;":""),hae=ue.div(dae||(dae=W([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),q0(12),Tr,DP,s=>s.isInlineEditorPopoverOpen?q0(eB):"",DP,q0(eB)),pae=s=>{let a=lp("SingleKeyframeDot",s.keyframe.id),l=tm(s.itemKey),[h,f]=xr(null),[g]=SCe(f,a,s),{node:b,toggle:_,isOpen:E}=kP([{type:"primitiveProp",keyframe:s.keyframe,pathToProp:s.leaf.pathToProp,propConfig:s.leaf.propConf,sheetObject:s.leaf.sheetObject,trackId:s.leaf.trackId}]);ECe(f,s,{onClickFromDrag(I){_(I,h.current)}});let P=!s.keyframe.type||s.keyframe.type==="bezier";return wp.default.createElement(wp.default.Fragment,null,wp.default.createElement(hae,L({ref:h,isInlineEditorPopoverOpen:E},l.attrs)),P?wp.default.createElement(DP,{isSelected:!!s.selection,isInlineEditorPopoverOpen:E,flag:l.flag}):wp.default.createElement(cae,{isSelected:!!s.selection,isInlineEditorPopoverOpen:E,flag:l.flag}),b,g)},fae=pae}),nB,rB,iB,pm,gae,vae,sB,yae=C(()=>{u0(),nB=q(Le()),Ue(),mae(),rB=d7/2+1,iB=1e3,pm={normalColor:"#365b59",selectedColor:"#8A7842",barColor:s=>{let a=s.isSelected?pm.selectedColor:pm.normalColor;return s.isPopoverOpen?zE(.2,g3(.2,a)):a},hoverColor:s=>{let a=s.isSelected?pm.selectedColor:pm.normalColor;return s.isPopoverOpen?zE(.2,g3(.2,a)):zE(.1,g3(.1,a))}},vae=ue.div(gae||(gae=W([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),pm.barColor,rB,iB,rB/2,pm.hoverColor),sB=nB.default.forwardRef((s,a)=>{let l={isPopoverOpen:s.isPopoverOpen,isSelected:s.isSelected};return nB.default.createElement(vae,B(L({},l),{ref:a,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.connectorLengthInUnitSpace/iB,"))")},onClick:h=>{var f;(f=s.openPopover)==null||f.call(s,h)}}),s.children)})});function CCe(s,a){let l=(0,oB.useRef)(a);l.current=a;let h=(0,oB.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(f){let g=l.current,b;if(g.selection){let{selection:I,leaf:O}=g,{sheetObject:D}=O;return I.getDragHandlers(B(L({},D.address),{domNode:s,positionAtStartOfDrag:g.track.data.keyframes[g.index].position})).onDragStart(f)}let _=g,E=(0,OP.val)(_.layoutP.sheet).getSequence(),P=(0,OP.val)(_.layoutP.scaledSpace.toUnitSpace);return{onDrag(I,O,D){let A=P(I);b&&(b.discard(),b=void 0),b=xe().tempTransaction(({stateEditors:F})=>{F.coreByProject.historic.sheetsById.sequence.transformKeyframes(B(L({},_.leaf.sheetObject.address),{trackId:_.leaf.trackId,keyframeIds:[_.keyframe.id,_.track.data.keyframes[_.index+1].id],translate:A,scale:1,origin:0,snappingFunction:E.closestGridPosition}))})},onDragEnd(I){I?b&&b.commit():b&&b.discard()}}}}),[]);ji(s,h)}function PCe(s,a,l,h){return ua(a,{displayName:"Tween",menuItems:()=>{let f=CP(s.leaf.sheetObject.address.projectId,s.leaf.sheetObject.address.sheetId,s.selection);return[{label:f.length>0?"Copy (selection)":"Copy",callback:()=>{f.length>0?xe().transaction(g=>{g.stateEditors.studio.ahistoric.setClipboardKeyframes(f)}):xe().transaction(g=>{g.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:l,pathToProp:s.leaf.pathToProp},{keyframe:h,pathToProp:s.leaf.pathToProp}])})}},{label:s.selection?"Delete (selection)":"Delete",callback:()=>{s.selection?s.selection.delete():xe().transaction(({stateEditors:g})=>{g.coreByProject.historic.sheetsById.sequence.deleteKeyframes(B(L({},s.leaf.sheetObject.address),{keyframeIds:[l.id,h.id],trackId:s.leaf.trackId}))})}}]}})}var OP,xp,oB,aB,bae,_ae,wae,xae,Sae,MCe=C(()=>{ze(),ca(),Ps(),Dr(),OP=Vt,xp=q(Le()),oB=q(Le()),Yu(),Qu(),EP(),yae(),mP(),Sn(),Z3(),Z3(),Ue(),aB=5,_ae=ue(Zu)(bae||(bae=W([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),jF),wae=s=>{let{index:a,track:l}=s,h=l.data.keyframes[a],f=l.data.keyframes[a+1],[g,b]=xr(null),{node:_,toggle:E,close:P}=qu(()=>{let A=(0,OP.val)(s.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:A.screenX+aB,maxX:A.screenX+A.width-aB}}},()=>xp.default.createElement(Sae,B(L({},s),{closePopover:P}))),[I]=PCe(s,b,h,f);CCe(b,s);let O=f.position-h.position,D={isPopoverOpen:Xn(()=>ZF(B(L({},s.leaf.sheetObject.address),{trackId:s.leaf.trackId,left:h,right:f})),[s.leaf.sheetObject.address,s.leaf.trackId,h,f]),isSelected:s.selection!==void 0};return xp.default.createElement(xp.default.Fragment,null,xp.default.createElement(sB,B(L({ref:g,connectorLengthInUnitSpace:O},D),{openPopover:A=>{b&&E(A,b)}}),_),I)},xae=wae,Sae=xp.default.forwardRef((s,a)=>{let{index:l,track:{data:h},selection:f}=s,g=h.keyframes[l],b=h.keyframes[l+1],_=s.leaf.trackId,E=s.leaf.sheetObject.address,P=Xn(()=>eae(E.projectId,E.sheetId,f).getValue(),[E,f]),I=L({left:g,right:b,trackId:_},E);return xp.default.createElement(_ae,{showPopoverEdgeTriangle:!1,ref:a},xp.default.createElement(YF,{curveConnection:I,additionalConnections:P,onRequestClose:s.closePopover}))})}),Eae,fm,Cae,Pae,Mae,Tae,kae,TCe=C(()=>{Eae=Vt,fm=q(Le()),Ue(),MCe(),mae(),Pae=ue.div(Cae||(Cae=W([`
  position: absolute;
`]))),Mae=fm.default.createElement(fm.default.Fragment,null),Tae=fm.default.memo(s=>{let{index:a,track:{data:l}}=s,h=l.keyframes[a],f=l.keyframes[a+1],g=h.connectedRight&&!!f;return fm.default.createElement(Pae,{style:{top:"".concat(s.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,Eae.val)(s.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(h.position,"px))")}},fm.default.createElement(fae,B(L({},s),{itemKey:s.itemKey})),g?fm.default.createElement(xae,L({},s)):Mae)}),kae=Tae});function kCe(s,a){return ua(s,{displayName:"Keyframe Track",menuItems:()=>{var l;let h=(l=(0,Q3.val)(xe().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?l:[];return[ACe(a,h)]}})}function ACe(s,a){return{label:"Paste Keyframes",enabled:a.length>0,callback:()=>{var l;let h=(0,Q3.val)(s.layoutP.sheet).getSequence(),f=(l=a[0])==null?void 0:l.pathToProp,g=a.filter(({keyframe:b,pathToProp:_})=>DEe(f,_)).map(({keyframe:b,pathToProp:_})=>b);xe().transaction(({stateEditors:b})=>{var _;h.position=h.closestGridPosition(h.position);let E=(_=ICe(g))==null?void 0:_.position;for(let P of g)b.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(B(L({},s.leaf.sheetObject.address),{trackId:s.leaf.trackId,position:h.position+P.position-E,handles:P.handles,value:P.value,snappingFunction:h.closestGridPosition,type:P.type}))})}}}function ICe(s){let a=null;for(let l of s)(a===null||l.position<a.position)&&(a=l);return a}var Q3,Cd,Aae,Iae,lB,Rae,RCe=C(()=>{Sn(),Q3=Vt,Cd=q(Le()),Ue(),TCe(),ca(),Dr(),ze(),rc(),um(),_d(),Iae=ue.div(Aae||(Aae=W([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),lB=Cd.default.memo(s=>{var a;let{layoutP:l,trackData:h,leaf:f}=s,[g,b]=xr(null),{selectedKeyframeIds:_,selection:E}=Xn(()=>{let Q=(0,Q3.val)(l.selectionAtom),ie=(0,Q3.val)(Q.pointer.current.byObjectKey[f.sheetObject.address.objectKey].byTrackId[f.trackId].byKeyframeId);return ie?{selectedKeyframeIds:ie,selection:(0,Q3.val)(Q.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[l,f.trackId]),[P,I,O]=kCe(b,s),D=nr(UF),A=D.mode==="snapToSome"?(a=D.positions[f.sheetObject.address.objectKey])==null?void 0:a[f.trackId]:[],F=D.mode==="snapToAll",N=(0,Cd.useMemo)(()=>({data:h,id:f.trackId,sheetObject:s.leaf.sheetObject}),[h,f.trackId]),j=h.keyframes.map((Q,ie)=>Cd.default.createElement(kae,{key:"keyframe-"+Q.id,itemKey:Bs.forTrackKeyframe(f.sheetObject,f.trackId,Q.id),keyframe:Q,index:ie,track:N,layoutP:l,leaf:f,selection:_[Q.id]===!0?E:void 0})),$=A.map(Q=>Cd.default.createElement(s7,{key:"snap-target-"+Q,layoutP:l,leaf:f,position:Q})),K=F?h.keyframes.map(Q=>Cd.default.createElement(s7,{key:"additionalSnapTarget-".concat(Q.id),layoutP:l,leaf:f,position:Q.position})):null;return Cd.default.createElement(Iae,{ref:g,style:{background:O?"#444850 ":"unset"}},j,$,Cd.default.createElement(Cd.default.Fragment,null,K),P)}),lB.displayName="BasicKeyframedTrack",Rae=lB}),Dae,p7,Oae,Lae,DCe=C(()=>{ze(),Sn(),Dae=Vt,p7=q(Le()),pP(),RCe(),up(),Oae=({leaf:s,layoutP:a})=>{let l=lp("PrimitivePropRow",s.pathToProp.join());return Xn(()=>{let{sheetObject:h}=s,{trackId:f}=s,g=(0,Dae.val)(xe().atomP.historic.coreByProject[h.address.projectId].sheetsById[h.address.sheetId].sequence.tracksByObject[h.address.objectKey].trackData[f]);return(g==null?void 0:g.type)!=="BasicKeyframedTrack"?(l.errorDev("trackData type ".concat(g==null?void 0:g.type," is not yet supported on the sequence editor")),p7.default.createElement(X3,{leaf:s,isCollapsed:!1,node:p7.default.createElement("div",null)})):p7.default.createElement(X3,{leaf:s,isCollapsed:!1,node:p7.default.createElement(Rae,{layoutP:a,trackData:g,leaf:s})})},[s,a])},Lae=Oae});function OCe(s){return s()}var LCe=C(()=>{});function Nae(s){let{index:a,aggregateKeyframes:l,selection:h}=s;return Xn(Fae(s),[a,l,h,s.viewModel])}function Fae(s){let{index:a,aggregateKeyframes:l,selection:h}=s,{projectId:f,sheetId:g}=s.viewModel.type==="sheet"?s.viewModel.sheet.address:s.viewModel.sheetObject.address;return()=>{let b=l[a],_=l[a+1],E=_&&b.keyframes.length===_.keyframes.length&&b.keyframes.every(({track:D},A)=>_.keyframes[A].track===D)?{length:_.position-b.position,selected:b.selected===0&&_.selected===0}:null,P=E?b.keyframes.map(({kf:D,track:A},F)=>B(L({},A.sheetObject.address),{trackId:A.id,left:D,right:_.keyframes[F].kf})):[],I=OCe(()=>{let D=uB.prism.memo("selectedConnections",()=>eae(f,g,h),[f,g,h]).getValue();return[...P,...D]}),O=P.every(D=>ZF(D));return{itemKey:uB.prism.memo("itemKey",()=>s.viewModel.type==="sheet"?Bs.forSheetAggregateKeyframe(s.viewModel.sheet,b.position):s.viewModel.type==="sheetObject"?Bs.forSheetObjectAggregateKeyframe(s.viewModel.sheetObject,b.position):Bs.forCompoundPropAggregateKeyframe(s.viewModel.sheetObject,s.viewModel.pathToProp,b.position),[s.viewModel,b.position]),cur:b,connected:E,isAggregateEditingInCurvePopover:O,allConnections:I}}}var uB,cB=C(()=>{uB=Vt,_d(),EP(),Sn(),Z3(),LCe()});function NCe(s,a){let l=(0,Y0.useRef)(a);l.current=a;let h=(0,Y0.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(f){let g=l.current,b,_=g.aggregateKeyframes[g.index].keyframes,{selection:E,viewModel:P}=g,I=P.type==="sheet"?P.sheet.address:P.sheetObject.address;if(E&&g.aggregateKeyframes[g.index].selected===0)return E.getDragHandlers(B(L({},I),{domNode:s,positionAtStartOfDrag:g.aggregateKeyframes[g.index].position})).onDragStart(f);let O=g,D=(0,LP.val)(O.layoutP.sheet).getSequence(),A=(0,LP.val)(O.layoutP.scaledSpace.toUnitSpace);return{onDrag(F,N,j){let $=A(F);b&&(b.discard(),b=void 0),b=xe().tempTransaction(({stateEditors:K})=>{for(let Q of _)K.coreByProject.historic.sheetsById.sequence.transformKeyframes(B(L({},Q.track.sheetObject.address),{trackId:Q.track.id,keyframeIds:[Q.kf.id,Q.track.data.keyframes[Q.track.data.keyframes.indexOf(Q.kf)+1].id],translate:$,scale:1,origin:0,snappingFunction:D.closestGridPosition}))})},onDragEnd(F){F?b&&b.commit():b&&b.discard()}}}}),[]);return ji(s,h)}function FCe(s,a){return ua(a,{displayName:"Aggregate Tween",menuItems:()=>{let l=s.utils.allConnections.reduce((_,E)=>{var P;return _.concat((P=QF(B(L({},E),{keyframeIds:[E.left.id,E.right.id]})))!=null?P:[])},[]),h=iP(l.map(_=>_.pathToProp)),f=l.map(({keyframe:_,pathToProp:E})=>({keyframe:_,pathToProp:E.slice(h.length)})),g=s.editorProps.viewModel,b=g.type==="sheet"?g.sheet.address:g.sheetObject.address;return[{label:"Copy",callback:()=>{if(s.editorProps.selection){let _=CP(b.projectId,b.sheetId,s.editorProps.selection);xe().transaction(E=>{E.stateEditors.studio.ahistoric.setClipboardKeyframes(_)})}else xe().transaction(_=>{_.stateEditors.studio.ahistoric.setClipboardKeyframes(f)})}},{label:"Delete",callback:()=>{s.editorProps.selection?s.editorProps.selection.delete():xe().transaction(({stateEditors:_})=>{for(let E of s.utils.allConnections)_.coreByProject.historic.sheetsById.sequence.deleteKeyframes(B(L({},b),{objectKey:E.objectKey,keyframeIds:[E.left.id,E.right.id],trackId:E.trackId}))})}}]}})}var LP,Y0,dB,Bae,Uae,zae,Vae,BCe=C(()=>{LP=Vt,Y0=q(Le()),yae(),Yu(),Dr(),ze(),Ps(),EP(),cB(),Ue(),Qu(),Z3(),ca(),rc(),dB=5,Uae=ue(Zu)(Bae||(Bae=W([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),zae=Y0.default.forwardRef((s,a)=>{let{allConnections:l}=Nae(s);return Y0.default.createElement(Uae,{showPopoverEdgeTriangle:!1,ref:a},Y0.default.createElement(YF,{curveConnection:l[0],additionalConnections:l,onRequestClose:s.closePopover}))}),Vae=s=>{let[a,l]=xr(null),{editorProps:h}=s,[f]=FCe(s,l),[g]=NCe(l,s.editorProps),{node:b,toggle:_,close:E}=qu(()=>{let O=(0,LP.val)(h.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:O.screenX+dB,maxX:O.screenX+O.width-dB}}},()=>Y0.default.createElement(zae,B(L({},h),{closePopover:E}))),{connected:P,isAggregateEditingInCurvePopover:I}=s.utils;return P||g?Y0.default.createElement(Y0.default.Fragment,null,Y0.default.createElement(sB,{ref:a,connectorLengthInUnitSpace:P?P.length:0,isSelected:P?P.selected:!1,isPopoverOpen:I,openPopover:O=>{l&&_(O,l)}}),b,f):Y0.default.createElement(Y0.default.Fragment,null)}});function UCe(s){let a={isSelected:s.isSelected,flag:s.flag};return Pd.default.createElement(NP,null,s.isAllHere?Pd.default.createElement(Kae,L({},a)):Pd.default.createElement(Xae,L({},a)))}var Pd,hB,jae,Hae,NP,Gae,$ae,pB,fB,mB,gB,Wae,Kae,Xae,zCe=C(()=>{Pd=q(Le()),Ue(),uP(),Or(),hB=16,jae=hB+2,NP=ue.div(Hae||(Hae=W([`
  position: absolute;
  `,`
  z-index: 1;
`])),q0(hB)),$ae=ue.div(Gae||(Gae=W([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),q0(12),Tr,NP,NP,q0(jae)),pB="#F2C95C",fB="#40AAA4",mB="#45747C",gB=s=>s.isSelected===0?pB:s.isSelected===1?fB:mB,Wae=s=>s.isSelected===0?pB:s.isSelected===1?fB:mB,Kae=s=>Pd.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Pd.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:Wae(s)}),Pd.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:gB(s),stroke:s.flag===2?"white":void 0,strokeWidth:s.flag===2?"2px":void 0})),Xae=s=>Pd.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Pd.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:s.flag===2?"white":gB(s),strokeWidth:s.flag===2?"2px":void 0}))});function VCe(s,a){let l=s.children.map(h=>h.type==="propWithChildren"?vB(h,a):qae(h,a)).filter(yB);return l.length===0?null:{type:"sheetObject",sheetObject:s.sheetObject,children:l}}function vB(s,a){let l=s.children.map(h=>h.type==="propWithChildren"?vB(h,a):qae(h,a)).filter(yB);return l.length===0?null:{type:"propWithChildren",pathToProp:s.pathToProp,propConfig:s.propConf,children:l}}function qae(s,a){let l=a.find(h=>h.track.id===s.trackId);return l?{type:"primitiveProp",keyframe:l.kf,pathToProp:s.pathToProp,propConfig:s.propConf,sheetObject:s.sheetObject,trackId:s.trackId}:null}function jCe(s){var a,l,h,f;let{cur:g}=s.utils,b=kP(s.editorProps.viewModel.type==="sheet"?null:s.editorProps.viewModel.type==="sheetObject"?(l=(a=VCe(s.editorProps.viewModel,g.keyframes))==null?void 0:a.children)!=null?l:null:(f=(h=vB(s.editorProps.viewModel,g.keyframes))==null?void 0:h.children)!=null?f:null),_=tm(s.utils.itemKey);_.useRelations(()=>g.keyframes.map(O=>({affects:O.itemKey,flag:2})),[g.keyframes.map(O=>O.track.id).join("-")]);let[E,P]=xr(null),[I]=HCe(s,P);return f7.default.createElement(f7.default.Fragment,null,f7.default.createElement($ae,B(L(L({ref:E},_.attrs),da.includePositionSnapAttrs(g.position)),{onClick:O=>s.editorProps.viewModel.type!=="sheet"?b.open(O,E.current):null})),f7.default.createElement(UCe,{flag:_.flag,isAllHere:g.allHere,isSelected:g.selected}),I,b.node)}function HCe(s,a){return ua(a,{displayName:"Aggregate Keyframe",menuItems:()=>{let l=s.editorProps.viewModel,h=s.editorProps.selection;return[{label:h?"Copy (selection)":"Copy",callback:()=>{if(h){let{projectId:f,sheetId:g}=l.type==="sheet"?l.sheet.address:l.sheetObject.address,b=CP(f,g,h);xe().transaction(_=>{_.stateEditors.studio.ahistoric.setClipboardKeyframes(b)})}else{let f=s.utils.cur.keyframes.flatMap(E=>{var P;return(P=QF(B(L({},E.track.sheetObject.address),{trackId:E.track.id,keyframeIds:[E.kf.id]})))!=null?P:[]}),g=l.type==="sheet"?[]:l.type==="sheetObject"?[l.sheetObject.address.objectKey]:l.type==="propWithChildren"?[l.sheetObject.address.objectKey,...l.pathToProp]:[],b=iP([g,...f.map(E=>E.pathToProp)]),_=f.map(({keyframe:E,pathToProp:P})=>({keyframe:E,pathToProp:P.slice(b.length)}));xe().transaction(E=>{E.stateEditors.studio.ahistoric.setClipboardKeyframes(_)})}}},{label:h?"Delete (selection)":"Delete",callback:()=>{h?h.delete():xe().transaction(({stateEditors:f})=>{for(let g of s.utils.cur.keyframes)f.coreByProject.historic.sheetsById.sequence.deleteKeyframes(B(L({},g.track.sheetObject.address),{keyframeIds:[g.kf.id],trackId:g.track.id}))})}}]}})}var f7,yB,GCe=C(()=>{f7=q(Le()),Dr(),nm(),ca(),zCe(),ze(),Z3(),rc(),Xl(),IP(),yB=s=>s!==null}),Yae,m7,Zae,Qae,Jae,e0e,$Ce=C(()=>{Yae=Vt,m7=q(Le()),Ue(),BCe(),cB(),GCe(),Qae=ue.div(Zae||(Zae=W([`
  position: absolute;
`]))),Jae=m7.default.memo(s=>{let a=Nae(s);return m7.default.createElement(Qae,{style:{top:"".concat(s.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,Yae.val)(s.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(a.cur.position,"px))")}},m7.default.createElement(jCe,{editorProps:s,utils:a}),m7.default.createElement(Vae,{editorProps:s,utils:a}))}),e0e=Jae});function WCe(s){let{layoutP:a,aggregatedKeyframes:l,viewModel:h}=s,f=lp("AggregatedKeyframeTrack"),[g,b]=xr(null),{selectedPositions:_,selection:E}=KCe(a,l),[P,I,O]=YCe(b,s,()=>f._debug("see aggregatedKeyframes",s.aggregatedKeyframes)),D=(0,Z0.useMemo)(()=>[...l.byPosition.entries()].sort((Q,ie)=>Q[0]-ie[0]).map(([Q,ie])=>({position:Q,keyframes:ie,selected:_.get(Q),allHere:ie.length===l.tracks.length})),[l,_]),A=nr(UF),F=A.mode==="snapToAll",N=A.mode==="snapToSome"?A.positions:VN,j=(0,Z0.useMemo)(()=>h.type==="sheet"?jEe(h,N):RF(h,N),[N]).map(Q=>Z0.default.createElement(s7,{key:"snap-target-"+Q,layoutP:a,leaf:h,position:Q})),$=(0,Z0.useMemo)(()=>D.map(({position:Q,keyframes:ie},re)=>({position:Q,editorProps:{index:re,layoutP:a,viewModel:h,aggregateKeyframes:D,selection:_.has(Q)?E:void 0}})),[D,h,_]);ePe(b,Q=>{var ie;return(ie=$.find(re=>re.position===Q))==null?void 0:ie.editorProps},{onClickFromDrag(Q){}});let K=$.map((Q,ie)=>Z0.default.createElement(Z0.Fragment,{key:"agg-"+D[ie].keyframes[0].kf.id},F&&Z0.default.createElement(s7,{layoutP:a,leaf:h,position:Q.position}),Z0.default.createElement(e0e,L({},Q.editorProps))));return Z0.default.createElement(i0e,{ref:g,style:{background:O?"#444850 ":"unset"}},K,j,P)}function KCe(s,a){return Xn(()=>(0,pa.val)(XCe(s,a)),[s,a])}function XCe(s,a){return(0,pa.prism)(()=>{let l=(0,pa.val)(s.selectionAtom),h=(0,pa.val)(l.pointer.current);if(!h)return s0e;let f=new Map;for(let[g,b]of a.byPosition){let _=qCe(b,h);_!==void 0&&_!==BP&&f.set(g,_)}return{selectedPositions:f,selection:(0,pa.val)(l.pointer.current)}})}function qCe(s,a){var l,h,f;let g;for(let{track:b,kf:_}of s){let E=((f=(h=(l=a.byObjectKey[b.sheetObject.address.objectKey])==null?void 0:l.byTrackId[b.id])==null?void 0:h.byKeyframeId)==null?void 0:f[_.id])===!0;g===void 0?E?g=wB:g=BP:E?g===BP&&(g=xB):g===wB&&(g=xB)}return g}function YCe(s,a,l){return ua(s,{onOpen:l,displayName:"Aggregate Keyframe Track",menuItems:()=>{var h;let f=(h=(0,pa.pointerToPrism)(xe().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?h:[];return[ZCe(a,f)]}})}function ZCe(s,a){return{label:"Paste Keyframes",enabled:a.length>0,callback:()=>{let l=(0,pa.val)(s.layoutP.sheet).getSequence();s.viewModel.type==="sheet"?QCe(s.viewModel,a,l):JCe(s.viewModel,a,l)}}}function QCe(s,a,l){var h;let{projectId:f,sheetId:g,sheetInstanceId:b}=s.sheet.address;if(a.every(({pathToProp:_})=>_.length===0))for(let _ of s.children.map(E=>E.sheetObject)){let E=(0,pa.pointerToPrism)(xe().atomP.historic.coreByProject[f].sheetsById[g].sequence.tracksByObject[_.address.objectKey]).getValue(),P=Object.keys((h=E==null?void 0:E.trackData)!=null?h:{});bB(_.address,P,a,l)}else{let _=(0,pa.pointerToPrism)(xe().atomP.historic.coreByProject[f].sheetsById[g].sequence.tracksByObject).getValue(),E=a.map(({keyframe:P,pathToProp:I})=>{var O,D;let A=I[0],F=I.slice(1),N=nc([...F]),j=((D=(O=_==null?void 0:_[A])==null?void 0:O.trackIdByPropPath)!=null?D:{})[N];return j?{keyframe:P,trackId:j,address:{objectKey:A,projectId:f,sheetId:g,sheetInstanceId:b}}:null}).filter(P=>P!==null);t0e(E,l)}}function JCe(s,a,l){var h;let{projectId:f,sheetId:g,objectKey:b}=s.sheetObject.address,_=(0,pa.pointerToPrism)(xe().atomP.historic.coreByProject[f].sheetsById[g].sequence.tracksByObject[b]).getValue();if(a.every(({pathToProp:E})=>E.length===0)){let E=Object.keys((h=_==null?void 0:_.trackData)!=null?h:{});if(s.type==="sheetObject")bB(s.sheetObject.address,E,a,l);else{let P=(_==null?void 0:_.trackIdByPropPath)||{},I=Object.entries(P).filter(([O,D])=>D!==void 0&&REe(sP(O),s.pathToProp)).map(([O,D])=>D);bB(s.sheetObject.address,I,a,l)}}else{let E=(_==null?void 0:_.trackIdByPropPath)||{},P=s.type==="propWithChildren"?s.pathToProp:[],I=a.map(({keyframe:O,pathToProp:D})=>{let A=nc([...P,...D]),F=E[A];return F?{keyframe:O,trackId:F,address:s.sheetObject.address}:null}).filter(O=>O!==null);t0e(I,l)}}function bB(s,a,l,h){var f;h.position=h.closestGridPosition(h.position);let g=(f=n0e(l.map(({keyframe:b})=>b)))==null?void 0:f.position;xe().transaction(({stateEditors:b})=>{for(let _ of a)for(let{keyframe:E}of l)b.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(B(L({},s),{trackId:_,position:h.position+E.position-g,handles:E.handles,value:E.value,snappingFunction:h.closestGridPosition,type:E.type}))})}function t0e(s,a){var l;a.position=a.closestGridPosition(a.position);let h=(l=n0e(s.map(({keyframe:f})=>f)))==null?void 0:l.position;xe().transaction(({stateEditors:f})=>{for(let{keyframe:g,trackId:b,address:_}of s)f.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(B(L({},_),{trackId:b,position:a.position+g.position-h,handles:g.handles,value:g.value,snappingFunction:a.closestGridPosition,type:g.type}))})}function n0e(s){let a=null;for(let l of s)(a===null||l.position<a.position)&&(a=l);return a}function ePe(s,a,l){let h=lp("useDragForAggregateKeyframeDot"),f=Bse(),g=(0,Z0.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(_){h._debug("onDragStart",{target:_.target});let E=Number(_.target.dataset.pos),P=a(E);if(!P)return h._debug("no props found for ",{positionToFind:E}),!1;f(!0,E);let I=(0,pa.prism)(Fae(P)).getValue().cur.keyframes,O=P.viewModel.type==="sheet"?P.viewModel.sheet.address:P.viewModel.sheetObject.address,D=(0,pa.val)(xe().atomP.historic.coreByProject[O.projectId].sheetsById[O.sheetId].sequence.tracksByObject),A=Wse(D,function($,{trackId:K,objectKey:Q}){var ie,re;return I.every(ce=>$.id!==ce.kf.id)&&!(P.selection&&(re=(ie=P.selection.byObjectKey[Q])==null?void 0:ie.byTrackId[K])!=null&&re.byKeyframeId[$.id])});if($se(A),P.selection&&P.aggregateKeyframes[P.index].selected===0){let{selection:$,viewModel:K}=P,Q=$.getDragHandlers(B(L({},O),{domNode:s,positionAtStartOfDrag:I[0].kf.position})).onDragStart(_);return Q&&B(L({},Q),{onClick:l.onClickFromDrag,onDragEnd:(...ie)=>{var re;(re=Q.onDragEnd)==null||re.call(Q,...ie),lm()}})}let F=P,N=(0,pa.val)(F.layoutP.scaledSpace.toUnitSpace),j;return{onDrag($,K,Q){var ie;let re=Math.max((ie=da.checkIfMouseEventSnapToPos(Q,{}))!=null?ie:I[0].kf.position+N($),0);f(!0,re),j==null||j.discard(),j=void 0,j=xe().tempTransaction(({stateEditors:ce})=>{for(let Ce of I){let ye=Ce.kf;ce.coreByProject.historic.sheetsById.sequence.replaceKeyframes(B(L({},Ce.track.sheetObject.address),{trackId:Ce.track.id,keyframes:[B(L({},ye),{position:re})],snappingFunction:(0,pa.val)(F.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd($){f(!1,-1),$?j==null||j.commit():(j==null||j.discard(),l.onClickFromDrag(_)),lm()},onClick($){l.onClickFromDrag($)}}}}),[a,l.onClickFromDrag]),[b]=ji(s,g);return W0(b,"draggingPositionInSequenceEditor","ew-resize"),[b]}var pa,Z0,r0e,i0e,s0e,o0e,FP,_B,wB,xB,BP,SB=C(()=>{Sn(),pa=Vt,Z0=q(Le()),Ue(),ca(),Dr(),$Ce(),W3(),up(),cB(),Xl(),Ps(),yo(),c0(),ze(),rc(),um(),Xee(),um(),W3(),i0e=ue.div(r0e||(r0e=W([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),s0e=Object.freeze({selectedPositions:new Map,selection:void 0}),o0e=Z0.default.memo(WCe),FP=o0e,_B=(s=>(s[s.AllSelected=0]="AllSelected",s[s.AtLeastOneUnselected=1]="AtLeastOneUnselected",s[s.NoneSelected=2]="NoneSelected",s))(_B||{}),{AllSelected:wB,AtLeastOneUnselected:xB,NoneSelected:BP}=_B}),J3,EB,a0e,tPe=C(()=>{Sn(),J3=q(Le()),DCe(),pP(),SB(),W3(),up(),EB=(s,a)=>s.type==="propWithChildren"?J3.default.createElement(a0e,{layoutP:a,viewModel:s,key:"prop"+s.pathToProp[s.pathToProp.length-1]}):J3.default.createElement(Lae,{layoutP:a,leaf:s,key:"prop"+s.pathToProp[s.pathToProp.length-1]}),a0e=({viewModel:s,layoutP:a})=>{let l=lp("RightPropWithChildrenRow",s.pathToProp.join());return Xn(()=>{let h=aP(s);return J3.default.createElement(rZ,{logger:l},J3.default.createElement(X3,{leaf:s,node:J3.default.createElement(FP,{layoutP:a,aggregatedKeyframes:h,viewModel:s}),isCollapsed:s.isCollapsed},s.children.map(f=>EB(f,a))))},[s,a])}}),CB,l0e,u0e,nPe=C(()=>{Sn(),CB=q(Le()),tPe(),pP(),W3(),SB(),l0e=({leaf:s,layoutP:a})=>Xn(()=>{let l=aP(s);return CB.default.createElement(X3,{leaf:s,node:CB.default.createElement(FP,{layoutP:a,aggregatedKeyframes:l,viewModel:s}),isCollapsed:s.isCollapsed},s.children.map(h=>EB(h,a)))},[s,a]),u0e=l0e}),UP,c0e,d0e,rPe=C(()=>{Sn(),UP=q(Le()),nPe(),pP(),W3(),SB(),c0e=({leaf:s,layoutP:a})=>Xn(()=>{let l=aP(s);return UP.default.createElement(X3,{leaf:s,node:UP.default.createElement(FP,{layoutP:a,aggregatedKeyframes:l,viewModel:s}),isCollapsed:s.isCollapsed},s.children.map(h=>UP.default.createElement(u0e,{layoutP:a,key:"sheetObject-"+h.sheetObject.address.objectKey,leaf:h})))},[s,a]),d0e=c0e}),g7,mm,zP,h0e,p0e,f0e,m0e,g0e=C(()=>{Sn(),g7=Vt,mm=q(Le()),Ue(),$Ee(),roe(),rPe(),zP=1e6,p0e=ue.ul(h0e||(h0e=W([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),zP),f0e=({layoutP:s})=>Xn(()=>{let a=(0,g7.val)(s.tree),l=(0,g7.val)(s.tree.top)+Math.max((0,g7.val)(s.tree.heightIncludingChildren),(0,g7.val)(s.dopeSheetDims.height));return mm.default.createElement(mm.default.Fragment,null,mm.default.createElement(VF,{layoutP:s,height:l},mm.default.createElement(Cse,{layoutP:s,height:l},mm.default.createElement(p0e,{style:{top:a.top+"px"}},mm.default.createElement(d0e,{leaf:a,layoutP:s})))))},[s]),m0e=f0e});function PB(s,a,l,h){let f="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s,"px)"),g="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(a,") * 1px)");l===0&&(l=1e-4);let b="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l,")");h===0&&(h=.001);let _="calc(var(--graphEditorVerticalSpace) * ".concat(h*-1,")");return"translate(".concat(f,", ").concat(g,") scale(").concat(b,", ").concat(_,")")}function iPe(s,a){let{index:l,trackData:h}=a,f=h.keyframes[l],g=h.keyframes[l+1];return ua(s,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:b})=>{let{deleteKeyframes:_}=b.coreByProject.historic.sheetsById.sequence;_(B(L({},a.sheetObject.address),{trackId:a.trackId,keyframeIds:[f.id,g.id]}))})}}]})}var VP,v0e,y0e,b0e,_0e,w0e,MB=C(()=>{dp(),ze(),ca(),Dr(),VP=q(Le()),Ue(),y0e=ue.path(v0e||(v0e=W([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),b0e="M 0 0 L 1 0 L 1 1",_0e=s=>{let{index:a,trackData:l}=s,h=l.keyframes[a],f=l.keyframes[a+1],g=f.position-h.position,[b,_]=xr(null),[E]=iPe(_,s),P=s.isScalar?SC(h.value,s.propConfig):0,I=s.isScalar?SC(f.value,s.propConfig):1,O=s.extremumSpace.fromValueSpace(P),D=s.extremumSpace.fromValueSpace(I)-O,A=PB(h.position,O,g,D),F=h.handles[2],N=h.handles[3],j=f.handles[0],$=f.handles[1],K="M 0 0 C ".concat(F," ").concat(N," ").concat(j," ").concat($," 1 1");return VP.default.createElement(VP.default.Fragment,null,VP.default.createElement(y0e,{ref:b,d:!h.type||h.type==="bezier"?K:b0e,style:{transform:A}}),E)},w0e=_0e});function sPe(s,a){let l=(0,gm.useRef)(a);l.current=a;let h=(0,gm.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let f,g=l.current,b=(0,v7.val)(g.layoutP.scaledSpace.toUnitSpace),_=(0,v7.val)(g.layoutP.graphEditorVerticalSpace.toExtremumSpace),E=g.extremumSpace.lock();return{onDrag(P,I){f&&(f.discard(),f=void 0);let{index:O,trackData:D}=g,A=D.keyframes[O],F=D.keyframes[O+1],N=b(P)/(F.position-A.position),j=-I,$=_(j),K=g.extremumSpace.deltaToValueSpace($),Q=a.isScalar?A.value:0,ie=a.isScalar?F.value:1,re=K/(ie-Q);if(g.which==="left"){let ce=xi(A.handles[2]+N,0,1),Ce=A.handles[3]+re;f=xe().tempTransaction(({stateEditors:ye})=>{ye.coreByProject.historic.sheetsById.sequence.replaceKeyframes(B(L({},g.sheetObject.address),{snappingFunction:(0,v7.val)(g.layoutP.sheet).getSequence().closestGridPosition,trackId:g.trackId,keyframes:[B(L({},A),{handles:[A.handles[0],A.handles[1],ce,Ce]})]}))})}else{let ce=xi(F.handles[0]+N,0,1),Ce=F.handles[1]+re;f=xe().tempTransaction(({stateEditors:ye})=>{ye.coreByProject.historic.sheetsById.sequence.replaceKeyframes(B(L({},g.sheetObject.address),{trackId:g.trackId,snappingFunction:(0,v7.val)(g.layoutP.sheet).getSequence().closestGridPosition,keyframes:[B(L({},F),{handles:[ce,Ce,F.handles[2],F.handles[3]]})]}))})}},onDragEnd(P){E(),P?f&&f.commit():f&&f.discard()}}}}),[]);ji(s,h)}function oPe(s,a){return ua(s,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(B(L({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}var v7,gm,x0e,TB,S0e,E0e,C0e,P0e,M0e,kB,aPe=C(()=>{ze(),ca(),Ps(),Dr(),v7=Vt,pi(),gm=q(Le()),Ue(),MB(),Or(),TB=ue.circle(x0e||(x0e=W([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),E0e=ue.circle(S0e||(S0e=W([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),Tr,TB),P0e=ue.path(C0e||(C0e=W([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),M0e=s=>{let[a,l]=xr(null),{index:h,trackData:f}=s,g=f.keyframes[h],b=f.keyframes[h+1],[_]=oPe(l,s);sPe(l,s);let E=s.which==="left"?g.handles[2]:b.handles[0],P=g.position+(b.position-g.position)*E,I=s.which==="left"?g.handles[3]:b.handles[1],O=s.isScalar?g.value:0,D=s.isScalar?b.value:1,A=O+(D-O)*I,F=s.extremumSpace.fromValueSpace(A),N=F-s.extremumSpace.fromValueSpace(s.which==="left"?O:D),j=PB(s.which==="left"?g.position:b.position,s.extremumSpace.fromValueSpace(s.which==="left"?O:D),P-(s.which==="left"?g.position:b.position),N);return gm.default.createElement("g",null,gm.default.createElement(E0e,{ref:a,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(P," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(F,") * 1px)")}}),gm.default.createElement(TB,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(P," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(F,") * 1px)")}}),gm.default.createElement(P0e,{d:"M 0 0 L 1 1",style:{transform:j}}),_)},kB=M0e});function lPe(s){let[a,l]=(0,Sp.useState)(!1);Ed(a,s.props.keyframe.position);let h=(0,Sp.useRef)(s.props);h.current=s.props;let f=(0,Sp.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(g){l(!0);let b=!!g.altKey,_=h.current,E=(0,jP.val)(_.layoutP.scaledSpace.toUnitSpace),P=(0,jP.val)(_.layoutP.graphEditorVerticalSpace.toExtremumSpace),I=_.extremumSpace.lock(),O;return{onDrag(D,A){let F=_.trackData.keyframes[_.index],N=E(D),j=-A,$=P(j),K=_.extremumSpace.deltaToValueSpace($),Q=[],ie=B(L({},F),{position:F.position+N,value:F.value+K,handles:[...F.handles]});if(Q.push(ie),b){let re=_.trackData.keyframes[_.index-1];if(re&&Math.abs(F.value-re.value)>0){let Ce=B(L({},re),{handles:[...re.handles]});Q.push(Ce),Ce.handles[3]=cPe(re.handles[3],re.value,re.value,F.value,ie.value)}let ce=_.trackData.keyframes[_.index+1];if(ce&&Math.abs(F.value-ce.value)>0){let Ce=B(L({},ce),{handles:[...ce.handles]});Q.push(Ce),Ce.handles[1]=dPe(Ce.handles[1],Ce.value,Ce.value,F.value,ie.value)}}O==null||O.discard(),O=xe().tempTransaction(({stateEditors:re})=>{re.coreByProject.historic.sheetsById.sequence.replaceKeyframes(B(L({},_.sheetObject.address),{trackId:_.trackId,keyframes:Q,snappingFunction:(0,jP.val)(_.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(D){l(!1),I(),D?O==null||O.commit():(O==null||O.discard(),s.onDetectedClick(g))}}}}),[]);return ji(s.node,f),W0(a,"draggingPositionInSequenceEditor","move"),a}function uPe(s,a){return ua(s,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(B(L({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}function cPe(s,a,l,h,f){return(h-a)*s/(f-l)}function dPe(s,a,l,h,f){return((a-h)*s+h-a+l-f)/(l-f)}var jP,Sp,T0e,AB,k0e,A0e,I0e,R0e,hPe=C(()=>{ze(),ca(),Ps(),Dr(),jP=Vt,Sp=q(Le()),Ue(),yo(),yo(),Or(),c0(),Xl(),IP(),nm(),AB=ue.circle(T0e||(T0e=W([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),A0e=ue.circle(k0e||(k0e=W([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),Tr,AB,md),I0e=s=>{let[a,l]=xr(null),{index:h,trackData:f}=s,g=f.keyframes[h],[b]=uPe(l,s),_=tm(s.itemKey),E=g.value,P=s.extremumSpace.fromValueSpace(E),I=kP([{type:"primitiveProp",keyframe:s.keyframe,pathToProp:s.pathToProp,propConfig:s.propConfig,sheetObject:s.sheetObject,trackId:s.trackId}]),O=lPe({node:l,props:s,onDetectedClick:D=>I.toggle(D,D.target instanceof Element?D.target:l)});return Sp.default.createElement(Sp.default.Fragment,null,Sp.default.createElement(A0e,B(L(L(L({ref:a,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(g.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(P,") * 1px)")}},ic(g.position)),da.includePositionSnapAttrs(g.position)),_.attrs),{className:O?"beingDragged":""})),Sp.default.createElement(AB,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(g.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(P,") * 1px)"),fill:_.flag===2?"white":void 0}}),I.node,b)},R0e=I0e});function pPe(s){let[a,l]=(0,Ep.useState)(!1);Ed(a,s.props.keyframe.position);let h=(0,Ep.useRef)(s.props);h.current=s.props;let f=(0,Ep.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(g){l(!0);let b=h.current,_=(0,IB.val)(b.layoutP.scaledSpace.toUnitSpace),E=b.extremumSpace.lock(),P;return{onDrag(I,O){let D=b.trackData.keyframes[b.index],A=_(I),F=[],N=B(L({},D),{position:D.position+A,value:D.value,handles:[...D.handles]});F.push(N),P==null||P.discard(),P=xe().tempTransaction(({stateEditors:j})=>{j.coreByProject.historic.sheetsById.sequence.replaceKeyframes(B(L({},b.sheetObject.address),{trackId:b.trackId,keyframes:F,snappingFunction:(0,IB.val)(b.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(I){l(!1),E(),I?P==null||P.commit():(P==null||P.discard(),s.onDetectedClick(g))}}}}),[]);return ji(s.node,f),W0(a,"draggingPositionInSequenceEditor","ew-resize"),a}function fPe(s,a){return ua(s,{menuItems:()=>[{label:"Delete",callback:()=>{xe().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(B(L({},a.sheetObject.address),{keyframeIds:[a.keyframe.id],trackId:a.trackId}))})}}]})}var IB,Ep,D0e,RB,O0e,L0e,N0e,DB,mPe=C(()=>{ze(),ca(),Ps(),Dr(),IB=Vt,Ep=q(Le()),Ue(),yo(),yo(),Or(),c0(),Xl(),IP(),nm(),RB=ue.circle(D0e||(D0e=W([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),L0e=ue.circle(O0e||(O0e=W([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),Tr,RB,md),N0e=s=>{let[a,l]=xr(null),{index:h,trackData:f,itemKey:g}=s,b=f.keyframes[h],[_]=fPe(l,s),E=tm(g),P=s.which==="left"?0:1,I=kP([{type:"primitiveProp",keyframe:s.keyframe,pathToProp:s.pathToProp,propConfig:s.propConfig,sheetObject:s.sheetObject,trackId:s.trackId}]),O=pPe({node:l,props:s,onDetectedClick:A=>I.toggle(A,A.target instanceof Element?A.target:l)}),D=s.extremumSpace.fromValueSpace(P);return Ep.default.createElement(Ep.default.Fragment,null,Ep.default.createElement(L0e,B(L(L(L({ref:a,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(b.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(D,") * 1px)")}},E.attrs),ic(b.position)),da.includePositionSnapAttrs(b.position)),{className:O?"beingDragged":""})),Ep.default.createElement(RB,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(b.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(D,") * 1px)"),fill:E.flag===2?"white":void 0}}),I.node,_)},DB=N0e}),HP,F0e,B0e,U0e,z0e,gPe=C(()=>{HP=q(Le()),Ue(),MB(),B0e=ue.path(F0e||(F0e=W([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),U0e=s=>{let{index:a,trackData:l}=s,h="M 0 0 L 1 1",f=PB(l.keyframes[a].position,s.extremumSpace.fromValueSpace(0),0,s.extremumSpace.fromValueSpace(1)-s.extremumSpace.fromValueSpace(0));return HP.default.createElement(HP.default.Fragment,null,HP.default.createElement(B0e,{d:h,style:{transform:f}}))},z0e=U0e}),_o,V0e,j0e,H0e,G0e,$0e,vPe=C(()=>{_o=q(Le()),Ue(),MB(),aPe(),hPe(),mPe(),gPe(),j0e=ue.g(V0e||(V0e=W([`
  /* position: absolute; */
`]))),H0e=_o.default.createElement(_o.default.Fragment,null),G0e=s=>{let{index:a,trackData:l,isScalar:h}=s,f=l.keyframes[a],g=l.keyframes[a+1],b=f.connectedRight&&!!g&&g.value!==f.value;return _o.default.createElement(j0e,null,b?_o.default.createElement(_o.default.Fragment,null,_o.default.createElement(w0e,L({},s)),!f.type||f.type==="bezier"&&_o.default.createElement(_o.default.Fragment,null,_o.default.createElement(kB,B(L({},s),{which:"left"})),_o.default.createElement(kB,B(L({},s),{which:"right"})))):H0e,h?_o.default.createElement(R0e,L({},s)):_o.default.createElement(_o.default.Fragment,null,_o.default.createElement(DB,B(L({},s),{which:"left"})),_o.default.createElement(DB,B(L({},s),{which:"right"})),_o.default.createElement(z0e,L({},s))))},$0e=G0e});function yPe(s,a){let l=1/0,h=-1/0;function f(g){l=Math.min(g,l),h=Math.max(g,h)}return s.forEach((g,b)=>{let _=SC(g.value,a);if(f(_),!g.connectedRight)return;let E=s[b+1];if(!E)return;let P=(typeof E.value=="number"?E.value:1)-_;f(_+g.handles[3]*P),f(_+E.handles[1]*P)}),[l,h]}function bPe(s){let a=0,l=1;function h(f){a=Math.min(f,a),l=Math.max(f,l)}return s.forEach((f,g)=>{if(!f.connectedRight)return;let b=s[g+1];b&&(h(f.handles[3]),h(b.handles[1]))}),[a,l]}var oc,W0e,K0e,_Pe=C(()=>{_d(),oc=q(Le()),$P(),vPe(),dp(),Sn(),W0e=oc.default.memo(({layoutP:s,trackData:a,sheetObject:l,trackId:h,color:f,pathToProp:g})=>{let b=xC(nr(l.template.configPointer),g);if(ec(b))return console.error("Composite prop types cannot be keyframed"),oc.default.createElement(oc.default.Fragment,null);let[_,E]=(0,oc.useState)(!1),P=(0,oc.useMemo)(()=>{let A=new Set;return function(){let F=A.size===0;A.add(N),F&&E(!0);function N(){let j=A.size>0;A.delete(N),j&&A.size===0&&E(!1)}return N}},[]),I=(0,oc.useMemo)(()=>{let A=b.type==="number"?yPe(a.keyframes,b):bPe(a.keyframes),F=$=>($-A[0])/(A[1]-A[0]),N=$=>A[0]+j($),j=$=>$*(A[1]-A[0]);return{fromValueSpace:F,toValueSpace:N,deltaToValueSpace:j,lock:P}},[a.keyframes]),O=(0,oc.useRef)(void 0);_||(O.current=I);let D=a.keyframes.map((A,F)=>oc.default.createElement($0e,{pathToProp:g,propConfig:b,itemKey:Bs.forTrackKeyframe(l,h,A.id),keyframe:A,index:F,trackData:a,layoutP:s,sheetObject:l,trackId:h,isScalar:b.type==="number",key:A.id,extremumSpace:O.current,color:f}));return oc.default.createElement("g",{style:{"--main-color":y7[f].iconColor}},D)}),K0e=W0e}),X0e,GP,q0e,Y0e,wPe=C(()=>{ze(),Sn(),X0e=Vt,GP=q(Le()),_Pe(),q0e=s=>Xn(()=>{let{sheetObject:a,trackId:l}=s,h=(0,X0e.val)(xe().atomP.historic.coreByProject[a.address.projectId].sheetsById[a.address.sheetId].sequence.tracksByObject[a.address.objectKey].trackData[l]);return(h==null?void 0:h.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(h==null?void 0:h.type," is not yet supported on the graph editor")),GP.default.createElement(GP.default.Fragment,null)):GP.default.createElement(K0e,B(L({},s),{trackData:h}))},[s.trackId,s.layoutP]),Y0e=q0e});function Z0e({clippedSpaceRange:s,clippedSpaceWidth:a,fps:l,gapWidth:h=120},f){let g=1/l,b=s.end-s.start,_=a/(l*b),E=Math.floor(h/_),P=(E<l?Q0e(l).find(D=>D>=E):l*Math.floor(E/l))*g,I=Math.floor(s.start/P),O=Math.ceil(s.end/P);for(let D=I;D<=O;D++){let A=D*P,F=A%1===0;f(A,F)}}var Q0e,J0e=C(()=>{pi(),Q0e=Ov(s=>{let a=[];for(let l=1;l<=s;l++)s%l===0&&a.push(l);return a})});function xPe(s){let{clippedSpaceWidth:a,height:l,ctx:h,unitSpaceToClippedSpace:f,snapToGrid:g}=s;h.clearRect(0,0,a,l),Z0e(s,(b,_)=>{let E=g(b),P=Math.floor(f(E));h.strokeStyle=_?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",h.beginPath(),h.moveTo(P,0),h.lineTo(P,l),h.stroke(),h.closePath()})}var vm,ym,ele,tle,nle,rle,ile,sle,ole,ale,OB,lle=C(()=>{vm=Vt,ym=q(Le()),Ue(),J0e(),ze(),tle=ue.div(ele||(ele=W([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),rle=ue.canvas(nle||(nle=W([`
  position: relative;
  left: 0;
`]))),ile=s=>{let a=s;return a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1},sle=()=>window.devicePixelRatio||1,ole=s=>sle()/ile(s),ale=({layoutP:s,width:a,height:l})=>{let h=(0,ym.useRef)(null),[f,g]=(0,ym.useState)(null),{ctx:b,ratio:_}=(0,ym.useMemo)(()=>{if(!f)return{};let E=f.getContext("2d"),P=ole(E);return{ctx:E,ratio:P}},[f]);return(0,ym.useLayoutEffect)(()=>{if(!b)return;f.width=a*_,f.height=l*_;let E=(0,vm.prism)(()=>{let P=(0,vm.val)(s.sheet).getSequence();return{ctx:b,clippedSpaceRange:(0,vm.val)(s.clippedSpace.range),clippedSpaceWidth:(0,vm.val)(s.clippedSpace.width),unitSpaceToClippedSpace:(0,vm.val)(s.clippedSpace.fromUnitSpace),height:l,leftPadding:(0,vm.val)(s.scaledSpace.leftPadding),fps:P.subUnitsPerUnit,snapToGrid:I=>P.closestGridPosition(I)}}).onChange(xe().ticker,P=>{b.save(),b.scale(_,_),xPe(P),b.restore()},!0);return()=>{E()}},[b,a,l,s]),ym.default.createElement(tle,{ref:h,style:{width:a+"px"}},ym.default.createElement(rle,{ref:g,style:{width:a+"px",height:l+"px"}}))},OB=ale}),ac,bm,y7,ule,cle,dle,hle,ple,fle,$P=C(()=>{ze(),rc(),MC(),Sn(),ac=Vt,bm=q(Le()),Ue(),g0e(),roe(),wPe(),lle(),u0(),y7={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},cle=ue.div(ule||(ule=W([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),zl(.03,"#1a1c1e")),hle=ue.svg(dle||(dle=W([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),ple=({layoutP:s})=>Xn(()=>{let a=(0,ac.val)(s.sheet),l=(0,ac.val)(xe().atomP.historic.projects.stateByProjectId[a.address.projectId].stateBySheetId[a.address.sheetId].sequenceEditor.selectedPropsByObject),h=(0,ac.val)(s.graphEditorDims.height),f=(0,ac.val)(s.scaledSpace.fromUnitSpace)(1),g=[];if(l)for(let[_,E]of Object.entries(l)){let P=a.getObject(_);if(!P)continue;let I=(0,ac.val)(P.template.getMapOfValidSequenceTracks_forStudio());for(let[O,D]of Object.entries(E)){let A=sP(O),F=pp(I,A);F&&g.push(bm.default.createElement(Y0e,{key:"graph-".concat(_,"-").concat(O),sheetObject:P,pathToProp:A,layoutP:s,trackId:F,color:D}))}}let b=(0,ac.val)(s.rightDims.width);return bm.default.createElement(cle,{style:{width:b+"px",height:h+"px","--unitSpaceToScaledSpaceMultiplier":f,"--graphEditorVerticalSpace":"".concat((0,ac.val)(s.graphEditorVerticalSpace.space))}},bm.default.createElement(OB,{layoutP:s,width:b,height:h}),bm.default.createElement(VF,{layoutP:s,height:h},bm.default.createElement(hle,{width:zP,height:h,viewBox:"0 0 ".concat(zP," ").concat(h)},bm.default.createElement("g",{style:{transform:"translate(".concat((0,ac.val)(s.scaledSpace.leftPadding),"px, ").concat((0,ac.val)(s.graphEditorDims.padding.top),"px)")}},g))))},[s]),fle=ple}),mle,Q0,gle,vle,yle,ble,LB,_le,wle,xle,Sle,Ele,Cle,Ple,SPe=C(()=>{ze(),rc(),TC(),Sn(),mle=Vt,Q0=q(Le()),Ue(),$N(),RC(),$P(),rP(),em(),nse(),gle={label:{color:"#9a9a9a"}},yle=ue(CF)(vle||(vle=W([""]))),LB=ue(PF)(ble||(ble=W([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),gle.label.color),wle=ue.button(_le||(_le=W([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),s=>s.isSelected?y7[s.graphEditorColor].iconColor:fp.offColor),xle=()=>Q0.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},Q0.default.createElement("g",{transform:"translate(0 100)"},Q0.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),Ele=ue.span(Sle||(Sle=W([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),hp,LB),Cle=({leaf:s})=>{var a;let l=R6(s.sheetObject.propsP,s.pathToProp),h=s.sheetObject,{controlIndicators:f}=GN(l,h,s.propConf),g=Xn(()=>{let D=s.sheetObject.address,A=nc(s.pathToProp);return(0,mle.val)(xe().atomP.historic.projects.stateByProjectId[D.projectId].stateBySheetId[D.sheetId].sequenceEditor.selectedPropsByObject[D.objectKey][A])},[s]),b=(0,Q0.useRef)(!1),_=typeof g=="string";b.current=_;let E=(0,Q0.useCallback)(()=>{let D=s.sheetObject.address;xe().transaction(({stateEditors:A})=>{b.current?A.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(B(L({},D),{pathToProp:s.pathToProp})):(A.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(B(L({},D),{pathToProp:s.pathToProp})),A.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[s]),P=(a=s.propConf.label)!=null?a:s.pathToProp[s.pathToProp.length-1],I=!0,O=(0,Q0.useRef)(null);return ese(O.current,s),Q0.default.createElement(yle,{depth:s.depth},Q0.default.createElement(LB,{ref:O,isEven:s.n%2===0,style:{height:s.nodeHeight+"px"},isSelected:_===!0},Q0.default.createElement(Ele,null,P),f,Q0.default.createElement(wle,{onClick:E,isSelected:_===!0,graphEditorColor:g??"1",style:{opacity:1},disabled:!I},Q0.default.createElement(xle,null))))},Ple=Cle});function NB(s,a){xe().transaction(({stateEditors:l})=>{l.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(B(L({},a.sheetAddress),{studioSheetItemKey:a.sheetItemKey,isCollapsed:s}))})}var FB=C(()=>{ze()}),e5,BB,Mle,EPe=C(()=>{e5=q(Le()),rP(),SPe(),FB(),BB=s=>{let a="prop"+s.pathToProp[s.pathToProp.length-1];return s.shouldRender?s.type==="propWithChildren"?e5.default.createElement(Mle,{leaf:s,key:a}):e5.default.createElement(Ple,{leaf:s,key:a}):e5.default.createElement(e5.default.Fragment,{key:a})},Mle=({leaf:s})=>e5.default.createElement(nP,{leaf:s,label:s.pathToProp[s.pathToProp.length-1],isCollapsed:s.isCollapsed,toggleCollapsed:()=>NB(!s.isCollapsed,{sheetAddress:s.sheetObject.address,sheetItemKey:s.sheetItemKey})},s.children.map(a=>BB(a)))}),Tle,kle,Ale,CPe=C(()=>{Tle=q(Le()),rP(),EPe(),FB(),ze(),kle=({leaf:s})=>Tle.default.createElement(nP,{leaf:s,label:s.sheetObject.address.objectKey,isCollapsed:s.isCollapsed,toggleSelect:()=>{xe().transaction(({stateEditors:a})=>{a.studio.historic.panels.outline.selection.set([s.sheetObject])})},toggleCollapsed:()=>NB(!s.isCollapsed,{sheetAddress:s.sheetObject.address,sheetItemKey:s.sheetItemKey})},s.children.map(a=>BB(a))),Ale=kle}),UB,Ile,Rle,PPe=C(()=>{Sn(),UB=q(Le()),CPe(),rP(),FB(),jte(),Ile=({leaf:s})=>Xn(()=>UB.default.createElement(nP,{leaf:s,label:s.sheet.address.sheetId,isCollapsed:s.isCollapsed,toggleCollapsed:()=>{NB(!s.isCollapsed,{sheetAddress:s.sheet.address,sheetItemKey:s.sheetItemKey})}},s.children.map(a=>UB.default.createElement(Ale,{key:"sheetObject-"+zte(a.sheetObject),leaf:a}))),[s]),Rle=Ile}),zB,WP,Dle,Ole,Lle,Nle,Fle,Ble,MPe=C(()=>{Sn(),zB=Vt,WP=q(Le()),Ue(),PPe(),Ole=ue.div(Dle||(Dle=W([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),Nle=ue.ul(Lle||(Lle=W([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),Fle=({layoutP:s})=>Xn(()=>{let a=(0,zB.val)(s.tree),l=(0,zB.val)(s.leftDims.width);return WP.default.createElement(Ole,{style:{width:l+"px",top:a.top+"px"}},WP.default.createElement(Nle,null,WP.default.createElement(Rle,{leaf:a})))},[s]),Ble=Fle}),VB,Ule,zle,Vle,jle,TPe=C(()=>{Or(),Ad(),Sn(),u0(),VB=q(Le()),Ue(),lle(),zle=ue.div(Ule||(Ule=W([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>pc.rightBackground,zl(.01,o6(1*.03,S3.panel.bg))),Vle=({layoutP:s})=>{let a=nr(s.rightDims.width),l=nr(s.panelDims.height);return VB.default.createElement(zle,{style:{width:a+"px"}},VB.default.createElement(OB,{width:a,height:l,layoutP:s}))},jle=Vle}),t5,Hle,Gle,$le,Wle,kPe=C(()=>{Sn(),t5=q(Le()),Ue(),MPe(),TPe(),g0e(),Ise(),Gle=ue.div(Hle||(Hle=W([`
  position: absolute;
  left: 0;
  right: 0;
`]))),$le=({layoutP:s})=>{let a=nr(s.dopeSheetDims.height);return t5.default.createElement(Gle,{style:{height:a+"px"}},t5.default.createElement(jle,{layoutP:s}),t5.default.createElement(Ase,null,t5.default.createElement(Ble,{layoutP:s}),t5.default.createElement(m0e,{layoutP:s})))},Wle=$le});function APe(s,a,l){return jB.prism.memo(s,()=>(0,jB.prism)(a),l).getValue()}var jB,IPe=C(()=>{jB=Vt});function mi(s){return function(a,l){return s(a,l())}}function h0(s){return Object.freeze({audience:_m(s,8)?"internal":_m(s,16)?"dev":"public",category:_m(s,4)?"troubleshooting":_m(s,2)?"todo":"general",level:_m(s,512)?512:_m(s,256)?256:_m(s,128)?128:64})}function _m(s,a){return(s&a)===a}function gi(s,a){return((a&32)===32?!0:(a&16)===16?s.dev:(a&8)===8?s.internal:!1)&&s.min<=a}function Kle(s=console,a={}){let l=B(L({},lc),{includes:L({},lc.includes)}),h={styled:OPe.bind(l,s),noStyle:NPe.bind(l,s)},f=DPe.bind(l);function g(){return l.loggingConsoleStyle&&l.loggerConsoleStyle?h.styled:h.noStyle}return l.create=g(),{configureLogger(b){var _;b==="console"?(l.loggerConsoleStyle=lc.loggerConsoleStyle,l.create=g()):b.type==="console"?(l.loggerConsoleStyle=(_=b.style)!=null?_:lc.loggerConsoleStyle,l.create=g()):b.type==="keyed"?(l.creatExt=E=>b.keyed(E.names),l.create=f):b.type==="named"&&(l.creatExt=RPe.bind(null,b.named),l.create=f)},configureLogging(b){var _,E,P,I,O;l.includes.dev=(_=b.dev)!=null?_:lc.includes.dev,l.includes.internal=(E=b.internal)!=null?E:lc.includes.internal,l.includes.min=(P=b.min)!=null?P:lc.includes.min,l.include=(I=b.include)!=null?I:lc.include,l.loggingConsoleStyle=(O=b.consoleStyle)!=null?O:lc.loggingConsoleStyle,l.create=g()},getLogger(){return l.create({names:[]})}}}function RPe(s,a){let l=[];for(let{name:h,key:f}of a.names)l.push(f==null?h:"".concat(h," (").concat(f,")"));return s(l)}function DPe(s){let a=L(L({},this.includes),this.include(s)),l=this.filtered,h=this.named.bind(this,s),f=this.creatExt(s),g=gi(a,524),b=gi(a,522),_=gi(a,521),E=gi(a,529),P=gi(a,545),I=gi(a,265),O=gi(a,268),D=gi(a,273),A=gi(a,289),F=gi(a,137),N=gi(a,145),j=gi(a,73),$=gi(a,81),K=g?f.error.bind(f,ja._hmm):l.bind(s,524),Q=b?f.error.bind(f,ja._todo):l.bind(s,522),ie=_?f.error.bind(f,ja._error):l.bind(s,521),re=E?f.error.bind(f,ja.errorDev):l.bind(s,529),ce=P?f.error.bind(f,ja.errorPublic):l.bind(s,545),Ce=O?f.warn.bind(f,ja._kapow):l.bind(s,268),ye=I?f.warn.bind(f,ja._warn):l.bind(s,265),we=D?f.warn.bind(f,ja.warnDev):l.bind(s,273),Oe=A?f.warn.bind(f,ja.warnPublic):l.bind(s,273),rt=F?f.debug.bind(f,ja._debug):l.bind(s,137),he=N?f.debug.bind(f,ja.debugDev):l.bind(s,145),De=j?f.trace.bind(f,ja._trace):l.bind(s,73),J=$?f.trace.bind(f,ja.traceDev):l.bind(s,81),Ge={_hmm:K,_todo:Q,_error:ie,errorDev:re,errorPublic:ce,_kapow:Ce,_warn:ye,warnDev:we,warnPublic:Oe,_debug:rt,debugDev:he,_trace:De,traceDev:J,lazy:{_hmm:g?mi(K):K,_todo:b?mi(Q):Q,_error:_?mi(ie):ie,errorDev:E?mi(re):re,errorPublic:P?mi(ce):ce,_kapow:O?mi(Ce):Ce,_warn:I?mi(ye):ye,warnDev:D?mi(we):we,warnPublic:A?mi(Oe):Oe,_debug:F?mi(rt):rt,debugDev:N?mi(he):he,_trace:j?mi(De):De,traceDev:$?mi(J):J},named:h,utilFor:{internal(){return{debug:Ge._debug,error:Ge._error,warn:Ge._warn,trace:Ge._trace,named(zt,ke){return Ge.named(zt,ke).utilFor.internal()}}},dev(){return{debug:Ge.debugDev,error:Ge.errorDev,warn:Ge.warnDev,trace:Ge.traceDev,named(zt,ke){return Ge.named(zt,ke).utilFor.dev()}}},public(){return{error:Ge.errorPublic,warn:Ge.warnPublic,debug(zt,ke){Ge._warn('(public "debug" filtered out) '.concat(zt),ke)},trace(zt,ke){Ge._warn('(public "trace" filtered out) '.concat(zt),ke)},named(zt,ke){return Ge.named(zt,ke).utilFor.public()}}}}};return Ge}function OPe(s,a){let l=L(L({},this.includes),this.include(a)),h=[],f="";for(let E=0;E<a.names.length;E++){let{name:P,key:I}=a.names[E];if(f+=" %c".concat(P),h.push(this.style.css(P)),I!=null){let O="%c#".concat(I);f+=O,h.push(this.style.css(O))}}let g=this.filtered,b=this.named.bind(this,a),_=[f,...h];return Xle(g,a,l,s,_,LPe(_),b)}function LPe(s){let a=s.slice(0);for(let l=1;l<a.length;l++)a[l]+=";background-color:#e0005a;padding:2px;color:white";return a}function NPe(s,a){let l=L(L({},this.includes),this.include(a)),h="";for(let _=0;_<a.names.length;_++){let{name:E,key:P}=a.names[_];h+=" ".concat(E),P!=null&&(h+="#".concat(P))}let f=this.filtered,g=this.named.bind(this,a),b=[h];return Xle(f,a,l,s,b,b,g)}function Xle(s,a,l,h,f,g,b){let _=gi(l,524),E=gi(l,522),P=gi(l,521),I=gi(l,529),O=gi(l,545),D=gi(l,265),A=gi(l,268),F=gi(l,273),N=gi(l,289),j=gi(l,137),$=gi(l,145),K=gi(l,73),Q=gi(l,81),ie=_?h.error.bind(h,...f):s.bind(a,524),re=E?h.error.bind(h,...f):s.bind(a,522),ce=P?h.error.bind(h,...f):s.bind(a,521),Ce=I?h.error.bind(h,...f):s.bind(a,529),ye=O?h.error.bind(h,...f):s.bind(a,545),we=A?h.warn.bind(h,...g):s.bind(a,268),Oe=D?h.warn.bind(h,...f):s.bind(a,265),rt=F?h.warn.bind(h,...f):s.bind(a,273),he=N?h.warn.bind(h,...f):s.bind(a,273),De=j?h.info.bind(h,...f):s.bind(a,137),J=$?h.info.bind(h,...f):s.bind(a,145),Ge=K?h.debug.bind(h,...f):s.bind(a,73),zt=Q?h.debug.bind(h,...f):s.bind(a,81),ke={_hmm:ie,_todo:re,_error:ce,errorDev:Ce,errorPublic:ye,_kapow:we,_warn:Oe,warnDev:rt,warnPublic:he,_debug:De,debugDev:J,_trace:Ge,traceDev:zt,lazy:{_hmm:_?mi(ie):ie,_todo:E?mi(re):re,_error:P?mi(ce):ce,errorDev:I?mi(Ce):Ce,errorPublic:O?mi(ye):ye,_kapow:A?mi(we):we,_warn:D?mi(Oe):Oe,warnDev:F?mi(rt):rt,warnPublic:N?mi(he):he,_debug:j?mi(De):De,debugDev:$?mi(J):J,_trace:K?mi(Ge):Ge,traceDev:Q?mi(zt):zt},named:b,utilFor:{internal(){return{debug:ke._debug,error:ke._error,warn:ke._warn,trace:ke._trace,named(Ae,We){return ke.named(Ae,We).utilFor.internal()}}},dev(){return{debug:ke.debugDev,error:ke.errorDev,warn:ke.warnDev,trace:ke.traceDev,named(Ae,We){return ke.named(Ae,We).utilFor.dev()}}},public(){return{error:ke.errorPublic,warn:ke.warnPublic,debug(Ae,We){ke._warn('(public "debug" filtered out) '.concat(Ae),We)},trace(Ae,We){ke._warn('(public "trace" filtered out) '.concat(Ae),We)},named(Ae,We){return ke.named(Ae,We).utilFor.public()}}}}};return ke}var ja,lc,qle=C(()=>{ja={_hmm:h0(524),_todo:h0(522),_error:h0(521),errorDev:h0(529),errorPublic:h0(545),_kapow:h0(268),_warn:h0(265),warnDev:h0(273),warnPublic:h0(289),_debug:h0(137),debugDev:h0(145),_trace:h0(73),traceDev:h0(81)},lc={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(s,a,l){return this.create({names:[...s.names,{name:a,key:l}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(s){if(s.length<5)return s;let a=s.replace(this.collapseOnRE,"");return this.cssMemo.has(a)||this.cssMemo.set(a,this.css(s)),a},css(s){var a,l,h,f;let g=this.cssMemo.get(s);if(g)return g;let b="color:".concat((l=(a=this.color)==null?void 0:a.call(this,s))!=null?l:"hsl(".concat((s.charCodeAt(0)+s.charCodeAt(s.length-1))%360,", 100%, 60%)"));return(h=this.bold)!=null&&h.test(s)&&(b+=";font-weight:600"),(f=this.italic)!=null&&f.test(s)&&(b+=";font-style:italic"),this.cssMemo.set(s,b),b}}}}),HB,KP,XP=C(()=>{qle(),qle(),HB=Kle(console,{_debug:function(){},_error:function(){}}),HB.configureLogging({dev:!0,min:64}),KP=HB.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),Cp,wm,Yle,FPe=C(()=>{_d(),Cp=Vt,XP(),pd(),wm=28,Yle=(s,a)=>{var l;Cp.prism.ensurePrism();let h=!0,f=XE+wm,g=0,b=a.atomP.ahistoric.projects.stateByProjectId[s.address.projectId].stateBySheetId[s.address.sheetId].sequence.collapsableItems,_=b.byId[Bs.forSheet()].isCollapsed,E=(l=(0,Cp.pointerToPrism)(_).getValue())!=null?l:!1,P={type:"sheet",isCollapsed:E,sheet:s,children:[],sheetItemKey:Bs.forSheet(),shouldRender:h,top:XE,depth:0,n:g,nodeHeight:h?wm:0,heightIncludingChildren:-1};g+=1;for(let N of Object.values((0,Cp.val)(s.objectsP)))N&&I(N,P.children,P.depth+1,!E);P.heightIncludingChildren=f-P.top;function I(N,j,$,K){var Q;let ie=(0,Cp.val)(N.template.getMapOfValidSequenceTracks_forStudio()),re=(0,Cp.val)(N.template.configPointer);if(Object.keys(ie).length===0)return;let ce=b.byId[Bs.forSheetObject(N)].isCollapsed,Ce=(Q=(0,Cp.pointerToPrism)(ce).getValue())!=null?Q:!1,ye={type:"sheetObject",isCollapsed:Ce,sheetItemKey:Bs.forSheetObject(N),shouldRender:K,top:f,children:[],depth:$,n:g,sheetObject:N,nodeHeight:K?wm:0,heightIncludingChildren:-1};j.push(ye),K&&(g+=1,f+=ye.nodeHeight),O(N,ie,[],re,ye.children,$+1,K&&!Ce),ye.heightIncludingChildren=f-ye.top}function O(N,j,$,K,Q,ie,re){for(let[ce,Ce]of Object.entries(j)){let ye=K.props[ce];D(N,Ce,[...$,ce],ye,Q,ie,re)}}function D(N,j,$,K,Q,ie,re){K.type==="compound"?A(N,j,K,$,K,Q,ie,re):K.type==="enum"?KP.warn("Prop type enum is not yet supported in the sequence editor"):F(N,j,$,K,Q,ie,re)}function A(N,j,$,K,Q,ie,re,ce){var Ce;let ye=b.byId[Bs.forSheetObjectProp(N,K)].isCollapsed,we=(Ce=(0,Cp.pointerToPrism)(ye).getValue())!=null?Ce:!1,Oe={type:"propWithChildren",isCollapsed:we,propConf:$,pathToProp:K,sheetItemKey:Bs.forSheetObjectProp(N,K),sheetObject:N,shouldRender:ce,top:f,children:[],nodeHeight:ce?wm:0,heightIncludingChildren:-1,depth:re,trackMapping:j,n:g};ie.push(Oe),ce&&(f+=Oe.nodeHeight,g+=1),O(N,j,K,Q,Oe.children,re+1,ce&&!we),Oe.heightIncludingChildren=f-Oe.top}function F(N,j,$,K,Q,ie,re){let ce={type:"primitiveProp",propConf:K,depth:ie,sheetItemKey:Bs.forSheetObjectProp(N,$),sheetObject:N,pathToProp:$,shouldRender:re,top:f,nodeHeight:re?wm:0,heightIncludingChildren:re?wm:0,trackId:j,n:g};Q.push(ce),g+=1,f+=ce.nodeHeight}return P}});function BPe(s,a){let l=xe(),h=l.atomP.ahistoric.projects.stateByProjectId[s.address.projectId].stateBySheetId[s.address.sheetId],f=l.atomP.historic.projects.stateByProjectId[s.address.projectId].stateBySheetId[s.address.sheetId];return(0,Ha.prism)(()=>{var g;let b=APe("tree",()=>Yle(s,l),[]),_=(0,Ha.val)(a),E=(0,Ha.val)(l.atomP.historic.panels.sequenceEditor.graphEditor),P=(0,Ha.val)(f.sequenceEditor.selectedPropsByObject),I=!!P&&Object.keys(P).length>0,{leftDims:O,rightDims:D,graphEditorDims:A,dopeSheetDims:F,horizontalScrollbarDims:N}=Ha.prism.memo("leftDims",()=>{var Oe;let rt={width:Math.floor(_.width*Zle),height:_.height,screenX:_.screenX,screenY:_.screenY},he={width:_.width-rt.width,height:_.height,screenX:_.screenX+rt.width,screenY:_.screenY},De=I&&(E==null?void 0:E.isOpen)===!0,J=Math.floor((De?xi((Oe=E==null?void 0:E.height)!=null?Oe:.5,.1,.7):0)*_.heightWithoutBorder),Ge=0+J,zt=_.height-Ge,ke={width:_.width,height:zt,screenX:_.screenX,screenY:_.screenY},Ae={isAvailable:I,isOpen:De,width:he.width,height:J,screenX:_.screenX,screenY:_.screenY+zt,padding:{top:20,bottom:20}};return{leftDims:rt,rightDims:he,graphEditorDims:Ae,dopeSheetDims:ke,horizontalScrollbarDims:{bottom:0}}},[_,E,I]),j=Ha.prism.memo("graphEditorVerticalSpace",()=>{let Oe=A.height-A.padding.top-A.padding.bottom;return{space:Oe,fromExtremumSpace(rt){return rt*Oe},toExtremumSpace(rt){return rt/Oe}}},[A]),[$,K]=Ha.prism.state("isSeeking",!1),Q={isSeeking:$,setIsSeeking:K},ie={},re=(g=(0,Ha.val)(h.sequence.clippedSpaceRange))!=null?g:Qle,ce=Ha.prism.memo("scaledSpace",()=>{let Oe=re.end-re.start,rt=D.width,he=Oe/rt,De=rt/Oe;return{fromUnitSpace(J){return J*De},toUnitSpace(J){return J*he},leftPadding:10}},[re,D.width]),Ce=Ha.prism.memo("setClippedSpaceRange",()=>function(Oe){l.transaction(({stateEditors:rt})=>{let he=L({},Oe);if(he.end<=he.start&&(he.end=he.start+1),he.start<0){let De=he.end-he.start;he.start=0,he.end=De}rt.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(B(L({},s.address),{range:he}))})},[]),ye=Ha.prism.memo("clippedSpace",()=>({range:re,width:D.width,fromUnitSpace(Oe){return ce.fromUnitSpace(Oe-re.start)+ce.leftPadding},toUnitSpace(Oe){return ce.toUnitSpace(Oe-ce.leftPadding)+re.start},setRange:Ce}),[re,D.width,ce,Ce]),we=Ha.prism.memo("selection.current",()=>new Ha.Atom({}),[]);return EF("finalAtom",{sheet:s,tree:b,panelDims:_,leftDims:O,rightDims:D,dopeSheetDims:F,horizontalScrollbarDims:N,seeker:Q,unitSpace:ie,scaledSpace:ce,clippedSpace:ye,graphEditorDims:A,graphEditorVerticalSpace:j,selectionAtom:we}).pointer})}var Ha,Zle,Qle,UPe=C(()=>{ze(),IPe(),Jie(),Ha=Vt,FPe(),pi(),Zle=.2,Qle={start:0,end:10}});function zPe(s){let{fullSecondStampsContainer:a,sequencePositionFormatter:l,snapToGrid:h,unitSpaceToClippedSpace:f}=s,g="";Z0e(s,(b,_)=>{let E=h(b),P=f(E);_?g+=Jle(l.formatFullUnitForGrid(E),P,"full-unit"):g+=Jle(l.formatSubUnitForGrid(E),P,"sub-unit")}),a.innerHTML=g}function Jle(s,a,l){return'<span class="'.concat(l,'" style="transform: translate3d(').concat(a.toFixed(1),'px, -50%, 0);">').concat(s,"</span>")}var xm,Sm,eue,tue,Pp,nue,rue,iue,sue,oue,aue,lue=C(()=>{xm=Vt,u0(),Sm=q(Le()),Ue(),J0e(),ze(),tue=ue.div(eue||(eue=W([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),Pp={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return o6(.2,Pp.fullUnitStampColor)}},rue=ue.div(nue||(nue=W([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),sue=ue.div(iue||(iue=W([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),Pp.fullUnitStampColor,Pp.stampFontSize,Pp.fullUnitStampColor,Pp.subUnitStampColor),oue=({layoutP:s,width:a})=>{let l=(0,Sm.useRef)(null),[h,f]=(0,Sm.useState)(null);return(0,Sm.useLayoutEffect)(()=>{if(h)return(0,xm.prism)(()=>{let g=(0,xm.val)(s.sheet).getSequence();return{fullSecondStampsContainer:h,clippedSpaceRange:(0,xm.val)(s.clippedSpace.range),clippedSpaceWidth:(0,xm.val)(s.clippedSpace.width),unitSpaceToClippedSpace:(0,xm.val)(s.clippedSpace.fromUnitSpace),leftPadding:(0,xm.val)(s.scaledSpace.leftPadding),fps:g.subUnitsPerUnit,sequencePositionFormatter:g.positionFormatter,snapToGrid:b=>g.closestGridPosition(b)}}).onChange(xe().ticker,zPe,!0)},[h,a,s]),Sm.default.createElement(tue,{ref:l,style:{width:a+"px"}},Sm.default.createElement(rue,{style:{width:a+"px"}},Sm.default.createElement(sue,{ref:f})))},aue=oue});function VPe(s){let[a,l]=(0,GB.useState)(!1);return(0,GB.useEffect)(()=>{if(l(!1),!s)return;let h=g=>{g.target===s?l(!0):l(!1)},f=()=>{l(!1)};return s.addEventListener("mouseenter",h),s.addEventListener("mousemove",h),s.addEventListener("mouseleave",f),()=>{l(!1),s.removeEventListener("mouseenter",h),s.removeEventListener("mousemove",h),s.removeEventListener("mouseleave",f)}},[s]),a}var GB,jPe=C(()=>{GB=q(Le())});function HPe(s,a){let l=0,[h,f]=s,[g,b]=a;return f-h>b-g?[g,b]:(h<g&&(l=0-h),f>b&&(l=b-f),[h+l,f+l])}var uc,Mp,Ms,$B,uue,qP,cue,due,hue=C(()=>{uc=Vt,Sn(),Or(),ze(),Cm(),ca(),Ps(),Dr(),Mp=q(Le()),Ue(),yo(),Ms={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},$B=1e3,qP=ue.div(uue||(uue=W([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>dc-1,s=>s.enabled?Ms.enabled.backgroundColor:Ms.disabled.backgroundColor,$B,Ms.hover.backgroundColor,Ms.dragging.backgroundColor,Tr),cue=({layoutP:s})=>{let a=(0,Mp.useMemo)(()=>(0,uc.prism)(()=>{let{projectId:P,sheetId:I}=(0,uc.val)(s.sheet).address;return(0,uc.val)(xe().atomP.ahistoric.projects.stateByProjectId[P].stateBySheetId[I].sequence.focusRange)}),[s]),[l,h]=xr(null),[f]=ua(h,{menuItems:()=>{let P=(0,uc.val)(s.sheet),I=a.getValue();return[{label:"Delete focus range",callback:()=>{xe().tempTransaction(({stateEditors:O})=>{O.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(L({},P.address))}).commit()}},{label:I!=null&&I.enabled?"Disable focus range":"Enable focus range",callback:()=>{I!==void 0&&xe().tempTransaction(({stateEditors:O})=>{O.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(B(L({},P.address),{range:I.range,enabled:!I.enabled}))}).commit()}}]}}),g=nr(s.scaledSpace.toUnitSpace),b=nr(s.sheet),_=(0,Mp.useMemo)(()=>{let P,I;return{debugName:"FocusRangeStrip",onDragStart(O){let D,A=a.getValue();if(!A)return!1;let F=A.range.start,N=A.range.end,j=!1,$=(0,uc.val)(s.sheet).getSequence();return{onDrag(K){if(A=a.getValue(),A){j=!0;let Q=g(K),ie=F+Q,re=N+Q;re<ie&&(re=ie),[P,I]=HPe([ie,re],[0,$.length]).map(ce=>$.closestGridPosition(ce)),D&&D.discard(),D=xe().tempTransaction(({stateEditors:ce})=>{var Ce;ce.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(B(L({},b.address),{range:{start:P,end:I},enabled:(Ce=A==null?void 0:A.enabled)!=null?Ce:!0}))})}},onDragEnd(){A&&(j&&D!==void 0?D.commit():D&&D.discard())}}},lockCSSCursorTo:"grabbing"}},[b,g]),[E]=ji(h,_);return Ed(E,-1),Xn(()=>{let P=a.getValue(),I=(P==null?void 0:P.range)||{start:0,end:0},O=(0,uc.val)(s.clippedSpace.fromUnitSpace)(I.start),D=(0,uc.val)(s.clippedSpace.fromUnitSpace)(I.end),A,F;return O<0&&(O=0),D>(0,uc.val)(s.clippedSpace.width)&&(D=(0,uc.val)(s.clippedSpace.width)),O>D?(F=0,A=0):(F=O,A=(D-O)/$B),P?Mp.default.createElement(Mp.default.Fragment,null,f,Mp.default.createElement(qP,{id:"range-strip",enabled:P.enabled,className:"".concat(E?"dragging":""," ").concat(P.enabled?"enabled":""),ref:l,style:{transform:"translateX(".concat(F,"px) scale(").concat(A,", 1)")}})):Mp.default.createElement(Mp.default.Fragment,null)},[s,l,a,f,E])},due=cue}),Tp,Md,pue,fue,mue,gue,vue,yue,bue,WB,GPe=C(()=>{Tp=Vt,Sn(),ze(),Cm(),c0(),Ps(),Dr(),Md=q(Le()),Ue(),yo(),hue(),Xl(),fue=ue.div(pue||(pue=W([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),s=>s.type==="start"?0:-Ms.thumbWidth,Ms.thumbWidth,()=>dc-1,({enabled:s})=>s?Ms.enabled.backgroundColor:Ms.disabled.backgroundColor,Ms.enabled.stroke,s=>s.type==="start"?"w-resize":"e-resize",md,()=>qP,Ms.hover.backgroundColor,Ms.hover.stroke,()=>qP,Ms.dragging.backgroundColor,Ms.dragging.stroke,Ms.dragging.backgroundColor),gue=ue.div(mue||(mue=W([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),s=>s.type==="start"?90:-90,s=>s.type==="start"?Ms.thumbWidth:-Ms.thumbWidth+1),yue=ue.div(vue||(vue=W([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),s=>s.type==="start"?-90:90,()=>b7.backgroundColor,s=>s.type==="start"?-12:Ms.thumbWidth),bue=({layoutP:s,thumbType:a})=>{var l;let[h,f]=xr(null),g=(0,Md.useMemo)(()=>(0,Tp.prism)(()=>{let{projectId:P,sheetId:I}=(0,Tp.val)(s.sheet).address;return(0,Tp.val)(xe().atomP.ahistoric.projects.stateByProjectId[P].stateBySheetId[I].sequence.focusRange)}),[s]),b=(0,Md.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let P,I,O=(0,Tp.val)(s.sheet),D={start:0,end:O.getSequence().length},A=g.getValue()||{range:D,enabled:!1},F=A.enabled,N=A.range[a],j=(0,Tp.val)(s.scaledSpace.toUnitSpace),$=j(Ms.rangeStripMinWidth);return{onDrag(K,Q,ie){var re;let ce,Ce=da.checkIfMouseEventSnapToPos(ie,{ignore:f});if(Ce==null){let we=j(K);ce=N+we}else ce=Ce;I=((re=g.getValue())==null?void 0:re.range)||D,a==="start"?ce=Math.max(Math.min(ce,I.end-$),0):ce=Math.min(Math.max(ce,I.start+$),O.getSequence().length);let ye=O.getSequence().closestGridPosition(ce);P!==void 0&&P.discard(),P=xe().tempTransaction(({stateEditors:we})=>{we.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(B(L({},O.address),{range:B(L({},I),{[a]:ye}),enabled:F}))})},onDragEnd(K){K?P==null||P.commit():P==null||P.discard()}}}}),[s]),[_]=ji(f,b);W0(_,"draggingPositionInSequenceEditor",a==="start"?"w-resize":"e-resize");let E=nr(g);return Ed(_,(l=E==null?void 0:E.range[a])!=null?l:0),Xn(()=>{let P=g.getValue();if(!P)return null;let{enabled:I}=P,O=P.range[a],D=(0,Tp.val)(s.clippedSpace.fromUnitSpace)(O);return(D<0||(0,Tp.val)(s.clippedSpace.width)<D)&&(D=-1e4),Md.default.createElement(fue,B(L(L({ref:h},da.includePositionSnapAttrs(O)),ic(O)),{className:"".concat(_&&"dragging"," ").concat(I&&"enabled"),enabled:I,type:a,style:{transform:"translate3d(".concat(D,"px, 0, 0)")}}),Md.default.createElement(gue,{type:a,enabled:I}),Md.default.createElement(yue,{type:a}),Md.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Md.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Md.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[s,h,g,_])},WB=bue});function $Pe(s,a){let[l,h]=(0,cc.useState)("none");return W0(l!=="none","dragging",l==="creating"?"ew-resize":"move"),(0,cc.useMemo)(()=>{let f=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(b){let _,E=(0,Em.val)(s.clippedSpace.toUnitSpace),P=(0,Em.val)(s.scaledSpace.toUnitSpace),I=(0,Em.val)(s.sheet),O=I.getSequence(),D=b.target.getBoundingClientRect(),A=E(b.clientX-D.left),F=P(Ms.rangeStripMinWidth);return{onDrag(N){let j=P(N),$=A,K=A+j;[$,K]=[xi($,0,O.length),xi(K,0,O.length)].map(Q=>O.closestGridPosition(Q)),K<$?[$,K]=[Math.max(Math.min(K,$-F),0),$]:N>0&&(K=Math.min(Math.max(K,$+F),O.length)),_&&_.discard(),_=xe().tempTransaction(({stateEditors:Q})=>{Q.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(B(L({},I.address),{range:{start:$,end:K},enabled:!0}))})},onDragEnd(N){N&&_!==void 0?_.commit():_&&_.discard()}}},lockCSSCursorTo:"ew-resize"}),g=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let b,_=a.current,E=a.current.addBoundsHighlightLock();return{onDrag(P,I){let O=B(L({},_.dims),{top:xi(_.dims.top+I,0,window.innerHeight-$u),left:xi(_.dims.left+P,-_.dims.width+$u,window.innerWidth-$u)}),D=JC(O,{width:window.innerWidth,height:window.innerHeight});b==null||b.discard(),b=xe().tempTransaction(({stateEditors:A})=>{A.studio.historic.panelPositions.setPanelPosition({position:D,panelId:_.panelId})})},onDragEnd(P){E(),P?b==null||b.commit():b==null||b.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(b){let[_,E]=b.shiftKey?["creating",f().onDragStart(b)]:["moving-panel",g().onDragStart(b)];return h(_),E===!1?!1:{onDrag(P,I,O,D,A){E.onDrag(P,I,O,D,A)},onDragEnd(P){var I;h("none"),(I=E.onDragEnd)==null||I.call(E,P)}}}}},[s,a])}var Em,cc,_ue,wue,xue,Sue,WPe=C(()=>{Em=Vt,Sn(),ze(),$3(),Cm(),c0(),Ps(),jPe(),mse(),Dr(),pi(),cc=q(Le()),Ue(),hue(),GPe(),pd(),wue=ue.div(_ue||(_ue=W([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>dc,s=>s.isShiftDown?"ew-resize":"move"),xue=({layoutP:s})=>{let[a,l]=xr(null),h=G3(),f=(0,cc.useRef)(h);f.current=h;let g=(0,cc.useMemo)(()=>(0,Em.prism)(()=>{let{projectId:E,sheetId:P}=(0,Em.val)(s.sheet).address;return(0,Em.val)(xe().atomP.ahistoric.projects.stateByProjectId[E].stateBySheetId[P].sequence.focusRange)}),[s]);ji(l,$Pe(s,f));let b=pse("Shift"),_=VPe(l);return(0,cc.useEffect)(()=>{if(!b&&_)return f.current.addBoundsHighlightLock()},[!b&&_]),Xn(()=>cc.default.createElement(wue,{ref:a,isShiftDown:b},cc.default.createElement(due,{layoutP:s}),cc.default.createElement(WB,{thumbType:"start",layoutP:s}),cc.default.createElement(WB,{thumbType:"end",layoutP:s})),[s,g,b])},Sue=xue}),n5,dc,b7,Eue,Cue,Pue,Mue,Cm=C(()=>{Sn(),n5=q(Le()),Ue(),lue(),yo(),Or(),WPe(),dc=18,b7={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},Cue=ue.div(Eue||(Eue=W([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),dc,b7.backgroundColor,b7.borderColor,Tr),Pue=({layoutP:s})=>{let a=nr(s.rightDims.width);return n5.default.createElement(n5.default.Fragment,null,n5.default.createElement(Cue,L({},ic("hide")),n5.default.createElement(aue,{layoutP:s,width:a,height:dc}),n5.default.createElement(Sue,{layoutP:s})))},Mue=Pue}),Pm,Tue,kue,Aue,Iue,Rue,Due,Oue,Lue,KPe=C(()=>{Pm=q(Le()),Ue(),Sn(),ze(),YL(),em(),Tue=s=>isFinite(s)&&s>0,Aue=ue.div(kue||(kue=W([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),Rue=ue.div(Iue||(Iue=W([`
  `,`;
  white-space: nowrap;
`])),hp),Due=({deltaX:s})=>s*.25,Oue=({layoutP:s})=>{let a=nr(s.sheet),l=(0,Pm.useMemo)(()=>{let f;return{temporarilySetValue(g){f&&(f.discard(),f=void 0),f=xe().tempTransaction(({stateEditors:b})=>{b.coreByProject.historic.sheetsById.sequence.setLength(B(L({},a.address),{length:g}))})},discardTemporaryValue(){f&&(f.discard(),f=void 0)},permanentlySetValue(g){f&&(f.discard(),f=void 0),xe().transaction(({stateEditors:b})=>{b.coreByProject.historic.sheetsById.sequence.setLength(B(L({},a.address),{length:g}))})}}},[s,a]),h=(0,Pm.useRef)(null);return(0,Pm.useLayoutEffect)(()=>{h.current.focus()},[]),Xn(()=>{let f=a.getSequence().length;return Pm.default.createElement(Aue,null,Pm.default.createElement(Rue,null,"Sequence length"),Pm.default.createElement(rC,B(L({value:f},l),{isValid:Tue,inputRef:h,nudge:Due})))},[a,l,h])},Lue=Oue});function XPe(s,a){let l=(0,Ga.useRef)(a);l.current=a;let h=(0,Ga.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(g){let b,_=l.current,E=(0,Mm.val)(l.current.layoutP.sheet),P=E.getSequence().length,I=(0,Mm.val)(_.layoutP.scaledSpace.toUnitSpace);return{onDrag(O,D,A){let F=I(O);b&&(b.discard(),b=void 0),b=xe().tempTransaction(({stateEditors:N})=>{N.coreByProject.historic.sheetsById.sequence.setLength(B(L({},E.address),{length:P+F}))})},onDragEnd(O){O?b&&b.commit():b&&b.discard()}}}}),[]),[f]=ji(s,h);return Ed(f,-1),[f]}var Mm,Ga,KB,_7,Nue,kp,Fue,Bue,Uue,zue,Vue,jue,Hue,Gue,$ue,Wue,Kue,qPe=C(()=>{Sn(),Mm=Vt,Ga=q(Le()),Ue(),Ad(),Cm(),Dr(),Ps(),ze(),Yu(),yo(),R3(),KPe(),Or(),Qu(),KB=1e3,_7={stripNormal:"#0000006c",stripActive:"#000000"},kp=ue.div(Nue||(Nue=W([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>pc.lengthIndicatorStrip,dc,_7.stripNormal,_7.stripActive),Bue=ue.div(Fue||(Fue=W([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),dc-15),zue=ue.div(Uue||(Uue=W([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),Tr,kp,kp,_7.stripActive),jue=ue.div(Vue||(Vue=W([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),Tr,kp,kp,_7.stripActive),Gue=ue.div(Hue||(Hue=W([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),KB,()=>pc.lengthIndicatorCover,kp,kp),$ue=-1e4,Wue=({layoutP:s})=>{let[a,l]=xr(null),[h]=XPe(l,{layoutP:s}),{node:f,toggle:g,close:b}=qu({debugName:"LengthIndicator"},()=>Ga.default.createElement(Zu,null,Ga.default.createElement(Lue,{layoutP:s,onRequestClose:b})));return Xn(()=>{let _=(0,Mm.val)(s.sheet),E=(0,Mm.val)(s.rightDims.height),P=_.getSequence(),I=P.length,O=I,D=(0,Mm.val)(s.clippedSpace.fromUnitSpace)(O),A=(0,Mm.val)(s.clippedSpace.width),F,N;return D>A?(N=0,F=0):(D<0&&(D=0),N=D,F=(A-D)/KB),Ga.default.createElement(Ga.default.Fragment,null,f,Ga.default.createElement(kp,{style:{height:E+"px",transform:"translateX(".concat(N===0?$ue:N,"px)")},className:h?"dragging":""},Ga.default.createElement(Bue,null,Ga.default.createElement(jue,L({ref:a,onClick:j=>{g(j,l)}},ic("hide")),Ga.default.createElement(Bxe,null),Ga.default.createElement(Uxe,null)),Ga.default.createElement(zue,null,"Sequence length:"," ",P.positionFormatter.formatBasic(I)))),Ga.default.createElement(Gue,{title:"Length",style:{height:E+"px",transform:"translateX(".concat(N,"px) scale(").concat(F,", 1)")}}))},[s,a,h,f])},Kue=Wue}),XB,Td,Xue,que,Yue,Zue,Que,Jue,ece,tce,YPe=C(()=>{Sn(),XB=Vt,Td=q(Le()),Ue(),lue(),Ad(),Cm(),yo(),que=ue.div(Xue||(Xue=W([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),Zue=ue.div(Yue||(Yue=W([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),Pp.stampFontSize,Pp.fullUnitStampColor,b7.backgroundColor,()=>pc.currentFrameStamp),Jue=ue.div(Que||(Que=W([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),ece=Td.default.memo(({layoutP:s})=>{let[a,l]=nr(Fse()),h=nr(s.clippedSpace.fromUnitSpace),{sequence:f,formatter:g,clippedSpaceWidth:b}=Xn(()=>{let I=(0,XB.val)(s.sheet).getSequence(),O=(0,XB.val)(s.clippedSpace.width);return{sequence:I,formatter:I.positionFormatter,clippedSpaceWidth:O}},[s]);if(a==-1)return Td.default.createElement(Td.default.Fragment,null);let _=l===3?f.closestGridPosition(a):a,E=h(_),P=E>=0&&E<=b;return Td.default.createElement(Td.default.Fragment,null,Td.default.createElement(que,null,Td.default.createElement(Zue,{style:{opacity:P?1:0,transform:"translate3d(calc(".concat(E,"px - 50%), 0, 0)")}},g.formatForPlayhead(_)),Td.default.createElement(Jue,{posType:l,style:{opacity:P?1:0,transform:"translate3d(".concat(E,"px, 0, 0)")}}))," ")}),tce=ece}),ql,fa,nce,rce,ice,sce,oce,YP,ace,qB,lce,ZP,uce,QP,cce,YB,dce,hce,ZPe=C(()=>{Sn(),ql=Vt,ZS(),u0(),fa=q(Le()),Ue(),Ad(),yo(),Or(),Ps(),rce=ue.div(nce||(nce=W([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>pc.horizontalScrollbar,Tr),sce=ue.div(ice||(ice=W([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),YP=ue.div(oce||(oce=W([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),eL("absolute","-4px")),qB=ue.div(ace||(ace=W([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),eL("absolute","0"),eL("absolute","-4px")),ZP=ue(qB)(lce||(lce=W([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),QP=ue(qB)(uce||(uce=W([`
  cursor: e-resize;
  left: 0px;
`]))),YB=ue.div(cce||(cce=W([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),s=>s.active?"block":"none",ZP,QP,YP,ZP,YP,QP),dce=({layoutP:s})=>{let a=(0,fa.useCallback)(j=>j.toFixed(2),[]),l=(0,fa.useMemo)(()=>(0,ql.prism)(()=>{let j=(0,ql.val)(s.rightDims.width)-25,$=(0,ql.val)(s.clippedSpace.range),K=(0,ql.val)(s.sheet).getSequence().length,Q=Math.max($.end,K),ie=$.start/Q*j,re=$.end/Q*j;return{rightWidth:j,clippedSpaceRange:$,sequenceLength:K,assumedLengthOfSequence:Q,rangeStartX:ie,rangeEndX:re,bottom:(0,ql.val)(s.horizontalScrollbarDims.bottom)}}),[s]),{rangeStartX:h,rangeEndX:f,clippedSpaceRange:g,bottom:b}=nr(l),[_,E]=(0,fa.useState)("nothing"),P=(0,fa.useMemo)(()=>{let j=(0,ql.val)(l),$=()=>{j=(0,ql.val)(l)},K=Q=>Q/j.rightWidth*j.assumedLengthOfSequence;return{onRangeDragStart(){return $(),{onDrag(Q){E("both");let ie=K(Q),re=rd(j.clippedSpaceRange,ce=>ce+ie);(0,ql.val)(s.clippedSpace.setRange)(re)},onDragEnd(){E("nothing")}}},onRangeStartDragStart(){return $(),{onDrag(Q){E("start");let ie=K(Q),re={start:j.clippedSpaceRange.start+ie,end:j.clippedSpaceRange.end};re.start>re.end-1&&(re.start=re.end-1),re.start<=0&&(re.start=0),(0,ql.val)(s.clippedSpace.setRange)(re)},onDragEnd(){E("nothing")}}},onRangeEndDragStart(){return $(),{onDrag(Q){E("end");let ie=K(Q),re={start:j.clippedSpaceRange.start,end:j.clippedSpaceRange.end+ie};re.end<re.start+1&&(re.end=re.start+1),re.end>=j.assumedLengthOfSequence&&(re.end=j.assumedLengthOfSequence),(0,ql.val)(s.clippedSpace.setRange)(re)},onDragEnd(){E("nothing")}}}}},[s,l]),[I,O]=(0,fa.useState)(null);ji(I,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:P.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[D,A]=(0,fa.useState)(null);ji(D,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:P.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[F,N]=(0,fa.useState)(null);return ji(F,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:P.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),fa.default.createElement(rce,L({style:{bottom:b+8+"px"}},ic("hide")),fa.default.createElement(sce,null,fa.default.createElement(YP,{ref:O,style:{width:"".concat(f-h,"px"),transform:"translate3d(".concat(h,"px, 0, 0)")}}),fa.default.createElement(ZP,{ref:A,style:{transform:"translate3d(".concat(h,"px, 0, 0)")}},fa.default.createElement(YB,{active:_==="both"||_==="start"},a(g.start))),fa.default.createElement(QP,{ref:N,style:{transform:"translate3d(".concat(f,"px, 0, 0)")}},fa.default.createElement(YB,{active:_==="both"||_==="end"},a(g.end)))))},hce=dce}),pce,fce,mce,gce,vce,QPe=C(()=>{pce=q(Le()),Ue(),mce=ue.div(fce||(fce=W([`
  position: absolute;
  inset: `,`px;
`])),s=>s.room*-1),gce=s=>pce.default.createElement(mce,{room:s.room}),vce=gce}),JP,eM,ZB,yce,bce,_ce,wce,xce,Sce,Ece,Cce,JPe=C(()=>{Ue(),Sn(),YL(),em(),JP=q(Le()),eM=q(Le()),ZB=Vt,F9(),yce=s=>isFinite(s)&&s>=0,_ce=ue.div(bce||(bce=W([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),xce=ue.div(wce||(wce=W([`
  `,`;
  white-space: nowrap;
`])),hp),Sce=({deltaX:s})=>s*.25,Ece=({layoutP:s,onRequestClose:a})=>{let l=(0,ZB.val)(s.sheet),h=l.getSequence(),f=(0,JP.useMemo)(()=>{let b,_=h.position;return{temporarilySetValue(E){b&&(b=void 0),b=xi(E,0,h.length),h.position=b},discardTemporaryValue(){b&&(b=void 0,h.position=_,a("discardTemporaryValue"))},permanentlySetValue(E){b&&(b=void 0),h.position=xi(E,0,h.length),a("permanentlySetValue")}}},[s,h]),g=(0,JP.useRef)(null);return(0,JP.useLayoutEffect)(()=>{g.current.focus()},[]),Xn(()=>{let b=l.getSequence(),_=Number((0,ZB.val)(b.pointer.position).toFixed(3));return eM.default.createElement(_ce,null,eM.default.createElement(xce,null,"Sequence position"),eM.default.createElement(rC,B(L({value:_},f),{isValid:yce,inputRef:g,nudge:Sce})))},[l,f,g])},Cce=Ece}),Pce,eMe=C(()=>{Pce=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),Mce,tMe=C(()=>{eMe(),Mce=s=>Pce?s.metaKey===!0:s.ctrlKey===!0});function nMe(){tM=!1}function rMe(){tM=!0}function iMe(){let s=xe();(0,Tce.useEffect)(()=>{let a=l=>{let h=l.composedPath()[0];if(!(h&&(h.tagName==="INPUT"||h.tagName==="TEXTAREA"))){if(l.key==="z"||l.key==="Z"||l.code==="KeyZ")if(Mce(l))l.shiftKey===!0?s.redo():s.undo();else return;else if(l.code==="Space"&&!l.shiftKey&&!l.metaKey&&!l.altKey&&!l.ctrlKey){if(!tM)return;let f=axe();if(f)if(f.playing)f.pause();else{let{projectId:g,sheetId:b}=f.address,_=(0,Yl.prism)(()=>{let I=(0,Yl.val)(xe().atomP.ahistoric.projects.stateByProjectId[g].stateBySheetId[b].sequence.focusRange);return Yl.prism.memo("shouldFollowFocusRange",()=>{let O=f.position;if(I){let D=O>=I.range.start&&O<=I.range.end;return I.enabled?!!D:!0}else return!0},[])&&I&&I.enabled?{range:[I.range.start,I.range.end],isFollowingARange:!0}:{range:[0,(0,Yl.val)(f.pointer.length)],isFollowingARange:!1}}),E=f.playDynamicRange((0,Yl.prism)(()=>(0,Yl.val)(_).range),xe().ticker),P=QB(f);E.finally(()=>{P.set(void 0)}),P.set(_)}else return}else if(l.altKey&&(l.key==="\\"||l.code==="Backslash"||l.code==="IntlBackslash"))s.transaction(({stateEditors:f,drafts:g})=>{f.studio.ahistoric.setVisibilityState(g.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;l.preventDefault(),l.stopPropagation()}};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[])}var Tce,Yl,tM,QB,kce,JB=C(()=>{Tce=q(Le()),ze(),tMe(),ap(),Yl=Vt,wC(),tM=!0,QB=M6(s=>new Yl.Atom(void 0)),kce=M6(s=>(0,Yl.prism)(()=>{let a=QB(s).prism.getValue();if(a)return a.getValue().isFollowingARange;{let{projectId:l,sheetId:h}=s.address,f=(0,Yl.val)(xe().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[h].sequence.focusRange);if(!f||!f.enabled)return!1;let g=(0,Yl.val)(s.pointer.position);return g>=f.range.start&&g<=f.range.end}}))});function sMe(s,a){return ua(s,{menuItems(){return[{label:"Place marker",callback:()=>{xe().transaction(({stateEditors:l})=>{let h=(0,hc.val)(a.layoutP.sheet),f=h.getSequence();l.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:h.address,markers:[{id:$Se(),position:f.position}],snappingFunction:f.closestGridPosition})})}}]}})}var hc,J0,Ace,Tm,Ice,Rce,Dce,eU,Oce,Lce,Nce,Fce,Bce,Uce,oMe=C(()=>{QPe(),Ps(),Dr(),Sn(),hc=Vt,F9(),J0=q(Le()),Ue(),Ad(),yo(),Or(),Yu(),Qu(),JPe(),JB(),c0(),ca(),ze(),_d(),Xl(),um(),Tm=ue.div(Ace||(Ace=W([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>pc.playhead,s=>s.isVisible?"block":"none"),Rce=ue.div(Ice||(Ice=W([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),md),eU=ue.div(Dce||(Dce=W([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),Tr,Tm,Tm,md,Tm),Lce=ue.div(Oce||(Oce=W([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),Tm),Fce=ue.div(Nce||(Nce=W([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),eU,Tm),Bce=({layoutP:s})=>{let[a,l]=xr(null),{node:h,toggle:f,close:g}=qu({debugName:"Playhead"},()=>J0.default.createElement(Zu,null,J0.default.createElement(Cce,{layoutP:s,onRequestClose:g}))),b=(0,J0.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let P=(0,hc.val)(s.sheet).getSequence(),I=P.position,O=(0,hc.val)(s.scaledSpace.toUnitSpace),D=(0,hc.val)(s.seeker.setIsSeeking);return D(!0),FF(),{onDrag(A,F,N){var j;let $=O(A);P.position=(j=da.checkIfMouseEventSnapToPos(N,{ignore:l}))!=null?j:xi(I+$,0,P.length)},onDragEnd(A){D(!1),lm()},onClick(A){f(A,a.current)}}}}),[s,l]),[_]=ji(l,b);W0(_,"draggingPositionInSequenceEditor","ew-resize"),Ed(nr(s.seeker.isSeeking)||_,-1);let[E]=sMe(l,{layoutP:s});return Xn(()=>{let P=(0,hc.val)(s.seeker.isSeeking),I=(0,hc.val)(s.sheet).getSequence(),O=(0,hc.val)(kce(I)),D=I.positionPrism.getValue(),A=(0,hc.val)(s.clippedSpace.fromUnitSpace)(D),F=A>=0&&A<=(0,hc.val)(s.clippedSpace.width);return J0.default.createElement(J0.default.Fragment,null,E,h,J0.default.createElement(Tm,L({isVisible:F,style:{transform:"translate3d(".concat(A,"px, 0, 0)")},className:"".concat(P&&"seeking"," ").concat(O&&"playheadattachedtofocusrange")},ic("hide")),J0.default.createElement(eU,L({ref:a},da.includePositionSnapAttrs(D)),J0.default.createElement(vce,{room:8}),J0.default.createElement(Lce,null),J0.default.createElement(Fce,null,I.positionFormatter.formatForPlayhead(I.closestGridPosition(D)))),J0.default.createElement(Rce,B(L({},da.includePositionSnapAttrs(D)),{className:P?"seeking":""}))))},[s,a,h])},Uce=Bce}),km,w7,nM,zce,Vce,jce,Hce,aMe=C(()=>{km=Vt,Sn(),ze(),Cm(),w7=q(Le()),Ue(),nM=1e3,Vce=ue.div(zce||(zce=W([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),dc,nM,s=>s.enabled?"#000000":"transparent"),jce=({layoutP:s})=>{let a=(0,w7.useMemo)(()=>(0,km.prism)(()=>{let{projectId:l,sheetId:h}=(0,km.val)(s.sheet).address;return(0,km.val)(xe().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[h].sequence.focusRange)}),[s]);return Xn(()=>{let l=a.getValue();if(!l||!l.enabled)return null;let h=(0,km.val)(s.rightDims.height)-dc,f=(0,km.val)(s.clippedSpace.fromUnitSpace),g=(0,km.val)(s.clippedSpace.width),b=[];{let _=0,E=f(l.range.start),P,I;_>E?(I=0,P=0):(E>g&&(E=g),I=_,P=(E-_)/nM),b.push({translateX:I,scaleX:P})}{let _=f(l.range.end),E=g,P,I;_>E?(I=0,P=0):(_<0&&(_=0),I=_,P=(E-_)/nM),b.push({translateX:I,scaleX:P})}return w7.default.createElement(w7.default.Fragment,null,b.map(({translateX:_,scaleX:E},P)=>w7.default.createElement(Vce,{key:"curtain-".concat(P),enabled:!0,style:{height:"".concat(h,"px"),transform:"translateX(".concat(_,"px) scaleX(").concat(E,")")}})))},[s,a])},Hce=jce}),r5,Gce,$ce,Wce,Kce,Xce,lMe=C(()=>{r5=q(Le()),Ue(),Sn(),ze(),em(),rN(),$ce=ue.div(Gce||(Gce=W([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),ue.div(Wce||(Wce=W([`
  `,`;
  white-space: nowrap;
`])),hp),Kce=({layoutP:s,marker:a})=>{var l;let h=nr(s.sheet),f=(0,r5.useMemo)(()=>{let b;return{temporarilySetValue(_){b&&(b.discard(),b=void 0),b=xe().tempTransaction(({stateEditors:E})=>{E.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:h.address,markerId:a.id,label:_})})},discardTemporaryValue(){b&&(b.discard(),b=void 0)},permanentlySetValue(_){b&&(b.discard(),b=void 0),xe().transaction(({stateEditors:E})=>{E.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:h.address,markerId:a.id,label:_})})}}},[s,h]),g=(0,r5.useRef)(null);return(0,r5.useLayoutEffect)(()=>{g.current.focus()},[]),r5.default.createElement($ce,null,r5.default.createElement(sC,B(L({value:(l=a.label)!=null?l:""},f),{isValid:()=>!0,inputRef:g})))},Xce=Kce});function uMe(s,a){return ua(s,{menuItems(){return[{label:"Remove marker",callback:()=>{xe().transaction(({stateEditors:l})=>{l.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:a.sheetAddress,markerId:a.markerId})})}}]}})}function cMe(s,a){let l=(0,ma.useRef)(a);l.current=a;let h=(0,ma.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(a.marker.id,")"),onDragStart(g){let b=l.current.marker,_=(0,rM.val)(a.layoutP.scaledSpace.toUnitSpace),E;return FF(),{onDrag(P,I,O){var D;let A=b,F=Math.max((D=da.checkIfMouseEventSnapToPos(O,{ignore:s}))!=null?D:A.position+_(P),0);E==null||E.discard(),E=xe().tempTransaction(({stateEditors:N})=>{N.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,rM.val)(a.layoutP.sheet.address),markers:[B(L({},A),{position:F})],snappingFunction:(0,rM.val)(a.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(P){P?E==null||E.commit():E==null||E.discard(),lm()}}}}),[]),[f]=ji(s,h);return Ed(f,a.marker.position),W0(f,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[f]}var rM,ma,tU,nU,qce,Yce,Zce,Qce,Jce,iM,ede,tde,nde,rde,ide,sde,dMe=C(()=>{rM=Vt,Sn(),ze(),c0(),ca(),Dr(),ma=q(Le()),Ue(),yo(),Ps(),Ad(),Xl(),uP(),Gse(),um(),Yu(),Qu(),lMe(),tU=12,nU=12,qce=tU*2,Yce=nU*2,Qce=ue.div(Zce||(Zce=W([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>pc.marker),iM=ue.div(Jce||(Jce=W([`
  position: absolute;
  `,`
  pointer-events: none;
`])),q0(tU,nU)),ede=ma.default.memo(()=>ma.default.createElement(iM,{children:ma.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ma.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),nde=ue.div(tde||(tde=W([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),sc.CSS,sc.CSS_WHEN_SOMETHING_DRAGGING,sc.BEING_DRAGGED_CLASS,md,iM,sc.BEING_DRAGGED_CLASS,iM,q0(qce,Yce)),rde=({layoutP:s,markerId:a})=>{let l=nr(s.sheet.address),h=nr(xe().atomP.historic.projects.stateByProjectId[l.projectId].stateBySheetId[l.sheetId].sequenceEditor.markerSet.byId[a]);if(!h)return null;let f=nr(s.clippedSpace.width),g=nr(s.clippedSpace.fromUnitSpace)(h.position),b=g<=0||g>f,_=b?-1e4:g,E=b?0:1;return ma.default.createElement(Qce,{style:{transform:"translateX(".concat(_,"px) scale(").concat(E,")")}},ma.default.createElement(sde,{marker:h,layoutP:s}))},ide=rde,sde=({layoutP:s,marker:a})=>{let l=nr(s.sheet.address),[h,f]=xr(null),[g]=uMe(f,{sheetAddress:l,markerId:a.id}),[b]=cMe(f,{layoutP:s,marker:a}),{node:_,toggle:E,close:P}=qu({debugName:"MarkerPopover"},()=>ma.default.createElement(Zu,null,ma.default.createElement(Xce,{marker:a,layoutP:s,onRequestClose:P})));return ma.default.createElement(ma.default.Fragment,null,g,_,ma.default.createElement(nde,L({title:a.label?"Marker: ".concat(a.label):"Marker",ref:h,onClick:I=>{E(I,h.current)}},sc.reactProps({isDragging:b,position:a.position}))),ma.default.createElement(ede,null))}}),sM,ode,ade,hMe=C(()=>{Sn(),ze(),sM=q(Le()),dMe(),ode=({layoutP:s})=>{let a=nr(s.sheet.address),l=xe().atomP.historic.projects.stateByProjectId[a.projectId].stateBySheetId[a.sheetId].sequenceEditor.markerSet,h=nr(l.allIds);return sM.default.createElement(sM.default.Fragment,null,h&&Object.keys(h).map(f=>sM.default.createElement(ide,{key:f,layoutP:s,markerId:f})))},ade=ode}),lde,kd,ude,cde,dde,hde,pMe=C(()=>{Ad(),Sn(),lde=Vt,kd=q(Le()),Ue(),qPe(),YPe(),ZPe(),oMe(),Cm(),aMe(),hMe(),cde=ue.div(ude||(ude=W([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>pc.rightOverlay),dde=({layoutP:s})=>Xn(()=>{let a=(0,lde.val)(s.rightDims.width);return kd.default.createElement(cde,{style:{width:a+"px"}},kd.default.createElement(Uce,{layoutP:s}),kd.default.createElement(hce,{layoutP:s}),kd.default.createElement(tce,{layoutP:s}),kd.default.createElement(Mue,{layoutP:s}),kd.default.createElement(ade,{layoutP:s}),kd.default.createElement(Kue,{layoutP:s}),kd.default.createElement(Hce,{layoutP:s}))},[s]),hde=dde}),pde,oM,fde,mde,gde,vde,fMe=C(()=>{pde=Vt,Sn(),ze(),oM=q(Le()),Ue(),R3(),yo(),mde=ue.button(fde||(fde=W([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),gde=({layoutP:s})=>{let a=nr(s.graphEditorDims.isOpen),l=(0,oM.useCallback)(()=>{let h=(0,pde.val)(s.graphEditorDims.isOpen);xe().transaction(({stateEditors:f})=>{f.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!h})})},[s]);return oM.default.createElement(mde,L({onClick:l,title:"Toggle graph editor",className:a?"open":""},ic("hide")),oM.default.createElement(nSe,null))},vde=gde}),Zl,Ci,yde,bde,_de,wde,pc,xde,Sde,Ede,Cde,Pde,Mde,Tde,kde,Ade,Ad=C(()=>{ap(),Sn(),Jie(),Zl=Vt,Ci=q(Le()),Ue(),kPe(),$P(),UPe(),pMe(),$3(),iie(),Die(),yo(),bt(),pi(),fMe(),pd(),nm(),bde=ue(xF)(yde||(yde=W([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),E3.sequenceEditorPanel),wde=ue.div(_de||(_de=W([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),pc=(()=>{let s={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},a=-1;for(let l of Object.keys(s))s[l]=a,a++;return s})(),Sde=ue(gF)(xde||(xde=W([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),Ede={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},Cde={width:800,height:200},Pde=s=>Ci.default.createElement(mF,{panelId:"sequenceEditor",defaultPosition:Ede,minDims:Cde},Ci.default.createElement(Mde,null)),Mde=()=>{let{dims:s}=G3(),[a,l]=(0,Ci.useState)(null);return _ee(a),Xn(()=>{let h=Zl.prism.memo("panelSize",()=>{let D=s.width,A=s.height;return{width:D,height:A,widthWithoutBorder:D-2,heightWithoutBorder:A-4,screenX:s.left,screenY:s.top}},[s]),f=Oo(op().filter(D=>pn(D)||kt(D)).map(D=>kt(D)?D.sheet:D));if(Oo(f.map(D=>D.template)).length!==1)return Ci.default.createElement(Ci.default.Fragment,null);let g=f[0];if(!g)return Ci.default.createElement(Ci.default.Fragment,null);let b=EF("panelSizeP",h).pointer,_=Zl.prism.memo("key",()=>JSON.stringify(g.address),[g]),E=Zl.prism.memo("layout",()=>BPe(g,b),[g,b]).getValue();if((0,Zl.val)(E.tree.children).length===0)return Ci.default.createElement(Ci.default.Fragment,null);let P=Zl.prism.memo("containerRef",Ade,[]),I=(0,Zl.val)(E.graphEditorDims.isAvailable),O=(0,Zl.val)(E.graphEditorDims.isOpen);return Ci.default.createElement(bde,{ref:D=>{P(D),D!==a&&l(D)}},Ci.default.createElement(wde,{style:{width:"".concat((0,Zl.val)(E.leftDims.width),"px")}}),Ci.default.createElement(zse,{layoutP:E},Ci.default.createElement(Tde,{layoutP:E}),Ci.default.createElement(Wle,{key:_+"-dopeSheet",layoutP:E}),O&&Ci.default.createElement(fle,{key:_+"-graphEditor",layoutP:E}),I&&Ci.default.createElement(vde,{layoutP:E}),Ci.default.createElement(hde,{layoutP:E})))},[s,a])},Tde=({layoutP:s})=>Xn(()=>{let a=(0,Zl.val)(s.sheet);return Ci.default.createElement(Sde,{style:{width:(0,Zl.val)(s.leftDims.width)}},Ci.default.createElement(SL,null,Ci.default.createElement(sp,null,a.address.sheetId," "),Ci.default.createElement(p6,null,":",""),Ci.default.createElement(sp,null,a.address.sheetInstanceId," "),Ci.default.createElement(p6,null,"",">",""),Ci.default.createElement(sp,null,"Sequence")))},[s]),kde=Pde,Ade=()=>{let s=null,a={passive:!1,capture:!1},l=h=>{Math.abs(h.deltaY)<Math.abs(h.deltaX)&&(h.preventDefault(),h.stopPropagation())};return h=>{s!==h&&s&&s.removeEventListener("wheel",l,a),s=h,h&&h.addEventListener("wheel",l,a)}}}),Am,Ide,Rde,mMe=C(()=>{vxe(),hF(),Am=q(Le()),ze(),Sn(),IEe(),Ad(),Ide=()=>{let s=nr(xe().paneManager.allPanesD),a=Object.entries(s).map(([l,h])=>Am.default.createElement(Qie,{key:"pane-".concat(l),paneInstance:h}));return Am.default.createElement(Am.default.Fragment,null,a,Am.default.createElement(VY,null),Am.default.createElement(Jre,null),Am.default.createElement(kde,null))},Rde=Ide}),Dde,Ode,Lde,gMe=C(()=>{Ue(),VC(),Ode=ue(V3)(Dde||(Dde=W([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),Lde=Ode}),vMe=V((s,a)=>{var l,h;l=[],h=[];function f(g,b,_){var E,P,I,O,D,A,F,N;if(g===b)return 0;if(E=g.length,P=b.length,E===0)return P;if(P===0)return E;for(_&&(g=g.toLowerCase(),b=b.toLowerCase()),F=0;F<E;)h[F]=g.charCodeAt(F),l[F]=++F;for(N=0;N<P;)for(I=b.charCodeAt(N),O=D=N++,F=-1;++F<E;)A=I===h[F]?D:D+1,D=l[F],l[F]=O=D>O?A>O?O+1:A:A>D?D+1:A;return O}a.exports=f}),yMe=V((s,a)=>{var l=vMe();function h(){var f,g,b,_,E,P=0,I=arguments[0],O=arguments[1],D=O.length,A=arguments[2];A&&(_=A.threshold,E=A.ignoreCase),_===void 0&&(_=0);for(var F=0;F<D;++F)E?g=l(I,O[F],!0):g=l(I,O[F]),g>I.length?f=1-g/O[F].length:f=1-g/I.length,f>P&&(P=f,b=O[F]);return P>=_?b:null}a.exports=h});function bMe(s,a,l="Did you mean ",h="?"){let f=(0,Nde.default)(s,a,{threshold:.7});return f?l+JSON.stringify(f)+h:""}var Nde,_Me=C(()=>{Nde=q(yMe())});function Fde(s,a){return s.length<=a?s:s.substr(0,a-3)+"..."}var wMe=C(()=>{}),Bde,rU,Ude=C(()=>{wMe(),Bde=s=>typeof s=="string"?'string("'.concat(Fde(s,10),'")'):typeof s=="number"?"number(".concat(Fde(String(s),10),")"):s===null?"null":s===void 0?"undefined":typeof s=="boolean"?String(s):Array.isArray(s)?"array":typeof s=="object"?"object":"unknown",rU=Bde}),zde,Vde,iU,jde=C(()=>{Ue(),Z1(),Vde=ue(Sq)(zde||(zde=W([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),iU=Vde}),i5,Hde,Gde,$de,s5,x7=C(()=>{Ue(),Or(),i5=q(Le()),G6(),tC(),Jne(),jde(),Gde=ue.button(Hde||(Hde=W([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),Tr,iU),$de=i5.default.forwardRef((s,a)=>{var l=s,{title:h}=l,f=z(l,["title"]);let[g,b]=z3({enabled:typeof h=="string"},()=>i5.default.createElement(rF,null,h));return i5.default.createElement(i5.default.Fragment,null,g,i5.default.createElement(Gde,L({ref:eC([b,a])},f))," ")}),s5=$de}),Wde,Kde,Xde,qde,Yde,xMe=C(()=>{Wde=q(Le()),x7(),Ue(),Or(),Xde=ue(s5)(Kde||(Kde=W([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),Tr),qde=({config:s,testId:a})=>{var l;return Wde.default.createElement(Xde,{onClick:s.onClick,"data-testid":a,title:s.title,dangerouslySetInnerHTML:{__html:(l=s.svgSource)!=null?l:""}})},Yde=qde});function SMe({value:s,label:a,icon:l,onClick:h,isSelected:f}){return o5.default.createElement(o5.default.Fragment,null,o5.default.createElement(s5,{forwardedAs:_q,className:f?"selected":void 0,"aria-label":a,onClick:h,title:a},l))}var o5,Zde,Qde,EMe=C(()=>{o5=q(Le()),Z1(),x7(),jde(),Zde=({value:s,onChange:a,options:l})=>o5.default.createElement(iU,null,l.map(({label:h,icon:f,value:g})=>o5.default.createElement(SMe,{key:g,value:g,isSelected:s===g,label:h,icon:f,onClick:()=>a(g)}))),Qde=Zde}),sU,Jde,ehe,the,nhe,CMe=C(()=>{sU=q(Le()),Ue(),Or(),EMe(),ehe=ue.div(Jde||(Jde=W([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),Tr),the=({config:s})=>sU.default.createElement(Qde,{onChange:s.onChange,options:s.options.map(({label:a,value:l,svgSource:h})=>({label:a,value:l,icon:sU.default.createElement(ehe,{dangerouslySetInnerHTML:{__html:h}})})),value:s.value}),nhe=the}),S7,rhe,ihe,she,ohe,PMe=C(()=>{S7=q(Le()),Ue(),Or(),x7(),cee(),Yu(),ihe=ue.div(rhe||(rhe=W([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),Tr),she=({config:s})=>{let a=(0,S7.useRef)(null),l=qu(()=>{let h=a.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+s.label,constraints:{maxX:h.right,maxY:8,minX:h.left,minY:8},verticalGap:2}},()=>S7.default.createElement(RN,{items:s.items.map((h,f)=>({label:h.label,callback:()=>{var g;try{(g=h.onClick)==null||g.call(h)}catch(b){console.error(b)}}})),onRequestClose:()=>{l.close("clicked")}}));return S7.default.createElement(ihe,null,l.node,S7.default.createElement(s5,{ref:a,onClick:h=>{l.open(h,a.current)}},s.label))},ohe=she});function MMe(s){return oU[s]}var E7,ahe,oU,lhe,uhe,TMe=C(()=>{_Me(),Ude(),E7=q(Le()),xMe(),CMe(),PMe(),ahe=s=>E7.default.createElement(E7.default.Fragment,null,s.config.map((a,l)=>E7.default.createElement(lhe,{config:a,key:l}))),oU={Icon:Yde,Switch:nhe,Flyout:ohe},lhe=({config:s})=>{let a=MMe(s.type);if(!a)throw new Error("No tool with tool.type ".concat(rU(s.type)," exists. Did you mean ").concat(bMe(s.type,Object.keys(oU))));return E7.default.createElement(a,{config:s})},uhe=ahe}),che,fc,dhe,hhe,phe,aU,fhe,mhe,lU,ghe=C(()=>{che=Vt,Sn(),ze(),fc=q(Le()),Ue(),TMe(),hhe=ue.div(dhe||(dhe=W([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),aU=ue.div(phe||(phe=W([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),fhe=({extension:s,toolbarId:a})=>{var l;let h=(0,fc.useMemo)(()=>new che.Atom([]),[]),f=(l=s.toolbars)==null?void 0:l[a];(0,fc.useLayoutEffect)(()=>{let b=f==null?void 0:f(h.set.bind(h),xe().publicApi);if(typeof b=="function")return b},[s,a,f]);let g=nr(h.prism);return fc.default.createElement(uhe,{config:g})},mhe=({toolbarId:s,showLeftDivider:a})=>{var l;let h=[],f=nr(xe().atomP.ephemeral.extensions.byId),g=!1;for(let[,b]of Object.entries(f))!b||!((l=b.toolbars)!=null&&l[s])||(h.push(fc.default.createElement(fc.default.Fragment,{key:"extensionToolbar-"+b.id},g?fc.default.createElement(aU,null):void 0,fc.default.createElement(fhe,{extension:b,toolbarId:s}))),g=!0);return h.length===0?null:fc.default.createElement(hhe,{"data-testid":"theatre-extensionToolbar-".concat(s)},a?fc.default.createElement(aU,null):void 0,h)},lU=mhe}),C7,vhe,yhe,bhe,aM,kMe=C(()=>{Ue(),C7=q(Le()),x7(),yhe=ue(s5)(vhe||(vhe=W([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:s})=>s?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:s})=>s?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),bhe=(0,C7.forwardRef)((s,a)=>{var l=s,{children:h,hint:f,pinned:g,icon:b,pinHintIcon:_,unpinHintIcon:E}=l,P=z(l,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[I,O]=(0,C7.useState)(!1),D=I||f;return C7.default.createElement(yhe,B(L({},P),{pinned:g,ref:a,onMouseOver:()=>O(!0),onMouseOut:()=>O(!1)}),C7.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},D&&!g?_:D&&g?E:b),h)}),aM=bhe});function AMe(s){return uU.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),uU.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var uU,cU,IMe=C(()=>{uU=q(Le()),cU=AMe});function RMe(s){return dU.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},s),dU.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var dU,hU,DMe=C(()=>{dU=q(Le()),hU=RMe}),Ts,_he,whe,xhe,pU,She,Ap,Ehe,Che,Phe,Mhe,The,khe,Ahe,Ihe,Rhe,lM,Dhe,Ohe,fU,mU,Lhe,Nhe,OMe=C(()=>{Sn(),ze(),Ts=q(Le()),Ue(),whe=ue.div(_he||(_he=W([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),pU=ue.div(xhe||(xhe=W([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),Ap=ue(pU)(She||(She=W([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),Che=ue(pU)(Ehe||(Ehe=W([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),Mhe=ue.div(Phe||(Phe=W([`
  font-weight: 600;
`]))),khe=ue.div(The||(The=W([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),Ihe=ue.div(Ahe||(Ahe=W([`
  margin-left: 2px;
`]))),lM=ue.div(Rhe||(Rhe=W([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),Ohe=ue.div(Dhe||(Dhe=W([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),fU="0.7.0",mU=fU.match(/^[^\-]+/)[0],Lhe=Ts.default.forwardRef((s,a)=>{let l=nr(xe().atomP.ahistoric.updateChecker.result.hasUpdates);return Ts.default.createElement(whe,{ref:a},Ts.default.createElement(Ap,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Ts.default.createElement(Ap,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Ts.default.createElement(lM,null),Ts.default.createElement(Ap,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Ts.default.createElement(Ap,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Ts.default.createElement(Ap,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Ts.default.createElement(lM,null),Ts.default.createElement(Che,null,Ts.default.createElement(Mhe,null,"Version"),Ts.default.createElement(khe,null,Ts.default.createElement(Ihe,null,fU," ",l===!0?"(outdated)":l===!1?"(latest)":""))),l===!0&&Ts.default.createElement(Ts.default.Fragment,null,Ts.default.createElement(lM,null),Ts.default.createElement(Ap,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(mU)),className:"",target:"_blank"},"Update",Ts.default.createElement(Ohe,null)),Ts.default.createElement(Ap,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(mU)),className:"",target:"_blank"},"What's new?")))}),Nhe=Lhe}),ti,Fhe,Bhe,Uhe,zhe,Vhe,jhe,gU,Hhe,vU,Ghe,yU,$he,Whe,LMe=C(()=>{Sn(),ze(),ti=q(Le()),Ue(),G6(),gMe(),VC(),Fhe=Vt,ghe(),kMe(),f6(),IMe(),DMe(),x7(),Yu(),OMe(),J6(),Uhe=ue.div(Bhe||(Bhe=W([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),Vhe=ue.div(zhe||(zhe=W([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),gU=ue.div(jhe||(jhe=W([`
  display: flex;
  gap: 8px;
`]))),vU=ue.div(Hhe||(Hhe=W([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:s})=>s==="info"?"#40aaa4":"#f59e0b"),ue.div(Ghe||(Ghe=W([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),yU=!1,$he=()=>{var s,a,l;let h=Xn(()=>{let N=(0,Fhe.val)(xe().atomP.ephemeral.coreByProject);return Object.entries(N).map(([j,$])=>({projectId:j,state:$})).filter(({state:j})=>j.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[f,g]=z3({enabled:h.length>0,enterDelay:h.length>0?0:200},()=>h.length>0?ti.default.createElement(Lde,null,h.length===1?'There is a state conflict in project "'.concat(h[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(h.length," projects that have state conflicts. They are highlighted in the outline below. ")):ti.default.createElement(V3,null,ti.default.createElement(ti.default.Fragment,null,"Outline"))),b=(s=nr(xe().atomP.ahistoric.pinOutline))!=null?s:!0,_=(a=nr(xe().atomP.ahistoric.pinDetails))!=null?a:!0,E=nr(xe().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,P=qu(()=>{let N=I.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:N.right,maxY:8,minX:N.left-140,minY:8},verticalGap:2}},()=>ti.default.createElement(Nhe,null)),I=(0,ti.useRef)(null),O=(0,ti.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(yU||(yU=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),E||window.__IS_VISUAL_REGRESSION_TESTING?!0:E),[E]),{hasNotifications:D}=oF(),[A,F]=wre();return ti.default.createElement(Uhe,null,ti.default.createElement(gU,null,f,ti.default.createElement(aM,{ref:g,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{xe().transaction(({stateEditors:N,drafts:j})=>{var $;N.studio.ahistoric.setPinOutline(!(($=j.ahistoric.pinOutline)==null||$))})},icon:ti.default.createElement(CL,null),pinHintIcon:ti.default.createElement(hU,null),unpinHintIcon:ti.default.createElement(cU,null),pinned:b}),h.length>0?ti.default.createElement(Vhe,null,h.length):null,ti.default.createElement(lU,{showLeftDivider:!0,toolbarId:"global"})),ti.default.createElement(gU,null,A,ti.default.createElement(aM,{ref:F,onClick:()=>{xe().transaction(({stateEditors:N,drafts:j})=>{var $;N.studio.ahistoric.setPinNotifications(!(($=j.ahistoric.pinNotifications)!=null&&$))})},icon:ti.default.createElement(qE,null),pinHintIcon:ti.default.createElement(qE,null),unpinHintIcon:ti.default.createElement(qE,null),pinned:(l=nr(xe().atomP.ahistoric.pinNotifications))!=null?l:!1},D&&ti.default.createElement(vU,{type:"warning"})),P.node,ti.default.createElement(s5,{ref:I,onClick:N=>{P.toggle(N,I.current)}},ti.default.createElement(zq,null),O&&ti.default.createElement(vU,{type:"info"})),ti.default.createElement(aM,{ref:g,onClick:()=>{xe().transaction(({stateEditors:N,drafts:j})=>{var $;N.studio.ahistoric.setPinDetails(!(($=j.ahistoric.pinDetails)==null||$))})},icon:ti.default.createElement(Uq,null),pinHintIcon:ti.default.createElement(cU,null),unpinHintIcon:ti.default.createElement(hU,null),pinned:_})))},Whe=$he}),Khe,P7,Xhe,M7,qhe,Yhe,Zhe,Qhe,Jhe=C(()=>{Khe=Vt,Sn(),P7=q(Le()),Xhe=q(Rl()),M7=new Khe.Atom({set:{},byId:{}}),qhe=1,Yhe=()=>{let s=qhe++;function a(h,f,g){M7.reduce(b=>({byId:B(L({},b.byId),{[s]:{comp:h,props:f,portalNode:g}}),set:B(L({},b.set),{[s]:!0})}))}function l(){M7.reduce(h=>{let f=L({},h.set),g=L({},h.byId);return delete f[s],{byId:g,set:f}})}return{mountOrRender:a,unmount:l}},Zhe=()=>{let s=Object.keys(nr(M7.pointer.set));return P7.default.createElement(P7.default.Fragment,null,s.map(a=>P7.default.createElement(Qhe,{key:"id-"+a,id:a})))},Qhe=({id:s})=>{let{comp:a,portalNode:l,props:h}=nr(M7.pointer.byId[s]);return(0,Xhe.createPortal)(P7.default.createElement(a,L({},h)),l)}});function NMe(s){let a=xe(),[l,h]=xr(void 0),f=Kle();f.configureLogging({min:128,dev:_U,internal:_U});let g=f.getLogger().named("Theatre.js UIRoot");iMe();let b=nr(a.atomP.ahistoric.visibilityState);return(0,wo.useEffect)(()=>(b==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[b]),Xn(()=>{let _=(0,bU.val)(a.atomP.ahistoric.visibilityState);return(0,bU.val)(a.atomP.ephemeral.initialised)?wo.default.createElement(rZ,{logger:g},wo.default.createElement(sne,null,wo.default.createElement(xxe,null,wo.default.createElement(spe,null),wo.default.createElement(x3.Provider,{value:h},wo.default.createElement(xL,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:s.containerShadow},wo.default.createElement(wo.default.Fragment,null,wo.default.createElement(tpe,null),wo.default.createElement(rpe,{className:_==="everythingIsHidden"?"invisible":""},wo.default.createElement(wL,{ref:l}),wo.default.createElement(Whe,null),wo.default.createElement(Rde,null),wo.default.createElement(xre,null)))))))):null},[a,l,h])}var bU,wo,epe,tpe,npe,rpe,ipe,_U,spe,FMe=C(()=>{ze(),Sn(),bU=Vt,wo=q(Le()),Ue(),mMe(),LMe(),Dr(),Z1(),JB(),c0(),one(),KL(),Jhe(),Or(),XP(),up(),J6(),tpe=typeof window<"u"?V0(epe||(epe=W([`
  :host {
    contain: strict;
  }
`]))):{},rpe=ue(nZ)(npe||(npe=W([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),_U=/Playground.+Theatre\.js/.test((ipe=typeof document<"u"?document==null?void 0:document.title:null)!=null?ipe:""),spe=()=>wo.default.createElement(Zhe,null)}),BMe=V(s=>{var a=Rl();s.createRoot=a.createRoot,s.hydrateRoot=a.hydrateRoot}),ope={};Y(ope,{default:()=>upe});var ape,lpe,upe,UMe=C(()=>{FMe(),ape=q(Le()),lpe=q(BMe()),Jhe(),Or(),ghe(),upe=class{constructor(){ve(this,"containerEl",document.createElement("div")),ve(this,"_renderTimeout"),ve(this,"_documentBodyUIIsRenderedIn"),ve(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let s=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let a=document.createElement("div");return a.id="theatrejs-faux-shadow-root",document.body.appendChild(a),a}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=s()}render(){let s=()=>{if(!document.body){this._renderTimeout=setTimeout(s,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),lpe.default.createRoot(this.containerShadow).render(ape.default.createElement(NMe,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(s,10)}renderToolset(s,a){let l=Yhe();return l.mountOrRender(Gwe(lU),{toolbarId:s},a),l.unmount}}}),zMe=V(s=>{s.compare=f,s.reduce=g;var a,l,h;s.REMOVE=a=-1,s.ADD=l=1,s.EQUAL=h=0;function f(I,O){var D=I.length,A=O.length,F=b(I,O),N=F<D&&F<A?_(I,O):0,j=N+F-1;D-=j,A-=j;for(var $=P(D,A),K=D-1;K>=0;--K)for(var Q=A-1;Q>=0;--Q)$[Q][K]=E($,I,O,F,K,Q);return{prefix:F,matrix:$,suffix:N}}function g(I,O,D){var A,F,N,j,$=D.matrix,K=D.prefix;for(A=0;A<K;++A)O=I(O,h,A,A);for(N=A,K=$.length,A=0,F=0;A<K;)switch(j=$[A][F].type,O=I(O,j,A+N,F+N),j){case h:++A,++F;break;case a:++F;break;case l:++A;break}for(A+=N,F+=N,K=D.suffix,N=0;N<K;++N)O=I(O,h,A+N,F+N);return O}function b(I,O){for(var D=0,A=Math.min(I.length,O.length);D<A&&I[D]===O[D];)++D;return D}function _(I,O){for(var D=I.length-1,A=O.length-1,F=Math.min(D,A),N=0;N<F&&I[D-N]===O[A-N];)++N;return N}function E(I,O,D,A,F,N){return O[F+A]===D[N+A]?{value:I[N+1][F+1].value,type:h}:I[N][F+1].value<I[N+1][F].value?{value:I[N][F+1].value+1,type:a}:{value:I[N+1][F].value+1,type:l}}function P(I,O){var D=[],A,F,N;for(N=D[O]=[],F=0;F<I;++F)N[F]={value:I-F,type:a};for(A=0;A<O;++A)D[A]=[],D[A][I]={value:O-A,type:l};return D[O][I]={value:0,type:h},D}}),cpe=V(s=>{s.cons=a,s.tail=l,s.map=h;function a(f,g){var b=g.length,_=new Array(b+1);_[0]=f;for(var E=0;E<b;++E)_[E+1]=g[E];return _}function l(f){for(var g=f.length-1,b=new Array(g),_=0;_<g;++_)b[_]=f[_+1];return b}function h(f,g){for(var b=new Array(g.length),_=0;_<g.length;++_)b[_]=f(g[_]);return b}}),VMe=V((s,a)=>{a.exports=b;var l=/\/|~1|~0/g,h="/",f="~",g="~1";function b(_,E){var P,I,O,D;for(P=_.charAt(0)===h?1:0,I="",l.lastIndex=P;O=l.exec(_);)if(D=O[0],I+=_.slice(P,l.lastIndex-D.length),P=l.lastIndex,D===h){if(E(I)===!1)return _;I=""}else I+=D===g?h:f;return I+=_.slice(P),E(I),_}}),wU=V(s=>{var a=VMe();s.find=I,s.join=D,s.absolute=O,s.parse=A,s.contains=F,s.encodeSegment=j,s.decodeSegment=N,s.parseArrayIndex=Q,s.isValidArrayIndex=K;var l="/",h=/\//g,f="~1",g=/~1/g,b="~",_=/~/g,E="~0",P=/~0/g;function I(re,ce,Ce,ye){if(typeof ce=="string"){if(ce==="")return{target:re,key:void 0};if(ce===l)return{target:re,key:""};var we=re,Oe,rt=ye!==void 0;return a(ce,function(he){if(re==null)return we=null,!1;Array.isArray(re)?Oe=rt?ie(Ce,Q(he),re,ye):he==="-"?he:Q(he):Oe=he,we=re,re=re[Oe]}),we===null?void 0:{target:we,key:Oe}}}function O(re){return re[0]===l?re:l+re}function D(re){return re.join(l)}function A(re){var ce=[];return a(re,ce.push.bind(ce)),ce}function F(re,ce){return ce.indexOf(re)===0&&ce[re.length]===l}function N(re){return re.replace(g,l).replace(P,b)}function j(re){return re.replace(_,E).replace(h,f)}var $=/^(0|[1-9]\d*)$/;function K(re){return $.test(re)}function Q(re){if(K(re))return+re;throw new SyntaxError("invalid array index "+re)}function ie(re,ce,Ce,ye){var we=ce;if(we<0)throw new Error("array index out of bounds "+we);if(ye!==void 0&&typeof re=="function"&&(we=re(ce,Ce,ye),we<0))throw new Error("could not find patch context "+ye);return we}}),dpe=V((s,a)=>{a.exports=l;function l(g){return g==null||typeof g!="object"?g:Array.isArray(g)?h(g):f(g)}function h(g){for(var b=g.length,_=new Array(b),E=0;E<b;++E)_[E]=l(g[E]);return _}function f(g){for(var b=Object.keys(g),_={},E,P=0,I=b.length;P<I;++P)E=b[P],_[E]=l(g[E]);return _}}),jMe=V((s,a)=>{a.exports=l;function l(g,b){return g===b?!0:Array.isArray(g)&&Array.isArray(b)?h(g,b):typeof g=="object"&&typeof b=="object"?f(g,b):!1}function h(g,b){if(g.length!==b.length)return!1;for(var _=0;_<g.length;++_)if(!l(g[_],b[_]))return!1;return!0}function f(g,b){if(g===null&&b!==null||g!==null&&b===null)return!1;var _=Object.keys(g),E=Object.keys(b);if(_.length!==E.length)return!1;for(var P=0,I;P<_.length;++P)if(I=_[P],!(I in b&&l(g[I],b[I])))return!1;return!0}}),HMe=V((s,a)=>{var l=wU();a.exports=function(I,O){var D=l.parse(I.path),A=l.parse(O.path),F=E(D,A),N=g(D,A,F.length),j=P(I),$=P(O);return F.length===0&&!N?[$,j]:N?f(j,D,$,A):h(j,D,$)};function h(I,O,D,A){if(I.path===D.path)throw new TypeError("cannot commute "+I.op+","+D.op+" with identical object paths");return[D,I]}function f(I,O,D,A){return O.length===A.length?b(I,O,D,A):(O.length>A.length?(O=_(D,A,I,O,-1),I.path=l.absolute(l.join(O))):(A=_(I,O,D,A,1),D.path=l.absolute(l.join(A))),[D,I])}function g(I,O,D){return l.isValidArrayIndex(I[D])&&l.isValidArrayIndex(O[D])}function b(I,O,D,A){var F=O.length-1,N=+O[F],j=+A[F],$;return N<j?I.op==="add"||I.op==="copy"?($=A.slice(),$[F]=Math.max(0,j-1),D.path=l.absolute(l.join($))):I.op==="remove"&&($=A.slice(),$[F]=j+1,D.path=l.absolute(l.join($))):D.op==="add"||D.op==="copy"?($=O.slice(),$[F]=N+1,I.path=l.absolute(l.join($))):N>j&&D.op==="remove"&&($=O.slice(),$[F]=Math.max(0,N-1),I.path=l.absolute(l.join($))),[D,I]}function _(I,O,D,A,F){var N=O.length-1,j=+O[N],$=+A[N],K=A.slice();return j>$||(I.op==="add"||I.op==="copy"?K[N]=Math.max(0,$-F):I.op==="remove"&&(K[N]=Math.max(0,$+F))),K}function E(I,O){var D=I.length,A=O.length;if(D===0||A===0||D<2&&A<2)return[];for(var F=D===A?D-1:Math.min(D,A),N=0;N<F&&I[N]===O[N];)++N;return I.slice(0,N)}function P(I){return I.op==="remove"?{op:I.op,path:I.path}:I.op==="copy"||I.op==="move"?{op:I.op,path:I.path,from:I.from}:{op:I.op,path:I.path,value:I.value}}}),hpe=V((s,a)=>{a.exports=l;function l(h){Error.call(this),this.name=this.constructor.name,this.message=h,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}l.prototype=Object.create(Error.prototype),l.prototype.constructor=l}),xU=V((s,a)=>{a.exports=l;function l(h){Error.call(this),this.name=this.constructor.name,this.message=h,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}l.prototype=Object.create(Error.prototype),l.prototype.constructor=l}),ppe=V((s,a)=>{a.exports=l;function l(h){Error.call(this),this.name=this.constructor.name,this.message=h,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}l.prototype=Object.create(Error.prototype),l.prototype.constructor=l}),fpe=V(s=>{var a=wU(),l=dpe(),h=jMe(),f=HMe(),g=cpe(),b=hpe(),_=xU(),E=ppe(),P=a.find,I=a.parseArrayIndex;s.test={apply:O,inverse:D,commute:A},s.add={apply:F,inverse:j,commute:$},s.remove={apply:re,inverse:Ce,commute:ye},s.replace={apply:K,inverse:Q,commute:ie},s.move={apply:we,inverse:Oe,commute:rt},s.copy={apply:he,inverse:De,commute:$};function O(ke,Ae,We){var Pt=P(ke,Ae.path,We.findContext,Ae.context),pe=Pt.target,ge,Je;if(Array.isArray(pe)?(ge=I(Pt.key),Je=pe[ge]):Je=Pt.key===void 0?Pt.target:Pt.target[Pt.key],!h(Je,Ae.value))throw new b("test failed "+JSON.stringify(Ae));return ke}function D(ke,Ae){return ke.push(Ae),1}function A(ke,Ae){if(ke.path===Ae.path&&Ae.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return Ae.op==="test"||Ae.op==="replace"?[Ae,ke]:f(ke,Ae)}function F(ke,Ae,We){var Pt=P(ke,Ae.path,We.findContext,Ae.context);if(J(Pt))throw new _("path does not exist "+Ae.path);if(Ae.value===void 0)throw new _("missing value");var pe=l(Ae.value);return Pt.key===void 0?pe:(N(Pt,pe),ke)}function N(ke,Ae){var We=ke.target;if(Array.isArray(We))if(ke.key==="-")We.push(Ae);else{if(ke.key>We.length)throw new _("target of add outside of array bounds");We.splice(ke.key,0,Ae)}else if(zt(We))We[ke.key]=Ae;else throw new _("target of add must be an object or array "+ke.key)}function j(ke,Ae){var We=Ae.context;return We!==void 0&&(We={before:We.before,after:g.cons(Ae.value,We.after)}),ke.push({op:"test",path:Ae.path,value:Ae.value,context:We}),ke.push({op:"remove",path:Ae.path,context:We}),1}function $(ke,Ae){if(ke.path===Ae.path&&Ae.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return f(ke,Ae)}function K(ke,Ae,We){var Pt=P(ke,Ae.path,We.findContext,Ae.context);if(J(Pt)||Ge(Pt))throw new _("path does not exist "+Ae.path);if(Ae.value===void 0)throw new _("missing value");var pe=l(Ae.value);if(Pt.key===void 0)return pe;var ge=Pt.target;return Array.isArray(ge)?ge[I(Pt.key)]=pe:ge[Pt.key]=pe,ke}function Q(ke,Ae,We,Pt){var pe=Pt[We-1];if(pe===void 0||pe.op!=="test"||pe.path!==Ae.path)throw new E("cannot invert replace w/o test");var ge=pe.context;return ge!==void 0&&(ge={before:ge.before,after:g.cons(pe.value,g.tail(ge.after))}),ke.push({op:"test",path:pe.path,value:Ae.value}),ke.push({op:"replace",path:pe.path,value:pe.value}),2}function ie(ke,Ae){if(ke.path===Ae.path&&Ae.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return Ae.op==="test"||Ae.op==="replace"?[Ae,ke]:f(ke,Ae)}function re(ke,Ae,We){var Pt=P(ke,Ae.path,We.findContext,Ae.context);if(J(Pt)||Pt.target[Pt.key]===void 0)throw new _("path does not exist "+Ae.path);return ce(Pt),ke}function ce(ke){var Ae=ke.target,We;if(Array.isArray(Ae))return We=Ae.splice(I(ke.key),1),We[0];if(zt(Ae))return We=Ae[ke.key],delete Ae[ke.key],We;throw new _("target of remove must be an object or array")}function Ce(ke,Ae,We,Pt){var pe=Pt[We-1];if(pe===void 0||pe.op!=="test"||pe.path!==Ae.path)throw new E("cannot invert remove w/o test");var ge=pe.context;return ge!==void 0&&(ge={before:ge.before,after:g.tail(ge.after)}),ke.push({op:"add",path:pe.path,value:pe.value,context:ge}),2}function ye(ke,Ae){return ke.path===Ae.path&&Ae.op==="remove"?[Ae,ke]:f(ke,Ae)}function we(ke,Ae,We){if(a.contains(Ae.path,Ae.from))throw new _("move.from cannot be ancestor of move.path");var Pt=P(ke,Ae.path,We.findContext,Ae.context),pe=P(ke,Ae.from,We.findContext,Ae.fromContext);return N(Pt,ce(pe)),ke}function Oe(ke,Ae){return ke.push({op:"move",path:Ae.from,context:Ae.fromContext,from:Ae.path,fromContext:Ae.context}),1}function rt(ke,Ae){if(ke.path===Ae.path&&Ae.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return f(ke,Ae)}function he(ke,Ae,We){var Pt=P(ke,Ae.path,We.findContext,Ae.context),pe=P(ke,Ae.from,We.findContext,Ae.fromContext);if(J(pe)||Ge(pe))throw new _("copy.from must exist");var ge=pe.target,Je;return Array.isArray(ge)?Je=ge[I(pe.key)]:Je=ge[pe.key],N(Pt,l(Je)),ke}function De(ke,Ae){throw new E("cannot invert "+Ae.op)}function J(ke){return ke===void 0||ke.target==null&&ke.key!==void 0}function Ge(ke){return ke.key!==void 0&&ke.target[ke.key]===void 0}function zt(ke){return ke!==null&&typeof ke=="object"}}),GMe=V(s=>{var a=fpe(),l=dpe(),h=xU();s.apply=g,s.applyInPlace=b,s.clone=l,s.isValidObject=E,s.defaultHash=_;var f={};function g(I,O,D){return b(I,l(O),D)}function b(I,O,D){if(D||(D=f),!Array.isArray(I))return O;for(var A,F,N=0;N<I.length;++N){if(F=I[N],A=a[F.op],A===void 0)throw new h("invalid op "+JSON.stringify(F));O=A.apply(O,F,D)}return O}function _(I){return E(I)||P(I)?JSON.stringify(I):I}function E(I){return I!==null&&Object.prototype.toString.call(I)==="[object Object]"}function P(I){return Object.prototype.toString.call(I)==="[object Array]"}}),$Me=V((s,a)=>{var l=fpe();a.exports=function(f){var g=[],b,_;for(b=f.length-1;b>=0;b-=_)_=h(g,f[b],b,f);return g};function h(f,g,b,_){var E=l[g.op];return E!==void 0&&typeof E.inverse=="function"?E.inverse(f,g,b,_):1}}),WMe=V(s=>{var a=zMe(),l=cpe(),h=GMe(),f=$Me(),g=wU(),b=g.encodeSegment;s.diff=P,s.patch=h.apply,s.patchInPlace=h.applyInPlace,s.inverse=f,s.clone=h.clone,s.InvalidPatchOperationError=xU(),s.TestFailedError=hpe(),s.PatchNotInvertibleError=ppe();var _=h.isValidObject,E=h.defaultHash;function P(Q,ie,re){return O(Q,ie,"",I(re,[])).patch}function I(Q,ie){return typeof Q=="object"?{patch:ie,hash:j(K,Q.hash,E),makeContext:j(K,Q.makeContext,$),invertible:Q.invertible!==!1}:{patch:ie,hash:j(K,Q,E),makeContext:$,invertible:!0}}function O(Q,ie,re,ce){return Array.isArray(Q)&&Array.isArray(ie)?A(Q,ie,re,ce):_(Q)&&_(ie)?D(Q,ie,re,ce):N(Q,ie,re,ce)}function D(Q,ie,re,ce){var Ce=Object.keys(ie),ye=ce.patch,we,Oe;for(we=Ce.length-1;we>=0;--we){Oe=Ce[we];var rt=re+"/"+b(Oe);Q[Oe]!==void 0?O(Q[Oe],ie[Oe],rt,ce):ye.push({op:"add",path:rt,value:ie[Oe]})}for(Ce=Object.keys(Q),we=Ce.length-1;we>=0;--we)if(Oe=Ce[we],ie[Oe]===void 0){var he=re+"/"+b(Oe);ce.invertible&&ye.push({op:"test",path:he,value:Q[Oe]}),ye.push({op:"remove",path:he})}return ce}function A(Q,ie,re,ce){var Ce=l.map(ce.hash,Q),ye=l.map(ce.hash,ie),we=a.compare(Ce,ye);return F(Q,ie,re,ce,we)}function F(Q,ie,re,ce,Ce){var ye=0;return a.reduce(function(we,Oe,rt,he){var De,J,Ge=we.patch,zt=re+"/"+(he+ye);return Oe===a.REMOVE?(De=Ge[Ge.length-1],J=we.makeContext(he,Q),we.invertible&&Ge.push({op:"test",path:zt,value:Q[he],context:J}),De!==void 0&&De.op==="add"&&De.path===zt?(De.op="replace",De.context=J):Ge.push({op:"remove",path:zt,context:J}),ye-=1):Oe===a.ADD?(Ge.push({op:"add",path:zt,value:ie[rt],context:we.makeContext(he,Q)}),ye+=1):O(Q[he],ie[rt],zt,we),we},ce,Ce)}function N(Q,ie,re,ce){return Q!==ie&&(ce.invertible&&ce.patch.push({op:"test",path:re,value:Q}),ce.patch.push({op:"replace",path:re,value:ie})),ce}function j(Q,ie,re){return Q(ie)?ie:re}function $(){}function K(Q){return typeof Q=="function"}}),Im=V((s,a)=>{function l(h,f){for(var g=0,b=f.length-1;g<b;g++){if(!h[f[g]])return null;h=h[f[g]]}return h}a.exports=l}),Ip=V((s,a)=>{function l(f){return f==="~0"?"~":"/"}function h(f){var g=f.split("/");if(f.indexOf("~")===-1)return g;for(var b=0,_=g.length;b<_;b++)g[b].indexOf("~")!==-1&&(g[b]=g[b].replace(/~[01]/g,l));return g}a.exports=h}),KMe=V((s,a)=>{var l=Im(),h=Ip();function f(g,b){var _=h(b),E=_[_.length-1],P=l(g,_);return P?P[E]:void 0}a.exports=f}),uM=V((s,a)=>{function l(h,f){if(h===f)return!0;if(!(h&&f)||typeof h!="object"||typeof f!="object"||h.length!==f.length)return!1;if(Array.isArray(h)){if(!Array.isArray(f))return!1;for(var g=0,b=h.length;g<b;g++)if(!l(h[g],f[g]))return!1;return!0}var _=Object.keys(h);if(_.length!==Object.keys(f).length)return!1;for(var E=0,P=_.length;E<P;E++){var I=_[E];if(!l(h[I],f[I]))return!1}return!0}a.exports=l}),cM=V((s,a)=>{function l(h,f){if(f==="-")return h.length;for(var g=0,b=f.length;g<b;g++){var _=f.charCodeAt(g);if(57<_||_<48)return 1/0}return+f}a.exports=l}),dM=V((s,a)=>{var l=uM(),h=Im(),f=cM(),g=Ip();function b(_,E,P,I){if(typeof P>"u")return"[op:add] require value, but got undefined";var O=g(E),D=O[O.length-1],A=h(_,O);if(A===null)return"[op:add] path not found: "+E;if(Array.isArray(A)){var F=f(A,D);if(A.length<F)return"[op:add] invalid array index: "+E;I(_,O).splice(F,0,P)}else l(A[D],P)||(I(_,O)[D]=P)}a.exports=b}),mpe=V((s,a)=>{var l=Im(),h=cM(),f=Ip();function g(b,_,E){var P=f(_),I=P[P.length-1],O=l(b,P);if(O===null)return"[op:remove] path not found: "+_;if(Array.isArray(O)){var D=h(O,I);if(O.length<=D)return"[op:remove] invalid array index: "+_;E(b,P).splice(D,1)}else delete E(b,P)[I]}a.exports=g}),gpe=V((s,a)=>{var l=uM(),h=Im(),f=cM(),g=Ip();function b(_,E,P,I){if(typeof P>"u")return"[op:replace] require value, but got undefined";var O=g(E),D=O[O.length-1],A=h(_,O);if(A===null)return"[op:replace] path not found: "+E;if(Array.isArray(A)){var F=f(A,D);if(A.length<=F)return"[op:replace] invalid array index: "+E;l(A[F],P)||I(_,O).splice(F,1,P)}else l(A[D],P)||(I(_,O)[D]=P)}a.exports=b}),vpe=V((s,a)=>{var l=dM(),h=Im(),f=cM(),g=Ip();function b(_,E,P,I){if(P!==E){var O=g(E),D=O[O.length-1],A=h(_,O);if(A===null)return"[op:move] path not found: "+E;var F=void 0;if(Array.isArray(A)){var N=f(A,D);if(A.length<=N)return"[op:move] invalid array index: "+P;F=A[N],I(_,O).splice(N,1)}else F=A[D],delete I(_,O)[D];return l(_,P,F,I)}}a.exports=b}),ype=V((s,a)=>{var l=Im(),h=Ip(),f=dM();function g(b,_,E,P){var I=h(_),O=I[I.length-1],D=l(b,I);return D===null?"[op:copy] path not found: "+_:f(b,E,D[O],P)}a.exports=g}),bpe=V((s,a)=>{var l=uM(),h=Im(),f=Ip();function g(b,_,E){var P=f(_),I=P[P.length-1],O=h(b,P);if(O===null)return"[op:test] path not found: "+_;if(!l(O[I],E)){var D=JSON.stringify(O[I]),A=JSON.stringify(E);return"[op:test] not matched: "+D+" "+A}}a.exports=g}),SU=V((s,a)=>{function l(h){if(!h||typeof h!="object")return h;if(Array.isArray(h)){for(var f=h.length,g=new Array(f),b=0;b<f;b++)g[b]=h[b];return g}for(var _=Object.keys(h),E={},P=0,I=_.length;P<I;P++){var O=_[P];E[O]=h[O]}return E}a.exports=l}),XMe=V((s,a)=>{var l=KMe(),h=dM(),f=mpe(),g=gpe(),b=vpe(),_=ype(),E=bpe(),P=uM(),I=SU(),O=Ip();function D(A,F){return{get:function(N){return l(A,N)},add:function(N,j){return h(A,N,j,F)},remove:function(N){return f(A,N,F)},replace:function(N,j){return g(A,N,j,F)},move:function(N,j){return b(A,N,j,F)},copy:function(N,j){return _(A,N,j,F)},test:function(N,j){return E(A,N,j)},deepEqual:P,shallowCopy:I,toKeys:O}}a.exports=D}),qMe=V((s,a)=>{function l(h,f,g,b){return b.error=g,b.partial?f[""]:h}a.exports=l}),YMe=V((s,a)=>{function l(h){return!!h}a.exports=l}),ZMe=V((s,a)=>{function l(h){if(h)throw new TypeError(h)}a.exports=l}),QMe=V((s,a)=>{var l=SU();function h(f,g){for(var b=0,_=g.length-1;b<_;b++)f=f[g[b]]=l(f[g[b]]);return f}a.exports=h}),JMe=V((s,a)=>{var l=SU();function h(g,b,_){var E=g[b];return _.has(E)||(E=l(E),_.add(E)),E}function f(g,b,_){for(var E=0,P=b.length-1;E<P;E++)g=g[b[E]]=h(g,b[E],_);return g}a.exports=f}),eTe=V((s,a)=>{var l=XMe(),h=qMe(),f=YMe(),g=ZMe(),b=QMe(),_=JMe(),E=dM(),P=mpe(),I=gpe(),O=vpe(),D=ype(),A=bpe(),F=Set||function(){var j=[];return j.has=function($){return this.indexOf($)!==-1},j.add=function($){this.push($)},j};function N(j,$,K){if($.length===0)return j;K=K||{};for(var Q=K.strict?g:f,ie=$.length===1?b:function(Oe){return function(rt,he){return _(rt,he,Oe)}}(new F),re={"":j},ce,Ce=0,ye=$.length;Ce<ye;Ce++){var we=$[Ce];switch(we.op){case"add":if(Q(E(re,""+we.path,we.value,ie)))return h(j,re,we,K);break;case"remove":if(Q(P(re,""+we.path,ie)))return h(j,re,we,K);break;case"replace":if(Q(I(re,""+we.path,we.value,ie)))return h(j,re,we,K);break;case"move":if(Q(O(re,""+we.from,""+we.path,ie)))return h(j,re,we,K);break;case"copy":if(Q(D(re,""+we.from,""+we.path,ie)))return h(j,re,we,K);break;case"test":if(Q(A(re,""+we.path,we.value)))return h(j,re,we,K);break;default:if(K.custom&&K.custom[we.op]){if(ce=ce||l(re,ie),Q(K.custom[we.op](ce,we,Ce,$)))return h(j,re,we,K)}else return Q("[op:"+we.op+"] unknown"),h(j,re,we,K);break}}return re[""]}a.exports=N}),tTe=V((s,a)=>{a.exports=eTe()}),nTe=V((s,a)=>{(function(l,h){typeof s=="object"&&typeof a=="object"?a.exports=h():typeof s=="object"?s.blobCompare=h():l.blobCompare=h()})(window,function(){return function(l){var h={};function f(g){if(h[g])return h[g].exports;var b=h[g]={i:g,l:!1,exports:{}};return l[g].call(b.exports,b,b.exports,f),b.l=!0,b.exports}return f.m=l,f.c=h,f.d=function(g,b,_){f.o(g,b)||Object.defineProperty(g,b,{enumerable:!0,get:_})},f.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},f.t=function(g,b){if(1&b&&(g=f(g)),8&b||4&b&&typeof g=="object"&&g&&g.__esModule)return g;var _=Object.create(null);if(f.r(_),Object.defineProperty(_,"default",{enumerable:!0,value:g}),2&b&&typeof g!="string")for(var E in g)f.d(_,E,(function(P){return g[P]}).bind(null,E));return _},f.n=function(g){var b=g&&g.__esModule?function(){return g.default}:function(){return g};return f.d(b,"a",b),b},f.o=function(g,b){return Object.prototype.hasOwnProperty.call(g,b)},f.p="",f(f.s=4)}([function(l,h,f){var g=function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(D,A){var F=[],N=!0,j=!1,$=void 0;try{for(var K,Q=D[Symbol.iterator]();!(N=(K=Q.next()).done)&&(F.push(K.value),!A||F.length!==A);N=!0);}catch(ie){j=!0,$=ie}finally{try{!N&&Q.return&&Q.return()}finally{if(j)throw $}}return F}(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function I(O,D){for(var A=0;A<D.length;A++){var F=D[A];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}return function(O,D,A){return D&&I(O.prototype,D),A&&I(O,A),O}}();function _(I){if(Array.isArray(I)){for(var O=0,D=Array(I.length);O<I.length;O++)D[O]=I[O];return D}return Array.from(I)}var E=f(2),P=function(I){function O(D){(function(F,N){if(!(F instanceof N))throw new TypeError("Cannot call a class as a function")})(this,O);var A=function(F,N){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||typeof N!="object"&&typeof N!="function"?F:N}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this));return A._messageId=1,A._messages=new Map,A._worker=D,A._worker.onmessage=A._onMessage.bind(A),A._id=Math.ceil(1e7*Math.random()),A}return function(D,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);D.prototype=Object.create(A&&A.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(D,A):D.__proto__=A)}(O,I),b(O,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(D){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,F=this,N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],j=arguments[3];return new Promise(function($,K){var Q=F._messageId++;F._messages.set(Q,[$,K,j]),F._worker.postMessage([Q,A,D],N||[])})}},{key:"postMessage",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,A=this,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],N=arguments[2];return new Promise(function(j,$){var K=A._messageId++;A._messages.set(K,[j,$,N]),A._worker.postMessage([K,D],F||[])})}},{key:"emit",value:function(D){for(var A=arguments.length,F=Array(A>1?A-1:0),N=1;N<A;N++)F[N-1]=arguments[N];this._worker.postMessage({eventName:D,args:F})}},{key:"_onMessage",value:function(D){var A;if(!Array.isArray(D.data)&&D.data.eventName)return(A=function K(Q,ie,re){Q===null&&(Q=Function.prototype);var ce=Object.getOwnPropertyDescriptor(Q,ie);if(ce===void 0){var Ce=Object.getPrototypeOf(Q);return Ce===null?void 0:K(Ce,ie,re)}if("value"in ce)return ce.value;var ye=ce.get;return ye!==void 0?ye.call(re):void 0}(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"emit",this)).call.apply(A,[this,D.data.eventName].concat(_(D.data.args)));var F,N=(F=D.data,Array.isArray(F)?F:Array.from(F)),j=N[0],$=N.slice(1);if(j===1)this._onEvent.apply(this,_($));else{if(j!==0)throw new Error("Wrong message type '"+j+"'");this._onResult.apply(this,_($))}}},{key:"_onResult",value:function(D,A,F){var N=this._messages.get(D),j=g(N,2),$=j[0],K=j[1];return this._messages.delete(D),A===1?$(F):K(F)}},{key:"_onEvent",value:function(D,A,F){var N=this._messages.get(D),j=g(N,3)[2];j&&j(A,F)}}]),O}(E);l.exports=P},function(l,h,f){l.exports=function(){return f(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(l,h,f){var g=function(){function _(E,P){for(var I=0;I<P.length;I++){var O=P[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(E,O.key,O)}}return function(E,P,I){return P&&_(E.prototype,P),I&&_(E,I),E}}(),b=function(){function _(){(function(E,P){if(!(E instanceof P))throw new TypeError("Cannot call a class as a function")})(this,_),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return g(_,[{key:"emit",value:function(E){if(!this.__listeners[E])return this;for(var P=arguments.length,I=Array(P>1?P-1:0),O=1;O<P;O++)I[O-1]=arguments[O];var D=!0,A=!1,F=void 0;try{for(var N,j=this.__listeners[E][Symbol.iterator]();!(D=(N=j.next()).done);D=!0){var $=N.value;$.apply(void 0,I)}}catch(K){A=!0,F=K}finally{try{!D&&j.return&&j.return()}finally{if(A)throw F}}return this}},{key:"once",value:function(E,P){var I=this,O=function D(){I.off(E,D),P.apply(void 0,arguments)};return this.on(E,O)}},{key:"on",value:function(E,P){return this.__listeners[E]||(this.__listeners[E]=[]),this.__listeners[E].push(P),this}},{key:"off",value:function(E,P){return this.__listeners[E]=P?this.__listeners[E].filter(function(I){return I!==P}):[],this}}]),_}();l.exports=b},function(l,h,f){var g=window.URL||window.webkitURL;l.exports=function(b,_){try{try{var E;try{(E=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(b),E=E.getBlob()}catch{E=new Blob([b])}return new Worker(g.createObjectURL(E))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(b))}}catch{if(!_)throw Error("Inline worker is not supported");return new Worker(_)}}},function(l,h,f){f.r(h);var g=f(0),b=f.n(g),_=f(1),E=f.n(_);f.d(h,"workersEnabled",function(){return P}),f.d(h,"default",function(){return I});let P=!!window.Worker;class I{static toBinaryStringWithWorker(D,A){return se(this,null,function*(){let F=new b.a(new E.a),N=yield F.exec("binary",{blob:D,chunk:A});return F.terminate(),N})}static toBinaryStringWithoutWorker(D,A){return function(F,N){return new Promise((j,$)=>{let K=new FileReader,Q=N?Math.min(N,F.size):F.size,ie=F.slice(0,Q);K.onload=()=>j(K.result),K.onerror=$,K.readAsBinaryString(ie)})}(D,A)}static toBinaryString(D,A,F=!0){return F&&P?this.toBinaryStringWithWorker(D,A):this.toBinaryStringWithoutWorker(D,A)}static toArrayBufferWithWorker(D,A){return se(this,null,function*(){let F=new b.a(new E.a),N=yield F.exec("buffer",{blob:D,chunk:A});return F.terminate(),N})}static toArrayBufferWithoutWorker(D,A){return function(F,N){return new Promise((j,$)=>{let K=new FileReader,Q=N?Math.min(N,F.size):F.size,ie=F.slice(0,Q);K.onload=()=>j(K.result),K.onerror=$,K.readAsArrayBuffer(ie)})}(D,A)}static toArrayBuffer(D,A,F=!0){return F&&P?this.toArrayBufferWithWorker(D,A):this.toArrayBufferWithoutWorker(D,A)}static compareBuffersWithWorker(D,A){return se(this,null,function*(){if(D===A)return!0;let F=new b.a(new E.a),N=yield F.exec("compare",{buf1:D,buf2:A},[D,A]);return F.terminate(),N})}static compareBuffersWithoutWorker(D,A){return function(F,N){if(F===N)return!0;if(F.byteLength!==N.byteLength)return!1;let j=new DataView(F),$=new DataView(N);for(var K=F.byteLength;K--;)if(j.getUint8(K)!==$.getUint8(K))return!1;return!0}(D,A)}static compareBuffers(D,A,F=!0){return F&&P?this.compareBuffersWithWorker(D,A):this.compareBuffersWithoutWorker(D,A)}static sizeEqual(D,A){return D.size===A.size}static typeEqual(D,A){return D.type===A.type}static magicNumbersEqual(D,A,F=!0){return se(this,null,function*(){if(D===A)return!0;let N=[24,16,14,12,8,6,4],[j,$]=yield Promise.all([this.toBinaryString(D,24,F),this.toBinaryString(A,24,F)]);for(let K of N)if(j.substring(0,K)===$.substring(0,K))return!0;return!1})}static bytesEqualWithBinaryString(D,A,F,N=!0){return se(this,null,function*(){if(D===A)return!0;let[j,$]=yield Promise.all([this.toBinaryString(D,F,N),this.toBinaryString(A,F,N)]);return j===$})}static bytesEqualWithArrayBuffer(D,A,F,N=!0){return se(this,null,function*(){if(D===A)return!0;let[j,$]=yield Promise.all([this.toArrayBuffer(D,F,N),this.toArrayBuffer(A,F,N)]);return this.compareBuffers(j,$,N)})}static isEqual(D,A){return se(this,arguments,function*(F,N,{methods:j=["size","type","magic","byte"],byte:$="buffer",partial:K=!1,chunks:Q=null,worker:ie=!0}={}){let re=null;for(let ce of j){if(re===!1||K&&re===!0)break;switch(ce){case"byte":case"bytes":case"content":Q=Q instanceof Array?Q:[F.size],re=!0;for(let Ce of Q){let ye=!1;ye=$==="buffer"?yield this.bytesEqualWithArrayBuffer(F,N,Ce,ie):yield this.bytesEqualWithBinaryString(F,N,Ce,ie),ye||(re=!1)}break;case"magic":case"headers":case"numbers":case"mime":re=yield this.magicNumbersEqual(F,N,ie);break;case"size":case"sizes":re=this.sizeEqual(F,N);break;case"type":case"types":re=this.typeEqual(F,N);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return re})}}}])})}),_pe={};Y(_pe,{ToolbarDropdownSelect:()=>_ke,default:()=>xke}),t.exports=ae(_pe),ze(),pt();var wpe=Vt;bt();var rTe=0,iTe=class{constructor(s){this._studio=s,ve(this,"_id"),ve(this,"_state",{type:"Ready"}),this._id=String(rTe++)}get status(){return this._state.type}reset(){let{_state:s}=this;if(s.type!=="Ready")if(s.type==="Captured")this._state={type:"Ready"},s.transaction.discard(),s.flagsTransaction.discard();else throw s.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:s}=this;if(s.type==="Captured")s.transaction.commit(),s.flagsTransaction.discard(),this._state={type:"Committed"};else if(s.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw s.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(s){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let a=!0;try{this._state=L({type:"Captured"},this._capture(s)),a=!1}finally{a&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(s){let a=[],l=this._studio.tempTransaction(f=>{let g=!0,b={set:(_,E)=>{if(!g)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:P,path:I}=(0,wpe.getPointerParts)(_);if(!kt(P))throw new Error("We can only scrub props of Sheet Objects for now");f.set(_,E),a.push(_)}};try{s(b)}finally{g=!1}}),h=this._studio.tempTransaction(({stateEditors:f})=>{a.forEach(g=>{let{root:b,path:_}=(0,wpe.getPointerParts)(g);if(!kt(b))return;let E=b.template.getDefaultsAtPointer(g);At(E,(P,I)=>{f.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(B(L({},b.address),{pathToProp:I}))},_)})});return{transaction:l,flagsTransaction:h}}discard(){let{_state:s}=this;if(s.type==="Captured"||s.type==="Ready")s.type==="Captured"&&(s.transaction.discard(),s.flagsTransaction.discard()),this._state={type:"Discarded"};else throw s.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},sTe=Vt,xpe=typeof window<"u"?Promise.resolve().then(()=>(UMe(),ope)).then(s=>s.default):null,oTe=class{constructor(s){this.studio=s,ve(this,"_rendered",!1),ve(this,"_nonSSRBits",xpe?xpe.then(a=>new a):Promise.reject()),ve(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(s=>{s.render()}).catch(s=>{throw console.error(s),s}))}hide(){this.studio.transaction(({drafts:s})=>{s.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:s})=>{s.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,sTe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(s,a){let l=!1,h=null;return this._nonSSRBits.then(f=>{l||(h=f.renderToolset(s,a))}).catch(f=>{console.error(f)}),()=>{if(h){h();return}l||(l=!0)}}},hM=Vt;function aTe(s){return s}var lTe=(s,a=aTe)=>{let l=h=>({type:s,payload:a(h)});return l.type=s,l.is=h=>h&&h.type&&h.type===s,l},mc=lTe,Spe=q(WMe()),Epe=q(tTe());K9();var pM,uTe=new Uint8Array(16);function cTe(){if(!pM&&(pM=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!pM))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pM(uTe)}var dTe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hTe(s){return typeof s=="string"&&dTe.test(s)}var pTe=hTe,xo=[];for(fM=0;fM<256;++fM)xo.push((fM+256).toString(16).substr(1));var fM;function fTe(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=(xo[s[a+0]]+xo[s[a+1]]+xo[s[a+2]]+xo[s[a+3]]+"-"+xo[s[a+4]]+xo[s[a+5]]+"-"+xo[s[a+6]]+xo[s[a+7]]+"-"+xo[s[a+8]]+xo[s[a+9]]+"-"+xo[s[a+10]]+xo[s[a+11]]+xo[s[a+12]]+xo[s[a+13]]+xo[s[a+14]]+xo[s[a+15]]).toLowerCase();if(!pTe(l))throw TypeError("Stringified UUID is invalid");return l}var mTe=fTe;function gTe(s,a,l){s=s||{};var h=s.random||(s.rng||cTe)();if(h[6]=h[6]&15|64,h[8]=h[8]&63|128,a){l=l||0;for(var f=0;f<16;++f)a[l+f]=h[f];return a}return mTe(h)}var vTe=gTe,T7={replaceHistory:mc("@history/replaceHistory"),startHistoryFromScratch:mc("@history/startHistoryFromScratch"),undo:mc("@history/undo"),redo:mc("@history/redo")},yTe={type:"@history/unknownAction",payload:""},bTe={maxNumberOfCommits:100},_Te=(s,a=bTe)=>{let l=EU(s(void 0,yTe));return function(h,f){return T7.startHistoryFromScratch.is(f)?EU(s(void 0,f.payload)):T7.replaceHistory.is(f)?f.payload:T7.undo.is(f)?h?STe(h):l:T7.redo.is(f)?h?ETe(h):l:h?wTe(h,s(h.innerState,f),a):EU(s(void 0,f))}};function EU(s){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:s}}function wTe(s,a,l){if(a===s.innerState)return s;let h=xTe(s.innerState,a);if(h.forwardDiff.length===0)return s;let f=nd(s.listOfCommitHashes),g={currentCommitHash:h.hash,commitsByHash:L({},s.commitsByHash),listOfCommitHashes:[...s.listOfCommitHashes],innerState:a};if(s.currentCommitHash!==f){let b=s.listOfCommitHashes.findIndex(_=>_===s.currentCommitHash);s.listOfCommitHashes.slice(b+1).forEach(_=>{delete g.commitsByHash[_]}),g.listOfCommitHashes.splice(b+1,g.listOfCommitHashes.length)}if(g.listOfCommitHashes.push(h.hash),g.commitsByHash[h.hash]=h,g.listOfCommitHashes.length>l.maxNumberOfCommits){let b=g.listOfCommitHashes.length-l.maxNumberOfCommits;g.listOfCommitHashes.slice(0,b).forEach(_=>{delete g.commitsByHash[_]}),g.listOfCommitHashes.splice(0,b)}return g}function xTe(s,a){let l=Spe.default.diff(s,a,{invertible:!1}),h=Spe.default.diff(a,s,{invertible:!1}),f=Date.now(),g=vTe();return{forwardDiff:l,backwardDiff:h,timestamp:f,hash:g}}function STe(s){if(s.currentCommitHash===void 0)return s;let a=s.listOfCommitHashes.findIndex(b=>b===s.currentCommitHash);if(a===-1)throw new Error("This should never happen");let l=s.commitsByHash[s.currentCommitHash],h=(0,Epe.default)(s.innerState,l.backwardDiff),f=a-1,g=f===-1?void 0:s.listOfCommitHashes[f];return B(L({},s),{currentCommitHash:g,innerState:h})}function ETe(s){if(s.listOfCommitHashes.length===0)return s;let a=s.listOfCommitHashes.findIndex(b=>b===s.currentCommitHash);if(a===s.listOfCommitHashes.length-1)return s;let l=a+1,h=s.listOfCommitHashes[l],f=s.commitsByHash[h],g=(0,Epe.default)(s.innerState,f.forwardDiff);return B(L({},s),{currentCommitHash:h,innerState:g})}XP();var mM={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},Cpe=mc("@storeBundle/replacePersistentState",s=>s),Ppe=mc("@storeBundle/reduceParts",s=>s),a5={historic:T7,replacePersistentState:Cpe,reduceParts:Ppe},Mpe=mc("@storeBundle/setInnerHistoricState",s=>s),CTe=(s=mM.historic,a)=>Mpe.is(a)?a.payload:s,CU=_Te(CTe),Tpe=(s,a)=>{if(Cpe.is(a)){let{historic:l,ahistoric:h}=a.payload,f=(s==null?void 0:s.ephemeral)||mM.ephemeral;return{$persistent:{historic:l,ahistoric:h},ephemeral:f}}else if(s){let{historic:l,ahistoric:h}=s.$persistent,{ephemeral:f}=s;if(Ppe.is(a)){let g={historic:s.$persistent.historic.innerState,ahistoric:s.$persistent.ahistoric,ephemeral:s.ephemeral},b=a.payload(g);if(b===g)return s;l.innerState!==b.historic&&(l=CU(l,Mpe(b.historic))),h=b.ahistoric,f=b.ephemeral}else{let g=CU(l,a);if(g===l)return s;l=g}return{$persistent:l===s.$persistent.historic&&h===s.$persistent.ahistoric?s.$persistent:{historic:l,ahistoric:h},ephemeral:f}}else{let l=CU(void 0,{}),h=mM.ahistoric,f=mM.ephemeral;return{$persistent:{historic:l,ahistoric:h},ephemeral:f}}},kpe=mc("@history/pushTempAction",s=>s),Ape=mc("@history/discardTempAction",s=>s),Ipe=mc("@history/commitTempAction",s=>s),PTe=0,MTe=()=>{let s=PTe++;return{push:a=>kpe({id:s,originalAction:a}),discard:()=>Ape(s),commit:()=>Ipe(s)}},TTe=(s,a)=>{if(s){let{tempActions:l,permanent:h}=s.$temps,f;if(kpe.is(a))l=[...l,a];else if(Ipe.is(a)){let b=l.find(_=>_.payload.id===a.payload);b?(f=b.payload.originalAction,l=l.filter(_=>_.payload.id!==a.payload)):KP.error("Comitting temp action group ".concat(a.payload," isn't possible as this group doesn't exist"))}else Ape.is(a)?l=l.filter(b=>b.payload.id!==a.payload):f=a;f&&(h=Tpe(s.$temps.permanent,f));let g={historic:h.$persistent.historic.innerState,ahistoric:h.$persistent.ahistoric,ephemeral:h.ephemeral};for(let b of l)g=b.payload.originalAction.payload(g);return L({$temps:{tempActions:l,permanent:h},$persistent:h.$persistent},g)}else{let l=Tpe(void 0,a);return{$temps:{permanent:l,tempActions:[]},$persistent:l.$persistent,historic:l.$persistent.historic.innerState,ahistoric:l.$persistent.ahistoric,ephemeral:l.ephemeral}}};rc(),rc(),_d();function Rpe(s,a){if(typeof s!="object"||s===null)return;if(a.length===0){for(let b of Object.keys(s))delete s[b];return}let l=a.slice(0,a.length-1),h=s,f=new WeakMap;for(let b of l){let _=h,E=_[b];if(typeof E!="object"||E===null)return;f.set(E,_),h=E}let g=a.slice().reverse();for(let b of g){if(delete h[b],Object.keys(h).length>0)return;h=f.get(h)}}function kTe(s,{scale:a,origin:l,translate:h}){let f=l+(s-l)*a;return h+f}function Ql(s){for(var a=arguments.length,l=Array(a>1?a-1:0),h=1;h<a;h++)l[h-1]=arguments[h];throw Error("[Immer] minified error nr: "+s+(l.length?" "+l.map(function(f){return"'"+f+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function l5(s){return!!s&&!!s[p0]}function Rm(s){return!!s&&(function(a){if(!a||typeof a!="object")return!1;var l=Object.getPrototypeOf(a);if(l===null)return!0;var h=Object.hasOwnProperty.call(l,"constructor")&&l.constructor;return h===Object||typeof h=="function"&&Function.toString.call(h)===NTe}(s)||Array.isArray(s)||!!s[jpe]||!!s.constructor[jpe]||MU(s)||TU(s))}function k7(s,a,l){l===void 0&&(l=!1),u5(s)===0?(l?Object.keys:zU)(s).forEach(function(h){l&&typeof h=="symbol"||a(h,s[h],s)}):s.forEach(function(h,f){return a(f,h,s)})}function u5(s){var a=s[p0];return a?a.i>3?a.i-4:a.i:Array.isArray(s)?1:MU(s)?2:TU(s)?3:0}function PU(s,a){return u5(s)===2?s.has(a):Object.prototype.hasOwnProperty.call(s,a)}function ATe(s,a){return u5(s)===2?s.get(a):s[a]}function Dpe(s,a,l){var h=u5(s);h===2?s.set(a,l):h===3?(s.delete(a),s.add(l)):s[a]=l}function ITe(s,a){return s===a?s!==0||1/s==1/a:s!=s&&a!=a}function MU(s){return OTe&&s instanceof Map}function TU(s){return LTe&&s instanceof Set}function Dm(s){return s.o||s.t}function kU(s){if(Array.isArray(s))return Array.prototype.slice.call(s);var a=FTe(s);delete a[p0];for(var l=zU(a),h=0;h<l.length;h++){var f=l[h],g=a[f];g.writable===!1&&(g.writable=!0,g.configurable=!0),(g.get||g.set)&&(a[f]={configurable:!0,writable:!0,enumerable:g.enumerable,value:s[f]})}return Object.create(Object.getPrototypeOf(s),a)}function AU(s,a){return a===void 0&&(a=!1),IU(s)||l5(s)||!Rm(s)||(u5(s)>1&&(s.set=s.add=s.clear=s.delete=RTe),Object.freeze(s),a&&k7(s,function(l,h){return AU(h,!0)},!0)),s}function RTe(){Ql(2)}function IU(s){return s==null||typeof s!="object"||Object.isFrozen(s)}function Id(s){var a=BTe[s];return a||Ql(18,s),a}function Ope(){return A7}function RU(s,a){a&&(Id("Patches"),s.u=[],s.s=[],s.v=a)}function gM(s){DU(s),s.p.forEach(DTe),s.p=null}function DU(s){s===A7&&(A7=s.l)}function Lpe(s){return A7={p:[],l:A7,h:s,m:!0,_:0}}function DTe(s){var a=s[p0];a.i===0||a.i===1?a.j():a.O=!0}function OU(s,a){a._=a.p.length;var l=a.p[0],h=s!==void 0&&s!==l;return a.h.g||Id("ES5").S(a,s,h),h?(l[p0].P&&(gM(a),Ql(4)),Rm(s)&&(s=vM(a,s),a.l||yM(a,s)),a.u&&Id("Patches").M(l[p0],s,a.u,a.s)):s=vM(a,l,[]),gM(a),a.u&&a.v(a.u,a.s),s!==Vpe?s:void 0}function vM(s,a,l){if(IU(a))return a;var h=a[p0];if(!h)return k7(a,function(g,b){return Npe(s,h,a,g,b,l)},!0),a;if(h.A!==s)return a;if(!h.P)return yM(s,h.t,!0),h.t;if(!h.I){h.I=!0,h.A._--;var f=h.i===4||h.i===5?h.o=kU(h.k):h.o;k7(h.i===3?new Set(f):f,function(g,b){return Npe(s,h,f,g,b,l)}),yM(s,f,!1),l&&s.u&&Id("Patches").R(h,l,s.u,s.s)}return h.o}function Npe(s,a,l,h,f,g){if(l5(f)){var b=vM(s,f,g&&a&&a.i!==3&&!PU(a.D,h)?g.concat(h):void 0);if(Dpe(l,h,b),!l5(b))return;s.m=!1}if(Rm(f)&&!IU(f)){if(!s.h.F&&s._<1)return;vM(s,f),a&&a.A.l||yM(s,f)}}function yM(s,a,l){l===void 0&&(l=!1),s.h.F&&s.m&&AU(a,l)}function LU(s,a){var l=s[p0];return(l?Dm(l):s)[a]}function Fpe(s,a){if(a in s)for(var l=Object.getPrototypeOf(s);l;){var h=Object.getOwnPropertyDescriptor(l,a);if(h)return h;l=Object.getPrototypeOf(l)}}function NU(s){s.P||(s.P=!0,s.l&&NU(s.l))}function FU(s){s.o||(s.o=kU(s.t))}function BU(s,a,l){var h=MU(a)?Id("MapSet").N(a,l):TU(a)?Id("MapSet").T(a,l):s.g?function(f,g){var b=Array.isArray(f),_={i:b?1:0,A:g?g.A:Ope(),P:!1,I:!1,D:{},l:g,t:f,k:null,o:null,j:null,C:!1},E=_,P=_M;b&&(E=[_],P=wM);var I=Proxy.revocable(E,P),O=I.revoke,D=I.proxy;return _.k=D,_.j=O,D}(a,l):Id("ES5").J(a,l);return(l?l.A:Ope()).p.push(h),h}function bM(s){return l5(s)||Ql(22,s),function a(l){if(!Rm(l))return l;var h,f=l[p0],g=u5(l);if(f){if(!f.P&&(f.i<4||!Id("ES5").K(f)))return f.t;f.I=!0,h=Bpe(l,g),f.I=!1}else h=Bpe(l,g);return k7(h,function(b,_){f&&ATe(f.t,b)===_||Dpe(h,b,a(_))}),g===3?new Set(h):h}(s)}function Bpe(s,a){switch(a){case 2:return new Map(s);case 3:return Array.from(s)}return kU(s)}var Upe,A7,UU=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",OTe=typeof Map<"u",LTe=typeof Set<"u",zpe=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Vpe=UU?Symbol.for("immer-nothing"):((Upe={})["immer-nothing"]=!0,Upe),jpe=UU?Symbol.for("immer-draftable"):"__$immer_draftable",p0=UU?Symbol.for("immer-state"):"__$immer_state",NTe=""+Object.prototype.constructor,zU=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(s){return Object.getOwnPropertyNames(s).concat(Object.getOwnPropertySymbols(s))}:Object.getOwnPropertyNames,FTe=Object.getOwnPropertyDescriptors||function(s){var a={};return zU(s).forEach(function(l){a[l]=Object.getOwnPropertyDescriptor(s,l)}),a},BTe={},_M={get:function(s,a){if(a===p0)return s;var l=Dm(s);if(!PU(l,a))return function(f,g,b){var _,E=Fpe(g,b);return E?"value"in E?E.value:(_=E.get)===null||_===void 0?void 0:_.call(f.k):void 0}(s,l,a);var h=l[a];return s.I||!Rm(h)?h:h===LU(s.t,a)?(FU(s),s.o[a]=BU(s.A.h,h,s)):h},has:function(s,a){return a in Dm(s)},ownKeys:function(s){return Reflect.ownKeys(Dm(s))},set:function(s,a,l){var h=Fpe(Dm(s),a);if(h!=null&&h.set)return h.set.call(s.k,l),!0;if(!s.P){var f=LU(Dm(s),a),g=f==null?void 0:f[p0];if(g&&g.t===l)return s.o[a]=l,s.D[a]=!1,!0;if(ITe(l,f)&&(l!==void 0||PU(s.t,a)))return!0;FU(s),NU(s)}return s.o[a]===l&&typeof l!="number"&&(l!==void 0||a in s.o)||(s.o[a]=l,s.D[a]=!0,!0)},deleteProperty:function(s,a){return LU(s.t,a)!==void 0||a in s.t?(s.D[a]=!1,FU(s),NU(s)):delete s.D[a],s.o&&delete s.o[a],!0},getOwnPropertyDescriptor:function(s,a){var l=Dm(s),h=Reflect.getOwnPropertyDescriptor(l,a);return h&&{writable:!0,configurable:s.i!==1||a!=="length",enumerable:h.enumerable,value:l[a]}},defineProperty:function(){Ql(11)},getPrototypeOf:function(s){return Object.getPrototypeOf(s.t)},setPrototypeOf:function(){Ql(12)}},wM={};k7(_M,function(s,a){wM[s]=function(){return arguments[0]=arguments[0][0],a.apply(this,arguments)}}),wM.deleteProperty=function(s,a){return _M.deleteProperty.call(this,s[0],a)},wM.set=function(s,a,l){return _M.set.call(this,s[0],a,l,s[0])};var UTe=function(){function s(l){var h=this;this.g=zpe,this.F=!0,this.produce=function(f,g,b){if(typeof f=="function"&&typeof g!="function"){var _=g;g=f;var E=h;return function(A){var F=this;A===void 0&&(A=_);for(var N=arguments.length,j=Array(N>1?N-1:0),$=1;$<N;$++)j[$-1]=arguments[$];return E.produce(A,function(K){var Q;return(Q=g).call.apply(Q,[F,K].concat(j))})}}var P;if(typeof g!="function"&&Ql(6),b!==void 0&&typeof b!="function"&&Ql(7),Rm(f)){var I=Lpe(h),O=BU(h,f,void 0),D=!0;try{P=g(O),D=!1}finally{D?gM(I):DU(I)}return typeof Promise<"u"&&P instanceof Promise?P.then(function(A){return RU(I,b),OU(A,I)},function(A){throw gM(I),A}):(RU(I,b),OU(P,I))}if(!f||typeof f!="object")return(P=g(f))===Vpe?void 0:(P===void 0&&(P=f),h.F&&AU(P,!0),P);Ql(21,f)},this.produceWithPatches=function(f,g){return typeof f=="function"?function(E){for(var P=arguments.length,I=Array(P>1?P-1:0),O=1;O<P;O++)I[O-1]=arguments[O];return h.produceWithPatches(E,function(D){return f.apply(void 0,[D].concat(I))})}:[h.produce(f,g,function(E,P){b=E,_=P}),b,_];var b,_},typeof(l==null?void 0:l.useProxies)=="boolean"&&this.setUseProxies(l.useProxies),typeof(l==null?void 0:l.autoFreeze)=="boolean"&&this.setAutoFreeze(l.autoFreeze)}var a=s.prototype;return a.createDraft=function(l){Rm(l)||Ql(8),l5(l)&&(l=bM(l));var h=Lpe(this),f=BU(this,l,void 0);return f[p0].C=!0,DU(h),f},a.finishDraft=function(l,h){var f=l&&l[p0],g=f.A;return RU(g,h),OU(void 0,g)},a.setAutoFreeze=function(l){this.F=l},a.setUseProxies=function(l){l&&!zpe&&Ql(20),this.g=l},a.applyPatches=function(l,h){var f;for(f=h.length-1;f>=0;f--){var g=h[f];if(g.path.length===0&&g.op==="replace"){l=g.value;break}}var b=Id("Patches").$;return l5(l)?b(l,h):this.produce(l,function(_){return b(_,h.slice(f+1))})},s}(),f0=new UTe;f0.produce,f0.produceWithPatches.bind(f0),f0.setAutoFreeze.bind(f0),f0.setUseProxies.bind(f0),f0.applyPatches.bind(f0);var VU=f0.createDraft.bind(f0),jU=f0.finishDraft.bind(f0);wO(),Al(),R8(),Z9(),J9(),$P(),pi(),bt();var Jl={create(s){let a={byId:{},allIds:{}};if(s)for(let[l,h]of s)a.byId[l]=h,a.allIds[l]=!0;return a},shallowCopy(s){return{byId:L({},s==null?void 0:s.byId),allIds:L({},s==null?void 0:s.allIds)}},add(s,a,l){return{byId:B(L({},s==null?void 0:s.byId),{[a]:l}),allIds:B(L({},s==null?void 0:s.allIds),{[a]:!0})}},merge(s){let a=Jl.create();for(let l=0;l<s.length;l++)a.byId=L(L({},a.byId),s[l].byId),a.allIds=L(L({},a.allIds),s[l].allIds);return a},remove(s,a){let l=Jl.shallowCopy(s);return delete l.allIds[a],delete l.byId[a],l},filter(s,a){let l=Jl.shallowCopy(s);for(let[h,f]of Object.entries(l.byId))a(f)||(delete l.allIds[h],delete l.byId[h]);return l}},Hpe=s=>(HU=s,GU),HU,So=()=>{if(HU===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return HU},GU;(s=>{(a=>{(l=>{(h=>{function f(g){let b=So().historic;b.panelPositions!=null||(b.panelPositions={}),b.panelPositions[g.panelId]=g.position}h.setPanelPosition=f})(l.panelPositions||(l.panelPositions={})),(h=>{function f(){var g;return(g=So().historic).panels!=null||(g.panels={}),So().historic.panels}h._ensure=f,(g=>{function b(){let _=s.studio.historic.panels._ensure();return _.outlinePanel!=null||(_.outlinePanel={}),_.outlinePanel}g._ensure=b,(_=>{function E(I){let O=[];for(let D of Oo(I))tn(D)?O.push(L({type:"Project"},D.address)):pn(D)?(O.push(L({type:"Sheet"},D.template.address)),s.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(D.address)):ft(D)?O.push(L({type:"Sheet"},D.address)):kt(D)?(O.push(L({type:"SheetObject"},D.template.address)),s.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(D.sheet.address)):Xt(D)&&O.push(L({type:"SheetObject"},D.address));g._ensure().selection=O}_.set=E;function P(){g._ensure().selection=[]}_.unset=P})(g.selection||(g.selection={}))})(h.outline||(h.outline={})),(g=>{function b(){let _=s.studio.historic.panels._ensure();return _.sequenceEditor!=null||(_.sequenceEditor={}),_.sequenceEditor}g._ensure=b,(_=>{function E(){let I=g._ensure();return I.graphEditor!=null||(I.graphEditor={height:.5,isOpen:!1}),I.graphEditor}function P(I){E().isOpen=I.isOpen}_.setIsOpen=P})(g.graphEditor||(g.graphEditor={}))})(h.sequenceEditor||(h.sequenceEditor={}))})(l.panels||(l.panels={})),(h=>{(f=>{function g(b){let _=So().historic;return _.projects.stateByProjectId[b.projectId]||(_.projects.stateByProjectId[b.projectId]={stateBySheetId:{}}),_.projects.stateByProjectId[b.projectId]}f._ensure=g,(b=>{function _(P){let I=s.studio.historic.projects.stateByProjectId._ensure(P);return I.stateBySheetId[P.sheetId]||(I.stateBySheetId[P.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),I.stateBySheetId[P.sheetId]}b._ensure=_;function E(P){s.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(P).selectedInstanceId=P.sheetInstanceId}b.setSelectedInstanceId=E,(P=>{function I(j){let{selectedPropsByObject:$}=b._ensure(j).sequenceEditor;$[j.objectKey]||($[j.objectKey]={});let K=$[j.objectKey],Q=nc(j.pathToProp),ie=new Set(Object.keys(y7));for(let[ce,Ce]of Object.entries(bM($)))for(let[ye,we]of Object.entries(Ce))ie.delete(we);let re=ie.size>0?ie.values().next().value:Object.keys(y7)[0];K[Q]=re}P.addPropToGraphEditor=I;function O(j){let{selectedPropsByObject:$}=b._ensure(j).sequenceEditor;if(!$[j.objectKey])return;let K=$[j.objectKey],Q=nc(j.pathToProp);K[Q]&&Rpe($,[j.objectKey,Q])}P.removePropFromGraphEditor=O;function D(j){let $=s.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(j).sequenceEditor;return $.markerSet||($.markerSet=Jl.create()),$.markerSet}function A(j){let $=D(j.sheetAddress),K=j.markers.filter(ce=>!!isFinite(ce.position)).map(ce=>B(L({},ce),{position:j.snappingFunction(ce.position)})),Q=Vr(K,"id"),ie=Jl.filter($,ce=>ce&&!Q[ce.id]),re=Vr(Object.values(ie.byId),"position");K.forEach(({position:ce})=>{let Ce=re[ce];Ce&&(ie=Jl.remove(ie,Ce.id))}),Object.assign($,Jl.merge([ie,Jl.create(K.map(ce=>[ce.id,ce]))]))}P.replaceMarkers=A;function F(j){let $=D(j.sheetAddress);Object.assign($,Jl.remove($,j.markerId))}P.removeMarker=F;function N(j){let $=D(j.sheetAddress).byId[j.markerId];$!==void 0&&($.label=j.label)}P.updateMarker=N})(b.sequenceEditor||(b.sequenceEditor={}))})(f.stateBySheetId||(f.stateBySheetId={}))})(h.stateByProjectId||(h.stateByProjectId={}))})(l.projects||(l.projects={}))})(a.historic||(a.historic={})),(l=>{function h(f){So().ephemeral.showOutline=f}l.setShowOutline=h,(f=>{(g=>{function b(_){let E=So().ephemeral;return E.projects.stateByProjectId[_.projectId]||(E.projects.stateByProjectId[_.projectId]={stateBySheetId:{}}),E.projects.stateByProjectId[_.projectId]}g._ensure=b,(_=>{function E(P){let I=s.studio.ephemeral.projects.stateByProjectId._ensure(P);return I.stateBySheetId[P.sheetId]||(I.stateBySheetId[P.sheetId]={stateByObjectKey:{}}),I.stateBySheetId[P.sheetId]}_._ensure=E,(P=>{function I(O){var D;let A=s.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(O).stateByObjectKey;return A[D=O.objectKey]!=null||(A[D]={}),A[O.objectKey]}P._ensure=I,(O=>{function D(F){let N=s.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(F);return N.valuesBeingScrubbed!=null||(N.valuesBeingScrubbed={}),N.valuesBeingScrubbed}O._ensure=D;function A(F){qh(D(F),F.pathToProp,!0)}O.flag=A})(P.propsBeingScrubbed||(P.propsBeingScrubbed={}))})(_.stateByObjectKey||(_.stateByObjectKey={}))})(g.stateBySheetId||(g.stateBySheetId={}))})(f.stateByProjectId||(f.stateByProjectId={}))})(l.projects||(l.projects={}))})(a.ephemeral||(a.ephemeral={})),(l=>{function h(E){So().ahistoric.pinOutline=E}l.setPinOutline=h;function f(E){So().ahistoric.pinDetails=E}l.setPinDetails=f;function g(E){So().ahistoric.pinNotifications=E}l.setPinNotifications=g;function b(E){So().ahistoric.visibilityState=E}l.setVisibilityState=b;function _(E){let P=iP(E.map(D=>D.pathToProp)),I=E.map(({keyframe:D,pathToProp:A})=>({keyframe:D,pathToProp:A.slice(P.length)})),O=So();O.ahistoric.clipboard?O.ahistoric.clipboard.keyframesWithRelativePaths=I:O.ahistoric.clipboard={keyframesWithRelativePaths:I}}l.setClipboardKeyframes=_,(E=>{(P=>{function I(O){let D=So().ahistoric;return D.projects.stateByProjectId[O.projectId]||(D.projects.stateByProjectId[O.projectId]={stateBySheetId:{}}),D.projects.stateByProjectId[O.projectId]}P._ensure=I,(O=>{function D(F){let N=s.studio.ahistoric.projects.stateByProjectId._ensure(F);return N.collapsedItemsInOutline||(N.collapsedItemsInOutline={}),N.collapsedItemsInOutline}O._ensure=D;function A(F){let N=s.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(F);F.isCollapsed?N[F.itemKey]=!0:delete N[F.itemKey]}O.set=A})(P.collapsedItemsInOutline||(P.collapsedItemsInOutline={})),(O=>{function D(A){let F=s.studio.ahistoric.projects.stateByProjectId._ensure(A);return F.stateBySheetId[A.sheetId]||(F.stateBySheetId[A.sheetId]={}),F.stateBySheetId[A.sheetId]}O._ensure=D,(A=>{function F(N){let j=s.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(N);return j.sequence||(j.sequence={}),j.sequence}A._ensure=F,(N=>{function j(K){s.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(K).focusRange={range:K.range,enabled:K.enabled}}N.set=j;function $(K){s.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(K).focusRange=void 0}N.unset=$})(A.focusRange||(A.focusRange={})),(N=>{function j($){s.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure($).clippedSpaceRange=L({},$.range)}N.set=j})(A.clippedSpaceRange||(A.clippedSpaceRange={})),(N=>{function j(K){let Q=s.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(K),ie=Q.collapsableItems;return ie||(ie=Q.collapsableItems=Jl.create()),ie}function $(K){let Q=j(K);Object.assign(Q,Jl.add(Q,K.studioSheetItemKey,{isCollapsed:K.isCollapsed}))}N.set=$})(A.sequenceEditorCollapsableItems||(A.sequenceEditorCollapsableItems={}))})(O.sequence||(O.sequence={}))})(P.stateBySheetId||(P.stateBySheetId={}))})(E.stateByProjectId||(E.stateByProjectId={}))})(l.projects||(l.projects={}))})(a.ahistoric||(a.ahistoric={}))})(s.studio||(s.studio={})),(a=>{(l=>{(h=>{function f(g){let b=So().historic.coreByProject[g.projectId].revisionHistory,_=50;b.unshift(g.revision),b.length>_&&(b.length=_)}h.add=f})(l.revisionHistory||(l.revisionHistory={})),(h=>{function f(_){let E=So().historic.coreByProject[_.projectId].sheetsById;return E[_.sheetId]||(E[_.sheetId]={staticOverrides:{byObject:{}}}),E[_.sheetId]}h._ensure=f;function g(_){let E=So().historic.coreByProject[_.projectId].sheetsById[_.sheetId];if(!E)return;delete E.staticOverrides.byObject[_.objectKey];let P=E.sequence;P&&delete P.tracksByObject[_.objectKey]}h.forgetObject=g;function b(_){So().historic.coreByProject[_.projectId].sheetsById[_.sheetId]&&delete So().historic.coreByProject[_.projectId].sheetsById[_.sheetId]}h.forgetSheet=b,(_=>{function E(ye){let we=s.coreByProject.historic.sheetsById._ensure(ye);return we.sequence!=null||(we.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),we.sequence}_._ensure=E;function P(ye){E(ye).length=xi(parseFloat(ye.length.toFixed(2)),.01,1/0)}_.setLength=P;function I(ye){var we;let Oe=s.coreByProject.historic.sheetsById.sequence._ensure(ye).tracksByObject;return Oe[we=ye.objectKey]!=null||(Oe[we]={trackData:{},trackIdByPropPath:{}}),Oe[ye.objectKey]}function O(ye,we){let Oe=I(ye),rt=nc(ye.pathToProp);if(typeof Oe.trackIdByPropPath[rt]=="string")return;let he=GSe(),De={type:"BasicKeyframedTrack",__debugName:"".concat(ye.objectKey,":").concat(rt),keyframes:[]};Oe.trackData[he]=De,Oe.trackIdByPropPath[rt]=he}_.setPrimitivePropAsSequenced=O;function D(ye){let we=I(ye),Oe=nc(ye.pathToProp),rt=we.trackIdByPropPath[Oe];typeof rt=="string"&&(delete we.trackIdByPropPath[Oe],delete we.trackData[rt],s.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(ye))}_.setPrimitivePropAsStatic=D;function A(ye){let we=I(ye);for(let Oe of Object.keys(we.trackIdByPropPath)){let rt=JSON.parse(Oe);if(ye.pathToProp.every((he,De)=>rt[De]===he)){let he=we.trackIdByPropPath[Oe];if(typeof he!="string")continue;delete we.trackIdByPropPath[Oe],delete we.trackData[he]}}s.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(ye)}_.setCompoundPropAsStatic=A;function F(ye){return I(ye).trackData[ye.trackId]}function N(ye){let we=F(ye);if(we)return we.keyframes.find(Oe=>Oe.id===ye.keyframeId)}function j(ye){let we=ye.snappingFunction(ye.position),Oe=F(ye);if(!Oe)return;let{keyframes:rt}=Oe,he=rt.findIndex(Ge=>Ge.position===we);if(he!==-1){let Ge=rt[he];Ge.value=ye.value;return}let De=$S(rt,Ge=>Ge.position<we);if(De===-1){rt.unshift({id:Gee(),position:we,connectedRight:!0,handles:ye.handles||[.5,1,.5,0],type:ye.type||"bezier",value:ye.value});return}let J=rt[De];rt.splice(De+1,0,{id:Gee(),position:we,connectedRight:J.connectedRight,handles:ye.handles||[.5,1,.5,0],type:ye.type||"bezier",value:ye.value})}_.setKeyframeAtPosition=j;function $(ye){let we=F(ye);if(!we)return;let{keyframes:Oe}=we,rt=Oe.findIndex(he=>he.position===ye.position);rt!==-1&&Oe.splice(rt,1)}_.unsetKeyframeAtPosition=$;function K(ye){let we=F(ye);if(!we)return;let Oe=bM(we.keyframes).filter(rt=>ye.keyframeIds.includes(rt.id)).map(rt=>{let he=rt.position,De=ye.snappingFunction(kTe(he,ye));return B(L({},rt),{position:De})});Ce(B(L({},ye),{keyframes:Oe}))}_.transformKeyframes=K;function Q(ye){let we=F(ye);we&&(we.keyframes=we.keyframes.map((Oe,rt)=>{let he=we.keyframes[rt-1],De=ye.keyframeIds.includes(Oe.id),J=ye.keyframeIds.includes(he==null?void 0:he.id);return De&&!J?B(L({},Oe),{handles:[Oe.handles[0],Oe.handles[1],ye.handles[0],ye.handles[1]]}):De&&J?B(L({},Oe),{handles:[ye.handles[2],ye.handles[3],ye.handles[0],ye.handles[1]]}):J?B(L({},Oe),{handles:[ye.handles[2],ye.handles[3],Oe.handles[2],Oe.handles[3]]}):Oe}))}_.setTweenBetweenKeyframes=Q;function ie(ye){var we,Oe,rt,he,De,J,Ge,zt;let ke=N(ye);ke&&(ke.handles=[(Oe=(we=ye.end)==null?void 0:we[0])!=null?Oe:ke.handles[0],(he=(rt=ye.end)==null?void 0:rt[1])!=null?he:ke.handles[1],(J=(De=ye.start)==null?void 0:De[0])!=null?J:ke.handles[2],(zt=(Ge=ye.start)==null?void 0:Ge[1])!=null?zt:ke.handles[3]])}_.setHandlesForKeyframe=ie;function re(ye){let we=F(ye);we&&(we.keyframes=we.keyframes.filter(Oe=>ye.keyframeIds.indexOf(Oe.id)===-1))}_.deleteKeyframes=re;function ce(ye){let we=N(ye);we&&(we.type=ye.keyframeType)}_.setKeyframeType=ce;function Ce(ye){let we=F(ye);if(!we)return;let Oe=bM(we.keyframes),rt=ye.keyframes.filter(zt=>!(typeof zt.value=="number"&&!isFinite(zt.value)||!zt.handles.every(ke=>isFinite(ke)))).map(zt=>B(L({},zt),{position:ye.snappingFunction(zt.position)})),he=Vr(rt,"id"),De=Oe.filter(zt=>!he[zt.id]),J=Vr(De,"position");rt.forEach(({position:zt})=>{let ke=J[zt];ke&&lE(De,ke)});let Ge=cE([...De,...rt],"position");we.keyframes=Ge}_.replaceKeyframes=Ce})(h.sequence||(h.sequence={})),(_=>{(E=>{function P(A){var F;let N=s.coreByProject.historic.sheetsById._ensure(A).staticOverrides.byObject;return N[F=A.objectKey]!=null||(N[F]={}),N[A.objectKey]}function I(A){let F=P(A);qh(F,A.pathToProp,A.value)}E.setValueOfCompoundProp=I;function O(A){let F=P(A);qh(F,A.pathToProp,A.value)}E.setValueOfPrimitiveProp=O;function D(A){let F=s.coreByProject.historic.sheetsById._ensure(A).staticOverrides.byObject[A.objectKey];F&&Rpe(F,A.pathToProp)}E.unsetValueOfPrimitiveProp=D})(_.byObject||(_.byObject={}))})(h.staticOverrides||(h.staticOverrides={}))})(l.sheetsById||(l.sheetsById={}))})(a.historic||(a.historic={}))})(s.coreByProject||(s.coreByProject={}))})(GU||(GU={}));function $U(){let s,a,l=new Promise((f,g)=>{s=b=>{f(b),h.status="resolved"},a=b=>{g(b),h.status="rejected"}}),h={resolve:s,reject:a,promise:l,status:"pending"};return h}var zTe=Vt;function VTe(s){let a=s.getState(),l=new zTe.Atom(a);return s.subscribe(()=>{let h=s.getState();l.set(h),a=h}),l}Vu();function jTe(s){var a,l=s.Symbol;return typeof l=="function"?l.observable?a=l.observable:(a=l("observable"),l.observable=a):a="@@observable",a}var I7;typeof self<"u"?I7=self:typeof window<"u"?I7=window:typeof Ki<"u"?I7=Ki:I7=t;var HTe=jTe(I7),Gpe=HTe,$pe={INIT:"@@redux/INIT"};function Wpe(s,a,l){var h;if(typeof a=="function"&&typeof l>"u"&&(l=a,a=void 0),typeof l<"u"){if(typeof l!="function")throw new Error("Expected the enhancer to be a function.");return l(Wpe)(s,a)}if(typeof s!="function")throw new Error("Expected the reducer to be a function.");var f=s,g=a,b=[],_=b,E=!1;function P(){_===b&&(_=b.slice())}function I(){return g}function O(N){if(typeof N!="function")throw new Error("Expected listener to be a function.");var j=!0;return P(),_.push(N),function(){if(j){j=!1,P();var $=_.indexOf(N);_.splice($,1)}}}function D(N){if(!N9(N))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof N.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(E)throw new Error("Reducers may not dispatch actions.");try{E=!0,g=f(g,N)}finally{E=!1}for(var j=b=_,$=0;$<j.length;$++){var K=j[$];K()}return N}function A(N){if(typeof N!="function")throw new Error("Expected the nextReducer to be a function.");f=N,D({type:$pe.INIT})}function F(){var N,j=O;return N={subscribe:function($){if(typeof $!="object")throw new TypeError("Expected the observer to be an object.");function K(){$.next&&$.next(I())}K();var Q=j(K);return{unsubscribe:Q}}},N[Gpe]=function(){return this},N}return D({type:$pe.INIT}),h={dispatch:D,subscribe:O,getState:I,replaceReducer:A},h[Gpe]=F,h}function GTe(){for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return a.length===0?function(h){return h}:a.length===1?a[0]:a.reduce(function(h,f){return function(){return h(f.apply(void 0,arguments))}})}function $Te(s){let a=GTe();return Wpe(s.rootReducer,void 0,a)}XP(),S8();var WU=new WeakMap,WTe=(s,a,l)=>{let h=E=>{s.dispatch(a5.replacePersistentState(E))},f=Kpe(l),g=()=>s.getState().$persistent;_();let b=()=>{let E=g(),P=WU.get(s);E!==P&&(WU.set(s,E),localStorage.setItem(f,JSON.stringify(E)))};s.subscribe(W9(b,1e3)),window&&window.addEventListener("beforeunload",b);function _(){let E=localStorage.getItem(f);if(E){let P,I=!0;try{P=JSON.parse(E),I=!1}catch{KP.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{I||h(P),a()}}else a()}},KTe=(s,a)=>{let l=Kpe(a),h=s.getState().$persistent;localStorage.removeItem(l),WU.set(s,h)};function Kpe(s){return s+".persistent"}ene(),bt(),jh(),pt(),MC();var xM=Vt;dp(),pi(),Ude();function KU(s){if(typeof s=="boolean"||typeof s=="string"||typeof s=="number")return s;if(N9(s)){let a={},l=!1;for(let[h,f]of Object.entries(s))KU(f)!==void 0&&(a[h]=f,l=!0);if(l)return a}else return}function Xpe(s,a,l){for(let[h,f]of Object.entries(s.props))if(f.type==="compound")Xpe(f,[...a,h],l);else{if(f.type==="enum")throw new Error("Not yet implemented");l(f,[...a,h])}}function XTe(s,a,l){return{set:(h,f)=>{s();let g=KU(f);if(typeof g>"u")return;let{root:b,path:_}=(0,xM.getPointerParts)(h);if(kt(b)){let E=b.template.getMapOfValidSequenceTracks_forStudio().getValue(),P=xC(b.template.staticConfig,_);if(!P)throw new Error("Object ".concat(b.address.objectKey," does not have a prop at ").concat(JSON.stringify(_)));let I=(O,D,A)=>{if(O==null)return;if(KU(D.deserializeAndSanitize(O))===void 0)throw new Error("Invalid value ".concat(rU(O)," for object.props").concat(A.map(j=>"[".concat(JSON.stringify(j),"]")).join("")," is invalid"));let F=B(L({},b.address),{pathToProp:A}),N=Jc(E,A);if(typeof N=="string"){let j=b.sheet.getSequence();j.position=j.closestGridPosition(j.position),a.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(B(L({},F),{trackId:N,position:j.position,value:O,snappingFunction:j.closestGridPosition,type:"bezier"}))}else a.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(B(L({},F),{value:O}))};if(P.type==="compound"){let O=(0,xM.getPointerParts)(h).path,D=O.length;Xpe(P,O,(A,F)=>{let N=F.slice(D),j=pp(g,N);if(typeof j<"u")I(j,A,F);else throw new Error("Property object.props".concat(F.map($=>"[".concat(JSON.stringify($),"]")).join("")," is required but not provided"))})}else{if(P.type==="enum")throw new Error("Enums aren't implemented yet");I(g,P,_)}}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},unset:h=>{s();let{root:f,path:g}=(0,xM.getPointerParts)(h);if(kt(f)){let b=f.template.getMapOfValidSequenceTracks_forStudio().getValue(),_=pp(f.template.getDefaultValues().getValue(),g),E=xC(f.template.staticConfig,g),P=(I,O)=>{let D=B(L({},f.address),{pathToProp:O}),A=Jc(b,O);typeof A=="string"?a.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(B(L({},D),{trackId:A,position:f.sheet.getSequence().positionSnappedToGrid})):E!==void 0&&a.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(D)};E.type==="compound"?At(_,(I,O)=>{P(I,O)},(0,xM.getPointerParts)(h).path):P(_,g)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return s(),l},get stateEditors(){return a}}}var qTe=class{constructor(){ve(this,"_reduxStore"),ve(this,"_atom"),ve(this,"atomP"),this._reduxStore=$Te({rootReducer:TTe,devtoolsOptions:{name:"Theatre.js Studio"}}),this._atom=VTe(this._reduxStore),this.atomP=this._atom.pointer}initialize(s){let a=$U();return s.usePersistentStorage===!0?WTe(this._reduxStore,()=>{this.tempTransaction(({drafts:l})=>{l.ephemeral.initialised=!0}).commit(),a.resolve()},s.persistenceKey):(this.tempTransaction(({drafts:l})=>{l.ephemeral.initialised=!0}).commit(),a.resolve()),a.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(s){return KTe(this._reduxStore,s),this.getState()}__dev_startHistoryFromScratch(s){this._reduxStore.dispatch(a5.historic.startHistoryFromScratch(a5.reduceParts(a=>B(L({},a),{historic:s}))))}tempTransaction(s){let a=MTe(),l,h=a.push(a5.reduceParts(f=>{let g={historic:VU(f.historic),ahistoric:VU(f.ahistoric),ephemeral:VU(f.ephemeral)},b=!0,_=()=>{if(!b)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},E=Hpe(g),P=XTe(_,E,g);try{return s(P),b=!1,{historic:jU(g.historic),ahistoric:jU(g.ahistoric),ephemeral:jU(g.ephemeral)}}catch(I){return l=I,f}finally{Hpe(void 0)}}));if(this._reduxStore.dispatch(h),l)throw this._reduxStore.dispatch(a.discard()),l;return{commit:()=>{this._reduxStore.dispatch(a.commit())},discard:()=>{this._reduxStore.dispatch(a.discard())}}}undo(){this._reduxStore.dispatch(a5.historic.undo())}redo(){this._reduxStore.dispatch(a5.historic.redo())}createContentOfSaveFile(s){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[s])throw new Error("Project ".concat(s," has not been initialized."));let a=Jte();this.tempTransaction(({stateEditors:h})=>{h.coreByProject.historic.revisionHistory.add({projectId:s,revision:a})}).commit();let l=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[s];return L({},l)}},YTe=Vt,XU=class{constructor(){ve(this,"_values",{})}get(s,a){if(this.has(s))return this._values[s];{let l=a();return this._values[s]=l,l}}has(s){return this._values.hasOwnProperty(s)}};bt(),ap(),ze(),pi(),JB();var ZTe=class{constructor(s){ve(this,"ui",{hide(){xe().ui.hide()},get isHidden(){return xe().ui.isHidden},restore(){xe().ui.restore()},renderToolset(a,l){return xe().ui.renderToolset(a,l)}}),ve(this,"_cache",new XU),ve(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){nMe()},__experimental_enablePlayPauseKeyboardShortcut(){rMe()},__experimental_clearPersistentStorage(a){return xe().clearPersistentStorage(a)},__experimental_createContentOfSaveFileTyped(a){return xe().createContentOfSaveFile(a)}})}initialize(s){return xe().initialize(s)}extend(s,a){xe().extend(s,a)}transaction(s){return xe().transaction(({set:a,unset:l,stateEditors:h})=>s({set:a,unset:l,__experimental_forgetObject:f=>{if(!it(f))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");h.coreByProject.historic.sheetsById.forgetObject(f.address)},__experimental_forgetSheet:f=>{if(!Ut(f))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");h.coreByProject.historic.sheetsById.forgetSheet(f.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,YTe.prism)(()=>op().filter(s=>s.type==="Theatre_SheetObject"||s.type==="Theatre_Sheet").map(s=>s.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(s){let a=[...s].filter(l=>it(l)||Ut(l)).map(l=>xe().corePrivateAPI(l));xe().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set(a)})}onSelectionChange(s){let a=xe();return this._getSelectionPrism().onChange(a.ticker,s,!0)}get selection(){return this._getSelection()}scrub(){return xe().scrub()}getStudioProject(){let s=xe().core;if(!s)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return xe().getStudioProject(s)}debouncedScrub(s=1e3){let a,l=W9(()=>{let h=a;h&&(a=void 0,h.commit())},s);return{capture:h=>{a||(a=this.scrub());let f=!0;try{a.capture(h),f=!1}finally{if(f){let g=a;a=void 0,g.discard()}else l()}}}}createPane(s){return xe().paneManager.createPane(s)}destroyPane(s){return xe().paneManager.destroyPane(s)}createContentOfSaveFile(s){return xe().createContentOfSaveFile(s)}};Hee();var Om=Vt,QTe=class{constructor(s){this._studio=s,ve(this,"_cache",new XU),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let s=this._getAllPanes();s.onStale(()=>{s.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,Om.prism)(()=>{if(!(0,Om.val)(this._studio.coreP))return{};let s=(0,Om.val)(this._studio.atomP.historic.panelInstanceDesceriptors),a=(0,Om.val)(this._studio.atomP.ephemeral.extensions.paneClasses),l={};for(let h of Object.values(s)){if(!h)continue;let f=a[h.paneClass];if(!f)continue;let{instanceId:g}=h,{extensionId:b,classDefinition:_}=f,E=Om.prism.memo("instance-".concat(h.instanceId),()=>({extensionId:b,instanceId:g,definition:_}),[_]);l[g]=E}return l}))}get allPanesD(){return this._getAllPanes()}createPane(s){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let a=(0,Om.val)(this._studio.atomP.ephemeral.extensions.paneClasses[s].extensionId),l=(0,Om.val)(this._studio.atomP.historic.panelInstanceDesceriptors),h;for(let f=1;f<1e3&&(h="".concat(s," #").concat(f),!!l[h]);f++);if(!a)throw new Error('Pane class "'.concat(s,'" is not registered.'));return this._studio.transaction(({drafts:f})=>{f.historic.panelInstanceDesceriptors[h]={instanceId:h,paneClass:s}}),this._getAllPanes().getValue()[h]}destroyPane(s){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:a})=>{delete a.historic.panelInstanceDesceriptors[s]})}},SM=Vt;ze();var qpe=30*60*1e3,JTe=1e3*60*60;function eke(){return se(this,null,function*(){let s=xe().atomP.ahistoric.visibilityState;if((0,SM.val)(s)==="everythingIsVisible")return;let a=$U(),l=(0,SM.pointerToPrism)(s).onStale(()=>{(0,SM.val)(s)==="everythingIsVisible"&&(l(),a.resolve(void 0))});return a.promise})}function tke(){return se(this,null,function*(){if(!"0.7.0".match(/COMPAT/))for(yield EM(500),yield eke();;){let s=(0,SM.val)(xe().atomP.ahistoric.updateChecker);if(s&&s.result!=="error"){let a=s.lastChecked,l=Date.now(),h=Math.abs(l-a);h<qpe&&(yield EM(qpe-h))}try{let a=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.0"));if(a.ok){let l=yield a.json();if(!nke(l))throw new Error("Bad response");xe().transaction(({drafts:h})=>{h.ahistoric.updateChecker={lastChecked:Date.now(),result:L({},l)}}),yield EM(1e3)}else throw new Error("HTTP Error ".concat(a.statusText))}catch{yield EM(JTe)}}})}var EM=s=>new Promise(a=>setTimeout(a,s));function nke(s){if(typeof s!="object")return!1;let a=s;return typeof a.hasUpdates!="boolean"?!1:a.hasUpdates===!0&&typeof a.newVersion=="string"&&typeof a.releasePage=="string"||a.hasUpdates===!1}var rke=q(z8());function Rd(s){return new Promise((a,l)=>{s.oncomplete=s.onsuccess=()=>a(s.result),s.onabort=s.onerror=()=>l(s.error)})}function Ype(s,a){let l=indexedDB.open(s);l.onupgradeneeded=()=>l.result.createObjectStore(a);let h=Rd(l);return(f,g)=>h.then(b=>g(b.transaction(a,f).objectStore(a)))}var qU;function c5(){return qU||(qU=Ype("keyval-store","keyval")),qU}function ike(s,a=c5()){return a("readonly",l=>Rd(l.get(s)))}function ske(s,a,l=c5()){return l("readwrite",h=>(h.put(a,s),Rd(h.transaction)))}function oke(s,a=c5()){return a("readwrite",l=>(l.delete(s),Rd(l.transaction)))}function YU(s,a){return s.openCursor().onsuccess=function(){this.result&&(a(this.result),this.result.continue())},Rd(s.transaction)}function ake(s=c5()){return s("readonly",a=>{if(a.getAllKeys)return Rd(a.getAllKeys());let l=[];return YU(a,h=>l.push(h.key)).then(()=>l)})}function lke(s=c5()){return s("readonly",a=>{if(a.getAll)return Rd(a.getAll());let l=[];return YU(a,h=>l.push(h.value)).then(()=>l)})}function uke(s=c5()){return s("readonly",a=>{if(a.getAll&&a.getAllKeys)return Promise.all([Rd(a.getAllKeys()),Rd(a.getAll())]).then(([h,f])=>h.map((g,b)=>[g,f[b]]));let l=[];return s("readonly",h=>YU(h,f=>l.push([f.key,f.value])).then(()=>l))})}var cke=s=>{let a=Ype("theatrejs-".concat(s),"default-store");return{set:(l,h)=>ske(l,h,a),get:l=>ike(l,a),del:l=>oke(l,a),keys:()=>ake(a),entries:()=>uke(a),values:()=>lke(a)}};Ere(),J6();var Zpe="theatre-0.4",dke=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,hke="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",pke=class{constructor(){ve(this,"ui"),ve(this,"publicApi"),ve(this,"address"),ve(this,"_projectsProxy",new hM.PointerProxy(new hM.Atom({}).pointer)),ve(this,"projectsP",this._projectsProxy.pointer),ve(this,"_store",new qTe),ve(this,"_corePrivateApi"),ve(this,"_cache",new XU),ve(this,"paneManager"),ve(this,"_coreAtom",new hM.Atom({})),ve(this,"_initializedDeferred",$U()),ve(this,"_initializeFnCalled",!1),ve(this,"_didWarnAboutNotInitializing",!1),ve(this,"_coreBits"),ve(this,"_rafDriver"),this.address={studioId:z6(10)},this.publicApi=new ZTe(this),this.ui=new oTe(this),this._attachToIncomingProjects(),this.paneManager=new QTe(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(dke),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(s){return se(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(hke);let a={persistenceKey:Zpe,usePersistentStorage:!0};if(typeof(s==null?void 0:s.persistenceKey)=="string"&&(a.persistenceKey=s.persistenceKey),((s==null?void 0:s.usePersistentStorage)===!1||typeof window>"u")&&(a.usePersistentStorage=!1),s!=null&&s.__experimental_rafDriver){if(s.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let l=this._coreBits.privateAPI(s.__experimental_rafDriver);if(!l)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=l}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(a)}catch(l){this._initializedDeferred.reject(l);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),tke().catch(l=>{console.error(l)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let s=(0,hM.pointerToPrism)(this.projectsP),a=l=>{for(let h of Object.values(l))h.isAttachedToStudio||h.attachToStudio(this)};s.onStale(()=>{a(s.getValue())}),a(s.getValue())}setCoreBits(s){this._coreBits=s,this._corePrivateApi=s.privateAPI,this._coreAtom.setByPointer(a=>a.core,s.coreExports),this._setProjectsP(s.projectsP)}_setProjectsP(s){this._projectsProxy.setPointer(s)}scrub(){return new iTe(this)}tempTransaction(s){return this._store.tempTransaction(s)}transaction(s){return this.tempTransaction(s).commit()}__dev_startHistoryFromScratch(s){return this._store.__dev_startHistoryFromScratch(s)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(s,a){if(!s||typeof s!="object")throw new Error("Extensions must be JS objects");if(typeof s.id!="string")throw new Error("extension.id must be a string");let l=(a==null?void 0:a.__experimental_reconfigure)===!0,h=s.id,f=this._store.getState().ephemeral.extensions.byId[h];if(f&&!l){if(s===f||(0,rke.default)(s,f))return;throw new Error('Extension id "'.concat(s.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:g})=>{var b,_;g.ephemeral.extensions.byId[s.id]=s;let E=g.ephemeral.extensions.paneClasses;l&&f&&((b=f.panes)==null||b.forEach(P=>{delete E[P.class]})),(_=s.panes)==null||_.forEach(P=>{if(typeof P.class!="string")throw new Error("pane.class must be a string");if(P.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let I=E[P.class];if(I)if(l&&I.extensionId===s.id)console.warn('Pane class "'.concat(P.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(P.class,'" already exists and is supplied by extension ').concat(I));E[P.class]={extensionId:s.id,classDefinition:P}})})}getStudioProject(s){return this._cache.get("getStudioProject",()=>s.getProject("Studio"))}getExtensionSheet(s,a){return this._cache.get("extensionSheet-"+s,()=>this.getStudioProject(a).sheet("Extension "+s))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(s){return this._store.createContentOfSaveFile(s)}createAssetStorage(s,a){return se(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:P=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:P=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let l=cke("".concat(s.address.projectId,"-assets")),h=aF(s),f=yield l.keys();yield Promise.all(f.map(P=>se(this,null,function*(){h.includes(P)||(yield l.del(P))}))),yield Promise.all(f.map(P=>se(this,null,function*(){var I,O;let D="".concat(a,"/").concat(P);try{(yield fetch(D,{method:"HEAD"})).ok&&(yield l.del(P))}catch{Q6.error("Failed to access assets","Failed to access assets at ".concat((O=(I=s.config.assets)==null?void 0:I.baseUrl)!=null?O:"/",". This is likely due to a CORS issue."))}})));let g=new Map(yield l.entries()),b=new Map,_=P=>{if(b.has(P))return b.get(P);{let I=URL.createObjectURL(P);return b.set(P,I),I}},E=P=>{let I=g.get(P);if(!I)throw new Error("Asset with id ".concat(P," not found"));return _(I)};return{getAssetUrl:P=>g.has(P)?E(P):"".concat(a,"/").concat(P),createAsset:P=>se(this,null,function*(){var I,O,D;let A=aF(s),F=!1;if(A.includes(P.name)){let N;try{N=(I=g.get(P.name))!=null?I:yield fetch("".concat(a,"/").concat(P.name)).then(j=>j.ok?j.blob():void 0)}catch{return Q6.error("Failed to access assets","Failed to access assets at ".concat((D=(O=s.config.assets)==null?void 0:O.baseUrl)!=null?D:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(N){if(F=yield(yield Promise.resolve().then(()=>q(nTe()))).default.isEqual(P,N),F)return P.name;{let j=$=>{let K=prompt($,P.name);return K===null?!1:K===""?j("Asset name cannot be empty. Please choose a different file name for this asset."):A.includes(K)?(console.log(A),j("An asset with this name already exists. Please choose a different file name for this asset.")):(P=new File([P],K,{type:P.type}),!0)};if(!j("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return g.set(P.name,P),yield l.set(P.name,P),P.name})}})}clearPersistentStorage(s=Zpe){this._store.__experimental_clearPersistentStorage(s)}},ZU="__TheatreJS_StudioBundle",fke="__TheatreJS_CoreBundle",mke="__TheatreJS_Notifications",gke=class{constructor(s){this._studio=s,ve(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(s){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=s;let a;s.getBitsForStudio(this._studio,l=>{a=l}),this._studio.setCoreBits(a)}},vke=q(Le());Ue();var Qpe,yke=ue.div(Qpe||(Qpe=W([""]))),bke=s=>vke.default.createElement(yke,null),_ke=bke;J6();var QU=new pke;He(QU);var wke=QU.publicApi,xke=wke;Ske();function Ske(){if(typeof window>"u")return;let s=window[ZU];if(typeof s<"u")throw typeof s=="object"&&s&&typeof s.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(ZU," seems to be already set by a module other than @theatre/core."));let a=new gke(QU);window[ZU]=a;let l=window[fke];l&&l!==null&&l.type==="Theatre_CoreBundle"&&a.registerCoreBundle(l)}typeof window<"u"&&(window[mke]={notify:Q6});/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)

	queue-microtask/index.js:
	  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

	react/cjs/react.production.min.js:
	  (**
	   * @license React
	   * react.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	scheduler/cjs/scheduler.production.min.js:
	  (**
	   * @license React
	   * scheduler.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-dom/cjs/react-dom.production.min.js:
	  (**
	   * @license React
	   * react-dom.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v17.0.2
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	react-is/cjs/react-is.production.min.js:
	  (** @license React v16.13.1
	   * react-is.production.min.js
	   *
	   * Copyright (c) Facebook, Inc. and its affiliates.
	   *
	   * This source code is licensed under the MIT license found in the
	   * LICENSE file in the root directory of this source tree.
	   *)

	jszip/dist/jszip.min.js:
	  (*!
	  
	  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	  <http://stuartk.com/jszip>
	  
	  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
	  
	  JSZip uses the library pako released under the MIT license :
	  https://github.com/nodeca/pako/blob/main/LICENSE
	  *)

	jiff/lib/lcs.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/array.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointerParse.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPointer.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/clone.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/lib/jsonPatch.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

	jiff/jiff.js:
	  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
	*/})(IA,IA.exports);var HDe=IA.exports;const N8e=wge(HDe);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const d_="163",B5={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},U5={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},GDe=0,X2e=1,$De=2,F8e=1,WDe=2,qd=3,Rc=0,Ss=1,Sa=2,bl=0,x2=1,EG=2,CG=3,PG=4,B8e=5,Pf=100,U8e=101,z8e=102,V8e=103,j8e=104,uW=200,cW=201,dW=202,hW=203,Ob=204,Lb=205,pW=206,fW=207,mW=208,gW=209,H8e=210,vW=211,yW=212,bW=213,_W=214,KDe=0,XDe=1,qDe=2,RA=3,YDe=4,ZDe=5,QDe=6,JDe=7,MI=0,eOe=1,tOe=2,Uf=0,nOe=1,rOe=2,iOe=3,sOe=4,oOe=5,aOe=6,lOe=7,q2e="attached",uOe="detached",P4=300,ng=301,rg=302,DA=303,MG=304,TI=306,fh=1e3,ko=1001,TG=1002,so=1003,cOe=1004,QT=1005,Hs=1006,sj=1007,v2=1008,E0=1009,dOe=1010,hOe=1011,G8e=1012,$8e=1013,I2=1014,wu=1015,ig=1016,W8e=1017,K8e=1018,yg=1020,pOe=35902,fOe=1021,mOe=1022,Ca=1023,gOe=1024,vOe=1025,j4=1026,sg=1027,yOe=1028,X8e=1029,bOe=1030,q8e=1031,Y8e=1033,oj=33776,aj=33777,lj=33778,uj=33779,Y2e=35840,Z2e=35841,Q2e=35842,J2e=35843,Z8e=36196,e9e=37492,t9e=37496,n9e=37808,r9e=37809,i9e=37810,s9e=37811,o9e=37812,a9e=37813,l9e=37814,u9e=37815,c9e=37816,d9e=37817,h9e=37818,p9e=37819,f9e=37820,m9e=37821,cj=36492,g9e=36494,v9e=36495,_Oe=36283,y9e=36284,b9e=36285,_9e=36286,wOe=2200,xOe=2201,SOe=2202,OA=2300,LA=2301,dj=2302,M4=2400,T4=2401,NA=2402,wW=2500,EOe=2501,h_=3200,COe=3201,bg=0,POe=1,Pc="",ri="srgb",Fc="srgb-linear",xW="display-p3",kI="display-p3-linear",FA="linear",ki="srgb",BA="rec709",UA="p3",z5=7680,w9e=519,MOe=512,TOe=513,kOe=514,Q8e=515,AOe=516,IOe=517,ROe=518,DOe=519,x9e=35044,kG="300 es",th=2e3,zA=2001;class A0{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,u=i.length;o<u;o++)i[o].call(this,e);e.target=null}}}const Wo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let S9e=1234567;const ub=Math.PI/180,og=180/Math.PI;function e1(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Wo[t&255]+Wo[t>>8&255]+Wo[t>>16&255]+Wo[t>>24&255]+"-"+Wo[e&255]+Wo[e>>8&255]+"-"+Wo[e>>16&15|64]+Wo[e>>24&255]+"-"+Wo[n&63|128]+Wo[n>>8&255]+"-"+Wo[n>>16&255]+Wo[n>>24&255]+Wo[r&255]+Wo[r>>8&255]+Wo[r>>16&255]+Wo[r>>24&255]).toLowerCase()}function Rs(t,e,n){return Math.max(e,Math.min(n,t))}function SW(t,e){return(t%e+e)%e}function OOe(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function LOe(t,e,n){return t!==e?(n-t)/(e-t):0}function cb(t,e,n){return(1-n)*t+n*e}function NOe(t,e,n,r){return cb(t,e,1-Math.exp(-n*r))}function FOe(t,e=1){return e-Math.abs(SW(t,e*2)-e)}function BOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function UOe(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function zOe(t,e){return t+Math.floor(Math.random()*(e-t+1))}function VOe(t,e){return t+Math.random()*(e-t)}function jOe(t){return t*(.5-Math.random())}function HOe(t){t!==void 0&&(S9e=t);let e=S9e+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function GOe(t){return t*ub}function $Oe(t){return t*og}function WOe(t){return(t&t-1)===0&&t!==0}function KOe(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function XOe(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function qOe(t,e,n,r,i){const o=Math.cos,u=Math.sin,d=o(n/2),m=u(n/2),v=o((e+r)/2),x=u((e+r)/2),S=o((e-r)/2),T=u((e-r)/2),R=o((r-e)/2),G=u((r-e)/2);switch(i){case"XYX":t.set(d*x,m*S,m*T,d*v);break;case"YZY":t.set(m*T,d*x,m*S,d*v);break;case"ZXZ":t.set(m*S,m*T,d*x,d*v);break;case"XZX":t.set(d*x,m*G,m*R,d*v);break;case"YXY":t.set(m*R,d*x,m*G,d*v);break;case"ZYZ":t.set(m*G,m*R,d*x,d*v);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function h4(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function ya(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const qo={DEG2RAD:ub,RAD2DEG:og,generateUUID:e1,clamp:Rs,euclideanModulo:SW,mapLinear:OOe,inverseLerp:LOe,lerp:cb,damp:NOe,pingpong:FOe,smoothstep:BOe,smootherstep:UOe,randInt:zOe,randFloat:VOe,randFloatSpread:jOe,seededRandom:HOe,degToRad:GOe,radToDeg:$Oe,isPowerOfTwo:WOe,ceilPowerOfTwo:KOe,floorPowerOfTwo:XOe,setQuaternionFromProperEuler:qOe,normalize:ya,denormalize:h4};class nn{constructor(e=0,n=0){nn.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Rs(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,u=this.y-e.y;return this.x=o*r-u*i+e.x,this.y=o*i+u*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class lr{constructor(e,n,r,i,o,u,d,m,v){lr.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,u,d,m,v)}set(e,n,r,i,o,u,d,m,v){const x=this.elements;return x[0]=e,x[1]=i,x[2]=d,x[3]=n,x[4]=o,x[5]=m,x[6]=r,x[7]=u,x[8]=v,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,u=r[0],d=r[3],m=r[6],v=r[1],x=r[4],S=r[7],T=r[2],R=r[5],G=r[8],L=i[0],B=i[3],z=i[6],C=i[1],V=i[4],Y=i[7],me=i[2],q=i[5],ae=i[8];return o[0]=u*L+d*C+m*me,o[3]=u*B+d*V+m*q,o[6]=u*z+d*Y+m*ae,o[1]=v*L+x*C+S*me,o[4]=v*B+x*V+S*q,o[7]=v*z+x*Y+S*ae,o[2]=T*L+R*C+G*me,o[5]=T*B+R*V+G*q,o[8]=T*z+R*Y+G*ae,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],d=e[5],m=e[6],v=e[7],x=e[8];return n*u*x-n*d*v-r*o*x+r*d*m+i*o*v-i*u*m}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],d=e[5],m=e[6],v=e[7],x=e[8],S=x*u-d*v,T=d*m-x*o,R=v*o-u*m,G=n*S+r*T+i*R;if(G===0)return this.set(0,0,0,0,0,0,0,0,0);const L=1/G;return e[0]=S*L,e[1]=(i*v-x*r)*L,e[2]=(d*r-i*u)*L,e[3]=T*L,e[4]=(x*n-i*m)*L,e[5]=(i*o-d*n)*L,e[6]=R*L,e[7]=(r*m-v*n)*L,e[8]=(u*n-r*o)*L,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,u,d){const m=Math.cos(o),v=Math.sin(o);return this.set(r*m,r*v,-r*(m*u+v*d)+u+e,-i*v,i*m,-i*(-v*u+m*d)+d+n,0,0,1),this}scale(e,n){return this.premultiply(hj.makeScale(e,n)),this}rotate(e){return this.premultiply(hj.makeRotation(-e)),this}translate(e,n){return this.premultiply(hj.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const hj=new lr;function J8e(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Nb(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function YOe(){const t=Nb("canvas");return t.style.display="block",t}const E9e={};function ZOe(t){t in E9e||(E9e[t]=!0,console.warn(t))}const C9e=new lr().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),P9e=new lr().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),JT={[Fc]:{transfer:FA,primaries:BA,toReference:t=>t,fromReference:t=>t},[ri]:{transfer:ki,primaries:BA,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[kI]:{transfer:FA,primaries:UA,toReference:t=>t.applyMatrix3(P9e),fromReference:t=>t.applyMatrix3(C9e)},[xW]:{transfer:ki,primaries:UA,toReference:t=>t.convertSRGBToLinear().applyMatrix3(P9e),fromReference:t=>t.applyMatrix3(C9e).convertLinearToSRGB()}},QOe=new Set([Fc,kI]),ci={enabled:!0,_workingColorSpace:Fc,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!QOe.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=JT[e].toReference,i=JT[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return JT[t].primaries},getTransfer:function(t){return t===Pc?FA:JT[t].transfer}};function H4(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function pj(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let V5;class JOe{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{V5===void 0&&(V5=Nb("canvas")),V5.width=e.width,V5.height=e.height;const r=V5.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=V5}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Nb("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let u=0;u<o.length;u++)o[u]=H4(o[u]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(H4(n[r]/255)*255):n[r]=H4(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let eLe=0;class e6e{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:eLe++}),this.uuid=e1(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let u=0,d=i.length;u<d;u++)i[u].isDataTexture?o.push(fj(i[u].image)):o.push(fj(i[u]))}else o=fj(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function fj(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?JOe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let tLe=0;class Ji extends A0{constructor(e=Ji.DEFAULT_IMAGE,n=Ji.DEFAULT_MAPPING,r=ko,i=ko,o=Hs,u=v2,d=Ca,m=E0,v=Ji.DEFAULT_ANISOTROPY,x=Pc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:tLe++}),this.uuid=e1(),this.name="",this.source=new e6e(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=u,this.anisotropy=v,this.format=d,this.internalFormat=null,this.type=m,this.offset=new nn(0,0),this.repeat=new nn(1,1),this.center=new nn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new lr,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=x,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==P4)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case fh:e.x=e.x-Math.floor(e.x);break;case ko:e.x=e.x<0?0:1;break;case TG:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case fh:e.y=e.y-Math.floor(e.y);break;case ko:e.y=e.y<0?0:1;break;case TG:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ji.DEFAULT_IMAGE=null;Ji.DEFAULT_MAPPING=P4;Ji.DEFAULT_ANISOTROPY=1;class kr{constructor(e=0,n=0,r=0,i=1){kr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,u=e.elements;return this.x=u[0]*n+u[4]*r+u[8]*i+u[12]*o,this.y=u[1]*n+u[5]*r+u[9]*i+u[13]*o,this.z=u[2]*n+u[6]*r+u[10]*i+u[14]*o,this.w=u[3]*n+u[7]*r+u[11]*i+u[15]*o,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const m=e.elements,v=m[0],x=m[4],S=m[8],T=m[1],R=m[5],G=m[9],L=m[2],B=m[6],z=m[10];if(Math.abs(x-T)<.01&&Math.abs(S-L)<.01&&Math.abs(G-B)<.01){if(Math.abs(x+T)<.1&&Math.abs(S+L)<.1&&Math.abs(G+B)<.1&&Math.abs(v+R+z-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const V=(v+1)/2,Y=(R+1)/2,me=(z+1)/2,q=(x+T)/4,ae=(S+L)/4,ve=(G+B)/4;return V>Y&&V>me?V<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(V),i=q/r,o=ae/r):Y>me?Y<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(Y),r=q/i,o=ve/i):me<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(me),r=ae/o,i=ve/o),this.set(r,i,o,n),this}let C=Math.sqrt((B-G)*(B-G)+(S-L)*(S-L)+(T-x)*(T-x));return Math.abs(C)<.001&&(C=1),this.x=(B-G)/C,this.y=(S-L)/C,this.z=(T-x)/C,this.w=Math.acos((v+R+z-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class nLe extends A0{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new kr(0,0,e,n),this.scissorTest=!1,this.viewport=new kr(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Hs,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0,count:1},r);const o=new Ji(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const u=r.count;for(let d=0;d<u;d++)this.textures[d]=o.clone(),this.textures[d].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new e6e(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Aa extends nLe{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class t6e extends Ji{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=so,this.minFilter=so,this.wrapR=ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class rLe extends Ji{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=so,this.minFilter=so,this.wrapR=ko,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class js{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,u,d){let m=r[i+0],v=r[i+1],x=r[i+2],S=r[i+3];const T=o[u+0],R=o[u+1],G=o[u+2],L=o[u+3];if(d===0){e[n+0]=m,e[n+1]=v,e[n+2]=x,e[n+3]=S;return}if(d===1){e[n+0]=T,e[n+1]=R,e[n+2]=G,e[n+3]=L;return}if(S!==L||m!==T||v!==R||x!==G){let B=1-d;const z=m*T+v*R+x*G+S*L,C=z>=0?1:-1,V=1-z*z;if(V>Number.EPSILON){const me=Math.sqrt(V),q=Math.atan2(me,z*C);B=Math.sin(B*q)/me,d=Math.sin(d*q)/me}const Y=d*C;if(m=m*B+T*Y,v=v*B+R*Y,x=x*B+G*Y,S=S*B+L*Y,B===1-d){const me=1/Math.sqrt(m*m+v*v+x*x+S*S);m*=me,v*=me,x*=me,S*=me}}e[n]=m,e[n+1]=v,e[n+2]=x,e[n+3]=S}static multiplyQuaternionsFlat(e,n,r,i,o,u){const d=r[i],m=r[i+1],v=r[i+2],x=r[i+3],S=o[u],T=o[u+1],R=o[u+2],G=o[u+3];return e[n]=d*G+x*S+m*R-v*T,e[n+1]=m*G+x*T+v*S-d*R,e[n+2]=v*G+x*R+d*T-m*S,e[n+3]=x*G-d*S-m*T-v*R,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,u=e._order,d=Math.cos,m=Math.sin,v=d(r/2),x=d(i/2),S=d(o/2),T=m(r/2),R=m(i/2),G=m(o/2);switch(u){case"XYZ":this._x=T*x*S+v*R*G,this._y=v*R*S-T*x*G,this._z=v*x*G+T*R*S,this._w=v*x*S-T*R*G;break;case"YXZ":this._x=T*x*S+v*R*G,this._y=v*R*S-T*x*G,this._z=v*x*G-T*R*S,this._w=v*x*S+T*R*G;break;case"ZXY":this._x=T*x*S-v*R*G,this._y=v*R*S+T*x*G,this._z=v*x*G+T*R*S,this._w=v*x*S-T*R*G;break;case"ZYX":this._x=T*x*S-v*R*G,this._y=v*R*S+T*x*G,this._z=v*x*G-T*R*S,this._w=v*x*S+T*R*G;break;case"YZX":this._x=T*x*S+v*R*G,this._y=v*R*S+T*x*G,this._z=v*x*G-T*R*S,this._w=v*x*S-T*R*G;break;case"XZY":this._x=T*x*S-v*R*G,this._y=v*R*S-T*x*G,this._z=v*x*G+T*R*S,this._w=v*x*S+T*R*G;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+u)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],u=n[1],d=n[5],m=n[9],v=n[2],x=n[6],S=n[10],T=r+d+S;if(T>0){const R=.5/Math.sqrt(T+1);this._w=.25/R,this._x=(x-m)*R,this._y=(o-v)*R,this._z=(u-i)*R}else if(r>d&&r>S){const R=2*Math.sqrt(1+r-d-S);this._w=(x-m)/R,this._x=.25*R,this._y=(i+u)/R,this._z=(o+v)/R}else if(d>S){const R=2*Math.sqrt(1+d-r-S);this._w=(o-v)/R,this._x=(i+u)/R,this._y=.25*R,this._z=(m+x)/R}else{const R=2*Math.sqrt(1+S-r-d);this._w=(u-i)/R,this._x=(o+v)/R,this._y=(m+x)/R,this._z=.25*R}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Rs(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,u=e._w,d=n._x,m=n._y,v=n._z,x=n._w;return this._x=r*x+u*d+i*v-o*m,this._y=i*x+u*m+o*d-r*v,this._z=o*x+u*v+r*m-i*d,this._w=u*x-r*d-i*m-o*v,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,u=this._w;let d=u*e._w+r*e._x+i*e._y+o*e._z;if(d<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,d=-d):this.copy(e),d>=1)return this._w=u,this._x=r,this._y=i,this._z=o,this;const m=1-d*d;if(m<=Number.EPSILON){const R=1-n;return this._w=R*u+n*this._w,this._x=R*r+n*this._x,this._y=R*i+n*this._y,this._z=R*o+n*this._z,this.normalize(),this}const v=Math.sqrt(m),x=Math.atan2(v,d),S=Math.sin((1-n)*x)/v,T=Math.sin(n*x)/v;return this._w=u*S+this._w*T,this._x=r*S+this._x*T,this._y=i*S+this._y*T,this._z=o*S+this._z*T,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Re{constructor(e=0,n=0,r=0){Re.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(M9e.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(M9e.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,u=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*u,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*u,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*u,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,u=e.y,d=e.z,m=e.w,v=2*(u*i-d*r),x=2*(d*n-o*i),S=2*(o*r-u*n);return this.x=n+m*v+u*S-d*x,this.y=r+m*x+d*v-o*S,this.z=i+m*S+o*x-u*v,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,u=n.x,d=n.y,m=n.z;return this.x=i*m-o*d,this.y=o*u-r*m,this.z=r*d-i*u,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return mj.copy(this).projectOnVector(e),this.sub(mj)}reflect(e){return this.sub(mj.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Rs(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const mj=new Re,M9e=new js;class _g{constructor(e=new Re(1/0,1/0,1/0),n=new Re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(du.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(du.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=du.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let u=0,d=o.count;u<d;u++)e.isMesh===!0?e.getVertexPosition(u,du):du.fromBufferAttribute(o,u),du.applyMatrix4(e.matrixWorld),this.expandByPoint(du);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ek.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ek.copy(r.boundingBox)),ek.applyMatrix4(e.matrixWorld),this.union(ek)}const i=e.children;for(let o=0,u=i.length;o<u;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,du),du.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cy),tk.subVectors(this.max,Cy),j5.subVectors(e.a,Cy),H5.subVectors(e.b,Cy),G5.subVectors(e.c,Cy),Jp.subVectors(H5,j5),ef.subVectors(G5,H5),qm.subVectors(j5,G5);let n=[0,-Jp.z,Jp.y,0,-ef.z,ef.y,0,-qm.z,qm.y,Jp.z,0,-Jp.x,ef.z,0,-ef.x,qm.z,0,-qm.x,-Jp.y,Jp.x,0,-ef.y,ef.x,0,-qm.y,qm.x,0];return!gj(n,j5,H5,G5,tk)||(n=[1,0,0,0,1,0,0,0,1],!gj(n,j5,H5,G5,tk))?!1:(nk.crossVectors(Jp,ef),n=[nk.x,nk.y,nk.z],gj(n,j5,H5,G5,tk))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,du).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(du).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Vd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Vd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Vd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Vd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Vd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Vd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Vd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Vd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Vd),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Vd=[new Re,new Re,new Re,new Re,new Re,new Re,new Re,new Re],du=new Re,ek=new _g,j5=new Re,H5=new Re,G5=new Re,Jp=new Re,ef=new Re,qm=new Re,Cy=new Re,tk=new Re,nk=new Re,Ym=new Re;function gj(t,e,n,r,i){for(let o=0,u=t.length-3;o<=u;o+=3){Ym.fromArray(t,o);const d=i.x*Math.abs(Ym.x)+i.y*Math.abs(Ym.y)+i.z*Math.abs(Ym.z),m=e.dot(Ym),v=n.dot(Ym),x=r.dot(Ym);if(Math.max(-Math.max(m,v,x),Math.min(m,v,x))>d)return!1}return!0}const iLe=new _g,Py=new Re,vj=new Re;class W2{constructor(e=new Re,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):iLe.setFromPoints(e).getCenter(r);let i=0;for(let o=0,u=e.length;o<u;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Py.subVectors(e,this.center);const n=Py.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Py,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(vj.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Py.copy(e.center).add(vj)),this.expandByPoint(Py.copy(e.center).sub(vj))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const jd=new Re,yj=new Re,rk=new Re,tf=new Re,bj=new Re,ik=new Re,_j=new Re;class wg{constructor(e=new Re,n=new Re(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,jd)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=jd.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(jd.copy(this.origin).addScaledVector(this.direction,n),jd.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){yj.copy(e).add(n).multiplyScalar(.5),rk.copy(n).sub(e).normalize(),tf.copy(this.origin).sub(yj);const o=e.distanceTo(n)*.5,u=-this.direction.dot(rk),d=tf.dot(this.direction),m=-tf.dot(rk),v=tf.lengthSq(),x=Math.abs(1-u*u);let S,T,R,G;if(x>0)if(S=u*m-d,T=u*d-m,G=o*x,S>=0)if(T>=-G)if(T<=G){const L=1/x;S*=L,T*=L,R=S*(S+u*T+2*d)+T*(u*S+T+2*m)+v}else T=o,S=Math.max(0,-(u*T+d)),R=-S*S+T*(T+2*m)+v;else T=-o,S=Math.max(0,-(u*T+d)),R=-S*S+T*(T+2*m)+v;else T<=-G?(S=Math.max(0,-(-u*o+d)),T=S>0?-o:Math.min(Math.max(-o,-m),o),R=-S*S+T*(T+2*m)+v):T<=G?(S=0,T=Math.min(Math.max(-o,-m),o),R=T*(T+2*m)+v):(S=Math.max(0,-(u*o+d)),T=S>0?o:Math.min(Math.max(-o,-m),o),R=-S*S+T*(T+2*m)+v);else T=u>0?-o:o,S=Math.max(0,-(u*T+d)),R=-S*S+T*(T+2*m)+v;return r&&r.copy(this.origin).addScaledVector(this.direction,S),i&&i.copy(yj).addScaledVector(rk,T),R}intersectSphere(e,n){jd.subVectors(e.center,this.origin);const r=jd.dot(this.direction),i=jd.dot(jd)-r*r,o=e.radius*e.radius;if(i>o)return null;const u=Math.sqrt(o-i),d=r-u,m=r+u;return m<0?null:d<0?this.at(m,n):this.at(d,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,u,d,m;const v=1/this.direction.x,x=1/this.direction.y,S=1/this.direction.z,T=this.origin;return v>=0?(r=(e.min.x-T.x)*v,i=(e.max.x-T.x)*v):(r=(e.max.x-T.x)*v,i=(e.min.x-T.x)*v),x>=0?(o=(e.min.y-T.y)*x,u=(e.max.y-T.y)*x):(o=(e.max.y-T.y)*x,u=(e.min.y-T.y)*x),r>u||o>i||((o>r||isNaN(r))&&(r=o),(u<i||isNaN(i))&&(i=u),S>=0?(d=(e.min.z-T.z)*S,m=(e.max.z-T.z)*S):(d=(e.max.z-T.z)*S,m=(e.min.z-T.z)*S),r>m||d>i)||((d>r||r!==r)&&(r=d),(m<i||i!==i)&&(i=m),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,jd)!==null}intersectTriangle(e,n,r,i,o){bj.subVectors(n,e),ik.subVectors(r,e),_j.crossVectors(bj,ik);let u=this.direction.dot(_j),d;if(u>0){if(i)return null;d=1}else if(u<0)d=-1,u=-u;else return null;tf.subVectors(this.origin,e);const m=d*this.direction.dot(ik.crossVectors(tf,ik));if(m<0)return null;const v=d*this.direction.dot(bj.cross(tf));if(v<0||m+v>u)return null;const x=-d*tf.dot(_j);return x<0?null:this.at(x/u,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class In{constructor(e,n,r,i,o,u,d,m,v,x,S,T,R,G,L,B){In.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,u,d,m,v,x,S,T,R,G,L,B)}set(e,n,r,i,o,u,d,m,v,x,S,T,R,G,L,B){const z=this.elements;return z[0]=e,z[4]=n,z[8]=r,z[12]=i,z[1]=o,z[5]=u,z[9]=d,z[13]=m,z[2]=v,z[6]=x,z[10]=S,z[14]=T,z[3]=R,z[7]=G,z[11]=L,z[15]=B,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new In().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/$5.setFromMatrixColumn(e,0).length(),o=1/$5.setFromMatrixColumn(e,1).length(),u=1/$5.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*u,n[9]=r[9]*u,n[10]=r[10]*u,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,u=Math.cos(r),d=Math.sin(r),m=Math.cos(i),v=Math.sin(i),x=Math.cos(o),S=Math.sin(o);if(e.order==="XYZ"){const T=u*x,R=u*S,G=d*x,L=d*S;n[0]=m*x,n[4]=-m*S,n[8]=v,n[1]=R+G*v,n[5]=T-L*v,n[9]=-d*m,n[2]=L-T*v,n[6]=G+R*v,n[10]=u*m}else if(e.order==="YXZ"){const T=m*x,R=m*S,G=v*x,L=v*S;n[0]=T+L*d,n[4]=G*d-R,n[8]=u*v,n[1]=u*S,n[5]=u*x,n[9]=-d,n[2]=R*d-G,n[6]=L+T*d,n[10]=u*m}else if(e.order==="ZXY"){const T=m*x,R=m*S,G=v*x,L=v*S;n[0]=T-L*d,n[4]=-u*S,n[8]=G+R*d,n[1]=R+G*d,n[5]=u*x,n[9]=L-T*d,n[2]=-u*v,n[6]=d,n[10]=u*m}else if(e.order==="ZYX"){const T=u*x,R=u*S,G=d*x,L=d*S;n[0]=m*x,n[4]=G*v-R,n[8]=T*v+L,n[1]=m*S,n[5]=L*v+T,n[9]=R*v-G,n[2]=-v,n[6]=d*m,n[10]=u*m}else if(e.order==="YZX"){const T=u*m,R=u*v,G=d*m,L=d*v;n[0]=m*x,n[4]=L-T*S,n[8]=G*S+R,n[1]=S,n[5]=u*x,n[9]=-d*x,n[2]=-v*x,n[6]=R*S+G,n[10]=T-L*S}else if(e.order==="XZY"){const T=u*m,R=u*v,G=d*m,L=d*v;n[0]=m*x,n[4]=-S,n[8]=v*x,n[1]=T*S+L,n[5]=u*x,n[9]=R*S-G,n[2]=G*S-R,n[6]=d*x,n[10]=L*S+T}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(sLe,e,oLe)}lookAt(e,n,r){const i=this.elements;return b0.subVectors(e,n),b0.lengthSq()===0&&(b0.z=1),b0.normalize(),nf.crossVectors(r,b0),nf.lengthSq()===0&&(Math.abs(r.z)===1?b0.x+=1e-4:b0.z+=1e-4,b0.normalize(),nf.crossVectors(r,b0)),nf.normalize(),sk.crossVectors(b0,nf),i[0]=nf.x,i[4]=sk.x,i[8]=b0.x,i[1]=nf.y,i[5]=sk.y,i[9]=b0.y,i[2]=nf.z,i[6]=sk.z,i[10]=b0.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,u=r[0],d=r[4],m=r[8],v=r[12],x=r[1],S=r[5],T=r[9],R=r[13],G=r[2],L=r[6],B=r[10],z=r[14],C=r[3],V=r[7],Y=r[11],me=r[15],q=i[0],ae=i[4],ve=i[8],W=i[12],se=i[1],Te=i[5],dt=i[9],He=i[13],xe=i[2],gt=i[6],ze=i[10],At=i[14],Ne=i[3],ht=i[7],pt=i[11],It=i[15];return o[0]=u*q+d*se+m*xe+v*Ne,o[4]=u*ae+d*Te+m*gt+v*ht,o[8]=u*ve+d*dt+m*ze+v*pt,o[12]=u*W+d*He+m*At+v*It,o[1]=x*q+S*se+T*xe+R*Ne,o[5]=x*ae+S*Te+T*gt+R*ht,o[9]=x*ve+S*dt+T*ze+R*pt,o[13]=x*W+S*He+T*At+R*It,o[2]=G*q+L*se+B*xe+z*Ne,o[6]=G*ae+L*Te+B*gt+z*ht,o[10]=G*ve+L*dt+B*ze+z*pt,o[14]=G*W+L*He+B*At+z*It,o[3]=C*q+V*se+Y*xe+me*Ne,o[7]=C*ae+V*Te+Y*gt+me*ht,o[11]=C*ve+V*dt+Y*ze+me*pt,o[15]=C*W+V*He+Y*At+me*It,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],u=e[1],d=e[5],m=e[9],v=e[13],x=e[2],S=e[6],T=e[10],R=e[14],G=e[3],L=e[7],B=e[11],z=e[15];return G*(+o*m*S-i*v*S-o*d*T+r*v*T+i*d*R-r*m*R)+L*(+n*m*R-n*v*T+o*u*T-i*u*R+i*v*x-o*m*x)+B*(+n*v*S-n*d*R-o*u*S+r*u*R+o*d*x-r*v*x)+z*(-i*d*x-n*m*S+n*d*T+i*u*S-r*u*T+r*m*x)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],u=e[4],d=e[5],m=e[6],v=e[7],x=e[8],S=e[9],T=e[10],R=e[11],G=e[12],L=e[13],B=e[14],z=e[15],C=S*B*v-L*T*v+L*m*R-d*B*R-S*m*z+d*T*z,V=G*T*v-x*B*v-G*m*R+u*B*R+x*m*z-u*T*z,Y=x*L*v-G*S*v+G*d*R-u*L*R-x*d*z+u*S*z,me=G*S*m-x*L*m-G*d*T+u*L*T+x*d*B-u*S*B,q=n*C+r*V+i*Y+o*me;if(q===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ae=1/q;return e[0]=C*ae,e[1]=(L*T*o-S*B*o-L*i*R+r*B*R+S*i*z-r*T*z)*ae,e[2]=(d*B*o-L*m*o+L*i*v-r*B*v-d*i*z+r*m*z)*ae,e[3]=(S*m*o-d*T*o-S*i*v+r*T*v+d*i*R-r*m*R)*ae,e[4]=V*ae,e[5]=(x*B*o-G*T*o+G*i*R-n*B*R-x*i*z+n*T*z)*ae,e[6]=(G*m*o-u*B*o-G*i*v+n*B*v+u*i*z-n*m*z)*ae,e[7]=(u*T*o-x*m*o+x*i*v-n*T*v-u*i*R+n*m*R)*ae,e[8]=Y*ae,e[9]=(G*S*o-x*L*o-G*r*R+n*L*R+x*r*z-n*S*z)*ae,e[10]=(u*L*o-G*d*o+G*r*v-n*L*v-u*r*z+n*d*z)*ae,e[11]=(x*d*o-u*S*o-x*r*v+n*S*v+u*r*R-n*d*R)*ae,e[12]=me*ae,e[13]=(x*L*i-G*S*i+G*r*T-n*L*T-x*r*B+n*S*B)*ae,e[14]=(G*d*i-u*L*i-G*r*m+n*L*m+u*r*B-n*d*B)*ae,e[15]=(u*S*i-x*d*i+x*r*m-n*S*m-u*r*T+n*d*T)*ae,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,u=e.x,d=e.y,m=e.z,v=o*u,x=o*d;return this.set(v*u+r,v*d-i*m,v*m+i*d,0,v*d+i*m,x*d+r,x*m-i*u,0,v*m-i*d,x*m+i*u,o*m*m+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,u){return this.set(1,r,o,0,e,1,u,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,u=n._y,d=n._z,m=n._w,v=o+o,x=u+u,S=d+d,T=o*v,R=o*x,G=o*S,L=u*x,B=u*S,z=d*S,C=m*v,V=m*x,Y=m*S,me=r.x,q=r.y,ae=r.z;return i[0]=(1-(L+z))*me,i[1]=(R+Y)*me,i[2]=(G-V)*me,i[3]=0,i[4]=(R-Y)*q,i[5]=(1-(T+z))*q,i[6]=(B+C)*q,i[7]=0,i[8]=(G+V)*ae,i[9]=(B-C)*ae,i[10]=(1-(T+L))*ae,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=$5.set(i[0],i[1],i[2]).length();const u=$5.set(i[4],i[5],i[6]).length(),d=$5.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],hu.copy(this);const v=1/o,x=1/u,S=1/d;return hu.elements[0]*=v,hu.elements[1]*=v,hu.elements[2]*=v,hu.elements[4]*=x,hu.elements[5]*=x,hu.elements[6]*=x,hu.elements[8]*=S,hu.elements[9]*=S,hu.elements[10]*=S,n.setFromRotationMatrix(hu),r.x=o,r.y=u,r.z=d,this}makePerspective(e,n,r,i,o,u,d=th){const m=this.elements,v=2*o/(n-e),x=2*o/(r-i),S=(n+e)/(n-e),T=(r+i)/(r-i);let R,G;if(d===th)R=-(u+o)/(u-o),G=-2*u*o/(u-o);else if(d===zA)R=-u/(u-o),G=-u*o/(u-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+d);return m[0]=v,m[4]=0,m[8]=S,m[12]=0,m[1]=0,m[5]=x,m[9]=T,m[13]=0,m[2]=0,m[6]=0,m[10]=R,m[14]=G,m[3]=0,m[7]=0,m[11]=-1,m[15]=0,this}makeOrthographic(e,n,r,i,o,u,d=th){const m=this.elements,v=1/(n-e),x=1/(r-i),S=1/(u-o),T=(n+e)*v,R=(r+i)*x;let G,L;if(d===th)G=(u+o)*S,L=-2*S;else if(d===zA)G=o*S,L=-1*S;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+d);return m[0]=2*v,m[4]=0,m[8]=0,m[12]=-T,m[1]=0,m[5]=2*x,m[9]=0,m[13]=-R,m[2]=0,m[6]=0,m[10]=L,m[14]=-G,m[3]=0,m[7]=0,m[11]=0,m[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const $5=new Re,hu=new In,sLe=new Re(0,0,0),oLe=new Re(1,1,1),nf=new Re,sk=new Re,b0=new Re,T9e=new In,k9e=new js;class qi{constructor(e=0,n=0,r=0,i=qi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],u=i[4],d=i[8],m=i[1],v=i[5],x=i[9],S=i[2],T=i[6],R=i[10];switch(n){case"XYZ":this._y=Math.asin(Rs(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(-x,R),this._z=Math.atan2(-u,o)):(this._x=Math.atan2(T,v),this._z=0);break;case"YXZ":this._x=Math.asin(-Rs(x,-1,1)),Math.abs(x)<.9999999?(this._y=Math.atan2(d,R),this._z=Math.atan2(m,v)):(this._y=Math.atan2(-S,o),this._z=0);break;case"ZXY":this._x=Math.asin(Rs(T,-1,1)),Math.abs(T)<.9999999?(this._y=Math.atan2(-S,R),this._z=Math.atan2(-u,v)):(this._y=0,this._z=Math.atan2(m,o));break;case"ZYX":this._y=Math.asin(-Rs(S,-1,1)),Math.abs(S)<.9999999?(this._x=Math.atan2(T,R),this._z=Math.atan2(m,o)):(this._x=0,this._z=Math.atan2(-u,v));break;case"YZX":this._z=Math.asin(Rs(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(-x,v),this._y=Math.atan2(-S,o)):(this._x=0,this._y=Math.atan2(d,R));break;case"XZY":this._z=Math.asin(-Rs(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(T,v),this._y=Math.atan2(d,o)):(this._x=Math.atan2(-x,R),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return T9e.makeRotationFromQuaternion(e),this.setFromRotationMatrix(T9e,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return k9e.setFromEuler(this),this.setFromQuaternion(k9e,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}qi.DEFAULT_ORDER="XYZ";class EW{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let aLe=0;const A9e=new Re,W5=new js,Hd=new In,ok=new Re,My=new Re,lLe=new Re,uLe=new js,I9e=new Re(1,0,0),R9e=new Re(0,1,0),D9e=new Re(0,0,1),O9e={type:"added"},cLe={type:"removed"},K5={type:"childadded",child:null},wj={type:"childremoved",child:null};class Ar extends A0{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:aLe++}),this.uuid=e1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ar.DEFAULT_UP.clone();const e=new Re,n=new qi,r=new js,i=new Re(1,1,1);function o(){r.setFromEuler(n,!1)}function u(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(u),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new In},normalMatrix:{value:new lr}}),this.matrix=new In,this.matrixWorld=new In,this.matrixAutoUpdate=Ar.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Ar.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new EW,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return W5.setFromAxisAngle(e,n),this.quaternion.multiply(W5),this}rotateOnWorldAxis(e,n){return W5.setFromAxisAngle(e,n),this.quaternion.premultiply(W5),this}rotateX(e){return this.rotateOnAxis(I9e,e)}rotateY(e){return this.rotateOnAxis(R9e,e)}rotateZ(e){return this.rotateOnAxis(D9e,e)}translateOnAxis(e,n){return A9e.copy(e).applyQuaternion(this.quaternion),this.position.add(A9e.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(I9e,e)}translateY(e){return this.translateOnAxis(R9e,e)}translateZ(e){return this.translateOnAxis(D9e,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Hd.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ok.copy(e):ok.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),My.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hd.lookAt(My,ok,this.up):Hd.lookAt(ok,My,this.up),this.quaternion.setFromRotationMatrix(Hd),i&&(Hd.extractRotation(i.matrixWorld),W5.setFromRotationMatrix(Hd),this.quaternion.premultiply(W5.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(O9e),K5.child=e,this.dispatchEvent(K5),K5.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(cLe),wj.child=e,this.dispatchEvent(wj),wj.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Hd.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Hd.multiply(e.parent.matrixWorld)),e.applyMatrix4(Hd),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(O9e),K5.child=e,this.dispatchEvent(K5),K5.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const u=this.children[r].getObjectByProperty(e,n);if(u!==void 0)return u}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,u=i.length;o<u;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(My,e,lLe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(My,uLe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const o=n[r];(o.matrixWorldAutoUpdate===!0||e===!0)&&o.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let o=0,u=i.length;o<u;o++){const d=i[o];d.matrixWorldAutoUpdate===!0&&d.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(d=>({boxInitialized:d.boxInitialized,boxMin:d.box.min.toArray(),boxMax:d.box.max.toArray(),sphereInitialized:d.sphereInitialized,sphereRadius:d.sphere.radius,sphereCenter:d.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(d,m){return d[m.uuid]===void 0&&(d[m.uuid]=m.toJSON(e)),m.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const d=this.geometry.parameters;if(d!==void 0&&d.shapes!==void 0){const m=d.shapes;if(Array.isArray(m))for(let v=0,x=m.length;v<x;v++){const S=m[v];o(e.shapes,S)}else o(e.shapes,m)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const d=[];for(let m=0,v=this.material.length;m<v;m++)d.push(o(e.materials,this.material[m]));i.material=d}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let d=0;d<this.animations.length;d++){const m=this.animations[d];i.animations.push(o(e.animations,m))}}if(n){const d=u(e.geometries),m=u(e.materials),v=u(e.textures),x=u(e.images),S=u(e.shapes),T=u(e.skeletons),R=u(e.animations),G=u(e.nodes);d.length>0&&(r.geometries=d),m.length>0&&(r.materials=m),v.length>0&&(r.textures=v),x.length>0&&(r.images=x),S.length>0&&(r.shapes=S),T.length>0&&(r.skeletons=T),R.length>0&&(r.animations=R),G.length>0&&(r.nodes=G)}return r.object=i,r;function u(d){const m=[];for(const v in d){const x=d[v];delete x.metadata,m.push(x)}return m}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Ar.DEFAULT_UP=new Re(0,1,0);Ar.DEFAULT_MATRIX_AUTO_UPDATE=!0;Ar.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const pu=new Re,Gd=new Re,xj=new Re,$d=new Re,X5=new Re,q5=new Re,L9e=new Re,Sj=new Re,Ej=new Re,Cj=new Re;class Mc{constructor(e=new Re,n=new Re,r=new Re){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),pu.subVectors(e,n),i.cross(pu);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){pu.subVectors(i,n),Gd.subVectors(r,n),xj.subVectors(e,n);const u=pu.dot(pu),d=pu.dot(Gd),m=pu.dot(xj),v=Gd.dot(Gd),x=Gd.dot(xj),S=u*v-d*d;if(S===0)return o.set(0,0,0),null;const T=1/S,R=(v*m-d*x)*T,G=(u*x-d*m)*T;return o.set(1-R-G,G,R)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,$d)===null?!1:$d.x>=0&&$d.y>=0&&$d.x+$d.y<=1}static getInterpolation(e,n,r,i,o,u,d,m){return this.getBarycoord(e,n,r,i,$d)===null?(m.x=0,m.y=0,"z"in m&&(m.z=0),"w"in m&&(m.w=0),null):(m.setScalar(0),m.addScaledVector(o,$d.x),m.addScaledVector(u,$d.y),m.addScaledVector(d,$d.z),m)}static isFrontFacing(e,n,r,i){return pu.subVectors(r,n),Gd.subVectors(e,n),pu.cross(Gd).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return pu.subVectors(this.c,this.b),Gd.subVectors(this.a,this.b),pu.cross(Gd).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mc.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Mc.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return Mc.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return Mc.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mc.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let u,d;X5.subVectors(i,r),q5.subVectors(o,r),Sj.subVectors(e,r);const m=X5.dot(Sj),v=q5.dot(Sj);if(m<=0&&v<=0)return n.copy(r);Ej.subVectors(e,i);const x=X5.dot(Ej),S=q5.dot(Ej);if(x>=0&&S<=x)return n.copy(i);const T=m*S-x*v;if(T<=0&&m>=0&&x<=0)return u=m/(m-x),n.copy(r).addScaledVector(X5,u);Cj.subVectors(e,o);const R=X5.dot(Cj),G=q5.dot(Cj);if(G>=0&&R<=G)return n.copy(o);const L=R*v-m*G;if(L<=0&&v>=0&&G<=0)return d=v/(v-G),n.copy(r).addScaledVector(q5,d);const B=x*G-R*S;if(B<=0&&S-x>=0&&R-G>=0)return L9e.subVectors(o,i),d=(S-x)/(S-x+(R-G)),n.copy(i).addScaledVector(L9e,d);const z=1/(B+L+T);return u=L*z,d=T*z,n.copy(r).addScaledVector(X5,u).addScaledVector(q5,d)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const n6e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},rf={h:0,s:0,l:0},ak={h:0,s:0,l:0};function Pj(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class cn{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=ri){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ci.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ci.workingColorSpace){return this.r=e,this.g=n,this.b=r,ci.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ci.workingColorSpace){if(e=SW(e,1),n=Rs(n,0,1),r=Rs(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,u=2*r-o;this.r=Pj(u,o,e+1/3),this.g=Pj(u,o,e),this.b=Pj(u,o,e-1/3)}return ci.toWorkingColorSpace(this,i),this}setStyle(e,n=ri){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const u=i[1],d=i[2];switch(u){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(d))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],u=o.length;if(u===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(u===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=ri){const r=n6e[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=H4(e.r),this.g=H4(e.g),this.b=H4(e.b),this}copyLinearToSRGB(e){return this.r=pj(e.r),this.g=pj(e.g),this.b=pj(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=ri){return ci.fromWorkingColorSpace(Ko.copy(this),e),Math.round(Rs(Ko.r*255,0,255))*65536+Math.round(Rs(Ko.g*255,0,255))*256+Math.round(Rs(Ko.b*255,0,255))}getHexString(e=ri){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ci.workingColorSpace){ci.fromWorkingColorSpace(Ko.copy(this),n);const r=Ko.r,i=Ko.g,o=Ko.b,u=Math.max(r,i,o),d=Math.min(r,i,o);let m,v;const x=(d+u)/2;if(d===u)m=0,v=0;else{const S=u-d;switch(v=x<=.5?S/(u+d):S/(2-u-d),u){case r:m=(i-o)/S+(i<o?6:0);break;case i:m=(o-r)/S+2;break;case o:m=(r-i)/S+4;break}m/=6}return e.h=m,e.s=v,e.l=x,e}getRGB(e,n=ci.workingColorSpace){return ci.fromWorkingColorSpace(Ko.copy(this),n),e.r=Ko.r,e.g=Ko.g,e.b=Ko.b,e}getStyle(e=ri){ci.fromWorkingColorSpace(Ko.copy(this),e);const n=Ko.r,r=Ko.g,i=Ko.b;return e!==ri?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(rf),this.setHSL(rf.h+e,rf.s+n,rf.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(rf),e.getHSL(ak);const r=cb(rf.h,ak.h,n),i=cb(rf.s,ak.s,n),o=cb(rf.l,ak.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ko=new cn;cn.NAMES=n6e;let dLe=0;class I0 extends A0{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:dLe++}),this.uuid=e1(),this.name="",this.type="Material",this.blending=x2,this.side=Rc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Ob,this.blendDst=Lb,this.blendEquation=Pf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new cn(0,0,0),this.blendAlpha=0,this.depthFunc=RA,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=w9e,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=z5,this.stencilZFail=z5,this.stencilZPass=z5,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==x2&&(r.blending=this.blending),this.side!==Rc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Ob&&(r.blendSrc=this.blendSrc),this.blendDst!==Lb&&(r.blendDst=this.blendDst),this.blendEquation!==Pf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==RA&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==w9e&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==z5&&(r.stencilFail=this.stencilFail),this.stencilZFail!==z5&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==z5&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const u=[];for(const d in o){const m=o[d];delete m.metadata,u.push(m)}return u}if(n){const o=i(e.textures),u=i(e.images);o.length>0&&(r.textures=o),u.length>0&&(r.images=u)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class mh extends I0{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qi,this.combine=MI,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Qd=hLe();function hLe(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let m=0;m<256;++m){const v=m-127;v<-27?(r[m]=0,r[m|256]=32768,i[m]=24,i[m|256]=24):v<-14?(r[m]=1024>>-v-14,r[m|256]=1024>>-v-14|32768,i[m]=-v-1,i[m|256]=-v-1):v<=15?(r[m]=v+15<<10,r[m|256]=v+15<<10|32768,i[m]=13,i[m|256]=13):v<128?(r[m]=31744,r[m|256]=64512,i[m]=24,i[m|256]=24):(r[m]=31744,r[m|256]=64512,i[m]=13,i[m|256]=13)}const o=new Uint32Array(2048),u=new Uint32Array(64),d=new Uint32Array(64);for(let m=1;m<1024;++m){let v=m<<13,x=0;for(;!(v&8388608);)v<<=1,x-=8388608;v&=-8388609,x+=947912704,o[m]=v|x}for(let m=1024;m<2048;++m)o[m]=939524096+(m-1024<<13);for(let m=1;m<31;++m)u[m]=m<<23;u[31]=1199570944,u[32]=2147483648;for(let m=33;m<63;++m)u[m]=2147483648+(m-32<<23);u[63]=3347054592;for(let m=1;m<64;++m)m!==32&&(d[m]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:u,offsetTable:d}}function pLe(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Rs(t,-65504,65504),Qd.floatView[0]=t;const e=Qd.uint32View[0],n=e>>23&511;return Qd.baseTable[n]+((e&8388607)>>Qd.shiftTable[n])}function fLe(t){const e=t>>10;return Qd.uint32View[0]=Qd.mantissaTable[Qd.offsetTable[e]+(t&1023)]+Qd.exponentTable[e],Qd.floatView[0]}const N9e={toHalfFloat:pLe,fromHalfFloat:fLe},As=new Re,lk=new nn;class Pa{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=x9e,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=wu,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return ZOe("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)lk.fromBufferAttribute(this,n),lk.applyMatrix3(e),this.setXY(n,lk.x,lk.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyMatrix3(e),this.setXYZ(n,As.x,As.y,As.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyMatrix4(e),this.setXYZ(n,As.x,As.y,As.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.applyNormalMatrix(e),this.setXYZ(n,As.x,As.y,As.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)As.fromBufferAttribute(this,n),As.transformDirection(e),this.setXYZ(n,As.x,As.y,As.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=h4(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=ya(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=h4(n,this.array)),n}setX(e,n){return this.normalized&&(n=ya(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=h4(n,this.array)),n}setY(e,n){return this.normalized&&(n=ya(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=h4(n,this.array)),n}setZ(e,n){return this.normalized&&(n=ya(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=h4(n,this.array)),n}setW(e,n){return this.normalized&&(n=ya(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=ya(n,this.array),r=ya(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=ya(n,this.array),r=ya(r,this.array),i=ya(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=ya(n,this.array),r=ya(r,this.array),i=ya(i,this.array),o=ya(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==x9e&&(e.usage=this.usage),e}}class CW extends Pa{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class r6e extends Pa{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Sr extends Pa{constructor(e,n,r){super(new Float32Array(e),n,r)}}let mLe=0;const al=new In,Mj=new Ar,Y5=new Re,_0=new _g,Ty=new _g,no=new Re;class zi extends A0{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:mLe++}),this.uuid=e1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(J8e(e)?r6e:CW)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new lr().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return al.makeRotationFromQuaternion(e),this.applyMatrix4(al),this}rotateX(e){return al.makeRotationX(e),this.applyMatrix4(al),this}rotateY(e){return al.makeRotationY(e),this.applyMatrix4(al),this}rotateZ(e){return al.makeRotationZ(e),this.applyMatrix4(al),this}translate(e,n,r){return al.makeTranslation(e,n,r),this.applyMatrix4(al),this}scale(e,n,r){return al.makeScale(e,n,r),this.applyMatrix4(al),this}lookAt(e){return Mj.lookAt(e),Mj.updateMatrix(),this.applyMatrix4(Mj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Y5).negate(),this.translate(Y5.x,Y5.y,Y5.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const o=e[r];n.push(o.x,o.y,o.z||0)}return this.setAttribute("position",new Sr(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new _g);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Re(-1/0,-1/0,-1/0),new Re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];_0.setFromBufferAttribute(o),this.morphTargetsRelative?(no.addVectors(this.boundingBox.min,_0.min),this.boundingBox.expandByPoint(no),no.addVectors(this.boundingBox.max,_0.max),this.boundingBox.expandByPoint(no)):(this.boundingBox.expandByPoint(_0.min),this.boundingBox.expandByPoint(_0.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new W2);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Re,1/0);return}if(e){const r=this.boundingSphere.center;if(_0.setFromBufferAttribute(e),n)for(let o=0,u=n.length;o<u;o++){const d=n[o];Ty.setFromBufferAttribute(d),this.morphTargetsRelative?(no.addVectors(_0.min,Ty.min),_0.expandByPoint(no),no.addVectors(_0.max,Ty.max),_0.expandByPoint(no)):(_0.expandByPoint(Ty.min),_0.expandByPoint(Ty.max))}_0.getCenter(r);let i=0;for(let o=0,u=e.count;o<u;o++)no.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared(no));if(n)for(let o=0,u=n.length;o<u;o++){const d=n[o],m=this.morphTargetsRelative;for(let v=0,x=d.count;v<x;v++)no.fromBufferAttribute(d,v),m&&(Y5.fromBufferAttribute(e,v),no.add(Y5)),i=Math.max(i,r.distanceToSquared(no))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Pa(new Float32Array(4*r.count),4));const u=this.getAttribute("tangent"),d=[],m=[];for(let ve=0;ve<r.count;ve++)d[ve]=new Re,m[ve]=new Re;const v=new Re,x=new Re,S=new Re,T=new nn,R=new nn,G=new nn,L=new Re,B=new Re;function z(ve,W,se){v.fromBufferAttribute(r,ve),x.fromBufferAttribute(r,W),S.fromBufferAttribute(r,se),T.fromBufferAttribute(o,ve),R.fromBufferAttribute(o,W),G.fromBufferAttribute(o,se),x.sub(v),S.sub(v),R.sub(T),G.sub(T);const Te=1/(R.x*G.y-G.x*R.y);isFinite(Te)&&(L.copy(x).multiplyScalar(G.y).addScaledVector(S,-R.y).multiplyScalar(Te),B.copy(S).multiplyScalar(R.x).addScaledVector(x,-G.x).multiplyScalar(Te),d[ve].add(L),d[W].add(L),d[se].add(L),m[ve].add(B),m[W].add(B),m[se].add(B))}let C=this.groups;C.length===0&&(C=[{start:0,count:e.count}]);for(let ve=0,W=C.length;ve<W;++ve){const se=C[ve],Te=se.start,dt=se.count;for(let He=Te,xe=Te+dt;He<xe;He+=3)z(e.getX(He+0),e.getX(He+1),e.getX(He+2))}const V=new Re,Y=new Re,me=new Re,q=new Re;function ae(ve){me.fromBufferAttribute(i,ve),q.copy(me);const W=d[ve];V.copy(W),V.sub(me.multiplyScalar(me.dot(W))).normalize(),Y.crossVectors(q,W);const Te=Y.dot(m[ve])<0?-1:1;u.setXYZW(ve,V.x,V.y,V.z,Te)}for(let ve=0,W=C.length;ve<W;++ve){const se=C[ve],Te=se.start,dt=se.count;for(let He=Te,xe=Te+dt;He<xe;He+=3)ae(e.getX(He+0)),ae(e.getX(He+1)),ae(e.getX(He+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Pa(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let T=0,R=r.count;T<R;T++)r.setXYZ(T,0,0,0);const i=new Re,o=new Re,u=new Re,d=new Re,m=new Re,v=new Re,x=new Re,S=new Re;if(e)for(let T=0,R=e.count;T<R;T+=3){const G=e.getX(T+0),L=e.getX(T+1),B=e.getX(T+2);i.fromBufferAttribute(n,G),o.fromBufferAttribute(n,L),u.fromBufferAttribute(n,B),x.subVectors(u,o),S.subVectors(i,o),x.cross(S),d.fromBufferAttribute(r,G),m.fromBufferAttribute(r,L),v.fromBufferAttribute(r,B),d.add(x),m.add(x),v.add(x),r.setXYZ(G,d.x,d.y,d.z),r.setXYZ(L,m.x,m.y,m.z),r.setXYZ(B,v.x,v.y,v.z)}else for(let T=0,R=n.count;T<R;T+=3)i.fromBufferAttribute(n,T+0),o.fromBufferAttribute(n,T+1),u.fromBufferAttribute(n,T+2),x.subVectors(u,o),S.subVectors(i,o),x.cross(S),r.setXYZ(T+0,x.x,x.y,x.z),r.setXYZ(T+1,x.x,x.y,x.z),r.setXYZ(T+2,x.x,x.y,x.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)no.fromBufferAttribute(e,n),no.normalize(),e.setXYZ(n,no.x,no.y,no.z)}toNonIndexed(){function e(d,m){const v=d.array,x=d.itemSize,S=d.normalized,T=new v.constructor(m.length*x);let R=0,G=0;for(let L=0,B=m.length;L<B;L++){d.isInterleavedBufferAttribute?R=m[L]*d.data.stride+d.offset:R=m[L]*x;for(let z=0;z<x;z++)T[G++]=v[R++]}return new Pa(T,x,S)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new zi,r=this.index.array,i=this.attributes;for(const d in i){const m=i[d],v=e(m,r);n.setAttribute(d,v)}const o=this.morphAttributes;for(const d in o){const m=[],v=o[d];for(let x=0,S=v.length;x<S;x++){const T=v[x],R=e(T,r);m.push(R)}n.morphAttributes[d]=m}n.morphTargetsRelative=this.morphTargetsRelative;const u=this.groups;for(let d=0,m=u.length;d<m;d++){const v=u[d];n.addGroup(v.start,v.count,v.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const m=this.parameters;for(const v in m)m[v]!==void 0&&(e[v]=m[v]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const m in r){const v=r[m];e.data.attributes[m]=v.toJSON(e.data)}const i={};let o=!1;for(const m in this.morphAttributes){const v=this.morphAttributes[m],x=[];for(let S=0,T=v.length;S<T;S++){const R=v[S];x.push(R.toJSON(e.data))}x.length>0&&(i[m]=x,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));const d=this.boundingSphere;return d!==null&&(e.data.boundingSphere={center:d.center.toArray(),radius:d.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const v in i){const x=i[v];this.setAttribute(v,x.clone(n))}const o=e.morphAttributes;for(const v in o){const x=[],S=o[v];for(let T=0,R=S.length;T<R;T++)x.push(S[T].clone(n));this.morphAttributes[v]=x}this.morphTargetsRelative=e.morphTargetsRelative;const u=e.groups;for(let v=0,x=u.length;v<x;v++){const S=u[v];this.addGroup(S.start,S.count,S.materialIndex)}const d=e.boundingBox;d!==null&&(this.boundingBox=d.clone());const m=e.boundingSphere;return m!==null&&(this.boundingSphere=m.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const F9e=new In,Zm=new wg,uk=new W2,B9e=new Re,Z5=new Re,Q5=new Re,J5=new Re,Tj=new Re,ck=new Re,dk=new nn,hk=new nn,pk=new nn,U9e=new Re,z9e=new Re,V9e=new Re,fk=new Re,mk=new Re;class hi extends Ar{constructor(e=new zi,n=new mh){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,u=i.length;o<u;o++){const d=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,u=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const d=this.morphTargetInfluences;if(o&&d){ck.set(0,0,0);for(let m=0,v=o.length;m<v;m++){const x=d[m],S=o[m];x!==0&&(Tj.fromBufferAttribute(S,e),u?ck.addScaledVector(Tj,x):ck.addScaledVector(Tj.sub(n),x))}n.add(ck)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uk.copy(r.boundingSphere),uk.applyMatrix4(o),Zm.copy(e.ray).recast(e.near),!(uk.containsPoint(Zm.origin)===!1&&(Zm.intersectSphere(uk,B9e)===null||Zm.origin.distanceToSquared(B9e)>(e.far-e.near)**2))&&(F9e.copy(o).invert(),Zm.copy(e.ray).applyMatrix4(F9e),!(r.boundingBox!==null&&Zm.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Zm)))}_computeIntersections(e,n,r){let i;const o=this.geometry,u=this.material,d=o.index,m=o.attributes.position,v=o.attributes.uv,x=o.attributes.uv1,S=o.attributes.normal,T=o.groups,R=o.drawRange;if(d!==null)if(Array.isArray(u))for(let G=0,L=T.length;G<L;G++){const B=T[G],z=u[B.materialIndex],C=Math.max(B.start,R.start),V=Math.min(d.count,Math.min(B.start+B.count,R.start+R.count));for(let Y=C,me=V;Y<me;Y+=3){const q=d.getX(Y),ae=d.getX(Y+1),ve=d.getX(Y+2);i=gk(this,z,e,r,v,x,S,q,ae,ve),i&&(i.faceIndex=Math.floor(Y/3),i.face.materialIndex=B.materialIndex,n.push(i))}}else{const G=Math.max(0,R.start),L=Math.min(d.count,R.start+R.count);for(let B=G,z=L;B<z;B+=3){const C=d.getX(B),V=d.getX(B+1),Y=d.getX(B+2);i=gk(this,u,e,r,v,x,S,C,V,Y),i&&(i.faceIndex=Math.floor(B/3),n.push(i))}}else if(m!==void 0)if(Array.isArray(u))for(let G=0,L=T.length;G<L;G++){const B=T[G],z=u[B.materialIndex],C=Math.max(B.start,R.start),V=Math.min(m.count,Math.min(B.start+B.count,R.start+R.count));for(let Y=C,me=V;Y<me;Y+=3){const q=Y,ae=Y+1,ve=Y+2;i=gk(this,z,e,r,v,x,S,q,ae,ve),i&&(i.faceIndex=Math.floor(Y/3),i.face.materialIndex=B.materialIndex,n.push(i))}}else{const G=Math.max(0,R.start),L=Math.min(m.count,R.start+R.count);for(let B=G,z=L;B<z;B+=3){const C=B,V=B+1,Y=B+2;i=gk(this,u,e,r,v,x,S,C,V,Y),i&&(i.faceIndex=Math.floor(B/3),n.push(i))}}}}function gLe(t,e,n,r,i,o,u,d){let m;if(e.side===Ss?m=r.intersectTriangle(u,o,i,!0,d):m=r.intersectTriangle(i,o,u,e.side===Rc,d),m===null)return null;mk.copy(d),mk.applyMatrix4(t.matrixWorld);const v=n.ray.origin.distanceTo(mk);return v<n.near||v>n.far?null:{distance:v,point:mk.clone(),object:t}}function gk(t,e,n,r,i,o,u,d,m,v){t.getVertexPosition(d,Z5),t.getVertexPosition(m,Q5),t.getVertexPosition(v,J5);const x=gLe(t,e,n,r,Z5,Q5,J5,fk);if(x){i&&(dk.fromBufferAttribute(i,d),hk.fromBufferAttribute(i,m),pk.fromBufferAttribute(i,v),x.uv=Mc.getInterpolation(fk,Z5,Q5,J5,dk,hk,pk,new nn)),o&&(dk.fromBufferAttribute(o,d),hk.fromBufferAttribute(o,m),pk.fromBufferAttribute(o,v),x.uv1=Mc.getInterpolation(fk,Z5,Q5,J5,dk,hk,pk,new nn)),u&&(U9e.fromBufferAttribute(u,d),z9e.fromBufferAttribute(u,m),V9e.fromBufferAttribute(u,v),x.normal=Mc.getInterpolation(fk,Z5,Q5,J5,U9e,z9e,V9e,new Re),x.normal.dot(r.direction)>0&&x.normal.multiplyScalar(-1));const S={a:d,b:m,c:v,normal:new Re,materialIndex:0};Mc.getNormal(Z5,Q5,J5,S.normal),x.face=S}return x}class p_ extends zi{constructor(e=1,n=1,r=1,i=1,o=1,u=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:u};const d=this;i=Math.floor(i),o=Math.floor(o),u=Math.floor(u);const m=[],v=[],x=[],S=[];let T=0,R=0;G("z","y","x",-1,-1,r,n,e,u,o,0),G("z","y","x",1,-1,r,n,-e,u,o,1),G("x","z","y",1,1,e,r,n,i,u,2),G("x","z","y",1,-1,e,r,-n,i,u,3),G("x","y","z",1,-1,e,n,r,i,o,4),G("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(m),this.setAttribute("position",new Sr(v,3)),this.setAttribute("normal",new Sr(x,3)),this.setAttribute("uv",new Sr(S,2));function G(L,B,z,C,V,Y,me,q,ae,ve,W){const se=Y/ae,Te=me/ve,dt=Y/2,He=me/2,xe=q/2,gt=ae+1,ze=ve+1;let At=0,Ne=0;const ht=new Re;for(let pt=0;pt<ze;pt++){const It=pt*Te-He;for(let tn=0;tn<gt;tn++){const pn=tn*se-dt;ht[L]=pn*C,ht[B]=It*V,ht[z]=xe,v.push(ht.x,ht.y,ht.z),ht[L]=0,ht[B]=0,ht[z]=q>0?1:-1,x.push(ht.x,ht.y,ht.z),S.push(tn/ae),S.push(1-pt/ve),At+=1}}for(let pt=0;pt<ve;pt++)for(let It=0;It<ae;It++){const tn=T+It+gt*pt,pn=T+It+gt*(pt+1),ft=T+(It+1)+gt*(pt+1),kt=T+(It+1)+gt*pt;m.push(tn,pn,kt),m.push(pn,ft,kt),Ne+=6}d.addGroup(R,Ne,W),R+=Ne,T+=At}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new p_(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function ag(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ba(t){const e={};for(let n=0;n<t.length;n++){const r=ag(t[n]);for(const i in r)e[i]=r[i]}return e}function vLe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function i6e(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:ci.workingColorSpace}const yLe={clone:ag,merge:ba};var bLe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,_Le=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ia extends I0{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=bLe,this.fragmentShader=_Le,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=ag(e.uniforms),this.uniformsGroups=vLe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const u=this.uniforms[i].value;u&&u.isTexture?n.uniforms[i]={type:"t",value:u.toJSON(e).uuid}:u&&u.isColor?n.uniforms[i]={type:"c",value:u.getHex()}:u&&u.isVector2?n.uniforms[i]={type:"v2",value:u.toArray()}:u&&u.isVector3?n.uniforms[i]={type:"v3",value:u.toArray()}:u&&u.isVector4?n.uniforms[i]={type:"v4",value:u.toArray()}:u&&u.isMatrix3?n.uniforms[i]={type:"m3",value:u.toArray()}:u&&u.isMatrix4?n.uniforms[i]={type:"m4",value:u.toArray()}:n.uniforms[i]={value:u}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class AI extends Ar{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new In,this.projectionMatrix=new In,this.projectionMatrixInverse=new In,this.coordinateSystem=th}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const sf=new Re,j9e=new nn,H9e=new nn;class Ds extends AI{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=og*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ub*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return og*2*Math.atan(Math.tan(ub*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){sf.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(sf.x,sf.y).multiplyScalar(-e/sf.z),sf.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(sf.x,sf.y).multiplyScalar(-e/sf.z)}getViewSize(e,n){return this.getViewBounds(e,j9e,H9e),n.subVectors(H9e,j9e)}setViewOffset(e,n,r,i,o,u){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ub*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const u=this.view;if(this.view!==null&&this.view.enabled){const m=u.fullWidth,v=u.fullHeight;o+=u.offsetX*i/m,n-=u.offsetY*r/v,i*=u.width/m,r*=u.height/v}const d=this.filmOffset;d!==0&&(o+=e*d/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const e4=-90,t4=1;class wLe extends Ar{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ds(e4,t4,e,n);i.layers=this.layers,this.add(i);const o=new Ds(e4,t4,e,n);o.layers=this.layers,this.add(o);const u=new Ds(e4,t4,e,n);u.layers=this.layers,this.add(u);const d=new Ds(e4,t4,e,n);d.layers=this.layers,this.add(d);const m=new Ds(e4,t4,e,n);m.layers=this.layers,this.add(m);const v=new Ds(e4,t4,e,n);v.layers=this.layers,this.add(v)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,u,d,m]=n;for(const v of n)this.remove(v);if(e===th)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),u.up.set(0,0,1),u.lookAt(0,-1,0),d.up.set(0,1,0),d.lookAt(0,0,1),m.up.set(0,1,0),m.lookAt(0,0,-1);else if(e===zA)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),u.up.set(0,0,-1),u.lookAt(0,-1,0),d.up.set(0,-1,0),d.lookAt(0,0,1),m.up.set(0,-1,0),m.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const v of n)this.add(v),v.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,u,d,m,v,x]=this.children,S=e.getRenderTarget(),T=e.getActiveCubeFace(),R=e.getActiveMipmapLevel(),G=e.xr.enabled;e.xr.enabled=!1;const L=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,u),e.setRenderTarget(r,2,i),e.render(n,d),e.setRenderTarget(r,3,i),e.render(n,m),e.setRenderTarget(r,4,i),e.render(n,v),r.texture.generateMipmaps=L,e.setRenderTarget(r,5,i),e.render(n,x),e.setRenderTarget(S,T,R),e.xr.enabled=G,r.texture.needsPMREMUpdate=!0}}class II extends Ji{constructor(e,n,r,i,o,u,d,m,v,x){e=e!==void 0?e:[],n=n!==void 0?n:ng,super(e,n,r,i,o,u,d,m,v,x),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class xLe extends Aa{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new II(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Hs}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new p_(5,5,5),o=new Ia({name:"CubemapFromEquirect",uniforms:ag(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ss,blending:bl});o.uniforms.tEquirect.value=n;const u=new hi(i,o),d=n.minFilter;return n.minFilter===v2&&(n.minFilter=Hs),new wLe(1,10,this).update(e,u),n.minFilter=d,u.geometry.dispose(),u.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let u=0;u<6;u++)e.setRenderTarget(this,u),e.clear(n,r,i);e.setRenderTarget(o)}}const kj=new Re,SLe=new Re,ELe=new lr;class xf{constructor(e=new Re(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=kj.subVectors(r,n).cross(SLe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(kj),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||ELe.getNormalMatrix(e),i=this.coplanarPoint(kj).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Qm=new W2,vk=new Re;class PW{constructor(e=new xf,n=new xf,r=new xf,i=new xf,o=new xf,u=new xf){this.planes=[e,n,r,i,o,u]}set(e,n,r,i,o,u){const d=this.planes;return d[0].copy(e),d[1].copy(n),d[2].copy(r),d[3].copy(i),d[4].copy(o),d[5].copy(u),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=th){const r=this.planes,i=e.elements,o=i[0],u=i[1],d=i[2],m=i[3],v=i[4],x=i[5],S=i[6],T=i[7],R=i[8],G=i[9],L=i[10],B=i[11],z=i[12],C=i[13],V=i[14],Y=i[15];if(r[0].setComponents(m-o,T-v,B-R,Y-z).normalize(),r[1].setComponents(m+o,T+v,B+R,Y+z).normalize(),r[2].setComponents(m+u,T+x,B+G,Y+C).normalize(),r[3].setComponents(m-u,T-x,B-G,Y-C).normalize(),r[4].setComponents(m-d,T-S,B-L,Y-V).normalize(),n===th)r[5].setComponents(m+d,T+S,B+L,Y+V).normalize();else if(n===zA)r[5].setComponents(d,S,L,V).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Qm.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Qm.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Qm)}intersectsSprite(e){return Qm.center.set(0,0,0),Qm.radius=.7071067811865476,Qm.applyMatrix4(e.matrixWorld),this.intersectsSphere(Qm)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(vk.x=i.normal.x>0?e.max.x:e.min.x,vk.y=i.normal.y>0?e.max.y:e.min.y,vk.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vk)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function s6e(){let t=null,e=!1,n=null,r=null;function i(o,u){n(o,u),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function CLe(t){const e=new WeakMap;function n(d,m){const v=d.array,x=d.usage,S=v.byteLength,T=t.createBuffer();t.bindBuffer(m,T),t.bufferData(m,v,x),d.onUploadCallback();let R;if(v instanceof Float32Array)R=t.FLOAT;else if(v instanceof Uint16Array)d.isFloat16BufferAttribute?R=t.HALF_FLOAT:R=t.UNSIGNED_SHORT;else if(v instanceof Int16Array)R=t.SHORT;else if(v instanceof Uint32Array)R=t.UNSIGNED_INT;else if(v instanceof Int32Array)R=t.INT;else if(v instanceof Int8Array)R=t.BYTE;else if(v instanceof Uint8Array)R=t.UNSIGNED_BYTE;else if(v instanceof Uint8ClampedArray)R=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+v);return{buffer:T,type:R,bytesPerElement:v.BYTES_PER_ELEMENT,version:d.version,size:S}}function r(d,m,v){const x=m.array,S=m._updateRange,T=m.updateRanges;if(t.bindBuffer(v,d),S.count===-1&&T.length===0&&t.bufferSubData(v,0,x),T.length!==0){for(let R=0,G=T.length;R<G;R++){const L=T[R];t.bufferSubData(v,L.start*x.BYTES_PER_ELEMENT,x,L.start,L.count)}m.clearUpdateRanges()}S.count!==-1&&(t.bufferSubData(v,S.offset*x.BYTES_PER_ELEMENT,x,S.offset,S.count),S.count=-1),m.onUploadCallback()}function i(d){return d.isInterleavedBufferAttribute&&(d=d.data),e.get(d)}function o(d){d.isInterleavedBufferAttribute&&(d=d.data);const m=e.get(d);m&&(t.deleteBuffer(m.buffer),e.delete(d))}function u(d,m){if(d.isGLBufferAttribute){const x=e.get(d);(!x||x.version<d.version)&&e.set(d,{buffer:d.buffer,type:d.type,bytesPerElement:d.elementSize,version:d.version});return}d.isInterleavedBufferAttribute&&(d=d.data);const v=e.get(d);if(v===void 0)e.set(d,n(d,m));else if(v.version<d.version){if(v.size!==d.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(v.buffer,d,m),v.version=d.version}}return{get:i,remove:o,update:u}}class R2 extends zi{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,u=n/2,d=Math.floor(r),m=Math.floor(i),v=d+1,x=m+1,S=e/d,T=n/m,R=[],G=[],L=[],B=[];for(let z=0;z<x;z++){const C=z*T-u;for(let V=0;V<v;V++){const Y=V*S-o;G.push(Y,-C,0),L.push(0,0,1),B.push(V/d),B.push(1-z/m)}}for(let z=0;z<m;z++)for(let C=0;C<d;C++){const V=C+v*z,Y=C+v*(z+1),me=C+1+v*(z+1),q=C+1+v*z;R.push(V,Y,q),R.push(Y,me,q)}this.setIndex(R),this.setAttribute("position",new Sr(G,3)),this.setAttribute("normal",new Sr(L,3)),this.setAttribute("uv",new Sr(B,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new R2(e.width,e.height,e.widthSegments,e.heightSegments)}}var PLe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,MLe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,TLe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,kLe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ALe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,ILe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,RLe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,DLe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,OLe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,LLe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,NLe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,FLe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,BLe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ULe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,zLe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,VLe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,jLe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,HLe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,GLe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,$Le=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,WLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,KLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,XLe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,qLe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,YLe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,ZLe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,QLe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,JLe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,eNe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,tNe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,nNe="gl_FragColor = linearToOutputTexel( gl_FragColor );",rNe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,iNe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,sNe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,oNe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,aNe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,lNe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,uNe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,cNe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,dNe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,hNe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,pNe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,fNe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,mNe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,gNe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,vNe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,yNe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,bNe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,_Ne=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,wNe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,xNe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,SNe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ENe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,CNe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,PNe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,MNe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,TNe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,kNe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ANe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,INe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,RNe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,DNe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ONe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,LNe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,NNe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,FNe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,BNe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,UNe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[MORPHTARGETS_COUNT];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,zNe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,VNe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,jNe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
	#endif
	#ifdef MORPHTARGETS_TEXTURE
		#ifndef USE_INSTANCING_MORPH
			uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		#endif
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,HNe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,GNe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,$Ne=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,WNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,KNe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,XNe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,qNe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,YNe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ZNe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,QNe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,JNe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,eFe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,tFe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,nFe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,rFe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,iFe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,sFe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,oFe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,aFe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,lFe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,uFe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,cFe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,dFe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,hFe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,pFe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,fFe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,mFe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,gFe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,vFe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,yFe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,bFe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	float startCompression = 0.8 - 0.04;
	float desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min(color.r, min(color.g, color.b));
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max(color.r, max(color.g, color.b));
	if (peak < startCompression) return color;
	float d = 1. - startCompression;
	float newPeak = 1. - d * d / (peak + d - startCompression);
	color *= newPeak / peak;
	float g = 1. - 1. / (desaturation * (peak - newPeak) + 1.);
	return mix(color, newPeak * vec3(1, 1, 1), g);
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,_Fe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,wFe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,xFe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,SFe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,EFe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,CFe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const PFe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,MFe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,TFe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kFe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,AFe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,IFe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,RFe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,DFe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,OFe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,LFe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,NFe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,FFe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BFe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,UFe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,zFe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,VFe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jFe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,HFe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,GFe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$Fe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WFe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,KFe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,XFe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qFe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,YFe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,ZFe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,QFe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,JFe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,eBe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,tBe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,nBe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,rBe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,iBe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,sBe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,pr={alphahash_fragment:PLe,alphahash_pars_fragment:MLe,alphamap_fragment:TLe,alphamap_pars_fragment:kLe,alphatest_fragment:ALe,alphatest_pars_fragment:ILe,aomap_fragment:RLe,aomap_pars_fragment:DLe,batching_pars_vertex:OLe,batching_vertex:LLe,begin_vertex:NLe,beginnormal_vertex:FLe,bsdfs:BLe,iridescence_fragment:ULe,bumpmap_pars_fragment:zLe,clipping_planes_fragment:VLe,clipping_planes_pars_fragment:jLe,clipping_planes_pars_vertex:HLe,clipping_planes_vertex:GLe,color_fragment:$Le,color_pars_fragment:WLe,color_pars_vertex:KLe,color_vertex:XLe,common:qLe,cube_uv_reflection_fragment:YLe,defaultnormal_vertex:ZLe,displacementmap_pars_vertex:QLe,displacementmap_vertex:JLe,emissivemap_fragment:eNe,emissivemap_pars_fragment:tNe,colorspace_fragment:nNe,colorspace_pars_fragment:rNe,envmap_fragment:iNe,envmap_common_pars_fragment:sNe,envmap_pars_fragment:oNe,envmap_pars_vertex:aNe,envmap_physical_pars_fragment:bNe,envmap_vertex:lNe,fog_vertex:uNe,fog_pars_vertex:cNe,fog_fragment:dNe,fog_pars_fragment:hNe,gradientmap_pars_fragment:pNe,lightmap_fragment:fNe,lightmap_pars_fragment:mNe,lights_lambert_fragment:gNe,lights_lambert_pars_fragment:vNe,lights_pars_begin:yNe,lights_toon_fragment:_Ne,lights_toon_pars_fragment:wNe,lights_phong_fragment:xNe,lights_phong_pars_fragment:SNe,lights_physical_fragment:ENe,lights_physical_pars_fragment:CNe,lights_fragment_begin:PNe,lights_fragment_maps:MNe,lights_fragment_end:TNe,logdepthbuf_fragment:kNe,logdepthbuf_pars_fragment:ANe,logdepthbuf_pars_vertex:INe,logdepthbuf_vertex:RNe,map_fragment:DNe,map_pars_fragment:ONe,map_particle_fragment:LNe,map_particle_pars_fragment:NNe,metalnessmap_fragment:FNe,metalnessmap_pars_fragment:BNe,morphinstance_vertex:UNe,morphcolor_vertex:zNe,morphnormal_vertex:VNe,morphtarget_pars_vertex:jNe,morphtarget_vertex:HNe,normal_fragment_begin:GNe,normal_fragment_maps:$Ne,normal_pars_fragment:WNe,normal_pars_vertex:KNe,normal_vertex:XNe,normalmap_pars_fragment:qNe,clearcoat_normal_fragment_begin:YNe,clearcoat_normal_fragment_maps:ZNe,clearcoat_pars_fragment:QNe,iridescence_pars_fragment:JNe,opaque_fragment:eFe,packing:tFe,premultiplied_alpha_fragment:nFe,project_vertex:rFe,dithering_fragment:iFe,dithering_pars_fragment:sFe,roughnessmap_fragment:oFe,roughnessmap_pars_fragment:aFe,shadowmap_pars_fragment:lFe,shadowmap_pars_vertex:uFe,shadowmap_vertex:cFe,shadowmask_pars_fragment:dFe,skinbase_vertex:hFe,skinning_pars_vertex:pFe,skinning_vertex:fFe,skinnormal_vertex:mFe,specularmap_fragment:gFe,specularmap_pars_fragment:vFe,tonemapping_fragment:yFe,tonemapping_pars_fragment:bFe,transmission_fragment:_Fe,transmission_pars_fragment:wFe,uv_pars_fragment:xFe,uv_pars_vertex:SFe,uv_vertex:EFe,worldpos_vertex:CFe,background_vert:PFe,background_frag:MFe,backgroundCube_vert:TFe,backgroundCube_frag:kFe,cube_vert:AFe,cube_frag:IFe,depth_vert:RFe,depth_frag:DFe,distanceRGBA_vert:OFe,distanceRGBA_frag:LFe,equirect_vert:NFe,equirect_frag:FFe,linedashed_vert:BFe,linedashed_frag:UFe,meshbasic_vert:zFe,meshbasic_frag:VFe,meshlambert_vert:jFe,meshlambert_frag:HFe,meshmatcap_vert:GFe,meshmatcap_frag:$Fe,meshnormal_vert:WFe,meshnormal_frag:KFe,meshphong_vert:XFe,meshphong_frag:qFe,meshphysical_vert:YFe,meshphysical_frag:ZFe,meshtoon_vert:QFe,meshtoon_frag:JFe,points_vert:eBe,points_frag:tBe,shadow_vert:nBe,shadow_frag:rBe,sprite_vert:iBe,sprite_frag:sBe},en={common:{diffuse:{value:new cn(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new lr},alphaMap:{value:null},alphaMapTransform:{value:new lr},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new lr}},envmap:{envMap:{value:null},envMapRotation:{value:new lr},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new lr}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new lr}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new lr},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new lr},normalScale:{value:new nn(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new lr},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new lr}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new lr}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new lr}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new cn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new cn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new lr},alphaTest:{value:0},uvTransform:{value:new lr}},sprite:{diffuse:{value:new cn(16777215)},opacity:{value:1},center:{value:new nn(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new lr},alphaMap:{value:null},alphaMapTransform:{value:new lr},alphaTest:{value:0}}},Ec={basic:{uniforms:ba([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.fog]),vertexShader:pr.meshbasic_vert,fragmentShader:pr.meshbasic_frag},lambert:{uniforms:ba([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.fog,en.lights,{emissive:{value:new cn(0)}}]),vertexShader:pr.meshlambert_vert,fragmentShader:pr.meshlambert_frag},phong:{uniforms:ba([en.common,en.specularmap,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.fog,en.lights,{emissive:{value:new cn(0)},specular:{value:new cn(1118481)},shininess:{value:30}}]),vertexShader:pr.meshphong_vert,fragmentShader:pr.meshphong_frag},standard:{uniforms:ba([en.common,en.envmap,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.roughnessmap,en.metalnessmap,en.fog,en.lights,{emissive:{value:new cn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:pr.meshphysical_vert,fragmentShader:pr.meshphysical_frag},toon:{uniforms:ba([en.common,en.aomap,en.lightmap,en.emissivemap,en.bumpmap,en.normalmap,en.displacementmap,en.gradientmap,en.fog,en.lights,{emissive:{value:new cn(0)}}]),vertexShader:pr.meshtoon_vert,fragmentShader:pr.meshtoon_frag},matcap:{uniforms:ba([en.common,en.bumpmap,en.normalmap,en.displacementmap,en.fog,{matcap:{value:null}}]),vertexShader:pr.meshmatcap_vert,fragmentShader:pr.meshmatcap_frag},points:{uniforms:ba([en.points,en.fog]),vertexShader:pr.points_vert,fragmentShader:pr.points_frag},dashed:{uniforms:ba([en.common,en.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:pr.linedashed_vert,fragmentShader:pr.linedashed_frag},depth:{uniforms:ba([en.common,en.displacementmap]),vertexShader:pr.depth_vert,fragmentShader:pr.depth_frag},normal:{uniforms:ba([en.common,en.bumpmap,en.normalmap,en.displacementmap,{opacity:{value:1}}]),vertexShader:pr.meshnormal_vert,fragmentShader:pr.meshnormal_frag},sprite:{uniforms:ba([en.sprite,en.fog]),vertexShader:pr.sprite_vert,fragmentShader:pr.sprite_frag},background:{uniforms:{uvTransform:{value:new lr},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:pr.background_vert,fragmentShader:pr.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new lr}},vertexShader:pr.backgroundCube_vert,fragmentShader:pr.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:pr.cube_vert,fragmentShader:pr.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:pr.equirect_vert,fragmentShader:pr.equirect_frag},distanceRGBA:{uniforms:ba([en.common,en.displacementmap,{referencePosition:{value:new Re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:pr.distanceRGBA_vert,fragmentShader:pr.distanceRGBA_frag},shadow:{uniforms:ba([en.lights,en.fog,{color:{value:new cn(0)},opacity:{value:1}}]),vertexShader:pr.shadow_vert,fragmentShader:pr.shadow_frag}};Ec.physical={uniforms:ba([Ec.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new lr},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new lr},clearcoatNormalScale:{value:new nn(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new lr},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new lr},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new lr},sheen:{value:0},sheenColor:{value:new cn(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new lr},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new lr},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new lr},transmissionSamplerSize:{value:new nn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new lr},attenuationDistance:{value:0},attenuationColor:{value:new cn(0)},specularColor:{value:new cn(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new lr},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new lr},anisotropyVector:{value:new nn},anisotropyMap:{value:null},anisotropyMapTransform:{value:new lr}}]),vertexShader:pr.meshphysical_vert,fragmentShader:pr.meshphysical_frag};const yk={r:0,b:0,g:0},Jm=new qi,oBe=new In;function aBe(t,e,n,r,i,o,u){const d=new cn(0);let m=o===!0?0:1,v,x,S=null,T=0,R=null;function G(B,z){let C=!1,V=z.isScene===!0?z.background:null;V&&V.isTexture&&(V=(z.backgroundBlurriness>0?n:e).get(V)),V===null?L(d,m):V&&V.isColor&&(L(V,1),C=!0);const Y=t.xr.getEnvironmentBlendMode();Y==="additive"?r.buffers.color.setClear(0,0,0,1,u):Y==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,u),(t.autoClear||C)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),V&&(V.isCubeTexture||V.mapping===TI)?(x===void 0&&(x=new hi(new p_(1,1,1),new Ia({name:"BackgroundCubeMaterial",uniforms:ag(Ec.backgroundCube.uniforms),vertexShader:Ec.backgroundCube.vertexShader,fragmentShader:Ec.backgroundCube.fragmentShader,side:Ss,depthTest:!1,depthWrite:!1,fog:!1})),x.geometry.deleteAttribute("normal"),x.geometry.deleteAttribute("uv"),x.onBeforeRender=function(me,q,ae){this.matrixWorld.copyPosition(ae.matrixWorld)},Object.defineProperty(x.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(x)),Jm.copy(z.backgroundRotation),Jm.x*=-1,Jm.y*=-1,Jm.z*=-1,V.isCubeTexture&&V.isRenderTargetTexture===!1&&(Jm.y*=-1,Jm.z*=-1),x.material.uniforms.envMap.value=V,x.material.uniforms.flipEnvMap.value=V.isCubeTexture&&V.isRenderTargetTexture===!1?-1:1,x.material.uniforms.backgroundBlurriness.value=z.backgroundBlurriness,x.material.uniforms.backgroundIntensity.value=z.backgroundIntensity,x.material.uniforms.backgroundRotation.value.setFromMatrix4(oBe.makeRotationFromEuler(Jm)),x.material.toneMapped=ci.getTransfer(V.colorSpace)!==ki,(S!==V||T!==V.version||R!==t.toneMapping)&&(x.material.needsUpdate=!0,S=V,T=V.version,R=t.toneMapping),x.layers.enableAll(),B.unshift(x,x.geometry,x.material,0,0,null)):V&&V.isTexture&&(v===void 0&&(v=new hi(new R2(2,2),new Ia({name:"BackgroundMaterial",uniforms:ag(Ec.background.uniforms),vertexShader:Ec.background.vertexShader,fragmentShader:Ec.background.fragmentShader,side:Rc,depthTest:!1,depthWrite:!1,fog:!1})),v.geometry.deleteAttribute("normal"),Object.defineProperty(v.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(v)),v.material.uniforms.t2D.value=V,v.material.uniforms.backgroundIntensity.value=z.backgroundIntensity,v.material.toneMapped=ci.getTransfer(V.colorSpace)!==ki,V.matrixAutoUpdate===!0&&V.updateMatrix(),v.material.uniforms.uvTransform.value.copy(V.matrix),(S!==V||T!==V.version||R!==t.toneMapping)&&(v.material.needsUpdate=!0,S=V,T=V.version,R=t.toneMapping),v.layers.enableAll(),B.unshift(v,v.geometry,v.material,0,0,null))}function L(B,z){B.getRGB(yk,i6e(t)),r.buffers.color.setClear(yk.r,yk.g,yk.b,z,u)}return{getClearColor:function(){return d},setClearColor:function(B,z=1){d.set(B),m=z,L(d,m)},getClearAlpha:function(){return m},setClearAlpha:function(B){m=B,L(d,m)},render:G}}function lBe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=T(null);let o=i,u=!1;function d(se,Te,dt,He,xe){let gt=!1;const ze=S(He,dt,Te);o!==ze&&(o=ze,v(o.object)),gt=R(se,He,dt,xe),gt&&G(se,He,dt,xe),xe!==null&&e.update(xe,t.ELEMENT_ARRAY_BUFFER),(gt||u)&&(u=!1,Y(se,Te,dt,He),xe!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(xe).buffer))}function m(){return t.createVertexArray()}function v(se){return t.bindVertexArray(se)}function x(se){return t.deleteVertexArray(se)}function S(se,Te,dt){const He=dt.wireframe===!0;let xe=r[se.id];xe===void 0&&(xe={},r[se.id]=xe);let gt=xe[Te.id];gt===void 0&&(gt={},xe[Te.id]=gt);let ze=gt[He];return ze===void 0&&(ze=T(m()),gt[He]=ze),ze}function T(se){const Te=[],dt=[],He=[];for(let xe=0;xe<n;xe++)Te[xe]=0,dt[xe]=0,He[xe]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Te,enabledAttributes:dt,attributeDivisors:He,object:se,attributes:{},index:null}}function R(se,Te,dt,He){const xe=o.attributes,gt=Te.attributes;let ze=0;const At=dt.getAttributes();for(const Ne in At)if(At[Ne].location>=0){const pt=xe[Ne];let It=gt[Ne];if(It===void 0&&(Ne==="instanceMatrix"&&se.instanceMatrix&&(It=se.instanceMatrix),Ne==="instanceColor"&&se.instanceColor&&(It=se.instanceColor)),pt===void 0||pt.attribute!==It||It&&pt.data!==It.data)return!0;ze++}return o.attributesNum!==ze||o.index!==He}function G(se,Te,dt,He){const xe={},gt=Te.attributes;let ze=0;const At=dt.getAttributes();for(const Ne in At)if(At[Ne].location>=0){let pt=gt[Ne];pt===void 0&&(Ne==="instanceMatrix"&&se.instanceMatrix&&(pt=se.instanceMatrix),Ne==="instanceColor"&&se.instanceColor&&(pt=se.instanceColor));const It={};It.attribute=pt,pt&&pt.data&&(It.data=pt.data),xe[Ne]=It,ze++}o.attributes=xe,o.attributesNum=ze,o.index=He}function L(){const se=o.newAttributes;for(let Te=0,dt=se.length;Te<dt;Te++)se[Te]=0}function B(se){z(se,0)}function z(se,Te){const dt=o.newAttributes,He=o.enabledAttributes,xe=o.attributeDivisors;dt[se]=1,He[se]===0&&(t.enableVertexAttribArray(se),He[se]=1),xe[se]!==Te&&(t.vertexAttribDivisor(se,Te),xe[se]=Te)}function C(){const se=o.newAttributes,Te=o.enabledAttributes;for(let dt=0,He=Te.length;dt<He;dt++)Te[dt]!==se[dt]&&(t.disableVertexAttribArray(dt),Te[dt]=0)}function V(se,Te,dt,He,xe,gt,ze){ze===!0?t.vertexAttribIPointer(se,Te,dt,xe,gt):t.vertexAttribPointer(se,Te,dt,He,xe,gt)}function Y(se,Te,dt,He){L();const xe=He.attributes,gt=dt.getAttributes(),ze=Te.defaultAttributeValues;for(const At in gt){const Ne=gt[At];if(Ne.location>=0){let ht=xe[At];if(ht===void 0&&(At==="instanceMatrix"&&se.instanceMatrix&&(ht=se.instanceMatrix),At==="instanceColor"&&se.instanceColor&&(ht=se.instanceColor)),ht!==void 0){const pt=ht.normalized,It=ht.itemSize,tn=e.get(ht);if(tn===void 0)continue;const pn=tn.buffer,ft=tn.type,kt=tn.bytesPerElement,Xt=ft===t.INT||ft===t.UNSIGNED_INT||ht.gpuType===$8e;if(ht.isInterleavedBufferAttribute){const Ut=ht.data,it=Ut.stride,bt=ht.offset;if(Ut.isInstancedInterleavedBuffer){for(let Nt=0;Nt<Ne.locationSize;Nt++)z(Ne.location+Nt,Ut.meshPerAttribute);se.isInstancedMesh!==!0&&He._maxInstanceCount===void 0&&(He._maxInstanceCount=Ut.meshPerAttribute*Ut.count)}else for(let Nt=0;Nt<Ne.locationSize;Nt++)B(Ne.location+Nt);t.bindBuffer(t.ARRAY_BUFFER,pn);for(let Nt=0;Nt<Ne.locationSize;Nt++)V(Ne.location+Nt,It/Ne.locationSize,ft,pt,it*kt,(bt+It/Ne.locationSize*Nt)*kt,Xt)}else{if(ht.isInstancedBufferAttribute){for(let Ut=0;Ut<Ne.locationSize;Ut++)z(Ne.location+Ut,ht.meshPerAttribute);se.isInstancedMesh!==!0&&He._maxInstanceCount===void 0&&(He._maxInstanceCount=ht.meshPerAttribute*ht.count)}else for(let Ut=0;Ut<Ne.locationSize;Ut++)B(Ne.location+Ut);t.bindBuffer(t.ARRAY_BUFFER,pn);for(let Ut=0;Ut<Ne.locationSize;Ut++)V(Ne.location+Ut,It/Ne.locationSize,ft,pt,It*kt,It/Ne.locationSize*Ut*kt,Xt)}}else if(ze!==void 0){const pt=ze[At];if(pt!==void 0)switch(pt.length){case 2:t.vertexAttrib2fv(Ne.location,pt);break;case 3:t.vertexAttrib3fv(Ne.location,pt);break;case 4:t.vertexAttrib4fv(Ne.location,pt);break;default:t.vertexAttrib1fv(Ne.location,pt)}}}}C()}function me(){ve();for(const se in r){const Te=r[se];for(const dt in Te){const He=Te[dt];for(const xe in He)x(He[xe].object),delete He[xe];delete Te[dt]}delete r[se]}}function q(se){if(r[se.id]===void 0)return;const Te=r[se.id];for(const dt in Te){const He=Te[dt];for(const xe in He)x(He[xe].object),delete He[xe];delete Te[dt]}delete r[se.id]}function ae(se){for(const Te in r){const dt=r[Te];if(dt[se.id]===void 0)continue;const He=dt[se.id];for(const xe in He)x(He[xe].object),delete He[xe];delete dt[se.id]}}function ve(){W(),u=!0,o!==i&&(o=i,v(o.object))}function W(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:d,reset:ve,resetDefaultState:W,dispose:me,releaseStatesOfGeometry:q,releaseStatesOfProgram:ae,initAttributes:L,enableAttribute:B,disableUnusedAttributes:C}}function uBe(t,e,n){let r;function i(m){r=m}function o(m,v){t.drawArrays(r,m,v),n.update(v,r,1)}function u(m,v,x){x!==0&&(t.drawArraysInstanced(r,m,v,x),n.update(v,r,x))}function d(m,v,x){if(x===0)return;const S=e.get("WEBGL_multi_draw");if(S===null)for(let T=0;T<x;T++)this.render(m[T],v[T]);else{S.multiDrawArraysWEBGL(r,m,0,v,0,x);let T=0;for(let R=0;R<x;R++)T+=v[R];n.update(T,r,1)}}this.setMode=i,this.render=o,this.renderInstances=u,this.renderMultiDraw=d}function cBe(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const V=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(V){if(V==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";V="mediump"}return V==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const d=o(u);d!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",d,"instead."),u=d);const m=n.logarithmicDepthBuffer===!0,v=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),S=t.getParameter(t.MAX_TEXTURE_SIZE),T=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),R=t.getParameter(t.MAX_VERTEX_ATTRIBS),G=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),L=t.getParameter(t.MAX_VARYING_VECTORS),B=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),z=x>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:i,getMaxPrecision:o,precision:u,logarithmicDepthBuffer:m,maxTextures:v,maxVertexTextures:x,maxTextureSize:S,maxCubemapSize:T,maxAttributes:R,maxVertexUniforms:G,maxVaryings:L,maxFragmentUniforms:B,vertexTextures:z,maxSamples:C}}function dBe(t){const e=this;let n=null,r=0,i=!1,o=!1;const u=new xf,d=new lr,m={value:null,needsUpdate:!1};this.uniform=m,this.numPlanes=0,this.numIntersection=0,this.init=function(S,T){const R=S.length!==0||T||r!==0||i;return i=T,r=S.length,R},this.beginShadows=function(){o=!0,x(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(S,T){n=x(S,T,0)},this.setState=function(S,T,R){const G=S.clippingPlanes,L=S.clipIntersection,B=S.clipShadows,z=t.get(S);if(!i||G===null||G.length===0||o&&!B)o?x(null):v();else{const C=o?0:r,V=C*4;let Y=z.clippingState||null;m.value=Y,Y=x(G,T,V,R);for(let me=0;me!==V;++me)Y[me]=n[me];z.clippingState=Y,this.numIntersection=L?this.numPlanes:0,this.numPlanes+=C}};function v(){m.value!==n&&(m.value=n,m.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function x(S,T,R,G){const L=S!==null?S.length:0;let B=null;if(L!==0){if(B=m.value,G!==!0||B===null){const z=R+L*4,C=T.matrixWorldInverse;d.getNormalMatrix(C),(B===null||B.length<z)&&(B=new Float32Array(z));for(let V=0,Y=R;V!==L;++V,Y+=4)u.copy(S[V]).applyMatrix4(C,d),u.normal.toArray(B,Y),B[Y+3]=u.constant}m.value=B,m.needsUpdate=!0}return e.numPlanes=L,e.numIntersection=0,B}}function hBe(t){let e=new WeakMap;function n(u,d){return d===DA?u.mapping=ng:d===MG&&(u.mapping=rg),u}function r(u){if(u&&u.isTexture){const d=u.mapping;if(d===DA||d===MG)if(e.has(u)){const m=e.get(u).texture;return n(m,u.mapping)}else{const m=u.image;if(m&&m.height>0){const v=new xLe(m.height);return v.fromEquirectangularTexture(t,u),e.set(u,v),u.addEventListener("dispose",i),n(v.texture,u.mapping)}else return null}}return u}function i(u){const d=u.target;d.removeEventListener("dispose",i);const m=e.get(d);m!==void 0&&(e.delete(d),m.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Fb extends AI{constructor(e=-1,n=1,r=1,i=-1,o=.1,u=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=u,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,u){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,u=r+e,d=i+n,m=i-n;if(this.view!==null&&this.view.enabled){const v=(this.right-this.left)/this.view.fullWidth/this.zoom,x=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=v*this.view.offsetX,u=o+v*this.view.width,d-=x*this.view.offsetY,m=d-x*this.view.height}this.projectionMatrix.makeOrthographic(o,u,d,m,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const k4=4,G9e=[.125,.215,.35,.446,.526,.582],p2=20,Aj=new Fb,$9e=new cn;let Ij=null,Rj=0,Dj=0,Oj=!1;const u2=(1+Math.sqrt(5))/2,n4=1/u2,W9e=[new Re(1,1,1),new Re(-1,1,1),new Re(1,1,-1),new Re(-1,1,-1),new Re(0,u2,n4),new Re(0,u2,-n4),new Re(n4,0,u2),new Re(-n4,0,u2),new Re(u2,n4,0),new Re(-u2,n4,0)];class K9e{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Ij=this._renderer.getRenderTarget(),Rj=this._renderer.getActiveCubeFace(),Dj=this._renderer.getActiveMipmapLevel(),Oj=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Y9e(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=q9e(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Ij,Rj,Dj),this._renderer.xr.enabled=Oj,e.scissorTest=!1,bk(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===ng||e.mapping===rg?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ij=this._renderer.getRenderTarget(),Rj=this._renderer.getActiveCubeFace(),Dj=this._renderer.getActiveMipmapLevel(),Oj=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Hs,minFilter:Hs,generateMipmaps:!1,type:ig,format:Ca,colorSpace:Fc,depthBuffer:!1},i=X9e(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=X9e(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=pBe(o)),this._blurMaterial=fBe(o,e,n)}return i}_compileMaterial(e){const n=new hi(this._lodPlanes[0],e);this._renderer.compile(n,Aj)}_sceneToCubeUV(e,n,r,i){const d=new Ds(90,1,n,r),m=[1,-1,1,1,1,1],v=[1,1,1,-1,-1,-1],x=this._renderer,S=x.autoClear,T=x.toneMapping;x.getClearColor($9e),x.toneMapping=Uf,x.autoClear=!1;const R=new mh({name:"PMREM.Background",side:Ss,depthWrite:!1,depthTest:!1}),G=new hi(new p_,R);let L=!1;const B=e.background;B?B.isColor&&(R.color.copy(B),e.background=null,L=!0):(R.color.copy($9e),L=!0);for(let z=0;z<6;z++){const C=z%3;C===0?(d.up.set(0,m[z],0),d.lookAt(v[z],0,0)):C===1?(d.up.set(0,0,m[z]),d.lookAt(0,v[z],0)):(d.up.set(0,m[z],0),d.lookAt(0,0,v[z]));const V=this._cubeSize;bk(i,C*V,z>2?V:0,V,V),x.setRenderTarget(i),L&&x.render(G,d),x.render(e,d)}G.geometry.dispose(),G.material.dispose(),x.toneMapping=T,x.autoClear=S,e.background=B}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===ng||e.mapping===rg;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Y9e()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=q9e());const o=i?this._cubemapMaterial:this._equirectMaterial,u=new hi(this._lodPlanes[0],o),d=o.uniforms;d.envMap.value=e;const m=this._cubeSize;bk(n,0,0,3*m,2*m),r.setRenderTarget(n),r.render(u,Aj)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const o=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),u=W9e[(i-1)%W9e.length];this._blur(e,i-1,i,o,u)}n.autoClear=r}_blur(e,n,r,i,o){const u=this._pingPongRenderTarget;this._halfBlur(e,u,n,r,i,"latitudinal",o),this._halfBlur(u,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,u,d){const m=this._renderer,v=this._blurMaterial;u!=="latitudinal"&&u!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const x=3,S=new hi(this._lodPlanes[i],v),T=v.uniforms,R=this._sizeLods[r]-1,G=isFinite(o)?Math.PI/(2*R):2*Math.PI/(2*p2-1),L=o/G,B=isFinite(o)?1+Math.floor(x*L):p2;B>p2&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${B} samples when the maximum is set to ${p2}`);const z=[];let C=0;for(let ae=0;ae<p2;++ae){const ve=ae/L,W=Math.exp(-ve*ve/2);z.push(W),ae===0?C+=W:ae<B&&(C+=2*W)}for(let ae=0;ae<z.length;ae++)z[ae]=z[ae]/C;T.envMap.value=e.texture,T.samples.value=B,T.weights.value=z,T.latitudinal.value=u==="latitudinal",d&&(T.poleAxis.value=d);const{_lodMax:V}=this;T.dTheta.value=G,T.mipInt.value=V-r;const Y=this._sizeLods[i],me=3*Y*(i>V-k4?i-V+k4:0),q=4*(this._cubeSize-Y);bk(n,me,q,3*Y,2*Y),m.setRenderTarget(n),m.render(S,Aj)}}function pBe(t){const e=[],n=[],r=[];let i=t;const o=t-k4+1+G9e.length;for(let u=0;u<o;u++){const d=Math.pow(2,i);n.push(d);let m=1/d;u>t-k4?m=G9e[u-t+k4-1]:u===0&&(m=0),r.push(m);const v=1/(d-2),x=-v,S=1+v,T=[x,x,S,x,S,S,x,x,S,S,x,S],R=6,G=6,L=3,B=2,z=1,C=new Float32Array(L*G*R),V=new Float32Array(B*G*R),Y=new Float32Array(z*G*R);for(let q=0;q<R;q++){const ae=q%3*2/3-1,ve=q>2?0:-1,W=[ae,ve,0,ae+2/3,ve,0,ae+2/3,ve+1,0,ae,ve,0,ae+2/3,ve+1,0,ae,ve+1,0];C.set(W,L*G*q),V.set(T,B*G*q);const se=[q,q,q,q,q,q];Y.set(se,z*G*q)}const me=new zi;me.setAttribute("position",new Pa(C,L)),me.setAttribute("uv",new Pa(V,B)),me.setAttribute("faceIndex",new Pa(Y,z)),e.push(me),i>k4&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function X9e(t,e,n){const r=new Aa(t,e,n);return r.texture.mapping=TI,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function bk(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function fBe(t,e,n){const r=new Float32Array(p2),i=new Re(0,1,0);return new Ia({name:"SphericalGaussianBlur",defines:{n:p2,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:MW(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:bl,depthTest:!1,depthWrite:!1})}function q9e(){return new Ia({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:MW(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:bl,depthTest:!1,depthWrite:!1})}function Y9e(){return new Ia({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:MW(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:bl,depthTest:!1,depthWrite:!1})}function MW(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function mBe(t){let e=new WeakMap,n=null;function r(d){if(d&&d.isTexture){const m=d.mapping,v=m===DA||m===MG,x=m===ng||m===rg;if(v||x){let S=e.get(d);const T=S!==void 0?S.texture.pmremVersion:0;if(d.isRenderTargetTexture&&d.pmremVersion!==T)return n===null&&(n=new K9e(t)),S=v?n.fromEquirectangular(d,S):n.fromCubemap(d,S),S.texture.pmremVersion=d.pmremVersion,e.set(d,S),S.texture;if(S!==void 0)return S.texture;{const R=d.image;return v&&R&&R.height>0||x&&R&&i(R)?(n===null&&(n=new K9e(t)),S=v?n.fromEquirectangular(d):n.fromCubemap(d),S.texture.pmremVersion=d.pmremVersion,e.set(d,S),d.addEventListener("dispose",o),S.texture):null}}}return d}function i(d){let m=0;const v=6;for(let x=0;x<v;x++)d[x]!==void 0&&m++;return m===v}function o(d){const m=d.target;m.removeEventListener("dispose",o);const v=e.get(m);v!==void 0&&(e.delete(m),v.dispose())}function u(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:u}}function gBe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function vBe(t,e,n,r){const i={},o=new WeakMap;function u(S){const T=S.target;T.index!==null&&e.remove(T.index);for(const G in T.attributes)e.remove(T.attributes[G]);for(const G in T.morphAttributes){const L=T.morphAttributes[G];for(let B=0,z=L.length;B<z;B++)e.remove(L[B])}T.removeEventListener("dispose",u),delete i[T.id];const R=o.get(T);R&&(e.remove(R),o.delete(T)),r.releaseStatesOfGeometry(T),T.isInstancedBufferGeometry===!0&&delete T._maxInstanceCount,n.memory.geometries--}function d(S,T){return i[T.id]===!0||(T.addEventListener("dispose",u),i[T.id]=!0,n.memory.geometries++),T}function m(S){const T=S.attributes;for(const G in T)e.update(T[G],t.ARRAY_BUFFER);const R=S.morphAttributes;for(const G in R){const L=R[G];for(let B=0,z=L.length;B<z;B++)e.update(L[B],t.ARRAY_BUFFER)}}function v(S){const T=[],R=S.index,G=S.attributes.position;let L=0;if(R!==null){const C=R.array;L=R.version;for(let V=0,Y=C.length;V<Y;V+=3){const me=C[V+0],q=C[V+1],ae=C[V+2];T.push(me,q,q,ae,ae,me)}}else if(G!==void 0){const C=G.array;L=G.version;for(let V=0,Y=C.length/3-1;V<Y;V+=3){const me=V+0,q=V+1,ae=V+2;T.push(me,q,q,ae,ae,me)}}else return;const B=new(J8e(T)?r6e:CW)(T,1);B.version=L;const z=o.get(S);z&&e.remove(z),o.set(S,B)}function x(S){const T=o.get(S);if(T){const R=S.index;R!==null&&T.version<R.version&&v(S)}else v(S);return o.get(S)}return{get:d,update:m,getWireframeAttribute:x}}function yBe(t,e,n){let r;function i(S){r=S}let o,u;function d(S){o=S.type,u=S.bytesPerElement}function m(S,T){t.drawElements(r,T,o,S*u),n.update(T,r,1)}function v(S,T,R){R!==0&&(t.drawElementsInstanced(r,T,o,S*u,R),n.update(T,r,R))}function x(S,T,R){if(R===0)return;const G=e.get("WEBGL_multi_draw");if(G===null)for(let L=0;L<R;L++)this.render(S[L]/u,T[L]);else{G.multiDrawElementsWEBGL(r,T,0,o,S,0,R);let L=0;for(let B=0;B<R;B++)L+=T[B];n.update(L,r,1)}}this.setMode=i,this.setIndex=d,this.render=m,this.renderInstances=v,this.renderMultiDraw=x}function bBe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,u,d){switch(n.calls++,u){case t.TRIANGLES:n.triangles+=d*(o/3);break;case t.LINES:n.lines+=d*(o/2);break;case t.LINE_STRIP:n.lines+=d*(o-1);break;case t.LINE_LOOP:n.lines+=d*o;break;case t.POINTS:n.points+=d*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",u);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function _Be(t,e,n){const r=new WeakMap,i=new kr;function o(u,d,m){const v=u.morphTargetInfluences,x=d.morphAttributes.position||d.morphAttributes.normal||d.morphAttributes.color,S=x!==void 0?x.length:0;let T=r.get(d);if(T===void 0||T.count!==S){let se=function(){ve.dispose(),r.delete(d),d.removeEventListener("dispose",se)};var R=se;T!==void 0&&T.texture.dispose();const G=d.morphAttributes.position!==void 0,L=d.morphAttributes.normal!==void 0,B=d.morphAttributes.color!==void 0,z=d.morphAttributes.position||[],C=d.morphAttributes.normal||[],V=d.morphAttributes.color||[];let Y=0;G===!0&&(Y=1),L===!0&&(Y=2),B===!0&&(Y=3);let me=d.attributes.position.count*Y,q=1;me>e.maxTextureSize&&(q=Math.ceil(me/e.maxTextureSize),me=e.maxTextureSize);const ae=new Float32Array(me*q*4*S),ve=new t6e(ae,me,q,S);ve.type=wu,ve.needsUpdate=!0;const W=Y*4;for(let Te=0;Te<S;Te++){const dt=z[Te],He=C[Te],xe=V[Te],gt=me*q*4*Te;for(let ze=0;ze<dt.count;ze++){const At=ze*W;G===!0&&(i.fromBufferAttribute(dt,ze),ae[gt+At+0]=i.x,ae[gt+At+1]=i.y,ae[gt+At+2]=i.z,ae[gt+At+3]=0),L===!0&&(i.fromBufferAttribute(He,ze),ae[gt+At+4]=i.x,ae[gt+At+5]=i.y,ae[gt+At+6]=i.z,ae[gt+At+7]=0),B===!0&&(i.fromBufferAttribute(xe,ze),ae[gt+At+8]=i.x,ae[gt+At+9]=i.y,ae[gt+At+10]=i.z,ae[gt+At+11]=xe.itemSize===4?i.w:1)}}T={count:S,texture:ve,size:new nn(me,q)},r.set(d,T),d.addEventListener("dispose",se)}if(u.isInstancedMesh===!0&&u.morphTexture!==null)m.getUniforms().setValue(t,"morphTexture",u.morphTexture,n);else{let G=0;for(let B=0;B<v.length;B++)G+=v[B];const L=d.morphTargetsRelative?1:1-G;m.getUniforms().setValue(t,"morphTargetBaseInfluence",L),m.getUniforms().setValue(t,"morphTargetInfluences",v)}m.getUniforms().setValue(t,"morphTargetsTexture",T.texture,n),m.getUniforms().setValue(t,"morphTargetsTextureSize",T.size)}return{update:o}}function wBe(t,e,n,r){let i=new WeakMap;function o(m){const v=r.render.frame,x=m.geometry,S=e.get(m,x);if(i.get(S)!==v&&(e.update(S),i.set(S,v)),m.isInstancedMesh&&(m.hasEventListener("dispose",d)===!1&&m.addEventListener("dispose",d),i.get(m)!==v&&(n.update(m.instanceMatrix,t.ARRAY_BUFFER),m.instanceColor!==null&&n.update(m.instanceColor,t.ARRAY_BUFFER),i.set(m,v))),m.isSkinnedMesh){const T=m.skeleton;i.get(T)!==v&&(T.update(),i.set(T,v))}return S}function u(){i=new WeakMap}function d(m){const v=m.target;v.removeEventListener("dispose",d),n.remove(v.instanceMatrix),v.instanceColor!==null&&n.remove(v.instanceColor)}return{update:o,dispose:u}}class TW extends Ji{constructor(e,n,r,i,o,u,d,m,v,x){if(x=x!==void 0?x:j4,x!==j4&&x!==sg)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&x===j4&&(r=I2),r===void 0&&x===sg&&(r=yg),super(null,i,o,u,d,m,x,r,v),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=d!==void 0?d:so,this.minFilter=m!==void 0?m:so,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const o6e=new Ji,a6e=new TW(1,1);a6e.compareFunction=Q8e;const l6e=new t6e,u6e=new rLe,c6e=new II,Z9e=[],Q9e=[],J9e=new Float32Array(16),e3e=new Float32Array(9),t3e=new Float32Array(4);function xg(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=Z9e[i];if(o===void 0&&(o=new Float32Array(i),Z9e[i]=o),e!==0){r.toArray(o,0);for(let u=1,d=0;u!==e;++u)d+=n,t[u].toArray(o,d)}return o}function Ws(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ks(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function RI(t,e){let n=Q9e[e];n===void 0&&(n=new Int32Array(e),Q9e[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function xBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function SBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ws(n,e))return;t.uniform2fv(this.addr,e),Ks(n,e)}}function EBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Ws(n,e))return;t.uniform3fv(this.addr,e),Ks(n,e)}}function CBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ws(n,e))return;t.uniform4fv(this.addr,e),Ks(n,e)}}function PBe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ws(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ks(n,e)}else{if(Ws(n,r))return;t3e.set(r),t.uniformMatrix2fv(this.addr,!1,t3e),Ks(n,r)}}function MBe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ws(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ks(n,e)}else{if(Ws(n,r))return;e3e.set(r),t.uniformMatrix3fv(this.addr,!1,e3e),Ks(n,r)}}function TBe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Ws(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ks(n,e)}else{if(Ws(n,r))return;J9e.set(r),t.uniformMatrix4fv(this.addr,!1,J9e),Ks(n,r)}}function kBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ABe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ws(n,e))return;t.uniform2iv(this.addr,e),Ks(n,e)}}function IBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ws(n,e))return;t.uniform3iv(this.addr,e),Ks(n,e)}}function RBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ws(n,e))return;t.uniform4iv(this.addr,e),Ks(n,e)}}function DBe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function OBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Ws(n,e))return;t.uniform2uiv(this.addr,e),Ks(n,e)}}function LBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Ws(n,e))return;t.uniform3uiv(this.addr,e),Ks(n,e)}}function NBe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Ws(n,e))return;t.uniform4uiv(this.addr,e),Ks(n,e)}}function FBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const o=this.type===t.SAMPLER_2D_SHADOW?a6e:o6e;n.setTexture2D(e||o,i)}function BBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||u6e,i)}function UBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||c6e,i)}function zBe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||l6e,i)}function VBe(t){switch(t){case 5126:return xBe;case 35664:return SBe;case 35665:return EBe;case 35666:return CBe;case 35674:return PBe;case 35675:return MBe;case 35676:return TBe;case 5124:case 35670:return kBe;case 35667:case 35671:return ABe;case 35668:case 35672:return IBe;case 35669:case 35673:return RBe;case 5125:return DBe;case 36294:return OBe;case 36295:return LBe;case 36296:return NBe;case 35678:case 36198:case 36298:case 36306:case 35682:return FBe;case 35679:case 36299:case 36307:return BBe;case 35680:case 36300:case 36308:case 36293:return UBe;case 36289:case 36303:case 36311:case 36292:return zBe}}function jBe(t,e){t.uniform1fv(this.addr,e)}function HBe(t,e){const n=xg(e,this.size,2);t.uniform2fv(this.addr,n)}function GBe(t,e){const n=xg(e,this.size,3);t.uniform3fv(this.addr,n)}function $Be(t,e){const n=xg(e,this.size,4);t.uniform4fv(this.addr,n)}function WBe(t,e){const n=xg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function KBe(t,e){const n=xg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function XBe(t,e){const n=xg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function qBe(t,e){t.uniform1iv(this.addr,e)}function YBe(t,e){t.uniform2iv(this.addr,e)}function ZBe(t,e){t.uniform3iv(this.addr,e)}function QBe(t,e){t.uniform4iv(this.addr,e)}function JBe(t,e){t.uniform1uiv(this.addr,e)}function eUe(t,e){t.uniform2uiv(this.addr,e)}function tUe(t,e){t.uniform3uiv(this.addr,e)}function nUe(t,e){t.uniform4uiv(this.addr,e)}function rUe(t,e,n){const r=this.cache,i=e.length,o=RI(n,i);Ws(r,o)||(t.uniform1iv(this.addr,o),Ks(r,o));for(let u=0;u!==i;++u)n.setTexture2D(e[u]||o6e,o[u])}function iUe(t,e,n){const r=this.cache,i=e.length,o=RI(n,i);Ws(r,o)||(t.uniform1iv(this.addr,o),Ks(r,o));for(let u=0;u!==i;++u)n.setTexture3D(e[u]||u6e,o[u])}function sUe(t,e,n){const r=this.cache,i=e.length,o=RI(n,i);Ws(r,o)||(t.uniform1iv(this.addr,o),Ks(r,o));for(let u=0;u!==i;++u)n.setTextureCube(e[u]||c6e,o[u])}function oUe(t,e,n){const r=this.cache,i=e.length,o=RI(n,i);Ws(r,o)||(t.uniform1iv(this.addr,o),Ks(r,o));for(let u=0;u!==i;++u)n.setTexture2DArray(e[u]||l6e,o[u])}function aUe(t){switch(t){case 5126:return jBe;case 35664:return HBe;case 35665:return GBe;case 35666:return $Be;case 35674:return WBe;case 35675:return KBe;case 35676:return XBe;case 5124:case 35670:return qBe;case 35667:case 35671:return YBe;case 35668:case 35672:return ZBe;case 35669:case 35673:return QBe;case 5125:return JBe;case 36294:return eUe;case 36295:return tUe;case 36296:return nUe;case 35678:case 36198:case 36298:case 36306:case 35682:return rUe;case 35679:case 36299:case 36307:return iUe;case 35680:case 36300:case 36308:case 36293:return sUe;case 36289:case 36303:case 36311:case 36292:return oUe}}class lUe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=VBe(n.type)}}class uUe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=aUe(n.type)}}class cUe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,u=i.length;o!==u;++o){const d=i[o];d.setValue(e,n[d.id],r)}}}const Lj=/(\w+)(\])?(\[|\.)?/g;function n3e(t,e){t.seq.push(e),t.map[e.id]=e}function dUe(t,e,n){const r=t.name,i=r.length;for(Lj.lastIndex=0;;){const o=Lj.exec(r),u=Lj.lastIndex;let d=o[1];const m=o[2]==="]",v=o[3];if(m&&(d=d|0),v===void 0||v==="["&&u+2===i){n3e(n,v===void 0?new lUe(d,t,e):new uUe(d,t,e));break}else{let S=n.map[d];S===void 0&&(S=new cUe(d),n3e(n,S)),n=S}}}class Yk{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),u=e.getUniformLocation(n,o.name);dUe(o,u,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,u=n.length;o!==u;++o){const d=n[o],m=r[d.id];m.needsUpdate!==!1&&d.setValue(e,m.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const u=e[i];u.id in n&&r.push(u)}return r}}function r3e(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const hUe=37297;let pUe=0;function fUe(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let u=i;u<o;u++){const d=u+1;r.push(`${d===e?">":" "} ${d}: ${n[u]}`)}return r.join(`
`)}function mUe(t){const e=ci.getPrimaries(ci.workingColorSpace),n=ci.getPrimaries(t);let r;switch(e===n?r="":e===UA&&n===BA?r="LinearDisplayP3ToLinearSRGB":e===BA&&n===UA&&(r="LinearSRGBToLinearDisplayP3"),t){case Fc:case kI:return[r,"LinearTransferOETF"];case ri:case xW:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function i3e(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const u=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+fUe(t.getShaderSource(e),u)}else return i}function gUe(t,e){const n=mUe(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function vUe(t,e){let n;switch(e){case nOe:n="Linear";break;case rOe:n="Reinhard";break;case iOe:n="OptimizedCineon";break;case sOe:n="ACESFilmic";break;case aOe:n="AgX";break;case lOe:n="Neutral";break;case oOe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function yUe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(qy).join(`
`)}function bUe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function _Ue(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),u=o.name;let d=1;o.type===t.FLOAT_MAT2&&(d=2),o.type===t.FLOAT_MAT3&&(d=3),o.type===t.FLOAT_MAT4&&(d=4),n[u]={type:o.type,location:t.getAttribLocation(e,u),locationSize:d}}return n}function qy(t){return t!==""}function s3e(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function o3e(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const wUe=/^[ \t]*#include +<([\w\d./]+)>/gm;function AG(t){return t.replace(wUe,SUe)}const xUe=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function SUe(t,e){let n=pr[e];if(n===void 0){const r=xUe.get(e);if(r!==void 0)n=pr[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return AG(n)}const EUe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function a3e(t){return t.replace(EUe,CUe)}function CUe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function l3e(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function PUe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===F8e?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===WDe?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===qd&&(e="SHADOWMAP_TYPE_VSM"),e}function MUe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case ng:case rg:e="ENVMAP_TYPE_CUBE";break;case TI:e="ENVMAP_TYPE_CUBE_UV";break}return e}function TUe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case rg:e="ENVMAP_MODE_REFRACTION";break}return e}function kUe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case MI:e="ENVMAP_BLENDING_MULTIPLY";break;case eOe:e="ENVMAP_BLENDING_MIX";break;case tOe:e="ENVMAP_BLENDING_ADD";break}return e}function AUe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function IUe(t,e,n,r){const i=t.getContext(),o=n.defines;let u=n.vertexShader,d=n.fragmentShader;const m=PUe(n),v=MUe(n),x=TUe(n),S=kUe(n),T=AUe(n),R=yUe(n),G=bUe(o),L=i.createProgram();let B,z,C=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(B=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,G].filter(qy).join(`
`),B.length>0&&(B+=`
`),z=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,G].filter(qy).join(`
`),z.length>0&&(z+=`
`)):(B=[l3e(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,G,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+x:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+m:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(qy).join(`
`),z=[l3e(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,G,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+v:"",n.envMap?"#define "+x:"",n.envMap?"#define "+S:"",T?"#define CUBEUV_TEXEL_WIDTH "+T.texelWidth:"",T?"#define CUBEUV_TEXEL_HEIGHT "+T.texelHeight:"",T?"#define CUBEUV_MAX_MIP "+T.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+m:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Uf?"#define TONE_MAPPING":"",n.toneMapping!==Uf?pr.tonemapping_pars_fragment:"",n.toneMapping!==Uf?vUe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",pr.colorspace_pars_fragment,gUe("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(qy).join(`
`)),u=AG(u),u=s3e(u,n),u=o3e(u,n),d=AG(d),d=s3e(d,n),d=o3e(d,n),u=a3e(u),d=a3e(d),n.isRawShaderMaterial!==!0&&(C=`#version 300 es
`,B=[R,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+B,z=["#define varying in",n.glslVersion===kG?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===kG?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+z);const V=C+B+u,Y=C+z+d,me=r3e(i,i.VERTEX_SHADER,V),q=r3e(i,i.FRAGMENT_SHADER,Y);i.attachShader(L,me),i.attachShader(L,q),n.index0AttributeName!==void 0?i.bindAttribLocation(L,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(L,0,"position"),i.linkProgram(L);function ae(Te){if(t.debug.checkShaderErrors){const dt=i.getProgramInfoLog(L).trim(),He=i.getShaderInfoLog(me).trim(),xe=i.getShaderInfoLog(q).trim();let gt=!0,ze=!0;if(i.getProgramParameter(L,i.LINK_STATUS)===!1)if(gt=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,L,me,q);else{const At=i3e(i,me,"vertex"),Ne=i3e(i,q,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(L,i.VALIDATE_STATUS)+`

Material Name: `+Te.name+`
Material Type: `+Te.type+`

Program Info Log: `+dt+`
`+At+`
`+Ne)}else dt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",dt):(He===""||xe==="")&&(ze=!1);ze&&(Te.diagnostics={runnable:gt,programLog:dt,vertexShader:{log:He,prefix:B},fragmentShader:{log:xe,prefix:z}})}i.deleteShader(me),i.deleteShader(q),ve=new Yk(i,L),W=_Ue(i,L)}let ve;this.getUniforms=function(){return ve===void 0&&ae(this),ve};let W;this.getAttributes=function(){return W===void 0&&ae(this),W};let se=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return se===!1&&(se=i.getProgramParameter(L,hUe)),se},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(L),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=pUe++,this.cacheKey=e,this.usedTimes=1,this.program=L,this.vertexShader=me,this.fragmentShader=q,this}let RUe=0;class DUe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),u=this._getShaderCacheForMaterial(e);return u.has(i)===!1&&(u.add(i),i.usedTimes++),u.has(o)===!1&&(u.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new OUe(e),n.set(e,r)),r}}class OUe{constructor(e){this.id=RUe++,this.code=e,this.usedTimes=0}}function LUe(t,e,n,r,i,o,u){const d=new EW,m=new DUe,v=new Set,x=[],S=i.logarithmicDepthBuffer,T=i.vertexTextures;let R=i.precision;const G={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function L(W){return v.add(W),W===0?"uv":`uv${W}`}function B(W,se,Te,dt,He){const xe=dt.fog,gt=He.geometry,ze=W.isMeshStandardMaterial?dt.environment:null,At=(W.isMeshStandardMaterial?n:e).get(W.envMap||ze),Ne=At&&At.mapping===TI?At.image.height:null,ht=G[W.type];W.precision!==null&&(R=i.getMaxPrecision(W.precision),R!==W.precision&&console.warn("THREE.WebGLProgram.getParameters:",W.precision,"not supported, using",R,"instead."));const pt=gt.morphAttributes.position||gt.morphAttributes.normal||gt.morphAttributes.color,It=pt!==void 0?pt.length:0;let tn=0;gt.morphAttributes.position!==void 0&&(tn=1),gt.morphAttributes.normal!==void 0&&(tn=2),gt.morphAttributes.color!==void 0&&(tn=3);let pn,ft,kt,Xt;if(ht){const Zr=Ec[ht];pn=Zr.vertexShader,ft=Zr.fragmentShader}else pn=W.vertexShader,ft=W.fragmentShader,m.update(W),kt=m.getVertexShaderID(W),Xt=m.getFragmentShaderID(W);const Ut=t.getRenderTarget(),it=He.isInstancedMesh===!0,bt=He.isBatchedMesh===!0,Nt=!!W.map,je=!!W.matcap,Cn=!!At,ln=!!W.aoMap,rn=!!W.lightMap,Ot=!!W.bumpMap,dn=!!W.normalMap,Pe=!!W.displacementMap,de=!!W.emissiveMap,Ze=!!W.metalnessMap,Et=!!W.roughnessMap,Ct=W.anisotropy>0,Dt=W.clearcoat>0,hn=W.iridescence>0,Rt=W.sheen>0,Pn=W.transmission>0,On=Ct&&!!W.anisotropyMap,Yt=Dt&&!!W.clearcoatMap,an=Dt&&!!W.clearcoatNormalMap,Fn=Dt&&!!W.clearcoatRoughnessMap,gn=hn&&!!W.iridescenceMap,fn=hn&&!!W.iridescenceThicknessMap,ar=Rt&&!!W.sheenColorMap,Bn=Rt&&!!W.sheenRoughnessMap,gr=!!W.specularMap,hr=!!W.specularColorMap,rr=!!W.specularIntensityMap,vn=Pn&&!!W.transmissionMap,ne=Pn&&!!W.thicknessMap,st=!!W.gradientMap,Mt=!!W.alphaMap,qt=W.alphaTest>0,on=!!W.alphaHash,Yn=!!W.extensions;let Zn=Uf;W.toneMapped&&(Ut===null||Ut.isXRRenderTarget===!0)&&(Zn=t.toneMapping);const Kr={shaderID:ht,shaderType:W.type,shaderName:W.name,vertexShader:pn,fragmentShader:ft,defines:W.defines,customVertexShaderID:kt,customFragmentShaderID:Xt,isRawShaderMaterial:W.isRawShaderMaterial===!0,glslVersion:W.glslVersion,precision:R,batching:bt,instancing:it,instancingColor:it&&He.instanceColor!==null,instancingMorph:it&&He.morphTexture!==null,supportsVertexTextures:T,outputColorSpace:Ut===null?t.outputColorSpace:Ut.isXRRenderTarget===!0?Ut.texture.colorSpace:Fc,alphaToCoverage:!!W.alphaToCoverage,map:Nt,matcap:je,envMap:Cn,envMapMode:Cn&&At.mapping,envMapCubeUVHeight:Ne,aoMap:ln,lightMap:rn,bumpMap:Ot,normalMap:dn,displacementMap:T&&Pe,emissiveMap:de,normalMapObjectSpace:dn&&W.normalMapType===POe,normalMapTangentSpace:dn&&W.normalMapType===bg,metalnessMap:Ze,roughnessMap:Et,anisotropy:Ct,anisotropyMap:On,clearcoat:Dt,clearcoatMap:Yt,clearcoatNormalMap:an,clearcoatRoughnessMap:Fn,iridescence:hn,iridescenceMap:gn,iridescenceThicknessMap:fn,sheen:Rt,sheenColorMap:ar,sheenRoughnessMap:Bn,specularMap:gr,specularColorMap:hr,specularIntensityMap:rr,transmission:Pn,transmissionMap:vn,thicknessMap:ne,gradientMap:st,opaque:W.transparent===!1&&W.blending===x2&&W.alphaToCoverage===!1,alphaMap:Mt,alphaTest:qt,alphaHash:on,combine:W.combine,mapUv:Nt&&L(W.map.channel),aoMapUv:ln&&L(W.aoMap.channel),lightMapUv:rn&&L(W.lightMap.channel),bumpMapUv:Ot&&L(W.bumpMap.channel),normalMapUv:dn&&L(W.normalMap.channel),displacementMapUv:Pe&&L(W.displacementMap.channel),emissiveMapUv:de&&L(W.emissiveMap.channel),metalnessMapUv:Ze&&L(W.metalnessMap.channel),roughnessMapUv:Et&&L(W.roughnessMap.channel),anisotropyMapUv:On&&L(W.anisotropyMap.channel),clearcoatMapUv:Yt&&L(W.clearcoatMap.channel),clearcoatNormalMapUv:an&&L(W.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Fn&&L(W.clearcoatRoughnessMap.channel),iridescenceMapUv:gn&&L(W.iridescenceMap.channel),iridescenceThicknessMapUv:fn&&L(W.iridescenceThicknessMap.channel),sheenColorMapUv:ar&&L(W.sheenColorMap.channel),sheenRoughnessMapUv:Bn&&L(W.sheenRoughnessMap.channel),specularMapUv:gr&&L(W.specularMap.channel),specularColorMapUv:hr&&L(W.specularColorMap.channel),specularIntensityMapUv:rr&&L(W.specularIntensityMap.channel),transmissionMapUv:vn&&L(W.transmissionMap.channel),thicknessMapUv:ne&&L(W.thicknessMap.channel),alphaMapUv:Mt&&L(W.alphaMap.channel),vertexTangents:!!gt.attributes.tangent&&(dn||Ct),vertexColors:W.vertexColors,vertexAlphas:W.vertexColors===!0&&!!gt.attributes.color&&gt.attributes.color.itemSize===4,pointsUvs:He.isPoints===!0&&!!gt.attributes.uv&&(Nt||Mt),fog:!!xe,useFog:W.fog===!0,fogExp2:!!xe&&xe.isFogExp2,flatShading:W.flatShading===!0,sizeAttenuation:W.sizeAttenuation===!0,logarithmicDepthBuffer:S,skinning:He.isSkinnedMesh===!0,morphTargets:gt.morphAttributes.position!==void 0,morphNormals:gt.morphAttributes.normal!==void 0,morphColors:gt.morphAttributes.color!==void 0,morphTargetsCount:It,morphTextureStride:tn,numDirLights:se.directional.length,numPointLights:se.point.length,numSpotLights:se.spot.length,numSpotLightMaps:se.spotLightMap.length,numRectAreaLights:se.rectArea.length,numHemiLights:se.hemi.length,numDirLightShadows:se.directionalShadowMap.length,numPointLightShadows:se.pointShadowMap.length,numSpotLightShadows:se.spotShadowMap.length,numSpotLightShadowsWithMaps:se.numSpotLightShadowsWithMaps,numLightProbes:se.numLightProbes,numClippingPlanes:u.numPlanes,numClipIntersection:u.numIntersection,dithering:W.dithering,shadowMapEnabled:t.shadowMap.enabled&&Te.length>0,shadowMapType:t.shadowMap.type,toneMapping:Zn,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Nt&&W.map.isVideoTexture===!0&&ci.getTransfer(W.map.colorSpace)===ki,premultipliedAlpha:W.premultipliedAlpha,doubleSided:W.side===Sa,flipSided:W.side===Ss,useDepthPacking:W.depthPacking>=0,depthPacking:W.depthPacking||0,index0AttributeName:W.index0AttributeName,extensionClipCullDistance:Yn&&W.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:Yn&&W.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:W.customProgramCacheKey()};return Kr.vertexUv1s=v.has(1),Kr.vertexUv2s=v.has(2),Kr.vertexUv3s=v.has(3),v.clear(),Kr}function z(W){const se=[];if(W.shaderID?se.push(W.shaderID):(se.push(W.customVertexShaderID),se.push(W.customFragmentShaderID)),W.defines!==void 0)for(const Te in W.defines)se.push(Te),se.push(W.defines[Te]);return W.isRawShaderMaterial===!1&&(C(se,W),V(se,W),se.push(t.outputColorSpace)),se.push(W.customProgramCacheKey),se.join()}function C(W,se){W.push(se.precision),W.push(se.outputColorSpace),W.push(se.envMapMode),W.push(se.envMapCubeUVHeight),W.push(se.mapUv),W.push(se.alphaMapUv),W.push(se.lightMapUv),W.push(se.aoMapUv),W.push(se.bumpMapUv),W.push(se.normalMapUv),W.push(se.displacementMapUv),W.push(se.emissiveMapUv),W.push(se.metalnessMapUv),W.push(se.roughnessMapUv),W.push(se.anisotropyMapUv),W.push(se.clearcoatMapUv),W.push(se.clearcoatNormalMapUv),W.push(se.clearcoatRoughnessMapUv),W.push(se.iridescenceMapUv),W.push(se.iridescenceThicknessMapUv),W.push(se.sheenColorMapUv),W.push(se.sheenRoughnessMapUv),W.push(se.specularMapUv),W.push(se.specularColorMapUv),W.push(se.specularIntensityMapUv),W.push(se.transmissionMapUv),W.push(se.thicknessMapUv),W.push(se.combine),W.push(se.fogExp2),W.push(se.sizeAttenuation),W.push(se.morphTargetsCount),W.push(se.morphAttributeCount),W.push(se.numDirLights),W.push(se.numPointLights),W.push(se.numSpotLights),W.push(se.numSpotLightMaps),W.push(se.numHemiLights),W.push(se.numRectAreaLights),W.push(se.numDirLightShadows),W.push(se.numPointLightShadows),W.push(se.numSpotLightShadows),W.push(se.numSpotLightShadowsWithMaps),W.push(se.numLightProbes),W.push(se.shadowMapType),W.push(se.toneMapping),W.push(se.numClippingPlanes),W.push(se.numClipIntersection),W.push(se.depthPacking)}function V(W,se){d.disableAll(),se.supportsVertexTextures&&d.enable(0),se.instancing&&d.enable(1),se.instancingColor&&d.enable(2),se.instancingMorph&&d.enable(3),se.matcap&&d.enable(4),se.envMap&&d.enable(5),se.normalMapObjectSpace&&d.enable(6),se.normalMapTangentSpace&&d.enable(7),se.clearcoat&&d.enable(8),se.iridescence&&d.enable(9),se.alphaTest&&d.enable(10),se.vertexColors&&d.enable(11),se.vertexAlphas&&d.enable(12),se.vertexUv1s&&d.enable(13),se.vertexUv2s&&d.enable(14),se.vertexUv3s&&d.enable(15),se.vertexTangents&&d.enable(16),se.anisotropy&&d.enable(17),se.alphaHash&&d.enable(18),se.batching&&d.enable(19),W.push(d.mask),d.disableAll(),se.fog&&d.enable(0),se.useFog&&d.enable(1),se.flatShading&&d.enable(2),se.logarithmicDepthBuffer&&d.enable(3),se.skinning&&d.enable(4),se.morphTargets&&d.enable(5),se.morphNormals&&d.enable(6),se.morphColors&&d.enable(7),se.premultipliedAlpha&&d.enable(8),se.shadowMapEnabled&&d.enable(9),se.useLegacyLights&&d.enable(10),se.doubleSided&&d.enable(11),se.flipSided&&d.enable(12),se.useDepthPacking&&d.enable(13),se.dithering&&d.enable(14),se.transmission&&d.enable(15),se.sheen&&d.enable(16),se.opaque&&d.enable(17),se.pointsUvs&&d.enable(18),se.decodeVideoTexture&&d.enable(19),se.alphaToCoverage&&d.enable(20),W.push(d.mask)}function Y(W){const se=G[W.type];let Te;if(se){const dt=Ec[se];Te=yLe.clone(dt.uniforms)}else Te=W.uniforms;return Te}function me(W,se){let Te;for(let dt=0,He=x.length;dt<He;dt++){const xe=x[dt];if(xe.cacheKey===se){Te=xe,++Te.usedTimes;break}}return Te===void 0&&(Te=new IUe(t,se,W,o),x.push(Te)),Te}function q(W){if(--W.usedTimes===0){const se=x.indexOf(W);x[se]=x[x.length-1],x.pop(),W.destroy()}}function ae(W){m.remove(W)}function ve(){m.dispose()}return{getParameters:B,getProgramCacheKey:z,getUniforms:Y,acquireProgram:me,releaseProgram:q,releaseShaderCache:ae,programs:x,dispose:ve}}function NUe(){let t=new WeakMap;function e(o){let u=t.get(o);return u===void 0&&(u={},t.set(o,u)),u}function n(o){t.delete(o)}function r(o,u,d){t.get(o)[u]=d}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function FUe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function u3e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function c3e(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function u(S,T,R,G,L,B){let z=t[e];return z===void 0?(z={id:S.id,object:S,geometry:T,material:R,groupOrder:G,renderOrder:S.renderOrder,z:L,group:B},t[e]=z):(z.id=S.id,z.object=S,z.geometry=T,z.material=R,z.groupOrder=G,z.renderOrder=S.renderOrder,z.z=L,z.group=B),e++,z}function d(S,T,R,G,L,B){const z=u(S,T,R,G,L,B);R.transmission>0?r.push(z):R.transparent===!0?i.push(z):n.push(z)}function m(S,T,R,G,L,B){const z=u(S,T,R,G,L,B);R.transmission>0?r.unshift(z):R.transparent===!0?i.unshift(z):n.unshift(z)}function v(S,T){n.length>1&&n.sort(S||FUe),r.length>1&&r.sort(T||u3e),i.length>1&&i.sort(T||u3e)}function x(){for(let S=e,T=t.length;S<T;S++){const R=t[S];if(R.id===null)break;R.id=null,R.object=null,R.geometry=null,R.material=null,R.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:d,unshift:m,finish:x,sort:v}}function BUe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let u;return o===void 0?(u=new c3e,t.set(r,[u])):i>=o.length?(u=new c3e,o.push(u)):u=o[i],u}function n(){t=new WeakMap}return{get:e,dispose:n}}function UUe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Re,color:new cn};break;case"SpotLight":n={position:new Re,direction:new Re,color:new cn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Re,color:new cn,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Re,skyColor:new cn,groundColor:new cn};break;case"RectAreaLight":n={color:new cn,position:new Re,halfWidth:new Re,halfHeight:new Re};break}return t[e.id]=n,n}}}function zUe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new nn,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let VUe=0;function jUe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function HUe(t){const e=new UUe,n=zUe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let v=0;v<9;v++)r.probe.push(new Re);const i=new Re,o=new In,u=new In;function d(v,x){let S=0,T=0,R=0;for(let Te=0;Te<9;Te++)r.probe[Te].set(0,0,0);let G=0,L=0,B=0,z=0,C=0,V=0,Y=0,me=0,q=0,ae=0,ve=0;v.sort(jUe);const W=x===!0?Math.PI:1;for(let Te=0,dt=v.length;Te<dt;Te++){const He=v[Te],xe=He.color,gt=He.intensity,ze=He.distance,At=He.shadow&&He.shadow.map?He.shadow.map.texture:null;if(He.isAmbientLight)S+=xe.r*gt*W,T+=xe.g*gt*W,R+=xe.b*gt*W;else if(He.isLightProbe){for(let Ne=0;Ne<9;Ne++)r.probe[Ne].addScaledVector(He.sh.coefficients[Ne],gt);ve++}else if(He.isDirectionalLight){const Ne=e.get(He);if(Ne.color.copy(He.color).multiplyScalar(He.intensity*W),He.castShadow){const ht=He.shadow,pt=n.get(He);pt.shadowBias=ht.bias,pt.shadowNormalBias=ht.normalBias,pt.shadowRadius=ht.radius,pt.shadowMapSize=ht.mapSize,r.directionalShadow[G]=pt,r.directionalShadowMap[G]=At,r.directionalShadowMatrix[G]=He.shadow.matrix,V++}r.directional[G]=Ne,G++}else if(He.isSpotLight){const Ne=e.get(He);Ne.position.setFromMatrixPosition(He.matrixWorld),Ne.color.copy(xe).multiplyScalar(gt*W),Ne.distance=ze,Ne.coneCos=Math.cos(He.angle),Ne.penumbraCos=Math.cos(He.angle*(1-He.penumbra)),Ne.decay=He.decay,r.spot[B]=Ne;const ht=He.shadow;if(He.map&&(r.spotLightMap[q]=He.map,q++,ht.updateMatrices(He),He.castShadow&&ae++),r.spotLightMatrix[B]=ht.matrix,He.castShadow){const pt=n.get(He);pt.shadowBias=ht.bias,pt.shadowNormalBias=ht.normalBias,pt.shadowRadius=ht.radius,pt.shadowMapSize=ht.mapSize,r.spotShadow[B]=pt,r.spotShadowMap[B]=At,me++}B++}else if(He.isRectAreaLight){const Ne=e.get(He);Ne.color.copy(xe).multiplyScalar(gt),Ne.halfWidth.set(He.width*.5,0,0),Ne.halfHeight.set(0,He.height*.5,0),r.rectArea[z]=Ne,z++}else if(He.isPointLight){const Ne=e.get(He);if(Ne.color.copy(He.color).multiplyScalar(He.intensity*W),Ne.distance=He.distance,Ne.decay=He.decay,He.castShadow){const ht=He.shadow,pt=n.get(He);pt.shadowBias=ht.bias,pt.shadowNormalBias=ht.normalBias,pt.shadowRadius=ht.radius,pt.shadowMapSize=ht.mapSize,pt.shadowCameraNear=ht.camera.near,pt.shadowCameraFar=ht.camera.far,r.pointShadow[L]=pt,r.pointShadowMap[L]=At,r.pointShadowMatrix[L]=He.shadow.matrix,Y++}r.point[L]=Ne,L++}else if(He.isHemisphereLight){const Ne=e.get(He);Ne.skyColor.copy(He.color).multiplyScalar(gt*W),Ne.groundColor.copy(He.groundColor).multiplyScalar(gt*W),r.hemi[C]=Ne,C++}}z>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=en.LTC_FLOAT_1,r.rectAreaLTC2=en.LTC_FLOAT_2):(r.rectAreaLTC1=en.LTC_HALF_1,r.rectAreaLTC2=en.LTC_HALF_2)),r.ambient[0]=S,r.ambient[1]=T,r.ambient[2]=R;const se=r.hash;(se.directionalLength!==G||se.pointLength!==L||se.spotLength!==B||se.rectAreaLength!==z||se.hemiLength!==C||se.numDirectionalShadows!==V||se.numPointShadows!==Y||se.numSpotShadows!==me||se.numSpotMaps!==q||se.numLightProbes!==ve)&&(r.directional.length=G,r.spot.length=B,r.rectArea.length=z,r.point.length=L,r.hemi.length=C,r.directionalShadow.length=V,r.directionalShadowMap.length=V,r.pointShadow.length=Y,r.pointShadowMap.length=Y,r.spotShadow.length=me,r.spotShadowMap.length=me,r.directionalShadowMatrix.length=V,r.pointShadowMatrix.length=Y,r.spotLightMatrix.length=me+q-ae,r.spotLightMap.length=q,r.numSpotLightShadowsWithMaps=ae,r.numLightProbes=ve,se.directionalLength=G,se.pointLength=L,se.spotLength=B,se.rectAreaLength=z,se.hemiLength=C,se.numDirectionalShadows=V,se.numPointShadows=Y,se.numSpotShadows=me,se.numSpotMaps=q,se.numLightProbes=ve,r.version=VUe++)}function m(v,x){let S=0,T=0,R=0,G=0,L=0;const B=x.matrixWorldInverse;for(let z=0,C=v.length;z<C;z++){const V=v[z];if(V.isDirectionalLight){const Y=r.directional[S];Y.direction.setFromMatrixPosition(V.matrixWorld),i.setFromMatrixPosition(V.target.matrixWorld),Y.direction.sub(i),Y.direction.transformDirection(B),S++}else if(V.isSpotLight){const Y=r.spot[R];Y.position.setFromMatrixPosition(V.matrixWorld),Y.position.applyMatrix4(B),Y.direction.setFromMatrixPosition(V.matrixWorld),i.setFromMatrixPosition(V.target.matrixWorld),Y.direction.sub(i),Y.direction.transformDirection(B),R++}else if(V.isRectAreaLight){const Y=r.rectArea[G];Y.position.setFromMatrixPosition(V.matrixWorld),Y.position.applyMatrix4(B),u.identity(),o.copy(V.matrixWorld),o.premultiply(B),u.extractRotation(o),Y.halfWidth.set(V.width*.5,0,0),Y.halfHeight.set(0,V.height*.5,0),Y.halfWidth.applyMatrix4(u),Y.halfHeight.applyMatrix4(u),G++}else if(V.isPointLight){const Y=r.point[T];Y.position.setFromMatrixPosition(V.matrixWorld),Y.position.applyMatrix4(B),T++}else if(V.isHemisphereLight){const Y=r.hemi[L];Y.direction.setFromMatrixPosition(V.matrixWorld),Y.direction.transformDirection(B),L++}}}return{setup:d,setupView:m,state:r}}function d3e(t){const e=new HUe(t),n=[],r=[];function i(){n.length=0,r.length=0}function o(x){n.push(x)}function u(x){r.push(x)}function d(x){e.setup(n,x)}function m(x){e.setupView(n,x)}return{init:i,state:{lightsArray:n,shadowsArray:r,lights:e,transmissionRenderTarget:null},setupLights:d,setupLightsView:m,pushLight:o,pushShadow:u}}function GUe(t){let e=new WeakMap;function n(i,o=0){const u=e.get(i);let d;return u===void 0?(d=new d3e(t),e.set(i,[d])):o>=u.length?(d=new d3e(t),u.push(d)):d=u[o],d}function r(){e=new WeakMap}return{get:n,dispose:r}}class d6e extends I0{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=h_,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $Ue extends I0{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const WUe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,KUe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function XUe(t,e,n){let r=new PW;const i=new nn,o=new nn,u=new kr,d=new d6e({depthPacking:COe}),m=new $Ue,v={},x=n.maxTextureSize,S={[Rc]:Ss,[Ss]:Rc,[Sa]:Sa},T=new Ia({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new nn},radius:{value:4}},vertexShader:WUe,fragmentShader:KUe}),R=T.clone();R.defines.HORIZONTAL_PASS=1;const G=new zi;G.setAttribute("position",new Pa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const L=new hi(G,T),B=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=F8e;let z=this.type;this.render=function(q,ae,ve){if(B.enabled===!1||B.autoUpdate===!1&&B.needsUpdate===!1||q.length===0)return;const W=t.getRenderTarget(),se=t.getActiveCubeFace(),Te=t.getActiveMipmapLevel(),dt=t.state;dt.setBlending(bl),dt.buffers.color.setClear(1,1,1,1),dt.buffers.depth.setTest(!0),dt.setScissorTest(!1);const He=z!==qd&&this.type===qd,xe=z===qd&&this.type!==qd;for(let gt=0,ze=q.length;gt<ze;gt++){const At=q[gt],Ne=At.shadow;if(Ne===void 0){console.warn("THREE.WebGLShadowMap:",At,"has no shadow.");continue}if(Ne.autoUpdate===!1&&Ne.needsUpdate===!1)continue;i.copy(Ne.mapSize);const ht=Ne.getFrameExtents();if(i.multiply(ht),o.copy(Ne.mapSize),(i.x>x||i.y>x)&&(i.x>x&&(o.x=Math.floor(x/ht.x),i.x=o.x*ht.x,Ne.mapSize.x=o.x),i.y>x&&(o.y=Math.floor(x/ht.y),i.y=o.y*ht.y,Ne.mapSize.y=o.y)),Ne.map===null||He===!0||xe===!0){const It=this.type!==qd?{minFilter:so,magFilter:so}:{};Ne.map!==null&&Ne.map.dispose(),Ne.map=new Aa(i.x,i.y,It),Ne.map.texture.name=At.name+".shadowMap",Ne.camera.updateProjectionMatrix()}t.setRenderTarget(Ne.map),t.clear();const pt=Ne.getViewportCount();for(let It=0;It<pt;It++){const tn=Ne.getViewport(It);u.set(o.x*tn.x,o.y*tn.y,o.x*tn.z,o.y*tn.w),dt.viewport(u),Ne.updateMatrices(At,It),r=Ne.getFrustum(),Y(ae,ve,Ne.camera,At,this.type)}Ne.isPointLightShadow!==!0&&this.type===qd&&C(Ne,ve),Ne.needsUpdate=!1}z=this.type,B.needsUpdate=!1,t.setRenderTarget(W,se,Te)};function C(q,ae){const ve=e.update(L);T.defines.VSM_SAMPLES!==q.blurSamples&&(T.defines.VSM_SAMPLES=q.blurSamples,R.defines.VSM_SAMPLES=q.blurSamples,T.needsUpdate=!0,R.needsUpdate=!0),q.mapPass===null&&(q.mapPass=new Aa(i.x,i.y)),T.uniforms.shadow_pass.value=q.map.texture,T.uniforms.resolution.value=q.mapSize,T.uniforms.radius.value=q.radius,t.setRenderTarget(q.mapPass),t.clear(),t.renderBufferDirect(ae,null,ve,T,L,null),R.uniforms.shadow_pass.value=q.mapPass.texture,R.uniforms.resolution.value=q.mapSize,R.uniforms.radius.value=q.radius,t.setRenderTarget(q.map),t.clear(),t.renderBufferDirect(ae,null,ve,R,L,null)}function V(q,ae,ve,W){let se=null;const Te=ve.isPointLight===!0?q.customDistanceMaterial:q.customDepthMaterial;if(Te!==void 0)se=Te;else if(se=ve.isPointLight===!0?m:d,t.localClippingEnabled&&ae.clipShadows===!0&&Array.isArray(ae.clippingPlanes)&&ae.clippingPlanes.length!==0||ae.displacementMap&&ae.displacementScale!==0||ae.alphaMap&&ae.alphaTest>0||ae.map&&ae.alphaTest>0){const dt=se.uuid,He=ae.uuid;let xe=v[dt];xe===void 0&&(xe={},v[dt]=xe);let gt=xe[He];gt===void 0&&(gt=se.clone(),xe[He]=gt,ae.addEventListener("dispose",me)),se=gt}if(se.visible=ae.visible,se.wireframe=ae.wireframe,W===qd?se.side=ae.shadowSide!==null?ae.shadowSide:ae.side:se.side=ae.shadowSide!==null?ae.shadowSide:S[ae.side],se.alphaMap=ae.alphaMap,se.alphaTest=ae.alphaTest,se.map=ae.map,se.clipShadows=ae.clipShadows,se.clippingPlanes=ae.clippingPlanes,se.clipIntersection=ae.clipIntersection,se.displacementMap=ae.displacementMap,se.displacementScale=ae.displacementScale,se.displacementBias=ae.displacementBias,se.wireframeLinewidth=ae.wireframeLinewidth,se.linewidth=ae.linewidth,ve.isPointLight===!0&&se.isMeshDistanceMaterial===!0){const dt=t.properties.get(se);dt.light=ve}return se}function Y(q,ae,ve,W,se){if(q.visible===!1)return;if(q.layers.test(ae.layers)&&(q.isMesh||q.isLine||q.isPoints)&&(q.castShadow||q.receiveShadow&&se===qd)&&(!q.frustumCulled||r.intersectsObject(q))){q.modelViewMatrix.multiplyMatrices(ve.matrixWorldInverse,q.matrixWorld);const He=e.update(q),xe=q.material;if(Array.isArray(xe)){const gt=He.groups;for(let ze=0,At=gt.length;ze<At;ze++){const Ne=gt[ze],ht=xe[Ne.materialIndex];if(ht&&ht.visible){const pt=V(q,ht,W,se);q.onBeforeShadow(t,q,ae,ve,He,pt,Ne),t.renderBufferDirect(ve,null,He,pt,q,Ne),q.onAfterShadow(t,q,ae,ve,He,pt,Ne)}}}else if(xe.visible){const gt=V(q,xe,W,se);q.onBeforeShadow(t,q,ae,ve,He,gt,null),t.renderBufferDirect(ve,null,He,gt,q,null),q.onAfterShadow(t,q,ae,ve,He,gt,null)}}const dt=q.children;for(let He=0,xe=dt.length;He<xe;He++)Y(dt[He],ae,ve,W,se)}function me(q){q.target.removeEventListener("dispose",me);for(const ve in v){const W=v[ve],se=q.target.uuid;se in W&&(W[se].dispose(),delete W[se])}}}function qUe(t){function e(){let ne=!1;const st=new kr;let Mt=null;const qt=new kr(0,0,0,0);return{setMask:function(on){Mt!==on&&!ne&&(t.colorMask(on,on,on,on),Mt=on)},setLocked:function(on){ne=on},setClear:function(on,Yn,Zn,Kr,Zr){Zr===!0&&(on*=Kr,Yn*=Kr,Zn*=Kr),st.set(on,Yn,Zn,Kr),qt.equals(st)===!1&&(t.clearColor(on,Yn,Zn,Kr),qt.copy(st))},reset:function(){ne=!1,Mt=null,qt.set(-1,0,0,0)}}}function n(){let ne=!1,st=null,Mt=null,qt=null;return{setTest:function(on){on?Xt(t.DEPTH_TEST):Ut(t.DEPTH_TEST)},setMask:function(on){st!==on&&!ne&&(t.depthMask(on),st=on)},setFunc:function(on){if(Mt!==on){switch(on){case KDe:t.depthFunc(t.NEVER);break;case XDe:t.depthFunc(t.ALWAYS);break;case qDe:t.depthFunc(t.LESS);break;case RA:t.depthFunc(t.LEQUAL);break;case YDe:t.depthFunc(t.EQUAL);break;case ZDe:t.depthFunc(t.GEQUAL);break;case QDe:t.depthFunc(t.GREATER);break;case JDe:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Mt=on}},setLocked:function(on){ne=on},setClear:function(on){qt!==on&&(t.clearDepth(on),qt=on)},reset:function(){ne=!1,st=null,Mt=null,qt=null}}}function r(){let ne=!1,st=null,Mt=null,qt=null,on=null,Yn=null,Zn=null,Kr=null,Zr=null;return{setTest:function(wr){ne||(wr?Xt(t.STENCIL_TEST):Ut(t.STENCIL_TEST))},setMask:function(wr){st!==wr&&!ne&&(t.stencilMask(wr),st=wr)},setFunc:function(wr,Ir,vr){(Mt!==wr||qt!==Ir||on!==vr)&&(t.stencilFunc(wr,Ir,vr),Mt=wr,qt=Ir,on=vr)},setOp:function(wr,Ir,vr){(Yn!==wr||Zn!==Ir||Kr!==vr)&&(t.stencilOp(wr,Ir,vr),Yn=wr,Zn=Ir,Kr=vr)},setLocked:function(wr){ne=wr},setClear:function(wr){Zr!==wr&&(t.clearStencil(wr),Zr=wr)},reset:function(){ne=!1,st=null,Mt=null,qt=null,on=null,Yn=null,Zn=null,Kr=null,Zr=null}}}const i=new e,o=new n,u=new r,d=new WeakMap,m=new WeakMap;let v={},x={},S=new WeakMap,T=[],R=null,G=!1,L=null,B=null,z=null,C=null,V=null,Y=null,me=null,q=new cn(0,0,0),ae=0,ve=!1,W=null,se=null,Te=null,dt=null,He=null;const xe=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let gt=!1,ze=0;const At=t.getParameter(t.VERSION);At.indexOf("WebGL")!==-1?(ze=parseFloat(/^WebGL (\d)/.exec(At)[1]),gt=ze>=1):At.indexOf("OpenGL ES")!==-1&&(ze=parseFloat(/^OpenGL ES (\d)/.exec(At)[1]),gt=ze>=2);let Ne=null,ht={};const pt=t.getParameter(t.SCISSOR_BOX),It=t.getParameter(t.VIEWPORT),tn=new kr().fromArray(pt),pn=new kr().fromArray(It);function ft(ne,st,Mt,qt){const on=new Uint8Array(4),Yn=t.createTexture();t.bindTexture(ne,Yn),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Zn=0;Zn<Mt;Zn++)ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY?t.texImage3D(st,0,t.RGBA,1,1,qt,0,t.RGBA,t.UNSIGNED_BYTE,on):t.texImage2D(st+Zn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,on);return Yn}const kt={};kt[t.TEXTURE_2D]=ft(t.TEXTURE_2D,t.TEXTURE_2D,1),kt[t.TEXTURE_CUBE_MAP]=ft(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),kt[t.TEXTURE_2D_ARRAY]=ft(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),kt[t.TEXTURE_3D]=ft(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),o.setClear(1),u.setClear(0),Xt(t.DEPTH_TEST),o.setFunc(RA),Ot(!1),dn(X2e),Xt(t.CULL_FACE),ln(bl);function Xt(ne){v[ne]!==!0&&(t.enable(ne),v[ne]=!0)}function Ut(ne){v[ne]!==!1&&(t.disable(ne),v[ne]=!1)}function it(ne,st){return x[ne]!==st?(t.bindFramebuffer(ne,st),x[ne]=st,ne===t.DRAW_FRAMEBUFFER&&(x[t.FRAMEBUFFER]=st),ne===t.FRAMEBUFFER&&(x[t.DRAW_FRAMEBUFFER]=st),!0):!1}function bt(ne,st){let Mt=T,qt=!1;if(ne){Mt=S.get(st),Mt===void 0&&(Mt=[],S.set(st,Mt));const on=ne.textures;if(Mt.length!==on.length||Mt[0]!==t.COLOR_ATTACHMENT0){for(let Yn=0,Zn=on.length;Yn<Zn;Yn++)Mt[Yn]=t.COLOR_ATTACHMENT0+Yn;Mt.length=on.length,qt=!0}}else Mt[0]!==t.BACK&&(Mt[0]=t.BACK,qt=!0);qt&&t.drawBuffers(Mt)}function Nt(ne){return R!==ne?(t.useProgram(ne),R=ne,!0):!1}const je={[Pf]:t.FUNC_ADD,[U8e]:t.FUNC_SUBTRACT,[z8e]:t.FUNC_REVERSE_SUBTRACT};je[V8e]=t.MIN,je[j8e]=t.MAX;const Cn={[uW]:t.ZERO,[cW]:t.ONE,[dW]:t.SRC_COLOR,[Ob]:t.SRC_ALPHA,[H8e]:t.SRC_ALPHA_SATURATE,[mW]:t.DST_COLOR,[pW]:t.DST_ALPHA,[hW]:t.ONE_MINUS_SRC_COLOR,[Lb]:t.ONE_MINUS_SRC_ALPHA,[gW]:t.ONE_MINUS_DST_COLOR,[fW]:t.ONE_MINUS_DST_ALPHA,[vW]:t.CONSTANT_COLOR,[yW]:t.ONE_MINUS_CONSTANT_COLOR,[bW]:t.CONSTANT_ALPHA,[_W]:t.ONE_MINUS_CONSTANT_ALPHA};function ln(ne,st,Mt,qt,on,Yn,Zn,Kr,Zr,wr){if(ne===bl){G===!0&&(Ut(t.BLEND),G=!1);return}if(G===!1&&(Xt(t.BLEND),G=!0),ne!==B8e){if(ne!==L||wr!==ve){if((B!==Pf||V!==Pf)&&(t.blendEquation(t.FUNC_ADD),B=Pf,V=Pf),wr)switch(ne){case x2:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case EG:t.blendFunc(t.ONE,t.ONE);break;case CG:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case PG:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case x2:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case EG:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case CG:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case PG:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}z=null,C=null,Y=null,me=null,q.set(0,0,0),ae=0,L=ne,ve=wr}return}on=on||st,Yn=Yn||Mt,Zn=Zn||qt,(st!==B||on!==V)&&(t.blendEquationSeparate(je[st],je[on]),B=st,V=on),(Mt!==z||qt!==C||Yn!==Y||Zn!==me)&&(t.blendFuncSeparate(Cn[Mt],Cn[qt],Cn[Yn],Cn[Zn]),z=Mt,C=qt,Y=Yn,me=Zn),(Kr.equals(q)===!1||Zr!==ae)&&(t.blendColor(Kr.r,Kr.g,Kr.b,Zr),q.copy(Kr),ae=Zr),L=ne,ve=!1}function rn(ne,st){ne.side===Sa?Ut(t.CULL_FACE):Xt(t.CULL_FACE);let Mt=ne.side===Ss;st&&(Mt=!Mt),Ot(Mt),ne.blending===x2&&ne.transparent===!1?ln(bl):ln(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.blendColor,ne.blendAlpha,ne.premultipliedAlpha),o.setFunc(ne.depthFunc),o.setTest(ne.depthTest),o.setMask(ne.depthWrite),i.setMask(ne.colorWrite);const qt=ne.stencilWrite;u.setTest(qt),qt&&(u.setMask(ne.stencilWriteMask),u.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),u.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),de(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?Xt(t.SAMPLE_ALPHA_TO_COVERAGE):Ut(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ot(ne){W!==ne&&(ne?t.frontFace(t.CW):t.frontFace(t.CCW),W=ne)}function dn(ne){ne!==GDe?(Xt(t.CULL_FACE),ne!==se&&(ne===X2e?t.cullFace(t.BACK):ne===$De?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Ut(t.CULL_FACE),se=ne}function Pe(ne){ne!==Te&&(gt&&t.lineWidth(ne),Te=ne)}function de(ne,st,Mt){ne?(Xt(t.POLYGON_OFFSET_FILL),(dt!==st||He!==Mt)&&(t.polygonOffset(st,Mt),dt=st,He=Mt)):Ut(t.POLYGON_OFFSET_FILL)}function Ze(ne){ne?Xt(t.SCISSOR_TEST):Ut(t.SCISSOR_TEST)}function Et(ne){ne===void 0&&(ne=t.TEXTURE0+xe-1),Ne!==ne&&(t.activeTexture(ne),Ne=ne)}function Ct(ne,st,Mt){Mt===void 0&&(Ne===null?Mt=t.TEXTURE0+xe-1:Mt=Ne);let qt=ht[Mt];qt===void 0&&(qt={type:void 0,texture:void 0},ht[Mt]=qt),(qt.type!==ne||qt.texture!==st)&&(Ne!==Mt&&(t.activeTexture(Mt),Ne=Mt),t.bindTexture(ne,st||kt[ne]),qt.type=ne,qt.texture=st)}function Dt(){const ne=ht[Ne];ne!==void 0&&ne.type!==void 0&&(t.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function hn(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Rt(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Pn(){try{t.texSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function On(){try{t.texSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Yt(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function an(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Fn(){try{t.texStorage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function gn(){try{t.texStorage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function fn(){try{t.texImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ar(){try{t.texImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Bn(ne){tn.equals(ne)===!1&&(t.scissor(ne.x,ne.y,ne.z,ne.w),tn.copy(ne))}function gr(ne){pn.equals(ne)===!1&&(t.viewport(ne.x,ne.y,ne.z,ne.w),pn.copy(ne))}function hr(ne,st){let Mt=m.get(st);Mt===void 0&&(Mt=new WeakMap,m.set(st,Mt));let qt=Mt.get(ne);qt===void 0&&(qt=t.getUniformBlockIndex(st,ne.name),Mt.set(ne,qt))}function rr(ne,st){const qt=m.get(st).get(ne);d.get(st)!==qt&&(t.uniformBlockBinding(st,qt,ne.__bindingPointIndex),d.set(st,qt))}function vn(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),v={},Ne=null,ht={},x={},S=new WeakMap,T=[],R=null,G=!1,L=null,B=null,z=null,C=null,V=null,Y=null,me=null,q=new cn(0,0,0),ae=0,ve=!1,W=null,se=null,Te=null,dt=null,He=null,tn.set(0,0,t.canvas.width,t.canvas.height),pn.set(0,0,t.canvas.width,t.canvas.height),i.reset(),o.reset(),u.reset()}return{buffers:{color:i,depth:o,stencil:u},enable:Xt,disable:Ut,bindFramebuffer:it,drawBuffers:bt,useProgram:Nt,setBlending:ln,setMaterial:rn,setFlipSided:Ot,setCullFace:dn,setLineWidth:Pe,setPolygonOffset:de,setScissorTest:Ze,activeTexture:Et,bindTexture:Ct,unbindTexture:Dt,compressedTexImage2D:hn,compressedTexImage3D:Rt,texImage2D:fn,texImage3D:ar,updateUBOMapping:hr,uniformBlockBinding:rr,texStorage2D:Fn,texStorage3D:gn,texSubImage2D:Pn,texSubImage3D:On,compressedTexSubImage2D:Yt,compressedTexSubImage3D:an,scissor:Bn,viewport:gr,reset:vn}}function YUe(t,e,n,r,i,o,u){const d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,m=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new nn,x=new WeakMap;let S;const T=new WeakMap;let R=!1;try{R=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function G(Pe,de){return R?new OffscreenCanvas(Pe,de):Nb("canvas")}function L(Pe,de,Ze){let Et=1;const Ct=dn(Pe);if((Ct.width>Ze||Ct.height>Ze)&&(Et=Ze/Math.max(Ct.width,Ct.height)),Et<1)if(typeof HTMLImageElement<"u"&&Pe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Pe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Pe instanceof ImageBitmap||typeof VideoFrame<"u"&&Pe instanceof VideoFrame){const Dt=Math.floor(Et*Ct.width),hn=Math.floor(Et*Ct.height);S===void 0&&(S=G(Dt,hn));const Rt=de?G(Dt,hn):S;return Rt.width=Dt,Rt.height=hn,Rt.getContext("2d").drawImage(Pe,0,0,Dt,hn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ct.width+"x"+Ct.height+") to ("+Dt+"x"+hn+")."),Rt}else return"data"in Pe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ct.width+"x"+Ct.height+")."),Pe;return Pe}function B(Pe){return Pe.generateMipmaps&&Pe.minFilter!==so&&Pe.minFilter!==Hs}function z(Pe){t.generateMipmap(Pe)}function C(Pe,de,Ze,Et,Ct=!1){if(Pe!==null){if(t[Pe]!==void 0)return t[Pe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Pe+"'")}let Dt=de;if(de===t.RED&&(Ze===t.FLOAT&&(Dt=t.R32F),Ze===t.HALF_FLOAT&&(Dt=t.R16F),Ze===t.UNSIGNED_BYTE&&(Dt=t.R8)),de===t.RED_INTEGER&&(Ze===t.UNSIGNED_BYTE&&(Dt=t.R8UI),Ze===t.UNSIGNED_SHORT&&(Dt=t.R16UI),Ze===t.UNSIGNED_INT&&(Dt=t.R32UI),Ze===t.BYTE&&(Dt=t.R8I),Ze===t.SHORT&&(Dt=t.R16I),Ze===t.INT&&(Dt=t.R32I)),de===t.RG&&(Ze===t.FLOAT&&(Dt=t.RG32F),Ze===t.HALF_FLOAT&&(Dt=t.RG16F),Ze===t.UNSIGNED_BYTE&&(Dt=t.RG8)),de===t.RG_INTEGER&&(Ze===t.UNSIGNED_BYTE&&(Dt=t.RG8UI),Ze===t.UNSIGNED_SHORT&&(Dt=t.RG16UI),Ze===t.UNSIGNED_INT&&(Dt=t.RG32UI),Ze===t.BYTE&&(Dt=t.RG8I),Ze===t.SHORT&&(Dt=t.RG16I),Ze===t.INT&&(Dt=t.RG32I)),de===t.RGB&&Ze===t.UNSIGNED_INT_5_9_9_9_REV&&(Dt=t.RGB9_E5),de===t.RGBA){const hn=Ct?FA:ci.getTransfer(Et);Ze===t.FLOAT&&(Dt=t.RGBA32F),Ze===t.HALF_FLOAT&&(Dt=t.RGBA16F),Ze===t.UNSIGNED_BYTE&&(Dt=hn===ki?t.SRGB8_ALPHA8:t.RGBA8),Ze===t.UNSIGNED_SHORT_4_4_4_4&&(Dt=t.RGBA4),Ze===t.UNSIGNED_SHORT_5_5_5_1&&(Dt=t.RGB5_A1)}return(Dt===t.R16F||Dt===t.R32F||Dt===t.RG16F||Dt===t.RG32F||Dt===t.RGBA16F||Dt===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Dt}function V(Pe,de){return B(Pe)===!0||Pe.isFramebufferTexture&&Pe.minFilter!==so&&Pe.minFilter!==Hs?Math.log2(Math.max(de.width,de.height))+1:Pe.mipmaps!==void 0&&Pe.mipmaps.length>0?Pe.mipmaps.length:Pe.isCompressedTexture&&Array.isArray(Pe.image)?de.mipmaps.length:1}function Y(Pe){const de=Pe.target;de.removeEventListener("dispose",Y),q(de),de.isVideoTexture&&x.delete(de)}function me(Pe){const de=Pe.target;de.removeEventListener("dispose",me),ve(de)}function q(Pe){const de=r.get(Pe);if(de.__webglInit===void 0)return;const Ze=Pe.source,Et=T.get(Ze);if(Et){const Ct=Et[de.__cacheKey];Ct.usedTimes--,Ct.usedTimes===0&&ae(Pe),Object.keys(Et).length===0&&T.delete(Ze)}r.remove(Pe)}function ae(Pe){const de=r.get(Pe);t.deleteTexture(de.__webglTexture);const Ze=Pe.source,Et=T.get(Ze);delete Et[de.__cacheKey],u.memory.textures--}function ve(Pe){const de=r.get(Pe);if(Pe.depthTexture&&Pe.depthTexture.dispose(),Pe.isWebGLCubeRenderTarget)for(let Et=0;Et<6;Et++){if(Array.isArray(de.__webglFramebuffer[Et]))for(let Ct=0;Ct<de.__webglFramebuffer[Et].length;Ct++)t.deleteFramebuffer(de.__webglFramebuffer[Et][Ct]);else t.deleteFramebuffer(de.__webglFramebuffer[Et]);de.__webglDepthbuffer&&t.deleteRenderbuffer(de.__webglDepthbuffer[Et])}else{if(Array.isArray(de.__webglFramebuffer))for(let Et=0;Et<de.__webglFramebuffer.length;Et++)t.deleteFramebuffer(de.__webglFramebuffer[Et]);else t.deleteFramebuffer(de.__webglFramebuffer);if(de.__webglDepthbuffer&&t.deleteRenderbuffer(de.__webglDepthbuffer),de.__webglMultisampledFramebuffer&&t.deleteFramebuffer(de.__webglMultisampledFramebuffer),de.__webglColorRenderbuffer)for(let Et=0;Et<de.__webglColorRenderbuffer.length;Et++)de.__webglColorRenderbuffer[Et]&&t.deleteRenderbuffer(de.__webglColorRenderbuffer[Et]);de.__webglDepthRenderbuffer&&t.deleteRenderbuffer(de.__webglDepthRenderbuffer)}const Ze=Pe.textures;for(let Et=0,Ct=Ze.length;Et<Ct;Et++){const Dt=r.get(Ze[Et]);Dt.__webglTexture&&(t.deleteTexture(Dt.__webglTexture),u.memory.textures--),r.remove(Ze[Et])}r.remove(Pe)}let W=0;function se(){W=0}function Te(){const Pe=W;return Pe>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+Pe+" texture units while this GPU supports only "+i.maxTextures),W+=1,Pe}function dt(Pe){const de=[];return de.push(Pe.wrapS),de.push(Pe.wrapT),de.push(Pe.wrapR||0),de.push(Pe.magFilter),de.push(Pe.minFilter),de.push(Pe.anisotropy),de.push(Pe.internalFormat),de.push(Pe.format),de.push(Pe.type),de.push(Pe.generateMipmaps),de.push(Pe.premultiplyAlpha),de.push(Pe.flipY),de.push(Pe.unpackAlignment),de.push(Pe.colorSpace),de.join()}function He(Pe,de){const Ze=r.get(Pe);if(Pe.isVideoTexture&&rn(Pe),Pe.isRenderTargetTexture===!1&&Pe.version>0&&Ze.__version!==Pe.version){const Et=Pe.image;if(Et===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Et.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{tn(Ze,Pe,de);return}}n.bindTexture(t.TEXTURE_2D,Ze.__webglTexture,t.TEXTURE0+de)}function xe(Pe,de){const Ze=r.get(Pe);if(Pe.version>0&&Ze.__version!==Pe.version){tn(Ze,Pe,de);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Ze.__webglTexture,t.TEXTURE0+de)}function gt(Pe,de){const Ze=r.get(Pe);if(Pe.version>0&&Ze.__version!==Pe.version){tn(Ze,Pe,de);return}n.bindTexture(t.TEXTURE_3D,Ze.__webglTexture,t.TEXTURE0+de)}function ze(Pe,de){const Ze=r.get(Pe);if(Pe.version>0&&Ze.__version!==Pe.version){pn(Ze,Pe,de);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Ze.__webglTexture,t.TEXTURE0+de)}const At={[fh]:t.REPEAT,[ko]:t.CLAMP_TO_EDGE,[TG]:t.MIRRORED_REPEAT},Ne={[so]:t.NEAREST,[cOe]:t.NEAREST_MIPMAP_NEAREST,[QT]:t.NEAREST_MIPMAP_LINEAR,[Hs]:t.LINEAR,[sj]:t.LINEAR_MIPMAP_NEAREST,[v2]:t.LINEAR_MIPMAP_LINEAR},ht={[MOe]:t.NEVER,[DOe]:t.ALWAYS,[TOe]:t.LESS,[Q8e]:t.LEQUAL,[kOe]:t.EQUAL,[ROe]:t.GEQUAL,[AOe]:t.GREATER,[IOe]:t.NOTEQUAL};function pt(Pe,de){if(de.type===wu&&e.has("OES_texture_float_linear")===!1&&(de.magFilter===Hs||de.magFilter===sj||de.magFilter===QT||de.magFilter===v2||de.minFilter===Hs||de.minFilter===sj||de.minFilter===QT||de.minFilter===v2)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(Pe,t.TEXTURE_WRAP_S,At[de.wrapS]),t.texParameteri(Pe,t.TEXTURE_WRAP_T,At[de.wrapT]),(Pe===t.TEXTURE_3D||Pe===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Pe,t.TEXTURE_WRAP_R,At[de.wrapR]),t.texParameteri(Pe,t.TEXTURE_MAG_FILTER,Ne[de.magFilter]),t.texParameteri(Pe,t.TEXTURE_MIN_FILTER,Ne[de.minFilter]),de.compareFunction&&(t.texParameteri(Pe,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Pe,t.TEXTURE_COMPARE_FUNC,ht[de.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(de.magFilter===so||de.minFilter!==QT&&de.minFilter!==v2||de.type===wu&&e.has("OES_texture_float_linear")===!1)return;if(de.anisotropy>1||r.get(de).__currentAnisotropy){const Ze=e.get("EXT_texture_filter_anisotropic");t.texParameterf(Pe,Ze.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(de.anisotropy,i.getMaxAnisotropy())),r.get(de).__currentAnisotropy=de.anisotropy}}}function It(Pe,de){let Ze=!1;Pe.__webglInit===void 0&&(Pe.__webglInit=!0,de.addEventListener("dispose",Y));const Et=de.source;let Ct=T.get(Et);Ct===void 0&&(Ct={},T.set(Et,Ct));const Dt=dt(de);if(Dt!==Pe.__cacheKey){Ct[Dt]===void 0&&(Ct[Dt]={texture:t.createTexture(),usedTimes:0},u.memory.textures++,Ze=!0),Ct[Dt].usedTimes++;const hn=Ct[Pe.__cacheKey];hn!==void 0&&(Ct[Pe.__cacheKey].usedTimes--,hn.usedTimes===0&&ae(de)),Pe.__cacheKey=Dt,Pe.__webglTexture=Ct[Dt].texture}return Ze}function tn(Pe,de,Ze){let Et=t.TEXTURE_2D;(de.isDataArrayTexture||de.isCompressedArrayTexture)&&(Et=t.TEXTURE_2D_ARRAY),de.isData3DTexture&&(Et=t.TEXTURE_3D);const Ct=It(Pe,de),Dt=de.source;n.bindTexture(Et,Pe.__webglTexture,t.TEXTURE0+Ze);const hn=r.get(Dt);if(Dt.version!==hn.__version||Ct===!0){n.activeTexture(t.TEXTURE0+Ze);const Rt=ci.getPrimaries(ci.workingColorSpace),Pn=de.colorSpace===Pc?null:ci.getPrimaries(de.colorSpace),On=de.colorSpace===Pc||Rt===Pn?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,de.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,de.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,On);let Yt=L(de.image,!1,i.maxTextureSize);Yt=Ot(de,Yt);const an=o.convert(de.format,de.colorSpace),Fn=o.convert(de.type);let gn=C(de.internalFormat,an,Fn,de.colorSpace,de.isVideoTexture);pt(Et,de);let fn;const ar=de.mipmaps,Bn=de.isVideoTexture!==!0&&gn!==Z8e,gr=hn.__version===void 0||Ct===!0,hr=Dt.dataReady,rr=V(de,Yt);if(de.isDepthTexture)gn=t.DEPTH_COMPONENT16,de.type===wu?gn=t.DEPTH_COMPONENT32F:de.type===I2?gn=t.DEPTH_COMPONENT24:de.type===yg&&(gn=t.DEPTH24_STENCIL8),gr&&(Bn?n.texStorage2D(t.TEXTURE_2D,1,gn,Yt.width,Yt.height):n.texImage2D(t.TEXTURE_2D,0,gn,Yt.width,Yt.height,0,an,Fn,null));else if(de.isDataTexture)if(ar.length>0){Bn&&gr&&n.texStorage2D(t.TEXTURE_2D,rr,gn,ar[0].width,ar[0].height);for(let vn=0,ne=ar.length;vn<ne;vn++)fn=ar[vn],Bn?hr&&n.texSubImage2D(t.TEXTURE_2D,vn,0,0,fn.width,fn.height,an,Fn,fn.data):n.texImage2D(t.TEXTURE_2D,vn,gn,fn.width,fn.height,0,an,Fn,fn.data);de.generateMipmaps=!1}else Bn?(gr&&n.texStorage2D(t.TEXTURE_2D,rr,gn,Yt.width,Yt.height),hr&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Yt.width,Yt.height,an,Fn,Yt.data)):n.texImage2D(t.TEXTURE_2D,0,gn,Yt.width,Yt.height,0,an,Fn,Yt.data);else if(de.isCompressedTexture)if(de.isCompressedArrayTexture){Bn&&gr&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rr,gn,ar[0].width,ar[0].height,Yt.depth);for(let vn=0,ne=ar.length;vn<ne;vn++)fn=ar[vn],de.format!==Ca?an!==null?Bn?hr&&n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,vn,0,0,0,fn.width,fn.height,Yt.depth,an,fn.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,vn,gn,fn.width,fn.height,Yt.depth,0,fn.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bn?hr&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,vn,0,0,0,fn.width,fn.height,Yt.depth,an,Fn,fn.data):n.texImage3D(t.TEXTURE_2D_ARRAY,vn,gn,fn.width,fn.height,Yt.depth,0,an,Fn,fn.data)}else{Bn&&gr&&n.texStorage2D(t.TEXTURE_2D,rr,gn,ar[0].width,ar[0].height);for(let vn=0,ne=ar.length;vn<ne;vn++)fn=ar[vn],de.format!==Ca?an!==null?Bn?hr&&n.compressedTexSubImage2D(t.TEXTURE_2D,vn,0,0,fn.width,fn.height,an,fn.data):n.compressedTexImage2D(t.TEXTURE_2D,vn,gn,fn.width,fn.height,0,fn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Bn?hr&&n.texSubImage2D(t.TEXTURE_2D,vn,0,0,fn.width,fn.height,an,Fn,fn.data):n.texImage2D(t.TEXTURE_2D,vn,gn,fn.width,fn.height,0,an,Fn,fn.data)}else if(de.isDataArrayTexture)Bn?(gr&&n.texStorage3D(t.TEXTURE_2D_ARRAY,rr,gn,Yt.width,Yt.height,Yt.depth),hr&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Yt.width,Yt.height,Yt.depth,an,Fn,Yt.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,gn,Yt.width,Yt.height,Yt.depth,0,an,Fn,Yt.data);else if(de.isData3DTexture)Bn?(gr&&n.texStorage3D(t.TEXTURE_3D,rr,gn,Yt.width,Yt.height,Yt.depth),hr&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Yt.width,Yt.height,Yt.depth,an,Fn,Yt.data)):n.texImage3D(t.TEXTURE_3D,0,gn,Yt.width,Yt.height,Yt.depth,0,an,Fn,Yt.data);else if(de.isFramebufferTexture){if(gr)if(Bn)n.texStorage2D(t.TEXTURE_2D,rr,gn,Yt.width,Yt.height);else{let vn=Yt.width,ne=Yt.height;for(let st=0;st<rr;st++)n.texImage2D(t.TEXTURE_2D,st,gn,vn,ne,0,an,Fn,null),vn>>=1,ne>>=1}}else if(ar.length>0){if(Bn&&gr){const vn=dn(ar[0]);n.texStorage2D(t.TEXTURE_2D,rr,gn,vn.width,vn.height)}for(let vn=0,ne=ar.length;vn<ne;vn++)fn=ar[vn],Bn?hr&&n.texSubImage2D(t.TEXTURE_2D,vn,0,0,an,Fn,fn):n.texImage2D(t.TEXTURE_2D,vn,gn,an,Fn,fn);de.generateMipmaps=!1}else if(Bn){if(gr){const vn=dn(Yt);n.texStorage2D(t.TEXTURE_2D,rr,gn,vn.width,vn.height)}hr&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,an,Fn,Yt)}else n.texImage2D(t.TEXTURE_2D,0,gn,an,Fn,Yt);B(de)&&z(Et),hn.__version=Dt.version,de.onUpdate&&de.onUpdate(de)}Pe.__version=de.version}function pn(Pe,de,Ze){if(de.image.length!==6)return;const Et=It(Pe,de),Ct=de.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Pe.__webglTexture,t.TEXTURE0+Ze);const Dt=r.get(Ct);if(Ct.version!==Dt.__version||Et===!0){n.activeTexture(t.TEXTURE0+Ze);const hn=ci.getPrimaries(ci.workingColorSpace),Rt=de.colorSpace===Pc?null:ci.getPrimaries(de.colorSpace),Pn=de.colorSpace===Pc||hn===Rt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,de.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,de.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Pn);const On=de.isCompressedTexture||de.image[0].isCompressedTexture,Yt=de.image[0]&&de.image[0].isDataTexture,an=[];for(let ne=0;ne<6;ne++)!On&&!Yt?an[ne]=L(de.image[ne],!0,i.maxCubemapSize):an[ne]=Yt?de.image[ne].image:de.image[ne],an[ne]=Ot(de,an[ne]);const Fn=an[0],gn=o.convert(de.format,de.colorSpace),fn=o.convert(de.type),ar=C(de.internalFormat,gn,fn,de.colorSpace),Bn=de.isVideoTexture!==!0,gr=Dt.__version===void 0||Et===!0,hr=Ct.dataReady;let rr=V(de,Fn);pt(t.TEXTURE_CUBE_MAP,de);let vn;if(On){Bn&&gr&&n.texStorage2D(t.TEXTURE_CUBE_MAP,rr,ar,Fn.width,Fn.height);for(let ne=0;ne<6;ne++){vn=an[ne].mipmaps;for(let st=0;st<vn.length;st++){const Mt=vn[st];de.format!==Ca?gn!==null?Bn?hr&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st,0,0,Mt.width,Mt.height,gn,Mt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st,ar,Mt.width,Mt.height,0,Mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Bn?hr&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st,0,0,Mt.width,Mt.height,gn,fn,Mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st,ar,Mt.width,Mt.height,0,gn,fn,Mt.data)}}}else{if(vn=de.mipmaps,Bn&&gr){vn.length>0&&rr++;const ne=dn(an[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,rr,ar,ne.width,ne.height)}for(let ne=0;ne<6;ne++)if(Yt){Bn?hr&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,an[ne].width,an[ne].height,gn,fn,an[ne].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,ar,an[ne].width,an[ne].height,0,gn,fn,an[ne].data);for(let st=0;st<vn.length;st++){const qt=vn[st].image[ne].image;Bn?hr&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st+1,0,0,qt.width,qt.height,gn,fn,qt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st+1,ar,qt.width,qt.height,0,gn,fn,qt.data)}}else{Bn?hr&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,0,0,gn,fn,an[ne]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,0,ar,gn,fn,an[ne]);for(let st=0;st<vn.length;st++){const Mt=vn[st];Bn?hr&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st+1,0,0,gn,fn,Mt.image[ne]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+ne,st+1,ar,gn,fn,Mt.image[ne])}}}B(de)&&z(t.TEXTURE_CUBE_MAP),Dt.__version=Ct.version,de.onUpdate&&de.onUpdate(de)}Pe.__version=de.version}function ft(Pe,de,Ze,Et,Ct,Dt){const hn=o.convert(Ze.format,Ze.colorSpace),Rt=o.convert(Ze.type),Pn=C(Ze.internalFormat,hn,Rt,Ze.colorSpace);if(!r.get(de).__hasExternalTextures){const Yt=Math.max(1,de.width>>Dt),an=Math.max(1,de.height>>Dt);Ct===t.TEXTURE_3D||Ct===t.TEXTURE_2D_ARRAY?n.texImage3D(Ct,Dt,Pn,Yt,an,de.depth,0,hn,Rt,null):n.texImage2D(Ct,Dt,Pn,Yt,an,0,hn,Rt,null)}n.bindFramebuffer(t.FRAMEBUFFER,Pe),ln(de)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Et,Ct,r.get(Ze).__webglTexture,0,Cn(de)):(Ct===t.TEXTURE_2D||Ct>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ct<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Et,Ct,r.get(Ze).__webglTexture,Dt),n.bindFramebuffer(t.FRAMEBUFFER,null)}function kt(Pe,de,Ze){if(t.bindRenderbuffer(t.RENDERBUFFER,Pe),de.depthBuffer&&!de.stencilBuffer){let Et=t.DEPTH_COMPONENT24;if(Ze||ln(de)){const Ct=de.depthTexture;Ct&&Ct.isDepthTexture&&(Ct.type===wu?Et=t.DEPTH_COMPONENT32F:Ct.type===I2&&(Et=t.DEPTH_COMPONENT24));const Dt=Cn(de);ln(de)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Dt,Et,de.width,de.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Dt,Et,de.width,de.height)}else t.renderbufferStorage(t.RENDERBUFFER,Et,de.width,de.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Pe)}else if(de.depthBuffer&&de.stencilBuffer){const Et=Cn(de);Ze&&ln(de)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Et,t.DEPTH24_STENCIL8,de.width,de.height):ln(de)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Et,t.DEPTH24_STENCIL8,de.width,de.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,de.width,de.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Pe)}else{const Et=de.textures;for(let Ct=0;Ct<Et.length;Ct++){const Dt=Et[Ct],hn=o.convert(Dt.format,Dt.colorSpace),Rt=o.convert(Dt.type),Pn=C(Dt.internalFormat,hn,Rt,Dt.colorSpace),On=Cn(de);Ze&&ln(de)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,On,Pn,de.width,de.height):ln(de)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,On,Pn,de.width,de.height):t.renderbufferStorage(t.RENDERBUFFER,Pn,de.width,de.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Xt(Pe,de){if(de&&de.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Pe),!(de.depthTexture&&de.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(de.depthTexture).__webglTexture||de.depthTexture.image.width!==de.width||de.depthTexture.image.height!==de.height)&&(de.depthTexture.image.width=de.width,de.depthTexture.image.height=de.height,de.depthTexture.needsUpdate=!0),He(de.depthTexture,0);const Et=r.get(de.depthTexture).__webglTexture,Ct=Cn(de);if(de.depthTexture.format===j4)ln(de)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Et,0,Ct):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Et,0);else if(de.depthTexture.format===sg)ln(de)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Et,0,Ct):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Et,0);else throw new Error("Unknown depthTexture format")}function Ut(Pe){const de=r.get(Pe),Ze=Pe.isWebGLCubeRenderTarget===!0;if(Pe.depthTexture&&!de.__autoAllocateDepthBuffer){if(Ze)throw new Error("target.depthTexture not supported in Cube render targets");Xt(de.__webglFramebuffer,Pe)}else if(Ze){de.__webglDepthbuffer=[];for(let Et=0;Et<6;Et++)n.bindFramebuffer(t.FRAMEBUFFER,de.__webglFramebuffer[Et]),de.__webglDepthbuffer[Et]=t.createRenderbuffer(),kt(de.__webglDepthbuffer[Et],Pe,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,de.__webglFramebuffer),de.__webglDepthbuffer=t.createRenderbuffer(),kt(de.__webglDepthbuffer,Pe,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function it(Pe,de,Ze){const Et=r.get(Pe);de!==void 0&&ft(Et.__webglFramebuffer,Pe,Pe.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Ze!==void 0&&Ut(Pe)}function bt(Pe){const de=Pe.texture,Ze=r.get(Pe),Et=r.get(de);Pe.addEventListener("dispose",me);const Ct=Pe.textures,Dt=Pe.isWebGLCubeRenderTarget===!0,hn=Ct.length>1;if(hn||(Et.__webglTexture===void 0&&(Et.__webglTexture=t.createTexture()),Et.__version=de.version,u.memory.textures++),Dt){Ze.__webglFramebuffer=[];for(let Rt=0;Rt<6;Rt++)if(de.mipmaps&&de.mipmaps.length>0){Ze.__webglFramebuffer[Rt]=[];for(let Pn=0;Pn<de.mipmaps.length;Pn++)Ze.__webglFramebuffer[Rt][Pn]=t.createFramebuffer()}else Ze.__webglFramebuffer[Rt]=t.createFramebuffer()}else{if(de.mipmaps&&de.mipmaps.length>0){Ze.__webglFramebuffer=[];for(let Rt=0;Rt<de.mipmaps.length;Rt++)Ze.__webglFramebuffer[Rt]=t.createFramebuffer()}else Ze.__webglFramebuffer=t.createFramebuffer();if(hn)for(let Rt=0,Pn=Ct.length;Rt<Pn;Rt++){const On=r.get(Ct[Rt]);On.__webglTexture===void 0&&(On.__webglTexture=t.createTexture(),u.memory.textures++)}if(Pe.samples>0&&ln(Pe)===!1){Ze.__webglMultisampledFramebuffer=t.createFramebuffer(),Ze.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Ze.__webglMultisampledFramebuffer);for(let Rt=0;Rt<Ct.length;Rt++){const Pn=Ct[Rt];Ze.__webglColorRenderbuffer[Rt]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Ze.__webglColorRenderbuffer[Rt]);const On=o.convert(Pn.format,Pn.colorSpace),Yt=o.convert(Pn.type),an=C(Pn.internalFormat,On,Yt,Pn.colorSpace,Pe.isXRRenderTarget===!0),Fn=Cn(Pe);t.renderbufferStorageMultisample(t.RENDERBUFFER,Fn,an,Pe.width,Pe.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Rt,t.RENDERBUFFER,Ze.__webglColorRenderbuffer[Rt])}t.bindRenderbuffer(t.RENDERBUFFER,null),Pe.depthBuffer&&(Ze.__webglDepthRenderbuffer=t.createRenderbuffer(),kt(Ze.__webglDepthRenderbuffer,Pe,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Dt){n.bindTexture(t.TEXTURE_CUBE_MAP,Et.__webglTexture),pt(t.TEXTURE_CUBE_MAP,de);for(let Rt=0;Rt<6;Rt++)if(de.mipmaps&&de.mipmaps.length>0)for(let Pn=0;Pn<de.mipmaps.length;Pn++)ft(Ze.__webglFramebuffer[Rt][Pn],Pe,de,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,Pn);else ft(Ze.__webglFramebuffer[Rt],Pe,de,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Rt,0);B(de)&&z(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(hn){for(let Rt=0,Pn=Ct.length;Rt<Pn;Rt++){const On=Ct[Rt],Yt=r.get(On);n.bindTexture(t.TEXTURE_2D,Yt.__webglTexture),pt(t.TEXTURE_2D,On),ft(Ze.__webglFramebuffer,Pe,On,t.COLOR_ATTACHMENT0+Rt,t.TEXTURE_2D,0),B(On)&&z(t.TEXTURE_2D)}n.unbindTexture()}else{let Rt=t.TEXTURE_2D;if((Pe.isWebGL3DRenderTarget||Pe.isWebGLArrayRenderTarget)&&(Rt=Pe.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Rt,Et.__webglTexture),pt(Rt,de),de.mipmaps&&de.mipmaps.length>0)for(let Pn=0;Pn<de.mipmaps.length;Pn++)ft(Ze.__webglFramebuffer[Pn],Pe,de,t.COLOR_ATTACHMENT0,Rt,Pn);else ft(Ze.__webglFramebuffer,Pe,de,t.COLOR_ATTACHMENT0,Rt,0);B(de)&&z(Rt),n.unbindTexture()}Pe.depthBuffer&&Ut(Pe)}function Nt(Pe){const de=Pe.textures;for(let Ze=0,Et=de.length;Ze<Et;Ze++){const Ct=de[Ze];if(B(Ct)){const Dt=Pe.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,hn=r.get(Ct).__webglTexture;n.bindTexture(Dt,hn),z(Dt),n.unbindTexture()}}}function je(Pe){if(Pe.samples>0&&ln(Pe)===!1){const de=Pe.textures,Ze=Pe.width,Et=Pe.height;let Ct=t.COLOR_BUFFER_BIT;const Dt=[],hn=Pe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Rt=r.get(Pe),Pn=de.length>1;if(Pn)for(let On=0;On<de.length;On++)n.bindFramebuffer(t.FRAMEBUFFER,Rt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+On,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Rt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+On,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Rt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Rt.__webglFramebuffer);for(let On=0;On<de.length;On++){Dt.push(t.COLOR_ATTACHMENT0+On),Pe.depthBuffer&&Dt.push(hn);const Yt=Rt.__ignoreDepthValues!==void 0?Rt.__ignoreDepthValues:!1;if(Yt===!1&&(Pe.depthBuffer&&(Ct|=t.DEPTH_BUFFER_BIT),Pe.stencilBuffer&&Rt.__isTransmissionRenderTarget!==!0&&(Ct|=t.STENCIL_BUFFER_BIT)),Pn&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Rt.__webglColorRenderbuffer[On]),Yt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[hn]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[hn])),Pn){const an=r.get(de[On]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,an,0)}t.blitFramebuffer(0,0,Ze,Et,0,0,Ze,Et,Ct,t.NEAREST),m&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Dt)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Pn)for(let On=0;On<de.length;On++){n.bindFramebuffer(t.FRAMEBUFFER,Rt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+On,t.RENDERBUFFER,Rt.__webglColorRenderbuffer[On]);const Yt=r.get(de[On]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Rt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+On,t.TEXTURE_2D,Yt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Rt.__webglMultisampledFramebuffer)}}function Cn(Pe){return Math.min(i.maxSamples,Pe.samples)}function ln(Pe){const de=r.get(Pe);return Pe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&de.__useRenderToTexture!==!1}function rn(Pe){const de=u.render.frame;x.get(Pe)!==de&&(x.set(Pe,de),Pe.update())}function Ot(Pe,de){const Ze=Pe.colorSpace,Et=Pe.format,Ct=Pe.type;return Pe.isCompressedTexture===!0||Pe.isVideoTexture===!0||Ze!==Fc&&Ze!==Pc&&(ci.getTransfer(Ze)===ki?(Et!==Ca||Ct!==E0)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ze)),de}function dn(Pe){return typeof HTMLImageElement<"u"&&Pe instanceof HTMLImageElement?(v.width=Pe.naturalWidth||Pe.width,v.height=Pe.naturalHeight||Pe.height):typeof VideoFrame<"u"&&Pe instanceof VideoFrame?(v.width=Pe.displayWidth,v.height=Pe.displayHeight):(v.width=Pe.width,v.height=Pe.height),v}this.allocateTextureUnit=Te,this.resetTextureUnits=se,this.setTexture2D=He,this.setTexture2DArray=xe,this.setTexture3D=gt,this.setTextureCube=ze,this.rebindTextures=it,this.setupRenderTarget=bt,this.updateRenderTargetMipmap=Nt,this.updateMultisampleRenderTarget=je,this.setupDepthRenderbuffer=Ut,this.setupFrameBufferTexture=ft,this.useMultisampledRTT=ln}function ZUe(t,e){function n(r,i=Pc){let o;const u=ci.getTransfer(i);if(r===E0)return t.UNSIGNED_BYTE;if(r===W8e)return t.UNSIGNED_SHORT_4_4_4_4;if(r===K8e)return t.UNSIGNED_SHORT_5_5_5_1;if(r===pOe)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===dOe)return t.BYTE;if(r===hOe)return t.SHORT;if(r===G8e)return t.UNSIGNED_SHORT;if(r===$8e)return t.INT;if(r===I2)return t.UNSIGNED_INT;if(r===wu)return t.FLOAT;if(r===ig)return t.HALF_FLOAT;if(r===fOe)return t.ALPHA;if(r===mOe)return t.RGB;if(r===Ca)return t.RGBA;if(r===gOe)return t.LUMINANCE;if(r===vOe)return t.LUMINANCE_ALPHA;if(r===j4)return t.DEPTH_COMPONENT;if(r===sg)return t.DEPTH_STENCIL;if(r===yOe)return t.RED;if(r===X8e)return t.RED_INTEGER;if(r===bOe)return t.RG;if(r===q8e)return t.RG_INTEGER;if(r===Y8e)return t.RGBA_INTEGER;if(r===oj||r===aj||r===lj||r===uj)if(u===ki)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===oj)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===aj)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===lj)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===uj)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===oj)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===aj)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===lj)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===uj)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===Y2e||r===Z2e||r===Q2e||r===J2e)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===Y2e)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Z2e)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Q2e)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===J2e)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===Z8e)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(r===e9e||r===t9e)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===e9e)return u===ki?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===t9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===n9e||r===r9e||r===i9e||r===s9e||r===o9e||r===a9e||r===l9e||r===u9e||r===c9e||r===d9e||r===h9e||r===p9e||r===f9e||r===m9e)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===n9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===r9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===i9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===s9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===o9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===a9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===l9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===u9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===c9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===d9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===h9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===p9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===f9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===m9e)return u===ki?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===cj||r===g9e||r===v9e)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===cj)return u===ki?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===g9e)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===v9e)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===_Oe||r===y9e||r===b9e||r===_9e)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===cj)return o.COMPRESSED_RED_RGTC1_EXT;if(r===y9e)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===b9e)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===_9e)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===yg?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class QUe extends Ds{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}let y2=class extends Ar{constructor(){super(),this.isGroup=!0,this.type="Group"}};const JUe={type:"move"};class Nj{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new y2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new y2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new y2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,u=null;const d=this._targetRay,m=this._grip,v=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(v&&e.hand){u=!0;for(const L of e.hand.values()){const B=n.getJointPose(L,r),z=this._getHandJoint(v,L);B!==null&&(z.matrix.fromArray(B.transform.matrix),z.matrix.decompose(z.position,z.rotation,z.scale),z.matrixWorldNeedsUpdate=!0,z.jointRadius=B.radius),z.visible=B!==null}const x=v.joints["index-finger-tip"],S=v.joints["thumb-tip"],T=x.position.distanceTo(S.position),R=.02,G=.005;v.inputState.pinching&&T>R+G?(v.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!v.inputState.pinching&&T<=R-G&&(v.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else m!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(m.matrix.fromArray(o.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,o.linearVelocity?(m.hasLinearVelocity=!0,m.linearVelocity.copy(o.linearVelocity)):m.hasLinearVelocity=!1,o.angularVelocity?(m.hasAngularVelocity=!0,m.angularVelocity.copy(o.angularVelocity)):m.hasAngularVelocity=!1));d!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(d.matrix.fromArray(i.transform.matrix),d.matrix.decompose(d.position,d.rotation,d.scale),d.matrixWorldNeedsUpdate=!0,i.linearVelocity?(d.hasLinearVelocity=!0,d.linearVelocity.copy(i.linearVelocity)):d.hasLinearVelocity=!1,i.angularVelocity?(d.hasAngularVelocity=!0,d.angularVelocity.copy(i.angularVelocity)):d.hasAngularVelocity=!1,this.dispatchEvent(JUe)))}return d!==null&&(d.visible=i!==null),m!==null&&(m.visible=o!==null),v!==null&&(v.visible=u!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new y2;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const eze=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,tze=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class nze{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Ji,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}render(e,n){if(this.texture!==null){if(this.mesh===null){const r=n.cameras[0].viewport,i=new Ia({vertexShader:eze,fragmentShader:tze,uniforms:{depthColor:{value:this.texture},depthWidth:{value:r.z},depthHeight:{value:r.w}}});this.mesh=new hi(new R2(20,20),i)}e.render(this.mesh,n)}}reset(){this.texture=null,this.mesh=null}}class rze extends A0{constructor(e,n){super();const r=this;let i=null,o=1,u=null,d="local-floor",m=1,v=null,x=null,S=null,T=null,R=null,G=null;const L=new nze,B=n.getContextAttributes();let z=null,C=null;const V=[],Y=[],me=new nn;let q=null;const ae=new Ds;ae.layers.enable(1),ae.viewport=new kr;const ve=new Ds;ve.layers.enable(2),ve.viewport=new kr;const W=[ae,ve],se=new QUe;se.layers.enable(1),se.layers.enable(2);let Te=null,dt=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ft){let kt=V[ft];return kt===void 0&&(kt=new Nj,V[ft]=kt),kt.getTargetRaySpace()},this.getControllerGrip=function(ft){let kt=V[ft];return kt===void 0&&(kt=new Nj,V[ft]=kt),kt.getGripSpace()},this.getHand=function(ft){let kt=V[ft];return kt===void 0&&(kt=new Nj,V[ft]=kt),kt.getHandSpace()};function He(ft){const kt=Y.indexOf(ft.inputSource);if(kt===-1)return;const Xt=V[kt];Xt!==void 0&&(Xt.update(ft.inputSource,ft.frame,v||u),Xt.dispatchEvent({type:ft.type,data:ft.inputSource}))}function xe(){i.removeEventListener("select",He),i.removeEventListener("selectstart",He),i.removeEventListener("selectend",He),i.removeEventListener("squeeze",He),i.removeEventListener("squeezestart",He),i.removeEventListener("squeezeend",He),i.removeEventListener("end",xe),i.removeEventListener("inputsourceschange",gt);for(let ft=0;ft<V.length;ft++){const kt=Y[ft];kt!==null&&(Y[ft]=null,V[ft].disconnect(kt))}Te=null,dt=null,L.reset(),e.setRenderTarget(z),R=null,T=null,S=null,i=null,C=null,pn.stop(),r.isPresenting=!1,e.setPixelRatio(q),e.setSize(me.width,me.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ft){o=ft,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ft){d=ft,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return v||u},this.setReferenceSpace=function(ft){v=ft},this.getBaseLayer=function(){return T!==null?T:R},this.getBinding=function(){return S},this.getFrame=function(){return G},this.getSession=function(){return i},this.setSession=async function(ft){if(i=ft,i!==null){if(z=e.getRenderTarget(),i.addEventListener("select",He),i.addEventListener("selectstart",He),i.addEventListener("selectend",He),i.addEventListener("squeeze",He),i.addEventListener("squeezestart",He),i.addEventListener("squeezeend",He),i.addEventListener("end",xe),i.addEventListener("inputsourceschange",gt),B.xrCompatible!==!0&&await n.makeXRCompatible(),q=e.getPixelRatio(),e.getSize(me),i.renderState.layers===void 0){const kt={antialias:B.antialias,alpha:!0,depth:B.depth,stencil:B.stencil,framebufferScaleFactor:o};R=new XRWebGLLayer(i,n,kt),i.updateRenderState({baseLayer:R}),e.setPixelRatio(1),e.setSize(R.framebufferWidth,R.framebufferHeight,!1),C=new Aa(R.framebufferWidth,R.framebufferHeight,{format:Ca,type:E0,colorSpace:e.outputColorSpace,stencilBuffer:B.stencil})}else{let kt=null,Xt=null,Ut=null;B.depth&&(Ut=B.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,kt=B.stencil?sg:j4,Xt=B.stencil?yg:I2);const it={colorFormat:n.RGBA8,depthFormat:Ut,scaleFactor:o};S=new XRWebGLBinding(i,n),T=S.createProjectionLayer(it),i.updateRenderState({layers:[T]}),e.setPixelRatio(1),e.setSize(T.textureWidth,T.textureHeight,!1),C=new Aa(T.textureWidth,T.textureHeight,{format:Ca,type:E0,depthTexture:new TW(T.textureWidth,T.textureHeight,Xt,void 0,void 0,void 0,void 0,void 0,void 0,kt),stencilBuffer:B.stencil,colorSpace:e.outputColorSpace,samples:B.antialias?4:0});const bt=e.properties.get(C);bt.__ignoreDepthValues=T.ignoreDepthValues}C.isXRRenderTarget=!0,this.setFoveation(m),v=null,u=await i.requestReferenceSpace(d),pn.setContext(i),pn.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function gt(ft){for(let kt=0;kt<ft.removed.length;kt++){const Xt=ft.removed[kt],Ut=Y.indexOf(Xt);Ut>=0&&(Y[Ut]=null,V[Ut].disconnect(Xt))}for(let kt=0;kt<ft.added.length;kt++){const Xt=ft.added[kt];let Ut=Y.indexOf(Xt);if(Ut===-1){for(let bt=0;bt<V.length;bt++)if(bt>=Y.length){Y.push(Xt),Ut=bt;break}else if(Y[bt]===null){Y[bt]=Xt,Ut=bt;break}if(Ut===-1)break}const it=V[Ut];it&&it.connect(Xt)}}const ze=new Re,At=new Re;function Ne(ft,kt,Xt){ze.setFromMatrixPosition(kt.matrixWorld),At.setFromMatrixPosition(Xt.matrixWorld);const Ut=ze.distanceTo(At),it=kt.projectionMatrix.elements,bt=Xt.projectionMatrix.elements,Nt=it[14]/(it[10]-1),je=it[14]/(it[10]+1),Cn=(it[9]+1)/it[5],ln=(it[9]-1)/it[5],rn=(it[8]-1)/it[0],Ot=(bt[8]+1)/bt[0],dn=Nt*rn,Pe=Nt*Ot,de=Ut/(-rn+Ot),Ze=de*-rn;kt.matrixWorld.decompose(ft.position,ft.quaternion,ft.scale),ft.translateX(Ze),ft.translateZ(de),ft.matrixWorld.compose(ft.position,ft.quaternion,ft.scale),ft.matrixWorldInverse.copy(ft.matrixWorld).invert();const Et=Nt+de,Ct=je+de,Dt=dn-Ze,hn=Pe+(Ut-Ze),Rt=Cn*je/Ct*Et,Pn=ln*je/Ct*Et;ft.projectionMatrix.makePerspective(Dt,hn,Rt,Pn,Et,Ct),ft.projectionMatrixInverse.copy(ft.projectionMatrix).invert()}function ht(ft,kt){kt===null?ft.matrixWorld.copy(ft.matrix):ft.matrixWorld.multiplyMatrices(kt.matrixWorld,ft.matrix),ft.matrixWorldInverse.copy(ft.matrixWorld).invert()}this.updateCamera=function(ft){if(i===null)return;L.texture!==null&&(ft.near=L.depthNear,ft.far=L.depthFar),se.near=ve.near=ae.near=ft.near,se.far=ve.far=ae.far=ft.far,(Te!==se.near||dt!==se.far)&&(i.updateRenderState({depthNear:se.near,depthFar:se.far}),Te=se.near,dt=se.far,ae.near=Te,ae.far=dt,ve.near=Te,ve.far=dt,ae.updateProjectionMatrix(),ve.updateProjectionMatrix(),ft.updateProjectionMatrix());const kt=ft.parent,Xt=se.cameras;ht(se,kt);for(let Ut=0;Ut<Xt.length;Ut++)ht(Xt[Ut],kt);Xt.length===2?Ne(se,ae,ve):se.projectionMatrix.copy(ae.projectionMatrix),pt(ft,se,kt)};function pt(ft,kt,Xt){Xt===null?ft.matrix.copy(kt.matrixWorld):(ft.matrix.copy(Xt.matrixWorld),ft.matrix.invert(),ft.matrix.multiply(kt.matrixWorld)),ft.matrix.decompose(ft.position,ft.quaternion,ft.scale),ft.updateMatrixWorld(!0),ft.projectionMatrix.copy(kt.projectionMatrix),ft.projectionMatrixInverse.copy(kt.projectionMatrixInverse),ft.isPerspectiveCamera&&(ft.fov=og*2*Math.atan(1/ft.projectionMatrix.elements[5]),ft.zoom=1)}this.getCamera=function(){return se},this.getFoveation=function(){if(!(T===null&&R===null))return m},this.setFoveation=function(ft){m=ft,T!==null&&(T.fixedFoveation=ft),R!==null&&R.fixedFoveation!==void 0&&(R.fixedFoveation=ft)},this.hasDepthSensing=function(){return L.texture!==null};let It=null;function tn(ft,kt){if(x=kt.getViewerPose(v||u),G=kt,x!==null){const Xt=x.views;R!==null&&(e.setRenderTargetFramebuffer(C,R.framebuffer),e.setRenderTarget(C));let Ut=!1;Xt.length!==se.cameras.length&&(se.cameras.length=0,Ut=!0);for(let bt=0;bt<Xt.length;bt++){const Nt=Xt[bt];let je=null;if(R!==null)je=R.getViewport(Nt);else{const ln=S.getViewSubImage(T,Nt);je=ln.viewport,bt===0&&(e.setRenderTargetTextures(C,ln.colorTexture,T.ignoreDepthValues?void 0:ln.depthStencilTexture),e.setRenderTarget(C))}let Cn=W[bt];Cn===void 0&&(Cn=new Ds,Cn.layers.enable(bt),Cn.viewport=new kr,W[bt]=Cn),Cn.matrix.fromArray(Nt.transform.matrix),Cn.matrix.decompose(Cn.position,Cn.quaternion,Cn.scale),Cn.projectionMatrix.fromArray(Nt.projectionMatrix),Cn.projectionMatrixInverse.copy(Cn.projectionMatrix).invert(),Cn.viewport.set(je.x,je.y,je.width,je.height),bt===0&&(se.matrix.copy(Cn.matrix),se.matrix.decompose(se.position,se.quaternion,se.scale)),Ut===!0&&se.cameras.push(Cn)}const it=i.enabledFeatures;if(it&&it.includes("depth-sensing")){const bt=S.getDepthInformation(Xt[0]);bt&&bt.isValid&&bt.texture&&L.init(e,bt,i.renderState)}}for(let Xt=0;Xt<V.length;Xt++){const Ut=Y[Xt],it=V[Xt];Ut!==null&&it!==void 0&&it.update(Ut,kt,v||u)}L.render(e,se),It&&It(ft,kt),kt.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:kt}),G=null}const pn=new s6e;pn.setAnimationLoop(tn),this.setAnimationLoop=function(ft){It=ft},this.dispose=function(){}}}const e2=new qi,ize=new In;function sze(t,e){function n(B,z){B.matrixAutoUpdate===!0&&B.updateMatrix(),z.value.copy(B.matrix)}function r(B,z){z.color.getRGB(B.fogColor.value,i6e(t)),z.isFog?(B.fogNear.value=z.near,B.fogFar.value=z.far):z.isFogExp2&&(B.fogDensity.value=z.density)}function i(B,z,C,V,Y){z.isMeshBasicMaterial||z.isMeshLambertMaterial?o(B,z):z.isMeshToonMaterial?(o(B,z),S(B,z)):z.isMeshPhongMaterial?(o(B,z),x(B,z)):z.isMeshStandardMaterial?(o(B,z),T(B,z),z.isMeshPhysicalMaterial&&R(B,z,Y)):z.isMeshMatcapMaterial?(o(B,z),G(B,z)):z.isMeshDepthMaterial?o(B,z):z.isMeshDistanceMaterial?(o(B,z),L(B,z)):z.isMeshNormalMaterial?o(B,z):z.isLineBasicMaterial?(u(B,z),z.isLineDashedMaterial&&d(B,z)):z.isPointsMaterial?m(B,z,C,V):z.isSpriteMaterial?v(B,z):z.isShadowMaterial?(B.color.value.copy(z.color),B.opacity.value=z.opacity):z.isShaderMaterial&&(z.uniformsNeedUpdate=!1)}function o(B,z){B.opacity.value=z.opacity,z.color&&B.diffuse.value.copy(z.color),z.emissive&&B.emissive.value.copy(z.emissive).multiplyScalar(z.emissiveIntensity),z.map&&(B.map.value=z.map,n(z.map,B.mapTransform)),z.alphaMap&&(B.alphaMap.value=z.alphaMap,n(z.alphaMap,B.alphaMapTransform)),z.bumpMap&&(B.bumpMap.value=z.bumpMap,n(z.bumpMap,B.bumpMapTransform),B.bumpScale.value=z.bumpScale,z.side===Ss&&(B.bumpScale.value*=-1)),z.normalMap&&(B.normalMap.value=z.normalMap,n(z.normalMap,B.normalMapTransform),B.normalScale.value.copy(z.normalScale),z.side===Ss&&B.normalScale.value.negate()),z.displacementMap&&(B.displacementMap.value=z.displacementMap,n(z.displacementMap,B.displacementMapTransform),B.displacementScale.value=z.displacementScale,B.displacementBias.value=z.displacementBias),z.emissiveMap&&(B.emissiveMap.value=z.emissiveMap,n(z.emissiveMap,B.emissiveMapTransform)),z.specularMap&&(B.specularMap.value=z.specularMap,n(z.specularMap,B.specularMapTransform)),z.alphaTest>0&&(B.alphaTest.value=z.alphaTest);const C=e.get(z),V=C.envMap,Y=C.envMapRotation;if(V&&(B.envMap.value=V,e2.copy(Y),e2.x*=-1,e2.y*=-1,e2.z*=-1,V.isCubeTexture&&V.isRenderTargetTexture===!1&&(e2.y*=-1,e2.z*=-1),B.envMapRotation.value.setFromMatrix4(ize.makeRotationFromEuler(e2)),B.flipEnvMap.value=V.isCubeTexture&&V.isRenderTargetTexture===!1?-1:1,B.reflectivity.value=z.reflectivity,B.ior.value=z.ior,B.refractionRatio.value=z.refractionRatio),z.lightMap){B.lightMap.value=z.lightMap;const me=t._useLegacyLights===!0?Math.PI:1;B.lightMapIntensity.value=z.lightMapIntensity*me,n(z.lightMap,B.lightMapTransform)}z.aoMap&&(B.aoMap.value=z.aoMap,B.aoMapIntensity.value=z.aoMapIntensity,n(z.aoMap,B.aoMapTransform))}function u(B,z){B.diffuse.value.copy(z.color),B.opacity.value=z.opacity,z.map&&(B.map.value=z.map,n(z.map,B.mapTransform))}function d(B,z){B.dashSize.value=z.dashSize,B.totalSize.value=z.dashSize+z.gapSize,B.scale.value=z.scale}function m(B,z,C,V){B.diffuse.value.copy(z.color),B.opacity.value=z.opacity,B.size.value=z.size*C,B.scale.value=V*.5,z.map&&(B.map.value=z.map,n(z.map,B.uvTransform)),z.alphaMap&&(B.alphaMap.value=z.alphaMap,n(z.alphaMap,B.alphaMapTransform)),z.alphaTest>0&&(B.alphaTest.value=z.alphaTest)}function v(B,z){B.diffuse.value.copy(z.color),B.opacity.value=z.opacity,B.rotation.value=z.rotation,z.map&&(B.map.value=z.map,n(z.map,B.mapTransform)),z.alphaMap&&(B.alphaMap.value=z.alphaMap,n(z.alphaMap,B.alphaMapTransform)),z.alphaTest>0&&(B.alphaTest.value=z.alphaTest)}function x(B,z){B.specular.value.copy(z.specular),B.shininess.value=Math.max(z.shininess,1e-4)}function S(B,z){z.gradientMap&&(B.gradientMap.value=z.gradientMap)}function T(B,z){B.metalness.value=z.metalness,z.metalnessMap&&(B.metalnessMap.value=z.metalnessMap,n(z.metalnessMap,B.metalnessMapTransform)),B.roughness.value=z.roughness,z.roughnessMap&&(B.roughnessMap.value=z.roughnessMap,n(z.roughnessMap,B.roughnessMapTransform)),z.envMap&&(B.envMapIntensity.value=z.envMapIntensity)}function R(B,z,C){B.ior.value=z.ior,z.sheen>0&&(B.sheenColor.value.copy(z.sheenColor).multiplyScalar(z.sheen),B.sheenRoughness.value=z.sheenRoughness,z.sheenColorMap&&(B.sheenColorMap.value=z.sheenColorMap,n(z.sheenColorMap,B.sheenColorMapTransform)),z.sheenRoughnessMap&&(B.sheenRoughnessMap.value=z.sheenRoughnessMap,n(z.sheenRoughnessMap,B.sheenRoughnessMapTransform))),z.clearcoat>0&&(B.clearcoat.value=z.clearcoat,B.clearcoatRoughness.value=z.clearcoatRoughness,z.clearcoatMap&&(B.clearcoatMap.value=z.clearcoatMap,n(z.clearcoatMap,B.clearcoatMapTransform)),z.clearcoatRoughnessMap&&(B.clearcoatRoughnessMap.value=z.clearcoatRoughnessMap,n(z.clearcoatRoughnessMap,B.clearcoatRoughnessMapTransform)),z.clearcoatNormalMap&&(B.clearcoatNormalMap.value=z.clearcoatNormalMap,n(z.clearcoatNormalMap,B.clearcoatNormalMapTransform),B.clearcoatNormalScale.value.copy(z.clearcoatNormalScale),z.side===Ss&&B.clearcoatNormalScale.value.negate())),z.iridescence>0&&(B.iridescence.value=z.iridescence,B.iridescenceIOR.value=z.iridescenceIOR,B.iridescenceThicknessMinimum.value=z.iridescenceThicknessRange[0],B.iridescenceThicknessMaximum.value=z.iridescenceThicknessRange[1],z.iridescenceMap&&(B.iridescenceMap.value=z.iridescenceMap,n(z.iridescenceMap,B.iridescenceMapTransform)),z.iridescenceThicknessMap&&(B.iridescenceThicknessMap.value=z.iridescenceThicknessMap,n(z.iridescenceThicknessMap,B.iridescenceThicknessMapTransform))),z.transmission>0&&(B.transmission.value=z.transmission,B.transmissionSamplerMap.value=C.texture,B.transmissionSamplerSize.value.set(C.width,C.height),z.transmissionMap&&(B.transmissionMap.value=z.transmissionMap,n(z.transmissionMap,B.transmissionMapTransform)),B.thickness.value=z.thickness,z.thicknessMap&&(B.thicknessMap.value=z.thicknessMap,n(z.thicknessMap,B.thicknessMapTransform)),B.attenuationDistance.value=z.attenuationDistance,B.attenuationColor.value.copy(z.attenuationColor)),z.anisotropy>0&&(B.anisotropyVector.value.set(z.anisotropy*Math.cos(z.anisotropyRotation),z.anisotropy*Math.sin(z.anisotropyRotation)),z.anisotropyMap&&(B.anisotropyMap.value=z.anisotropyMap,n(z.anisotropyMap,B.anisotropyMapTransform))),B.specularIntensity.value=z.specularIntensity,B.specularColor.value.copy(z.specularColor),z.specularColorMap&&(B.specularColorMap.value=z.specularColorMap,n(z.specularColorMap,B.specularColorMapTransform)),z.specularIntensityMap&&(B.specularIntensityMap.value=z.specularIntensityMap,n(z.specularIntensityMap,B.specularIntensityMapTransform))}function G(B,z){z.matcap&&(B.matcap.value=z.matcap)}function L(B,z){const C=e.get(z).light;B.referencePosition.value.setFromMatrixPosition(C.matrixWorld),B.nearDistance.value=C.shadow.camera.near,B.farDistance.value=C.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function oze(t,e,n,r){let i={},o={},u=[];const d=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function m(C,V){const Y=V.program;r.uniformBlockBinding(C,Y)}function v(C,V){let Y=i[C.id];Y===void 0&&(G(C),Y=x(C),i[C.id]=Y,C.addEventListener("dispose",B));const me=V.program;r.updateUBOMapping(C,me);const q=e.render.frame;o[C.id]!==q&&(T(C),o[C.id]=q)}function x(C){const V=S();C.__bindingPointIndex=V;const Y=t.createBuffer(),me=C.__size,q=C.usage;return t.bindBuffer(t.UNIFORM_BUFFER,Y),t.bufferData(t.UNIFORM_BUFFER,me,q),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,V,Y),Y}function S(){for(let C=0;C<d;C++)if(u.indexOf(C)===-1)return u.push(C),C;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function T(C){const V=i[C.id],Y=C.uniforms,me=C.__cache;t.bindBuffer(t.UNIFORM_BUFFER,V);for(let q=0,ae=Y.length;q<ae;q++){const ve=Array.isArray(Y[q])?Y[q]:[Y[q]];for(let W=0,se=ve.length;W<se;W++){const Te=ve[W];if(R(Te,q,W,me)===!0){const dt=Te.__offset,He=Array.isArray(Te.value)?Te.value:[Te.value];let xe=0;for(let gt=0;gt<He.length;gt++){const ze=He[gt],At=L(ze);typeof ze=="number"||typeof ze=="boolean"?(Te.__data[0]=ze,t.bufferSubData(t.UNIFORM_BUFFER,dt+xe,Te.__data)):ze.isMatrix3?(Te.__data[0]=ze.elements[0],Te.__data[1]=ze.elements[1],Te.__data[2]=ze.elements[2],Te.__data[3]=0,Te.__data[4]=ze.elements[3],Te.__data[5]=ze.elements[4],Te.__data[6]=ze.elements[5],Te.__data[7]=0,Te.__data[8]=ze.elements[6],Te.__data[9]=ze.elements[7],Te.__data[10]=ze.elements[8],Te.__data[11]=0):(ze.toArray(Te.__data,xe),xe+=At.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,dt,Te.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function R(C,V,Y,me){const q=C.value,ae=V+"_"+Y;if(me[ae]===void 0)return typeof q=="number"||typeof q=="boolean"?me[ae]=q:me[ae]=q.clone(),!0;{const ve=me[ae];if(typeof q=="number"||typeof q=="boolean"){if(ve!==q)return me[ae]=q,!0}else if(ve.equals(q)===!1)return ve.copy(q),!0}return!1}function G(C){const V=C.uniforms;let Y=0;const me=16;for(let ae=0,ve=V.length;ae<ve;ae++){const W=Array.isArray(V[ae])?V[ae]:[V[ae]];for(let se=0,Te=W.length;se<Te;se++){const dt=W[se],He=Array.isArray(dt.value)?dt.value:[dt.value];for(let xe=0,gt=He.length;xe<gt;xe++){const ze=He[xe],At=L(ze),Ne=Y%me;Ne!==0&&me-Ne<At.boundary&&(Y+=me-Ne),dt.__data=new Float32Array(At.storage/Float32Array.BYTES_PER_ELEMENT),dt.__offset=Y,Y+=At.storage}}}const q=Y%me;return q>0&&(Y+=me-q),C.__size=Y,C.__cache={},this}function L(C){const V={boundary:0,storage:0};return typeof C=="number"||typeof C=="boolean"?(V.boundary=4,V.storage=4):C.isVector2?(V.boundary=8,V.storage=8):C.isVector3||C.isColor?(V.boundary=16,V.storage=12):C.isVector4?(V.boundary=16,V.storage=16):C.isMatrix3?(V.boundary=48,V.storage=48):C.isMatrix4?(V.boundary=64,V.storage=64):C.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",C),V}function B(C){const V=C.target;V.removeEventListener("dispose",B);const Y=u.indexOf(V.__bindingPointIndex);u.splice(Y,1),t.deleteBuffer(i[V.id]),delete i[V.id],delete o[V.id]}function z(){for(const C in i)t.deleteBuffer(i[C]);u=[],i={},o={}}return{bind:m,update:v,dispose:z}}class h6e{constructor(e={}){const{canvas:n=YOe(),context:r=null,depth:i=!0,stencil:o=!1,alpha:u=!1,antialias:d=!1,premultipliedAlpha:m=!0,preserveDrawingBuffer:v=!1,powerPreference:x="default",failIfMajorPerformanceCaveat:S=!1}=e;this.isWebGLRenderer=!0;let T;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");T=r.getContextAttributes().alpha}else T=u;const R=new Uint32Array(4),G=new Int32Array(4);let L=null,B=null;const z=[],C=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=ri,this._useLegacyLights=!1,this.toneMapping=Uf,this.toneMappingExposure=1;const V=this;let Y=!1,me=0,q=0,ae=null,ve=-1,W=null;const se=new kr,Te=new kr;let dt=null;const He=new cn(0);let xe=0,gt=n.width,ze=n.height,At=1,Ne=null,ht=null;const pt=new kr(0,0,gt,ze),It=new kr(0,0,gt,ze);let tn=!1;const pn=new PW;let ft=!1,kt=!1;const Xt=new In,Ut=new nn,it=new Re,bt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Nt(){return ae===null?At:1}let je=r;function Cn(be,Ye){const vt=n.getContext(be,Ye);return vt!==null?vt:null}try{const be={alpha:!0,depth:i,stencil:o,antialias:d,premultipliedAlpha:m,preserveDrawingBuffer:v,powerPreference:x,failIfMajorPerformanceCaveat:S};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${d_}`),n.addEventListener("webglcontextlost",st,!1),n.addEventListener("webglcontextrestored",Mt,!1),n.addEventListener("webglcontextcreationerror",qt,!1),je===null){const Ye="webgl2";if(je=Cn(Ye,be),je===null)throw Cn(Ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(be){throw console.error("THREE.WebGLRenderer: "+be.message),be}let ln,rn,Ot,dn,Pe,de,Ze,Et,Ct,Dt,hn,Rt,Pn,On,Yt,an,Fn,gn,fn,ar,Bn,gr,hr,rr;function vn(){ln=new gBe(je),ln.init(),rn=new cBe(je,ln,e),gr=new ZUe(je,ln),Ot=new qUe(je),dn=new bBe(je),Pe=new NUe,de=new YUe(je,ln,Ot,Pe,rn,gr,dn),Ze=new hBe(V),Et=new mBe(V),Ct=new CLe(je),hr=new lBe(je,Ct),Dt=new vBe(je,Ct,dn,hr),hn=new wBe(je,Dt,Ct,dn),fn=new _Be(je,rn,de),an=new dBe(Pe),Rt=new LUe(V,Ze,Et,ln,rn,hr,an),Pn=new sze(V,Pe),On=new BUe,Yt=new GUe(ln),gn=new aBe(V,Ze,Et,Ot,hn,T,m),Fn=new XUe(V,hn,rn),rr=new oze(je,dn,rn,Ot),ar=new uBe(je,ln,dn),Bn=new yBe(je,ln,dn),dn.programs=Rt.programs,V.capabilities=rn,V.extensions=ln,V.properties=Pe,V.renderLists=On,V.shadowMap=Fn,V.state=Ot,V.info=dn}vn();const ne=new rze(V,je);this.xr=ne,this.getContext=function(){return je},this.getContextAttributes=function(){return je.getContextAttributes()},this.forceContextLoss=function(){const be=ln.get("WEBGL_lose_context");be&&be.loseContext()},this.forceContextRestore=function(){const be=ln.get("WEBGL_lose_context");be&&be.restoreContext()},this.getPixelRatio=function(){return At},this.setPixelRatio=function(be){be!==void 0&&(At=be,this.setSize(gt,ze,!1))},this.getSize=function(be){return be.set(gt,ze)},this.setSize=function(be,Ye,vt=!0){if(ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}gt=be,ze=Ye,n.width=Math.floor(be*At),n.height=Math.floor(Ye*At),vt===!0&&(n.style.width=be+"px",n.style.height=Ye+"px"),this.setViewport(0,0,be,Ye)},this.getDrawingBufferSize=function(be){return be.set(gt*At,ze*At).floor()},this.setDrawingBufferSize=function(be,Ye,vt){gt=be,ze=Ye,At=vt,n.width=Math.floor(be*vt),n.height=Math.floor(Ye*vt),this.setViewport(0,0,be,Ye)},this.getCurrentViewport=function(be){return be.copy(se)},this.getViewport=function(be){return be.copy(pt)},this.setViewport=function(be,Ye,vt,_t){be.isVector4?pt.set(be.x,be.y,be.z,be.w):pt.set(be,Ye,vt,_t),Ot.viewport(se.copy(pt).multiplyScalar(At).round())},this.getScissor=function(be){return be.copy(It)},this.setScissor=function(be,Ye,vt,_t){be.isVector4?It.set(be.x,be.y,be.z,be.w):It.set(be,Ye,vt,_t),Ot.scissor(Te.copy(It).multiplyScalar(At).round())},this.getScissorTest=function(){return tn},this.setScissorTest=function(be){Ot.setScissorTest(tn=be)},this.setOpaqueSort=function(be){Ne=be},this.setTransparentSort=function(be){ht=be},this.getClearColor=function(be){return be.copy(gn.getClearColor())},this.setClearColor=function(){gn.setClearColor.apply(gn,arguments)},this.getClearAlpha=function(){return gn.getClearAlpha()},this.setClearAlpha=function(){gn.setClearAlpha.apply(gn,arguments)},this.clear=function(be=!0,Ye=!0,vt=!0){let _t=0;if(be){let ot=!1;if(ae!==null){const Jt=ae.texture.format;ot=Jt===Y8e||Jt===q8e||Jt===X8e}if(ot){const Jt=ae.texture.type,Mn=Jt===E0||Jt===I2||Jt===G8e||Jt===yg||Jt===W8e||Jt===K8e,Dn=gn.getClearColor(),Un=gn.getClearAlpha(),Wn=Dn.r,Hn=Dn.g,Kn=Dn.b;Mn?(R[0]=Wn,R[1]=Hn,R[2]=Kn,R[3]=Un,je.clearBufferuiv(je.COLOR,0,R)):(G[0]=Wn,G[1]=Hn,G[2]=Kn,G[3]=Un,je.clearBufferiv(je.COLOR,0,G))}else _t|=je.COLOR_BUFFER_BIT}Ye&&(_t|=je.DEPTH_BUFFER_BIT),vt&&(_t|=je.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),je.clear(_t)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",st,!1),n.removeEventListener("webglcontextrestored",Mt,!1),n.removeEventListener("webglcontextcreationerror",qt,!1),On.dispose(),Yt.dispose(),Pe.dispose(),Ze.dispose(),Et.dispose(),hn.dispose(),hr.dispose(),rr.dispose(),Rt.dispose(),ne.dispose(),ne.removeEventListener("sessionstart",Ir),ne.removeEventListener("sessionend",vr),Qr.stop()};function st(be){be.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Y=!0}function Mt(){console.log("THREE.WebGLRenderer: Context Restored."),Y=!1;const be=dn.autoReset,Ye=Fn.enabled,vt=Fn.autoUpdate,_t=Fn.needsUpdate,ot=Fn.type;vn(),dn.autoReset=be,Fn.enabled=Ye,Fn.autoUpdate=vt,Fn.needsUpdate=_t,Fn.type=ot}function qt(be){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",be.statusMessage)}function on(be){const Ye=be.target;Ye.removeEventListener("dispose",on),Yn(Ye)}function Yn(be){Zn(be),Pe.remove(be)}function Zn(be){const Ye=Pe.get(be).programs;Ye!==void 0&&(Ye.forEach(function(vt){Rt.releaseProgram(vt)}),be.isShaderMaterial&&Rt.releaseShaderCache(be))}this.renderBufferDirect=function(be,Ye,vt,_t,ot,Jt){Ye===null&&(Ye=bt);const Mn=ot.isMesh&&ot.matrixWorld.determinant()<0,Dn=wh(be,Ye,vt,_t,ot);Ot.setMaterial(_t,Mn);let Un=vt.index,Wn=1;if(_t.wireframe===!0){if(Un=Dt.getWireframeAttribute(vt),Un===void 0)return;Wn=2}const Hn=vt.drawRange,Kn=vt.attributes.position;let Cr=Hn.start*Wn,si=(Hn.start+Hn.count)*Wn;Jt!==null&&(Cr=Math.max(Cr,Jt.start*Wn),si=Math.min(si,(Jt.start+Jt.count)*Wn)),Un!==null?(Cr=Math.max(Cr,0),si=Math.min(si,Un.count)):Kn!=null&&(Cr=Math.max(Cr,0),si=Math.min(si,Kn.count));const Di=si-Cr;if(Di<0||Di===1/0)return;hr.setup(ot,_t,Dn,vt,Un);let lo,Xr=ar;if(Un!==null&&(lo=Ct.get(Un),Xr=Bn,Xr.setIndex(lo)),ot.isMesh)_t.wireframe===!0?(Ot.setLineWidth(_t.wireframeLinewidth*Nt()),Xr.setMode(je.LINES)):Xr.setMode(je.TRIANGLES);else if(ot.isLine){let Gn=_t.linewidth;Gn===void 0&&(Gn=1),Ot.setLineWidth(Gn*Nt()),ot.isLineSegments?Xr.setMode(je.LINES):ot.isLineLoop?Xr.setMode(je.LINE_LOOP):Xr.setMode(je.LINE_STRIP)}else ot.isPoints?Xr.setMode(je.POINTS):ot.isSprite&&Xr.setMode(je.TRIANGLES);if(ot.isBatchedMesh)Xr.renderMultiDraw(ot._multiDrawStarts,ot._multiDrawCounts,ot._multiDrawCount);else if(ot.isInstancedMesh)Xr.renderInstances(Cr,Di,ot.count);else if(vt.isInstancedBufferGeometry){const Gn=vt._maxInstanceCount!==void 0?vt._maxInstanceCount:1/0,na=Math.min(vt.instanceCount,Gn);Xr.renderInstances(Cr,Di,na)}else Xr.render(Cr,Di)};function Kr(be,Ye,vt){be.transparent===!0&&be.side===Sa&&be.forceSinglePass===!1?(be.side=Ss,be.needsUpdate=!0,ku(be,Ye,vt),be.side=Rc,be.needsUpdate=!0,ku(be,Ye,vt),be.side=Sa):ku(be,Ye,vt)}this.compile=function(be,Ye,vt=null){vt===null&&(vt=be),B=Yt.get(vt),B.init(),C.push(B),vt.traverseVisible(function(ot){ot.isLight&&ot.layers.test(Ye.layers)&&(B.pushLight(ot),ot.castShadow&&B.pushShadow(ot))}),be!==vt&&be.traverseVisible(function(ot){ot.isLight&&ot.layers.test(Ye.layers)&&(B.pushLight(ot),ot.castShadow&&B.pushShadow(ot))}),B.setupLights(V._useLegacyLights);const _t=new Set;return be.traverse(function(ot){const Jt=ot.material;if(Jt)if(Array.isArray(Jt))for(let Mn=0;Mn<Jt.length;Mn++){const Dn=Jt[Mn];Kr(Dn,vt,ot),_t.add(Dn)}else Kr(Jt,vt,ot),_t.add(Jt)}),C.pop(),B=null,_t},this.compileAsync=function(be,Ye,vt=null){const _t=this.compile(be,Ye,vt);return new Promise(ot=>{function Jt(){if(_t.forEach(function(Mn){Pe.get(Mn).currentProgram.isReady()&&_t.delete(Mn)}),_t.size===0){ot(be);return}setTimeout(Jt,10)}ln.get("KHR_parallel_shader_compile")!==null?Jt():setTimeout(Jt,10)})};let Zr=null;function wr(be){Zr&&Zr(be)}function Ir(){Qr.stop()}function vr(){Qr.start()}const Qr=new s6e;Qr.setAnimationLoop(wr),typeof self<"u"&&Qr.setContext(self),this.setAnimationLoop=function(be){Zr=be,ne.setAnimationLoop(be),be===null?Qr.stop():Qr.start()},ne.addEventListener("sessionstart",Ir),ne.addEventListener("sessionend",vr),this.render=function(be,Ye){if(Ye!==void 0&&Ye.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(Y===!0)return;be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),Ye.parent===null&&Ye.matrixWorldAutoUpdate===!0&&Ye.updateMatrixWorld(),ne.enabled===!0&&ne.isPresenting===!0&&(ne.cameraAutoUpdate===!0&&ne.updateCamera(Ye),Ye=ne.getCamera()),be.isScene===!0&&be.onBeforeRender(V,be,Ye,ae),B=Yt.get(be,C.length),B.init(),C.push(B),Xt.multiplyMatrices(Ye.projectionMatrix,Ye.matrixWorldInverse),pn.setFromProjectionMatrix(Xt),kt=this.localClippingEnabled,ft=an.init(this.clippingPlanes,kt),L=On.get(be,z.length),L.init(),z.push(L),Ns(be,Ye,0,V.sortObjects),L.finish(),V.sortObjects===!0&&L.sort(Ne,ht),this.info.render.frame++,ft===!0&&an.beginShadows();const vt=B.state.shadowsArray;if(Fn.render(vt,be,Ye),ft===!0&&an.endShadows(),this.info.autoReset===!0&&this.info.reset(),(ne.enabled===!1||ne.isPresenting===!1||ne.hasDepthSensing()===!1)&&gn.render(L,be),B.setupLights(V._useLegacyLights),Ye.isArrayCamera){const _t=Ye.cameras;for(let ot=0,Jt=_t.length;ot<Jt;ot++){const Mn=_t[ot];ea(L,be,Mn,Mn.viewport)}}else ea(L,be,Ye);ae!==null&&(de.updateMultisampleRenderTarget(ae),de.updateRenderTargetMipmap(ae)),be.isScene===!0&&be.onAfterRender(V,be,Ye),hr.resetDefaultState(),ve=-1,W=null,C.pop(),C.length>0?B=C[C.length-1]:B=null,z.pop(),z.length>0?L=z[z.length-1]:L=null};function Ns(be,Ye,vt,_t){if(be.visible===!1)return;if(be.layers.test(Ye.layers)){if(be.isGroup)vt=be.renderOrder;else if(be.isLOD)be.autoUpdate===!0&&be.update(Ye);else if(be.isLight)B.pushLight(be),be.castShadow&&B.pushShadow(be);else if(be.isSprite){if(!be.frustumCulled||pn.intersectsSprite(be)){_t&&it.setFromMatrixPosition(be.matrixWorld).applyMatrix4(Xt);const Mn=hn.update(be),Dn=be.material;Dn.visible&&L.push(be,Mn,Dn,vt,it.z,null)}}else if((be.isMesh||be.isLine||be.isPoints)&&(!be.frustumCulled||pn.intersectsObject(be))){const Mn=hn.update(be),Dn=be.material;if(_t&&(be.boundingSphere!==void 0?(be.boundingSphere===null&&be.computeBoundingSphere(),it.copy(be.boundingSphere.center)):(Mn.boundingSphere===null&&Mn.computeBoundingSphere(),it.copy(Mn.boundingSphere.center)),it.applyMatrix4(be.matrixWorld).applyMatrix4(Xt)),Array.isArray(Dn)){const Un=Mn.groups;for(let Wn=0,Hn=Un.length;Wn<Hn;Wn++){const Kn=Un[Wn],Cr=Dn[Kn.materialIndex];Cr&&Cr.visible&&L.push(be,Mn,Cr,vt,it.z,Kn)}}else Dn.visible&&L.push(be,Mn,Dn,vt,it.z,null)}}const Jt=be.children;for(let Mn=0,Dn=Jt.length;Mn<Dn;Mn++)Ns(Jt[Mn],Ye,vt,_t)}function ea(be,Ye,vt,_t){const ot=be.opaque,Jt=be.transmissive,Mn=be.transparent;B.setupLightsView(vt),ft===!0&&an.setGlobalState(V.clippingPlanes,vt),Jt.length>0&&Na(ot,Jt,Ye,vt),_t&&Ot.viewport(se.copy(_t)),ot.length>0&&ta(ot,Ye,vt),Jt.length>0&&ta(Jt,Ye,vt),Mn.length>0&&ta(Mn,Ye,vt),Ot.buffers.depth.setTest(!0),Ot.buffers.depth.setMask(!0),Ot.buffers.color.setMask(!0),Ot.setPolygonOffset(!1)}function Na(be,Ye,vt,_t){if((vt.isScene===!0?vt.overrideMaterial:null)!==null)return;if(B.state.transmissionRenderTarget===null){B.state.transmissionRenderTarget=new Aa(1,1,{generateMipmaps:!0,type:ln.has("EXT_color_buffer_half_float")||ln.has("EXT_color_buffer_float")?ig:E0,minFilter:v2,samples:4,stencilBuffer:o});const Wn=Pe.get(B.state.transmissionRenderTarget);Wn.__isTransmissionRenderTarget=!0}const Jt=B.state.transmissionRenderTarget;V.getDrawingBufferSize(Ut),Jt.setSize(Ut.x,Ut.y);const Mn=V.getRenderTarget();V.setRenderTarget(Jt),V.getClearColor(He),xe=V.getClearAlpha(),xe<1&&V.setClearColor(16777215,.5),V.clear();const Dn=V.toneMapping;V.toneMapping=Uf,ta(be,vt,_t),de.updateMultisampleRenderTarget(Jt),de.updateRenderTargetMipmap(Jt);let Un=!1;for(let Wn=0,Hn=Ye.length;Wn<Hn;Wn++){const Kn=Ye[Wn],Cr=Kn.object,si=Kn.geometry,Di=Kn.material,lo=Kn.group;if(Di.side===Sa&&Cr.layers.test(_t.layers)){const Xr=Di.side;Di.side=Ss,Di.needsUpdate=!0,Uc(Cr,vt,_t,si,Di,lo),Di.side=Xr,Di.needsUpdate=!0,Un=!0}}Un===!0&&(de.updateMultisampleRenderTarget(Jt),de.updateRenderTargetMipmap(Jt)),V.setRenderTarget(Mn),V.setClearColor(He,xe),V.toneMapping=Dn}function ta(be,Ye,vt){const _t=Ye.isScene===!0?Ye.overrideMaterial:null;for(let ot=0,Jt=be.length;ot<Jt;ot++){const Mn=be[ot],Dn=Mn.object,Un=Mn.geometry,Wn=_t===null?Mn.material:_t,Hn=Mn.group;Dn.layers.test(vt.layers)&&Uc(Dn,Ye,vt,Un,Wn,Hn)}}function Uc(be,Ye,vt,_t,ot,Jt){be.onBeforeRender(V,Ye,vt,_t,ot,Jt),be.modelViewMatrix.multiplyMatrices(vt.matrixWorldInverse,be.matrixWorld),be.normalMatrix.getNormalMatrix(be.modelViewMatrix),ot.onBeforeRender(V,Ye,vt,_t,be,Jt),ot.transparent===!0&&ot.side===Sa&&ot.forceSinglePass===!1?(ot.side=Ss,ot.needsUpdate=!0,V.renderBufferDirect(vt,Ye,_t,ot,be,Jt),ot.side=Rc,ot.needsUpdate=!0,V.renderBufferDirect(vt,Ye,_t,ot,be,Jt),ot.side=Sa):V.renderBufferDirect(vt,Ye,_t,ot,be,Jt),be.onAfterRender(V,Ye,vt,_t,ot,Jt)}function ku(be,Ye,vt){Ye.isScene!==!0&&(Ye=bt);const _t=Pe.get(be),ot=B.state.lights,Jt=B.state.shadowsArray,Mn=ot.state.version,Dn=Rt.getParameters(be,ot.state,Jt,Ye,vt),Un=Rt.getProgramCacheKey(Dn);let Wn=_t.programs;_t.environment=be.isMeshStandardMaterial?Ye.environment:null,_t.fog=Ye.fog,_t.envMap=(be.isMeshStandardMaterial?Et:Ze).get(be.envMap||_t.environment),_t.envMapRotation=_t.environment!==null&&be.envMap===null?Ye.environmentRotation:be.envMapRotation,Wn===void 0&&(be.addEventListener("dispose",on),Wn=new Map,_t.programs=Wn);let Hn=Wn.get(Un);if(Hn!==void 0){if(_t.currentProgram===Hn&&_t.lightsStateVersion===Mn)return Au(be,Dn),Hn}else Dn.uniforms=Rt.getUniforms(be),be.onBuild(vt,Dn,V),be.onBeforeCompile(Dn,V),Hn=Rt.acquireProgram(Dn,Un),Wn.set(Un,Hn),_t.uniforms=Dn.uniforms;const Kn=_t.uniforms;return(!be.isShaderMaterial&&!be.isRawShaderMaterial||be.clipping===!0)&&(Kn.clippingPlanes=an.uniform),Au(be,Dn),_t.needsLights=s0(be),_t.lightsStateVersion=Mn,_t.needsLights&&(Kn.ambientLightColor.value=ot.state.ambient,Kn.lightProbe.value=ot.state.probe,Kn.directionalLights.value=ot.state.directional,Kn.directionalLightShadows.value=ot.state.directionalShadow,Kn.spotLights.value=ot.state.spot,Kn.spotLightShadows.value=ot.state.spotShadow,Kn.rectAreaLights.value=ot.state.rectArea,Kn.ltc_1.value=ot.state.rectAreaLTC1,Kn.ltc_2.value=ot.state.rectAreaLTC2,Kn.pointLights.value=ot.state.point,Kn.pointLightShadows.value=ot.state.pointShadow,Kn.hemisphereLights.value=ot.state.hemi,Kn.directionalShadowMap.value=ot.state.directionalShadowMap,Kn.directionalShadowMatrix.value=ot.state.directionalShadowMatrix,Kn.spotShadowMap.value=ot.state.spotShadowMap,Kn.spotLightMatrix.value=ot.state.spotLightMatrix,Kn.spotLightMap.value=ot.state.spotLightMap,Kn.pointShadowMap.value=ot.state.pointShadowMap,Kn.pointShadowMatrix.value=ot.state.pointShadowMatrix),_t.currentProgram=Hn,_t.uniformsList=null,Hn}function i0(be){if(be.uniformsList===null){const Ye=be.currentProgram.getUniforms();be.uniformsList=Yk.seqWithValue(Ye.seq,be.uniforms)}return be.uniformsList}function Au(be,Ye){const vt=Pe.get(be);vt.outputColorSpace=Ye.outputColorSpace,vt.batching=Ye.batching,vt.instancing=Ye.instancing,vt.instancingColor=Ye.instancingColor,vt.instancingMorph=Ye.instancingMorph,vt.skinning=Ye.skinning,vt.morphTargets=Ye.morphTargets,vt.morphNormals=Ye.morphNormals,vt.morphColors=Ye.morphColors,vt.morphTargetsCount=Ye.morphTargetsCount,vt.numClippingPlanes=Ye.numClippingPlanes,vt.numIntersection=Ye.numClipIntersection,vt.vertexAlphas=Ye.vertexAlphas,vt.vertexTangents=Ye.vertexTangents,vt.toneMapping=Ye.toneMapping}function wh(be,Ye,vt,_t,ot){Ye.isScene!==!0&&(Ye=bt),de.resetTextureUnits();const Jt=Ye.fog,Mn=_t.isMeshStandardMaterial?Ye.environment:null,Dn=ae===null?V.outputColorSpace:ae.isXRRenderTarget===!0?ae.texture.colorSpace:Fc,Un=(_t.isMeshStandardMaterial?Et:Ze).get(_t.envMap||Mn),Wn=_t.vertexColors===!0&&!!vt.attributes.color&&vt.attributes.color.itemSize===4,Hn=!!vt.attributes.tangent&&(!!_t.normalMap||_t.anisotropy>0),Kn=!!vt.morphAttributes.position,Cr=!!vt.morphAttributes.normal,si=!!vt.morphAttributes.color;let Di=Uf;_t.toneMapped&&(ae===null||ae.isXRRenderTarget===!0)&&(Di=V.toneMapping);const lo=vt.morphAttributes.position||vt.morphAttributes.normal||vt.morphAttributes.color,Xr=lo!==void 0?lo.length:0,Gn=Pe.get(_t),na=B.state.lights;if(ft===!0&&(kt===!0||be!==W)){const Fs=be===W&&_t.id===ve;an.setState(_t,be,Fs)}let Wr=!1;_t.version===Gn.__version?(Gn.needsLights&&Gn.lightsStateVersion!==na.state.version||Gn.outputColorSpace!==Dn||ot.isBatchedMesh&&Gn.batching===!1||!ot.isBatchedMesh&&Gn.batching===!0||ot.isInstancedMesh&&Gn.instancing===!1||!ot.isInstancedMesh&&Gn.instancing===!0||ot.isSkinnedMesh&&Gn.skinning===!1||!ot.isSkinnedMesh&&Gn.skinning===!0||ot.isInstancedMesh&&Gn.instancingColor===!0&&ot.instanceColor===null||ot.isInstancedMesh&&Gn.instancingColor===!1&&ot.instanceColor!==null||ot.isInstancedMesh&&Gn.instancingMorph===!0&&ot.morphTexture===null||ot.isInstancedMesh&&Gn.instancingMorph===!1&&ot.morphTexture!==null||Gn.envMap!==Un||_t.fog===!0&&Gn.fog!==Jt||Gn.numClippingPlanes!==void 0&&(Gn.numClippingPlanes!==an.numPlanes||Gn.numIntersection!==an.numIntersection)||Gn.vertexAlphas!==Wn||Gn.vertexTangents!==Hn||Gn.morphTargets!==Kn||Gn.morphNormals!==Cr||Gn.morphColors!==si||Gn.toneMapping!==Di||Gn.morphTargetsCount!==Xr)&&(Wr=!0):(Wr=!0,Gn.__version=_t.version);let uo=Gn.currentProgram;Wr===!0&&(uo=ku(_t,Ye,ot));let El=!1,Fa=!1,ra=!1;const _i=uo.getUniforms(),co=Gn.uniforms;if(Ot.useProgram(uo.program)&&(El=!0,Fa=!0,ra=!0),_t.id!==ve&&(ve=_t.id,Fa=!0),El||W!==be){_i.setValue(je,"projectionMatrix",be.projectionMatrix),_i.setValue(je,"viewMatrix",be.matrixWorldInverse);const Fs=_i.map.cameraPosition;Fs!==void 0&&Fs.setValue(je,it.setFromMatrixPosition(be.matrixWorld)),rn.logarithmicDepthBuffer&&_i.setValue(je,"logDepthBufFC",2/(Math.log(be.far+1)/Math.LN2)),(_t.isMeshPhongMaterial||_t.isMeshToonMaterial||_t.isMeshLambertMaterial||_t.isMeshBasicMaterial||_t.isMeshStandardMaterial||_t.isShaderMaterial)&&_i.setValue(je,"isOrthographic",be.isOrthographicCamera===!0),W!==be&&(W=be,Fa=!0,ra=!0)}if(ot.isSkinnedMesh){_i.setOptional(je,ot,"bindMatrix"),_i.setOptional(je,ot,"bindMatrixInverse");const Fs=ot.skeleton;Fs&&(Fs.boneTexture===null&&Fs.computeBoneTexture(),_i.setValue(je,"boneTexture",Fs.boneTexture,de))}ot.isBatchedMesh&&(_i.setOptional(je,ot,"batchingTexture"),_i.setValue(je,"batchingTexture",ot._matricesTexture,de));const Iu=vt.morphAttributes;if((Iu.position!==void 0||Iu.normal!==void 0||Iu.color!==void 0)&&fn.update(ot,vt,uo),(Fa||Gn.receiveShadow!==ot.receiveShadow)&&(Gn.receiveShadow=ot.receiveShadow,_i.setValue(je,"receiveShadow",ot.receiveShadow)),_t.isMeshGouraudMaterial&&_t.envMap!==null&&(co.envMap.value=Un,co.flipEnvMap.value=Un.isCubeTexture&&Un.isRenderTargetTexture===!1?-1:1),_t.isMeshStandardMaterial&&_t.envMap===null&&Ye.environment!==null&&(co.envMapIntensity.value=Ye.environmentIntensity),Fa&&(_i.setValue(je,"toneMappingExposure",V.toneMappingExposure),Gn.needsLights&&o1(co,ra),Jt&&_t.fog===!0&&Pn.refreshFogUniforms(co,Jt),Pn.refreshMaterialUniforms(co,_t,At,ze,B.state.transmissionRenderTarget),Yk.upload(je,i0(Gn),co,de)),_t.isShaderMaterial&&_t.uniformsNeedUpdate===!0&&(Yk.upload(je,i0(Gn),co,de),_t.uniformsNeedUpdate=!1),_t.isSpriteMaterial&&_i.setValue(je,"center",ot.center),_i.setValue(je,"modelViewMatrix",ot.modelViewMatrix),_i.setValue(je,"normalMatrix",ot.normalMatrix),_i.setValue(je,"modelMatrix",ot.matrixWorld),_t.isShaderMaterial||_t.isRawShaderMaterial){const Fs=_t.uniformsGroups;for(let Ru=0,xh=Fs.length;Ru<xh;Ru++){const Du=Fs[Ru];rr.update(Du,uo),rr.bind(Du,uo)}}return uo}function o1(be,Ye){be.ambientLightColor.needsUpdate=Ye,be.lightProbe.needsUpdate=Ye,be.directionalLights.needsUpdate=Ye,be.directionalLightShadows.needsUpdate=Ye,be.pointLights.needsUpdate=Ye,be.pointLightShadows.needsUpdate=Ye,be.spotLights.needsUpdate=Ye,be.spotLightShadows.needsUpdate=Ye,be.rectAreaLights.needsUpdate=Ye,be.hemisphereLights.needsUpdate=Ye}function s0(be){return be.isMeshLambertMaterial||be.isMeshToonMaterial||be.isMeshPhongMaterial||be.isMeshStandardMaterial||be.isShadowMaterial||be.isShaderMaterial&&be.lights===!0}this.getActiveCubeFace=function(){return me},this.getActiveMipmapLevel=function(){return q},this.getRenderTarget=function(){return ae},this.setRenderTargetTextures=function(be,Ye,vt){Pe.get(be.texture).__webglTexture=Ye,Pe.get(be.depthTexture).__webglTexture=vt;const _t=Pe.get(be);_t.__hasExternalTextures=!0,_t.__autoAllocateDepthBuffer=vt===void 0,_t.__autoAllocateDepthBuffer||ln.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),_t.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(be,Ye){const vt=Pe.get(be);vt.__webglFramebuffer=Ye,vt.__useDefaultFramebuffer=Ye===void 0},this.setRenderTarget=function(be,Ye=0,vt=0){ae=be,me=Ye,q=vt;let _t=!0,ot=null,Jt=!1,Mn=!1;if(be){const Un=Pe.get(be);Un.__useDefaultFramebuffer!==void 0?(Ot.bindFramebuffer(je.FRAMEBUFFER,null),_t=!1):Un.__webglFramebuffer===void 0?de.setupRenderTarget(be):Un.__hasExternalTextures&&de.rebindTextures(be,Pe.get(be.texture).__webglTexture,Pe.get(be.depthTexture).__webglTexture);const Wn=be.texture;(Wn.isData3DTexture||Wn.isDataArrayTexture||Wn.isCompressedArrayTexture)&&(Mn=!0);const Hn=Pe.get(be).__webglFramebuffer;be.isWebGLCubeRenderTarget?(Array.isArray(Hn[Ye])?ot=Hn[Ye][vt]:ot=Hn[Ye],Jt=!0):be.samples>0&&de.useMultisampledRTT(be)===!1?ot=Pe.get(be).__webglMultisampledFramebuffer:Array.isArray(Hn)?ot=Hn[vt]:ot=Hn,se.copy(be.viewport),Te.copy(be.scissor),dt=be.scissorTest}else se.copy(pt).multiplyScalar(At).floor(),Te.copy(It).multiplyScalar(At).floor(),dt=tn;if(Ot.bindFramebuffer(je.FRAMEBUFFER,ot)&&_t&&Ot.drawBuffers(be,ot),Ot.viewport(se),Ot.scissor(Te),Ot.setScissorTest(dt),Jt){const Un=Pe.get(be.texture);je.framebufferTexture2D(je.FRAMEBUFFER,je.COLOR_ATTACHMENT0,je.TEXTURE_CUBE_MAP_POSITIVE_X+Ye,Un.__webglTexture,vt)}else if(Mn){const Un=Pe.get(be.texture),Wn=Ye||0;je.framebufferTextureLayer(je.FRAMEBUFFER,je.COLOR_ATTACHMENT0,Un.__webglTexture,vt||0,Wn)}ve=-1},this.readRenderTargetPixels=function(be,Ye,vt,_t,ot,Jt,Mn){if(!(be&&be.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Dn=Pe.get(be).__webglFramebuffer;if(be.isWebGLCubeRenderTarget&&Mn!==void 0&&(Dn=Dn[Mn]),Dn){Ot.bindFramebuffer(je.FRAMEBUFFER,Dn);try{const Un=be.texture,Wn=Un.format,Hn=Un.type;if(Wn!==Ca&&gr.convert(Wn)!==je.getParameter(je.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Kn=Hn===ig&&(ln.has("EXT_color_buffer_half_float")||ln.has("EXT_color_buffer_float"));if(Hn!==E0&&gr.convert(Hn)!==je.getParameter(je.IMPLEMENTATION_COLOR_READ_TYPE)&&Hn!==wu&&!Kn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ye>=0&&Ye<=be.width-_t&&vt>=0&&vt<=be.height-ot&&je.readPixels(Ye,vt,_t,ot,gr.convert(Wn),gr.convert(Hn),Jt)}finally{const Un=ae!==null?Pe.get(ae).__webglFramebuffer:null;Ot.bindFramebuffer(je.FRAMEBUFFER,Un)}}},this.copyFramebufferToTexture=function(be,Ye,vt=0){const _t=Math.pow(2,-vt),ot=Math.floor(Ye.image.width*_t),Jt=Math.floor(Ye.image.height*_t);de.setTexture2D(Ye,0),je.copyTexSubImage2D(je.TEXTURE_2D,vt,0,0,be.x,be.y,ot,Jt),Ot.unbindTexture()},this.copyTextureToTexture=function(be,Ye,vt,_t=0){const ot=Ye.image.width,Jt=Ye.image.height,Mn=gr.convert(vt.format),Dn=gr.convert(vt.type);de.setTexture2D(vt,0),je.pixelStorei(je.UNPACK_FLIP_Y_WEBGL,vt.flipY),je.pixelStorei(je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,vt.premultiplyAlpha),je.pixelStorei(je.UNPACK_ALIGNMENT,vt.unpackAlignment),Ye.isDataTexture?je.texSubImage2D(je.TEXTURE_2D,_t,be.x,be.y,ot,Jt,Mn,Dn,Ye.image.data):Ye.isCompressedTexture?je.compressedTexSubImage2D(je.TEXTURE_2D,_t,be.x,be.y,Ye.mipmaps[0].width,Ye.mipmaps[0].height,Mn,Ye.mipmaps[0].data):je.texSubImage2D(je.TEXTURE_2D,_t,be.x,be.y,Mn,Dn,Ye.image),_t===0&&vt.generateMipmaps&&je.generateMipmap(je.TEXTURE_2D),Ot.unbindTexture()},this.copyTextureToTexture3D=function(be,Ye,vt,_t,ot=0){const Jt=Math.round(be.max.x-be.min.x),Mn=Math.round(be.max.y-be.min.y),Dn=be.max.z-be.min.z+1,Un=gr.convert(_t.format),Wn=gr.convert(_t.type);let Hn;if(_t.isData3DTexture)de.setTexture3D(_t,0),Hn=je.TEXTURE_3D;else if(_t.isDataArrayTexture||_t.isCompressedArrayTexture)de.setTexture2DArray(_t,0),Hn=je.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}je.pixelStorei(je.UNPACK_FLIP_Y_WEBGL,_t.flipY),je.pixelStorei(je.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_t.premultiplyAlpha),je.pixelStorei(je.UNPACK_ALIGNMENT,_t.unpackAlignment);const Kn=je.getParameter(je.UNPACK_ROW_LENGTH),Cr=je.getParameter(je.UNPACK_IMAGE_HEIGHT),si=je.getParameter(je.UNPACK_SKIP_PIXELS),Di=je.getParameter(je.UNPACK_SKIP_ROWS),lo=je.getParameter(je.UNPACK_SKIP_IMAGES),Xr=vt.isCompressedTexture?vt.mipmaps[ot]:vt.image;je.pixelStorei(je.UNPACK_ROW_LENGTH,Xr.width),je.pixelStorei(je.UNPACK_IMAGE_HEIGHT,Xr.height),je.pixelStorei(je.UNPACK_SKIP_PIXELS,be.min.x),je.pixelStorei(je.UNPACK_SKIP_ROWS,be.min.y),je.pixelStorei(je.UNPACK_SKIP_IMAGES,be.min.z),vt.isDataTexture||vt.isData3DTexture?je.texSubImage3D(Hn,ot,Ye.x,Ye.y,Ye.z,Jt,Mn,Dn,Un,Wn,Xr.data):_t.isCompressedArrayTexture?je.compressedTexSubImage3D(Hn,ot,Ye.x,Ye.y,Ye.z,Jt,Mn,Dn,Un,Xr.data):je.texSubImage3D(Hn,ot,Ye.x,Ye.y,Ye.z,Jt,Mn,Dn,Un,Wn,Xr),je.pixelStorei(je.UNPACK_ROW_LENGTH,Kn),je.pixelStorei(je.UNPACK_IMAGE_HEIGHT,Cr),je.pixelStorei(je.UNPACK_SKIP_PIXELS,si),je.pixelStorei(je.UNPACK_SKIP_ROWS,Di),je.pixelStorei(je.UNPACK_SKIP_IMAGES,lo),ot===0&&_t.generateMipmaps&&je.generateMipmap(Hn),Ot.unbindTexture()},this.initTexture=function(be){be.isCubeTexture?de.setTextureCube(be,0):be.isData3DTexture?de.setTexture3D(be,0):be.isDataArrayTexture||be.isCompressedArrayTexture?de.setTexture2DArray(be,0):de.setTexture2D(be,0),Ot.unbindTexture()},this.resetState=function(){me=0,q=0,ae=null,Ot.reset(),hr.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return th}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===xW?"display-p3":"srgb",n.unpackColorSpace=ci.workingColorSpace===kI?"display-p3":"srgb"}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class Bb extends Ar{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new qi,this.environmentIntensity=1,this.environmentRotation=new qi,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}const h3e=new Re,p3e=new kr,f3e=new kr,aze=new Re,m3e=new In,_k=new Re,Fj=new W2,g3e=new In,Bj=new wg;class p6e extends hi{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=q2e,this.bindMatrix=new In,this.bindMatrixInverse=new In,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new _g),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,_k),this.boundingBox.expandByPoint(_k)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new W2),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,_k),this.boundingSphere.expandByPoint(_k)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Fj.copy(this.boundingSphere),Fj.applyMatrix4(i),e.ray.intersectsSphere(Fj)!==!1&&(g3e.copy(i).invert(),Bj.copy(e.ray).applyMatrix4(g3e),!(this.boundingBox!==null&&Bj.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Bj)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new kr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===q2e?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===uOe?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;p3e.fromBufferAttribute(i.attributes.skinIndex,e),f3e.fromBufferAttribute(i.attributes.skinWeight,e),h3e.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const u=f3e.getComponent(o);if(u!==0){const d=p3e.getComponent(o);m3e.multiplyMatrices(r.bones[d].matrixWorld,r.boneInverses[d]),n.addScaledVector(aze.copy(h3e).applyMatrix4(m3e),u)}}return n.applyMatrix4(this.bindMatrixInverse)}}class IG extends Ar{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Yy extends Ji{constructor(e=null,n=1,r=1,i,o,u,d,m,v=so,x=so,S,T){super(null,u,d,m,v,x,i,o,S,T),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const v3e=new In,lze=new In;class kW{constructor(e=[],n=[]){this.uuid=e1(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new In)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new In;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,u=e.length;o<u;o++){const d=e[o]?e[o].matrixWorld:lze;v3e.multiplyMatrices(d,n[o]),v3e.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new kW(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Yy(n,e,e,Ca,wu);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let u=n[o];u===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),u=new IG),this.bones.push(u),this.boneInverses.push(new In().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const u=n[i];e.bones.push(u.uuid);const d=r[i];e.boneInverses.push(d.toArray())}return e}}class t1 extends I0{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new cn(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const y3e=new Re,b3e=new Re,_3e=new In,Uj=new wg,wk=new W2;class Ub extends Ar{constructor(e=new zi,n=new t1){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)y3e.fromBufferAttribute(n,i-1),b3e.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=y3e.distanceTo(b3e);e.setAttribute("lineDistance",new Sr(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,u=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),wk.copy(r.boundingSphere),wk.applyMatrix4(i),wk.radius+=o,e.ray.intersectsSphere(wk)===!1)return;_3e.copy(i).invert(),Uj.copy(e.ray).applyMatrix4(_3e);const d=o/((this.scale.x+this.scale.y+this.scale.z)/3),m=d*d,v=new Re,x=new Re,S=new Re,T=new Re,R=this.isLineSegments?2:1,G=r.index,B=r.attributes.position;if(G!==null){const z=Math.max(0,u.start),C=Math.min(G.count,u.start+u.count);for(let V=z,Y=C-1;V<Y;V+=R){const me=G.getX(V),q=G.getX(V+1);if(v.fromBufferAttribute(B,me),x.fromBufferAttribute(B,q),Uj.distanceSqToSegment(v,x,T,S)>m)continue;T.applyMatrix4(this.matrixWorld);const ve=e.ray.origin.distanceTo(T);ve<e.near||ve>e.far||n.push({distance:ve,point:S.clone().applyMatrix4(this.matrixWorld),index:V,face:null,faceIndex:null,object:this})}}else{const z=Math.max(0,u.start),C=Math.min(B.count,u.start+u.count);for(let V=z,Y=C-1;V<Y;V+=R){if(v.fromBufferAttribute(B,V),x.fromBufferAttribute(B,V+1),Uj.distanceSqToSegment(v,x,T,S)>m)continue;T.applyMatrix4(this.matrixWorld);const q=e.ray.origin.distanceTo(T);q<e.near||q>e.far||n.push({distance:q,point:S.clone().applyMatrix4(this.matrixWorld),index:V,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,u=i.length;o<u;o++){const d=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=o}}}}}const w3e=new Re,x3e=new Re;class DI extends Ub{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)w3e.fromBufferAttribute(n,i),x3e.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+w3e.distanceTo(x3e);e.setAttribute("lineDistance",new Sr(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class f6e extends I0{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new cn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const S3e=new In,RG=new wg,xk=new W2,Sk=new Re;class uze extends Ar{constructor(e=new zi,n=new f6e){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,u=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),xk.copy(r.boundingSphere),xk.applyMatrix4(i),xk.radius+=o,e.ray.intersectsSphere(xk)===!1)return;S3e.copy(i).invert(),RG.copy(e.ray).applyMatrix4(S3e);const d=o/((this.scale.x+this.scale.y+this.scale.z)/3),m=d*d,v=r.index,S=r.attributes.position;if(v!==null){const T=Math.max(0,u.start),R=Math.min(v.count,u.start+u.count);for(let G=T,L=R;G<L;G++){const B=v.getX(G);Sk.fromBufferAttribute(S,B),E3e(Sk,B,m,i,e,n,this)}}else{const T=Math.max(0,u.start),R=Math.min(S.count,u.start+u.count);for(let G=T,L=R;G<L;G++)Sk.fromBufferAttribute(S,G),E3e(Sk,G,m,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,u=i.length;o<u;o++){const d=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[d]=o}}}}}function E3e(t,e,n,r,i,o,u){const d=RG.distanceSqToPoint(t);if(d<n){const m=new Re;RG.closestPointToPoint(t,m),m.applyMatrix4(r);const v=i.ray.origin.distanceTo(m);if(v<i.near||v>i.far)return;o.push({distance:v,distanceToRay:Math.sqrt(d),point:m,index:e,face:null,object:u})}}class cze{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let u=1;u<=e;u++)r=this.getPoint(u/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let u;n?u=n:u=e*r[o-1];let d=0,m=o-1,v;for(;d<=m;)if(i=Math.floor(d+(m-d)/2),v=r[i]-u,v<0)d=i+1;else if(v>0)m=i-1;else{m=i;break}if(i=m,r[i]===u)return i/(o-1);const x=r[i],T=r[i+1]-x,R=(u-x)/T;return(i+R)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const u=this.getPoint(i),d=this.getPoint(o),m=n||(u.isVector2?new nn:new Re);return m.copy(d).sub(u).normalize(),m}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Re,i=[],o=[],u=[],d=new Re,m=new In;for(let R=0;R<=e;R++){const G=R/e;i[R]=this.getTangentAt(G,new Re)}o[0]=new Re,u[0]=new Re;let v=Number.MAX_VALUE;const x=Math.abs(i[0].x),S=Math.abs(i[0].y),T=Math.abs(i[0].z);x<=v&&(v=x,r.set(1,0,0)),S<=v&&(v=S,r.set(0,1,0)),T<=v&&r.set(0,0,1),d.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],d),u[0].crossVectors(i[0],o[0]);for(let R=1;R<=e;R++){if(o[R]=o[R-1].clone(),u[R]=u[R-1].clone(),d.crossVectors(i[R-1],i[R]),d.length()>Number.EPSILON){d.normalize();const G=Math.acos(Rs(i[R-1].dot(i[R]),-1,1));o[R].applyMatrix4(m.makeRotationAxis(d,G))}u[R].crossVectors(i[R],o[R])}if(n===!0){let R=Math.acos(Rs(o[0].dot(o[e]),-1,1));R/=e,i[0].dot(d.crossVectors(o[0],o[e]))>0&&(R=-R);for(let G=1;G<=e;G++)o[G].applyMatrix4(m.makeRotationAxis(i[G],R*G)),u[G].crossVectors(i[G],o[G])}return{tangents:i,normals:o,binormals:u}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class OI extends zi{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],u=[],d=[],m=[],v=new Re,x=new nn;u.push(0,0,0),d.push(0,0,1),m.push(.5,.5);for(let S=0,T=3;S<=n;S++,T+=3){const R=r+S/n*i;v.x=e*Math.cos(R),v.y=e*Math.sin(R),u.push(v.x,v.y,v.z),d.push(0,0,1),x.x=(u[T]/e+1)/2,x.y=(u[T+1]/e+1)/2,m.push(x.x,x.y)}for(let S=1;S<=n;S++)o.push(S,S+1,0);this.setIndex(o),this.setAttribute("position",new Sr(u,3)),this.setAttribute("normal",new Sr(d,3)),this.setAttribute("uv",new Sr(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new OI(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class AW extends zi{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],u=[];d(i),v(r),x(),this.setAttribute("position",new Sr(o,3)),this.setAttribute("normal",new Sr(o.slice(),3)),this.setAttribute("uv",new Sr(u,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function d(C){const V=new Re,Y=new Re,me=new Re;for(let q=0;q<n.length;q+=3)R(n[q+0],V),R(n[q+1],Y),R(n[q+2],me),m(V,Y,me,C)}function m(C,V,Y,me){const q=me+1,ae=[];for(let ve=0;ve<=q;ve++){ae[ve]=[];const W=C.clone().lerp(Y,ve/q),se=V.clone().lerp(Y,ve/q),Te=q-ve;for(let dt=0;dt<=Te;dt++)dt===0&&ve===q?ae[ve][dt]=W:ae[ve][dt]=W.clone().lerp(se,dt/Te)}for(let ve=0;ve<q;ve++)for(let W=0;W<2*(q-ve)-1;W++){const se=Math.floor(W/2);W%2===0?(T(ae[ve][se+1]),T(ae[ve+1][se]),T(ae[ve][se])):(T(ae[ve][se+1]),T(ae[ve+1][se+1]),T(ae[ve+1][se]))}}function v(C){const V=new Re;for(let Y=0;Y<o.length;Y+=3)V.x=o[Y+0],V.y=o[Y+1],V.z=o[Y+2],V.normalize().multiplyScalar(C),o[Y+0]=V.x,o[Y+1]=V.y,o[Y+2]=V.z}function x(){const C=new Re;for(let V=0;V<o.length;V+=3){C.x=o[V+0],C.y=o[V+1],C.z=o[V+2];const Y=B(C)/2/Math.PI+.5,me=z(C)/Math.PI+.5;u.push(Y,1-me)}G(),S()}function S(){for(let C=0;C<u.length;C+=6){const V=u[C+0],Y=u[C+2],me=u[C+4],q=Math.max(V,Y,me),ae=Math.min(V,Y,me);q>.9&&ae<.1&&(V<.2&&(u[C+0]+=1),Y<.2&&(u[C+2]+=1),me<.2&&(u[C+4]+=1))}}function T(C){o.push(C.x,C.y,C.z)}function R(C,V){const Y=C*3;V.x=e[Y+0],V.y=e[Y+1],V.z=e[Y+2]}function G(){const C=new Re,V=new Re,Y=new Re,me=new Re,q=new nn,ae=new nn,ve=new nn;for(let W=0,se=0;W<o.length;W+=9,se+=6){C.set(o[W+0],o[W+1],o[W+2]),V.set(o[W+3],o[W+4],o[W+5]),Y.set(o[W+6],o[W+7],o[W+8]),q.set(u[se+0],u[se+1]),ae.set(u[se+2],u[se+3]),ve.set(u[se+4],u[se+5]),me.copy(C).add(V).add(Y).divideScalar(3);const Te=B(me);L(q,se+0,C,Te),L(ae,se+2,V,Te),L(ve,se+4,Y,Te)}}function L(C,V,Y,me){me<0&&C.x===1&&(u[V]=C.x-1),Y.x===0&&Y.z===0&&(u[V]=me/2/Math.PI+.5)}function B(C){return Math.atan2(C.z,-C.x)}function z(C){return Math.atan2(-C.y,Math.sqrt(C.x*C.x+C.z*C.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AW(e.vertices,e.indices,e.radius,e.details)}}const dze={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=m6e(t,0,i,n,!0);const u=[];if(!o||o.next===o.prev)return u;let d,m,v,x,S,T,R;if(r&&(o=gze(t,e,o,n)),t.length>80*n){d=v=t[0],m=x=t[1];for(let G=n;G<i;G+=n)S=t[G],T=t[G+1],S<d&&(d=S),T<m&&(m=T),S>v&&(v=S),T>x&&(x=T);R=Math.max(v-d,x-m),R=R!==0?32767/R:0}return zb(o,u,n,d,m,R,0),u}};function m6e(t,e,n,r,i){let o,u;if(i===Mze(t,e,n,r)>0)for(o=e;o<n;o+=r)u=C3e(o,t[o],t[o+1],u);else for(o=n-r;o>=e;o-=r)u=C3e(o,t[o],t[o+1],u);return u&&LI(u,u.next)&&(jb(u),u=u.next),u}function D2(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(LI(n,n.next)||Yi(n.prev,n,n.next)===0)){if(jb(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function zb(t,e,n,r,i,o,u){if(!t)return;!u&&o&&wze(t,r,i,o);let d=t,m,v;for(;t.prev!==t.next;){if(m=t.prev,v=t.next,o?pze(t,r,i,o):hze(t)){e.push(m.i/n|0),e.push(t.i/n|0),e.push(v.i/n|0),jb(t),t=v.next,d=v.next;continue}if(t=v,t===d){u?u===1?(t=fze(D2(t),e,n),zb(t,e,n,r,i,o,2)):u===2&&mze(t,e,n,r,i,o):zb(D2(t),e,n,r,i,o,1);break}}}function hze(t){const e=t.prev,n=t,r=t.next;if(Yi(e,n,r)>=0)return!1;const i=e.x,o=n.x,u=r.x,d=e.y,m=n.y,v=r.y,x=i<o?i<u?i:u:o<u?o:u,S=d<m?d<v?d:v:m<v?m:v,T=i>o?i>u?i:u:o>u?o:u,R=d>m?d>v?d:v:m>v?m:v;let G=r.next;for(;G!==e;){if(G.x>=x&&G.x<=T&&G.y>=S&&G.y<=R&&A4(i,d,o,m,u,v,G.x,G.y)&&Yi(G.prev,G,G.next)>=0)return!1;G=G.next}return!0}function pze(t,e,n,r){const i=t.prev,o=t,u=t.next;if(Yi(i,o,u)>=0)return!1;const d=i.x,m=o.x,v=u.x,x=i.y,S=o.y,T=u.y,R=d<m?d<v?d:v:m<v?m:v,G=x<S?x<T?x:T:S<T?S:T,L=d>m?d>v?d:v:m>v?m:v,B=x>S?x>T?x:T:S>T?S:T,z=DG(R,G,e,n,r),C=DG(L,B,e,n,r);let V=t.prevZ,Y=t.nextZ;for(;V&&V.z>=z&&Y&&Y.z<=C;){if(V.x>=R&&V.x<=L&&V.y>=G&&V.y<=B&&V!==i&&V!==u&&A4(d,x,m,S,v,T,V.x,V.y)&&Yi(V.prev,V,V.next)>=0||(V=V.prevZ,Y.x>=R&&Y.x<=L&&Y.y>=G&&Y.y<=B&&Y!==i&&Y!==u&&A4(d,x,m,S,v,T,Y.x,Y.y)&&Yi(Y.prev,Y,Y.next)>=0))return!1;Y=Y.nextZ}for(;V&&V.z>=z;){if(V.x>=R&&V.x<=L&&V.y>=G&&V.y<=B&&V!==i&&V!==u&&A4(d,x,m,S,v,T,V.x,V.y)&&Yi(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;Y&&Y.z<=C;){if(Y.x>=R&&Y.x<=L&&Y.y>=G&&Y.y<=B&&Y!==i&&Y!==u&&A4(d,x,m,S,v,T,Y.x,Y.y)&&Yi(Y.prev,Y,Y.next)>=0)return!1;Y=Y.nextZ}return!0}function fze(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!LI(i,o)&&g6e(i,r,r.next,o)&&Vb(i,o)&&Vb(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),jb(r),jb(r.next),r=t=o),r=r.next}while(r!==t);return D2(r)}function mze(t,e,n,r,i,o){let u=t;do{let d=u.next.next;for(;d!==u.prev;){if(u.i!==d.i&&Eze(u,d)){let m=v6e(u,d);u=D2(u,u.next),m=D2(m,m.next),zb(u,e,n,r,i,o,0),zb(m,e,n,r,i,o,0);return}d=d.next}u=u.next}while(u!==t)}function gze(t,e,n,r){const i=[];let o,u,d,m,v;for(o=0,u=e.length;o<u;o++)d=e[o]*r,m=o<u-1?e[o+1]*r:t.length,v=m6e(t,d,m,r,!1),v===v.next&&(v.steiner=!0),i.push(Sze(v));for(i.sort(vze),o=0;o<i.length;o++)n=yze(i[o],n);return n}function vze(t,e){return t.x-e.x}function yze(t,e){const n=bze(t,e);if(!n)return e;const r=v6e(n,t);return D2(r,r.next),D2(n,n.next)}function bze(t,e){let n=e,r=-1/0,i;const o=t.x,u=t.y;do{if(u<=n.y&&u>=n.next.y&&n.next.y!==n.y){const T=n.x+(u-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(T<=o&&T>r&&(r=T,i=n.x<n.next.x?n:n.next,T===o))return i}n=n.next}while(n!==e);if(!i)return null;const d=i,m=i.x,v=i.y;let x=1/0,S;n=i;do o>=n.x&&n.x>=m&&o!==n.x&&A4(u<v?o:r,u,m,v,u<v?r:o,u,n.x,n.y)&&(S=Math.abs(u-n.y)/(o-n.x),Vb(n,t)&&(S<x||S===x&&(n.x>i.x||n.x===i.x&&_ze(i,n)))&&(i=n,x=S)),n=n.next;while(n!==d);return i}function _ze(t,e){return Yi(t.prev,t,e.prev)<0&&Yi(e.next,t,t.next)<0}function wze(t,e,n,r){let i=t;do i.z===0&&(i.z=DG(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,xze(i)}function xze(t){let e,n,r,i,o,u,d,m,v=1;do{for(n=t,t=null,o=null,u=0;n;){for(u++,r=n,d=0,e=0;e<v&&(d++,r=r.nextZ,!!r);e++);for(m=v;d>0||m>0&&r;)d!==0&&(m===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,d--):(i=r,r=r.nextZ,m--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,v*=2}while(u>1);return t}function DG(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Sze(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function A4(t,e,n,r,i,o,u,d){return(i-u)*(e-d)>=(t-u)*(o-d)&&(t-u)*(r-d)>=(n-u)*(e-d)&&(n-u)*(o-d)>=(i-u)*(r-d)}function Eze(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Cze(t,e)&&(Vb(t,e)&&Vb(e,t)&&Pze(t,e)&&(Yi(t.prev,t,e.prev)||Yi(t,e.prev,e))||LI(t,e)&&Yi(t.prev,t,t.next)>0&&Yi(e.prev,e,e.next)>0)}function Yi(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function LI(t,e){return t.x===e.x&&t.y===e.y}function g6e(t,e,n,r){const i=Ck(Yi(t,e,n)),o=Ck(Yi(t,e,r)),u=Ck(Yi(n,r,t)),d=Ck(Yi(n,r,e));return!!(i!==o&&u!==d||i===0&&Ek(t,n,e)||o===0&&Ek(t,r,e)||u===0&&Ek(n,t,r)||d===0&&Ek(n,e,r))}function Ek(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Ck(t){return t>0?1:t<0?-1:0}function Cze(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&g6e(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Vb(t,e){return Yi(t.prev,t,t.next)<0?Yi(t,e,t.next)>=0&&Yi(t,t.prev,e)>=0:Yi(t,e,t.prev)<0||Yi(t,t.next,e)<0}function Pze(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function v6e(t,e){const n=new OG(t.i,t.x,t.y),r=new OG(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function C3e(t,e,n,r){const i=new OG(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function jb(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function OG(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Mze(t,e,n,r){let i=0;for(let o=e,u=n-r;o<n;o+=r)i+=(t[u]-t[o])*(t[o+1]+t[u+1]),u=o;return i}class IW{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return IW.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];P3e(e),M3e(r,e);let u=e.length;n.forEach(P3e);for(let m=0;m<n.length;m++)i.push(u),u+=n[m].length,M3e(r,n[m]);const d=dze.triangulate(r,i);for(let m=0;m<d.length;m+=3)o.push(d.slice(m,m+3));return o}}function P3e(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function M3e(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class RW extends AW{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new RW(e.radius,e.detail)}}class O2 extends zi{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,u=0,d=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:u,thetaLength:d},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const m=Math.min(u+d,Math.PI);let v=0;const x=[],S=new Re,T=new Re,R=[],G=[],L=[],B=[];for(let z=0;z<=r;z++){const C=[],V=z/r;let Y=0;z===0&&u===0?Y=.5/n:z===r&&m===Math.PI&&(Y=-.5/n);for(let me=0;me<=n;me++){const q=me/n;S.x=-e*Math.cos(i+q*o)*Math.sin(u+V*d),S.y=e*Math.cos(u+V*d),S.z=e*Math.sin(i+q*o)*Math.sin(u+V*d),G.push(S.x,S.y,S.z),T.copy(S).normalize(),L.push(T.x,T.y,T.z),B.push(q+Y,1-V),C.push(v++)}x.push(C)}for(let z=0;z<r;z++)for(let C=0;C<n;C++){const V=x[z][C+1],Y=x[z][C],me=x[z+1][C],q=x[z+1][C+1];(z!==0||u>0)&&R.push(V,Y,q),(z!==r-1||m<Math.PI)&&R.push(Y,me,q)}this.setIndex(R),this.setAttribute("position",new Sr(G,3)),this.setAttribute("normal",new Sr(L,3)),this.setAttribute("uv",new Sr(B,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new O2(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class DW extends zi{constructor(e=1,n=.4,r=64,i=8,o=2,u=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:u},r=Math.floor(r),i=Math.floor(i);const d=[],m=[],v=[],x=[],S=new Re,T=new Re,R=new Re,G=new Re,L=new Re,B=new Re,z=new Re;for(let V=0;V<=r;++V){const Y=V/r*o*Math.PI*2;C(Y,o,u,e,R),C(Y+.01,o,u,e,G),B.subVectors(G,R),z.addVectors(G,R),L.crossVectors(B,z),z.crossVectors(L,B),L.normalize(),z.normalize();for(let me=0;me<=i;++me){const q=me/i*Math.PI*2,ae=-n*Math.cos(q),ve=n*Math.sin(q);S.x=R.x+(ae*z.x+ve*L.x),S.y=R.y+(ae*z.y+ve*L.y),S.z=R.z+(ae*z.z+ve*L.z),m.push(S.x,S.y,S.z),T.subVectors(S,R).normalize(),v.push(T.x,T.y,T.z),x.push(V/r),x.push(me/i)}}for(let V=1;V<=r;V++)for(let Y=1;Y<=i;Y++){const me=(i+1)*(V-1)+(Y-1),q=(i+1)*V+(Y-1),ae=(i+1)*V+Y,ve=(i+1)*(V-1)+Y;d.push(me,q,ve),d.push(q,ae,ve)}this.setIndex(d),this.setAttribute("position",new Sr(m,3)),this.setAttribute("normal",new Sr(v,3)),this.setAttribute("uv",new Sr(x,2));function C(V,Y,me,q,ae){const ve=Math.cos(V),W=Math.sin(V),se=me/Y*V,Te=Math.cos(se);ae.x=q*(2+Te)*.5*ve,ae.y=q*(2+Te)*W*.5,ae.z=q*Math.sin(se)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DW(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Tze extends I0{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new cn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bg,this.normalScale=new nn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qi,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class y6e extends Tze{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new nn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Rs(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new cn(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new cn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new cn(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class G4 extends I0{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new cn(16777215),this.specular=new cn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bg,this.normalScale=new nn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qi,this.combine=MI,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kze extends I0{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bg,this.normalScale=new nn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Aze extends I0{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bg,this.normalScale=new nn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new qi,this.combine=MI,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class b6e extends I0{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new cn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=bg,this.normalScale=new nn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Pk(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Ize(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Rze(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function T3e(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,u=0;u!==r;++o){const d=n[o]*e;for(let m=0;m!==e;++m)i[u++]=t[d+m]}return i}function _6e(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let u=o[r];if(u!==void 0)if(Array.isArray(u))do u=o[r],u!==void 0&&(e.push(o.time),n.push.apply(n,u)),o=t[i++];while(o!==void 0);else if(u.toArray!==void 0)do u=o[r],u!==void 0&&(e.push(o.time),u.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do u=o[r],u!==void 0&&(e.push(o.time),n.push(u)),o=t[i++];while(o!==void 0)}class NI{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let u;n:{r:if(!(e<i)){for(let d=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===d)break;if(o=i,i=n[++r],e<i)break t}u=n.length;break n}if(!(e>=o)){const d=n[1];e<d&&(r=2,o=d);for(let m=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===m)break;if(i=o,o=n[--r-1],e>=o)break t}u=r,r=0;break n}break e}for(;r<u;){const d=r+u>>>1;e<n[d]?u=d:r=d+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let u=0;u!==i;++u)n[u]=r[o+u];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Dze extends NI{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:M4,endingEnd:M4}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,u=e+1,d=i[o],m=i[u];if(d===void 0)switch(this.getSettings_().endingStart){case T4:o=e,d=2*n-r;break;case NA:o=i.length-2,d=n+i[o]-i[o+1];break;default:o=e,d=r}if(m===void 0)switch(this.getSettings_().endingEnd){case T4:u=e,m=2*r-n;break;case NA:u=1,m=r+i[1]-i[0];break;default:u=e-1,m=n}const v=(r-n)*.5,x=this.valueSize;this._weightPrev=v/(n-d),this._weightNext=v/(m-r),this._offsetPrev=o*x,this._offsetNext=u*x}interpolate_(e,n,r,i){const o=this.resultBuffer,u=this.sampleValues,d=this.valueSize,m=e*d,v=m-d,x=this._offsetPrev,S=this._offsetNext,T=this._weightPrev,R=this._weightNext,G=(r-n)/(i-n),L=G*G,B=L*G,z=-T*B+2*T*L-T*G,C=(1+T)*B+(-1.5-2*T)*L+(-.5+T)*G+1,V=(-1-R)*B+(1.5+R)*L+.5*G,Y=R*B-R*L;for(let me=0;me!==d;++me)o[me]=z*u[x+me]+C*u[v+me]+V*u[m+me]+Y*u[S+me];return o}}class w6e extends NI{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,u=this.sampleValues,d=this.valueSize,m=e*d,v=m-d,x=(r-n)/(i-n),S=1-x;for(let T=0;T!==d;++T)o[T]=u[v+T]*S+u[m+T]*x;return o}}class Oze extends NI{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Bc{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Pk(n,this.TimeBufferType),this.values=Pk(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Pk(e.times,Array),values:Pk(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Oze(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new w6e(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Dze(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case OA:n=this.InterpolantFactoryMethodDiscrete;break;case LA:n=this.InterpolantFactoryMethodLinear;break;case dj:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return OA;case this.InterpolantFactoryMethodLinear:return LA;case this.InterpolantFactoryMethodSmooth:return dj}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,u=i-1;for(;o!==i&&r[o]<e;)++o;for(;u!==-1&&r[u]>n;)--u;if(++u,o!==0||u!==i){o>=u&&(u=Math.max(u,1),o=u-1);const d=this.getValueSize();this.times=r.slice(o,u),this.values=this.values.slice(o*d,u*d)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let u=null;for(let d=0;d!==o;d++){const m=r[d];if(typeof m=="number"&&isNaN(m)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,d,m),e=!1;break}if(u!==null&&u>m){console.error("THREE.KeyframeTrack: Out of order keys.",this,d,m,u),e=!1;break}u=m}if(i!==void 0&&Ize(i))for(let d=0,m=i.length;d!==m;++d){const v=i[d];if(isNaN(v)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,d,v),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===dj,o=e.length-1;let u=1;for(let d=1;d<o;++d){let m=!1;const v=e[d],x=e[d+1];if(v!==x&&(d!==1||v!==e[0]))if(i)m=!0;else{const S=d*r,T=S-r,R=S+r;for(let G=0;G!==r;++G){const L=n[S+G];if(L!==n[T+G]||L!==n[R+G]){m=!0;break}}}if(m){if(d!==u){e[u]=e[d];const S=d*r,T=u*r;for(let R=0;R!==r;++R)n[T+R]=n[S+R]}++u}}if(o>0){e[u]=e[o];for(let d=o*r,m=u*r,v=0;v!==r;++v)n[m+v]=n[d+v];++u}return u!==e.length?(this.times=e.slice(0,u),this.values=n.slice(0,u*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Bc.prototype.TimeBufferType=Float32Array;Bc.prototype.ValueBufferType=Float32Array;Bc.prototype.DefaultInterpolation=LA;class Sg extends Bc{}Sg.prototype.ValueTypeName="bool";Sg.prototype.ValueBufferType=Array;Sg.prototype.DefaultInterpolation=OA;Sg.prototype.InterpolantFactoryMethodLinear=void 0;Sg.prototype.InterpolantFactoryMethodSmooth=void 0;class x6e extends Bc{}x6e.prototype.ValueTypeName="color";class Hb extends Bc{}Hb.prototype.ValueTypeName="number";class Lze extends NI{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,u=this.sampleValues,d=this.valueSize,m=(r-n)/(i-n);let v=e*d;for(let x=v+d;v!==x;v+=4)js.slerpFlat(o,0,u,v-d,u,v,m);return o}}class L2 extends Bc{InterpolantFactoryMethodLinear(e){return new Lze(this.times,this.values,this.getValueSize(),e)}}L2.prototype.ValueTypeName="quaternion";L2.prototype.DefaultInterpolation=LA;L2.prototype.InterpolantFactoryMethodSmooth=void 0;class Eg extends Bc{}Eg.prototype.ValueTypeName="string";Eg.prototype.ValueBufferType=Array;Eg.prototype.DefaultInterpolation=OA;Eg.prototype.InterpolantFactoryMethodLinear=void 0;Eg.prototype.InterpolantFactoryMethodSmooth=void 0;class Gb extends Bc{}Gb.prototype.ValueTypeName="vector";class LG{constructor(e="",n=-1,r=[],i=wW){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=e1(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let u=0,d=r.length;u!==d;++u)n.push(Fze(r[u]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,u=r.length;o!==u;++o)n.push(Bc.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,u=[];for(let d=0;d<o;d++){let m=[],v=[];m.push((d+o-1)%o,d,(d+1)%o),v.push(0,1,0);const x=Rze(m);m=T3e(m,1,x),v=T3e(v,1,x),!i&&m[0]===0&&(m.push(o),v.push(v[0])),u.push(new Hb(".morphTargetInfluences["+n[d].name+"]",m,v).scale(1/r))}return new this(e,-1,u)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let d=0,m=e.length;d<m;d++){const v=e[d],x=v.name.match(o);if(x&&x.length>1){const S=x[1];let T=i[S];T||(i[S]=T=[]),T.push(v)}}const u=[];for(const d in i)u.push(this.CreateFromMorphTargetSequence(d,i[d],n,r));return u}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(S,T,R,G,L){if(R.length!==0){const B=[],z=[];_6e(R,B,z,G),B.length!==0&&L.push(new S(T,B,z))}},i=[],o=e.name||"default",u=e.fps||30,d=e.blendMode;let m=e.length||-1;const v=e.hierarchy||[];for(let S=0;S<v.length;S++){const T=v[S].keys;if(!(!T||T.length===0))if(T[0].morphTargets){const R={};let G;for(G=0;G<T.length;G++)if(T[G].morphTargets)for(let L=0;L<T[G].morphTargets.length;L++)R[T[G].morphTargets[L]]=-1;for(const L in R){const B=[],z=[];for(let C=0;C!==T[G].morphTargets.length;++C){const V=T[G];B.push(V.time),z.push(V.morphTarget===L?1:0)}i.push(new Hb(".morphTargetInfluence["+L+"]",B,z))}m=R.length*u}else{const R=".bones["+n[S].name+"]";r(Gb,R+".position",T,"pos",i),r(L2,R+".quaternion",T,"rot",i),r(Gb,R+".scale",T,"scl",i)}}return i.length===0?null:new this(o,m,i,d)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Nze(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Hb;case"vector":case"vector2":case"vector3":case"vector4":return Gb;case"color":return x6e;case"quaternion":return L2;case"bool":case"boolean":return Sg;case"string":return Eg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Fze(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Nze(t.type);if(t.times===void 0){const n=[],r=[];_6e(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const VA={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Bze{constructor(e,n,r){const i=this;let o=!1,u=0,d=0,m;const v=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(x){d++,o===!1&&i.onStart!==void 0&&i.onStart(x,u,d),o=!0},this.itemEnd=function(x){u++,i.onProgress!==void 0&&i.onProgress(x,u,d),u===d&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(x){i.onError!==void 0&&i.onError(x)},this.resolveURL=function(x){return m?m(x):x},this.setURLModifier=function(x){return m=x,this},this.addHandler=function(x,S){return v.push(x,S),this},this.removeHandler=function(x){const S=v.indexOf(x);return S!==-1&&v.splice(S,2),this},this.getHandler=function(x){for(let S=0,T=v.length;S<T;S+=2){const R=v[S],G=v[S+1];if(R.global&&(R.lastIndex=0),R.test(x))return G}return null}}}const Uze=new Bze;class Wf{constructor(e){this.manager=e!==void 0?e:Uze,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Wf.DEFAULT_MATERIAL_NAME="__DEFAULT";const Wd={};class zze extends Error{constructor(e,n){super(e),this.response=n}}class Vze extends Wf{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=VA.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Wd[e]!==void 0){Wd[e].push({onLoad:n,onProgress:r,onError:i});return}Wd[e]=[],Wd[e].push({onLoad:n,onProgress:r,onError:i});const u=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),d=this.mimeType,m=this.responseType;fetch(u).then(v=>{if(v.status===200||v.status===0){if(v.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||v.body===void 0||v.body.getReader===void 0)return v;const x=Wd[e],S=v.body.getReader(),T=v.headers.get("Content-Length")||v.headers.get("X-File-Size"),R=T?parseInt(T):0,G=R!==0;let L=0;const B=new ReadableStream({start(z){C();function C(){S.read().then(({done:V,value:Y})=>{if(V)z.close();else{L+=Y.byteLength;const me=new ProgressEvent("progress",{lengthComputable:G,loaded:L,total:R});for(let q=0,ae=x.length;q<ae;q++){const ve=x[q];ve.onProgress&&ve.onProgress(me)}z.enqueue(Y),C()}})}}});return new Response(B)}else throw new zze(`fetch for "${v.url}" responded with ${v.status}: ${v.statusText}`,v)}).then(v=>{switch(m){case"arraybuffer":return v.arrayBuffer();case"blob":return v.blob();case"document":return v.text().then(x=>new DOMParser().parseFromString(x,d));case"json":return v.json();default:if(d===void 0)return v.text();{const S=/charset="?([^;"\s]*)"?/i.exec(d),T=S&&S[1]?S[1].toLowerCase():void 0,R=new TextDecoder(T);return v.arrayBuffer().then(G=>R.decode(G))}}}).then(v=>{VA.add(e,v);const x=Wd[e];delete Wd[e];for(let S=0,T=x.length;S<T;S++){const R=x[S];R.onLoad&&R.onLoad(v)}}).catch(v=>{const x=Wd[e];if(x===void 0)throw this.manager.itemError(e),v;delete Wd[e];for(let S=0,T=x.length;S<T;S++){const R=x[S];R.onError&&R.onError(v)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class S6e extends Wf{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,u=VA.get(e);if(u!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(u),o.manager.itemEnd(e)},0),u;const d=Nb("img");function m(){x(),VA.add(e,this),n&&n(this),o.manager.itemEnd(e)}function v(S){x(),i&&i(S),o.manager.itemError(e),o.manager.itemEnd(e)}function x(){d.removeEventListener("load",m,!1),d.removeEventListener("error",v,!1)}return d.addEventListener("load",m,!1),d.addEventListener("error",v,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(d.crossOrigin=this.crossOrigin),o.manager.itemStart(e),d.src=e,d}}class jze extends Wf{constructor(e){super(e)}load(e,n,r,i){const o=new II;o.colorSpace=ri;const u=new S6e(this.manager);u.setCrossOrigin(this.crossOrigin),u.setPath(this.path);let d=0;function m(v){u.load(e[v],function(x){o.images[v]=x,d++,d===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let v=0;v<e.length;++v)m(v);return o}}class E6e extends Wf{constructor(e){super(e)}load(e,n,r,i){const o=new Ji,u=new S6e(this.manager);return u.setCrossOrigin(this.crossOrigin),u.setPath(this.path),u.load(e,function(d){o.image=d,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class Cg extends Ar{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new cn(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Hze extends Cg{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Ar.DEFAULT_UP),this.updateMatrix(),this.groundColor=new cn(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const zj=new In,k3e=new Re,A3e=new Re;class OW{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new nn(512,512),this.map=null,this.mapPass=null,this.matrix=new In,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new PW,this._frameExtents=new nn(1,1),this._viewportCount=1,this._viewports=[new kr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;k3e.setFromMatrixPosition(e.matrixWorld),n.position.copy(k3e),A3e.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(A3e),n.updateMatrixWorld(),zj.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zj),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(zj)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Gze extends OW{constructor(){super(new Ds(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=og*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class LW extends Cg{constructor(e,n,r=0,i=Math.PI/3,o=0,u=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Ar.DEFAULT_UP),this.updateMatrix(),this.target=new Ar,this.distance=r,this.angle=i,this.penumbra=o,this.decay=u,this.map=null,this.shadow=new Gze}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const I3e=new In,ky=new Re,Vj=new Re;class $ze extends OW{constructor(){super(new Ds(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new nn(4,2),this._viewportCount=6,this._viewports=[new kr(2,1,1,1),new kr(0,1,1,1),new kr(3,1,1,1),new kr(1,1,1,1),new kr(3,0,1,1),new kr(1,0,1,1)],this._cubeDirections=[new Re(1,0,0),new Re(-1,0,0),new Re(0,0,1),new Re(0,0,-1),new Re(0,1,0),new Re(0,-1,0)],this._cubeUps=[new Re(0,1,0),new Re(0,1,0),new Re(0,1,0),new Re(0,1,0),new Re(0,0,1),new Re(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),ky.setFromMatrixPosition(e.matrixWorld),r.position.copy(ky),Vj.copy(r.position),Vj.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(Vj),r.updateMatrixWorld(),i.makeTranslation(-ky.x,-ky.y,-ky.z),I3e.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(I3e)}}class R3e extends Cg{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new $ze}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Wze extends OW{constructor(){super(new Fb(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class NW extends Cg{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Ar.DEFAULT_UP),this.updateMatrix(),this.target=new Ar,this.shadow=new Wze}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Kze extends Cg{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Xze extends Cg{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class qze{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Yze{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=D3e(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=D3e();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function D3e(){return(typeof performance>"u"?Date:performance).now()}class Zze{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,u;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,u=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,u=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,u=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=u,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let u=this.cumulativeWeight;if(u===0){for(let d=0;d!==i;++d)r[o+d]=r[d];u=n}else{u+=n;const d=n/u;this._mixBufferRegion(r,o,0,d,i)}this.cumulativeWeight=u}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,u=this.cumulativeWeightAdditive,d=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const m=n*this._origIndex;this._mixBufferRegion(r,i,m,1-o,n)}u>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let m=n,v=n+n;m!==v;++m)if(r[m]!==r[m+n]){d.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,u=i;o!==u;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let u=0;u!==o;++u)e[n+u]=e[r+u]}_slerp(e,n,r,i){js.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const u=this._workIndex*o;js.multiplyQuaternionsFlat(e,u,e,n,e,r),js.slerpFlat(e,n,e,n,e,u,i)}_lerp(e,n,r,i,o){const u=1-i;for(let d=0;d!==o;++d){const m=n+d;e[m]=e[m]*u+e[r+d]*i}}_lerpAdditive(e,n,r,i,o){for(let u=0;u!==o;++u){const d=n+u;e[d]=e[d]+e[r+u]*i}}}const FW="\\[\\]\\.:\\/",Qze=new RegExp("["+FW+"]","g"),BW="[^"+FW+"]",Jze="[^"+FW.replace("\\.","")+"]",eVe=/((?:WC+[\/:])*)/.source.replace("WC",BW),tVe=/(WCOD+)?/.source.replace("WCOD",Jze),nVe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",BW),rVe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",BW),iVe=new RegExp("^"+eVe+tVe+nVe+rVe+"$"),sVe=["material","materials","bones","map"];class oVe{constructor(e,n,r){const i=r||Fr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Fr{constructor(e,n,r){this.path=n,this.parsedPath=r||Fr.parseTrackName(n),this.node=Fr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Fr.Composite(e,n,r):new Fr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Qze,"")}static parseTrackName(e){const n=iVe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);sVe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let u=0;u<o.length;u++){const d=o[u];if(d.name===n||d.uuid===n)return d;const m=r(d.children);if(m)return m}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Fr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let v=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let x=0;x<e.length;x++)if(e[x].name===v){v=x;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(v!==void 0){if(e[v]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[v]}}const u=e[i];if(u===void 0){const v=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+v+"."+i+" but it wasn't found.",e);return}let d=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?d=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(d=this.Versioning.MatrixWorldNeedsUpdate);let m=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}m=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=o}else u.fromArray!==void 0&&u.toArray!==void 0?(m=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(m=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=i;this.getValue=this.GetterByBindingType[m],this.setValue=this.SetterByBindingTypeAndVersioning[m][d]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Fr.Composite=oVe;Fr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Fr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Fr.prototype.GetterByBindingType=[Fr.prototype._getValue_direct,Fr.prototype._getValue_array,Fr.prototype._getValue_arrayElement,Fr.prototype._getValue_toArray];Fr.prototype.SetterByBindingTypeAndVersioning=[[Fr.prototype._setValue_direct,Fr.prototype._setValue_direct_setNeedsUpdate,Fr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Fr.prototype._setValue_array,Fr.prototype._setValue_array_setNeedsUpdate,Fr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Fr.prototype._setValue_arrayElement,Fr.prototype._setValue_arrayElement_setNeedsUpdate,Fr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Fr.prototype._setValue_fromArray,Fr.prototype._setValue_fromArray_setNeedsUpdate,Fr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class aVe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,u=o.length,d=new Array(u),m={endingStart:M4,endingEnd:M4};for(let v=0;v!==u;++v){const x=o[v].createInterpolant(null);d[v]=x,x.settings=m}this._interpolantSettings=m,this._interpolants=d,this._propertyBindings=new Array(u),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=xOe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,u=o/i,d=i/o;e.warp(1,u,n),this.warp(d,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,u=this.timeScale;let d=this._timeScaleInterpolant;d===null&&(d=i._lendControlInterpolant(),this._timeScaleInterpolant=d);const m=d.parameterPositions,v=d.sampleValues;return m[0]=o,m[1]=o+r,v[0]=e/u,v[1]=n/u,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const m=(e-o)*r;m<0||r===0?n=0:(this._startTime=null,n=r*m)}n*=this._updateTimeScale(e);const u=this._updateTime(n),d=this._updateWeight(e);if(d>0){const m=this._interpolants,v=this._propertyBindings;switch(this.blendMode){case EOe:for(let x=0,S=m.length;x!==S;++x)m[x].evaluate(u),v[x].accumulateAdditive(d);break;case wW:default:for(let x=0,S=m.length;x!==S;++x)m[x].evaluate(u),v[x].accumulate(i,d)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const u=r===SOe;if(e===0)return o===-1?i:u&&(o&1)===1?n-i:i;if(r===wOe){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,u)):this._setEndings(this.repetitions===0,!0,u)),i>=n||i<0){const d=Math.floor(i/n);i-=n*d,o+=Math.abs(d);const m=this.repetitions-o;if(m<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(m===1){const v=e<0;this._setEndings(v,!v,u)}else this._setEndings(!1,!1,u);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:d})}}else this.time=i;if(u&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=T4,i.endingEnd=T4):(e?i.endingStart=this.zeroSlopeAtStart?T4:M4:i.endingStart=NA,n?i.endingEnd=this.zeroSlopeAtEnd?T4:M4:i.endingEnd=NA)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let u=this._weightInterpolant;u===null&&(u=i._lendControlInterpolant(),this._weightInterpolant=u);const d=u.parameterPositions,m=u.sampleValues;return d[0]=o,m[0]=n,d[1]=o+e,m[1]=r,this}}const lVe=new Float32Array(1);class uVe extends A0{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,u=e._propertyBindings,d=e._interpolants,m=r.uuid,v=this._bindingsByRootAndName;let x=v[m];x===void 0&&(x={},v[m]=x);for(let S=0;S!==o;++S){const T=i[S],R=T.name;let G=x[R];if(G!==void 0)++G.referenceCount,u[S]=G;else{if(G=u[S],G!==void 0){G._cacheIndex===null&&(++G.referenceCount,this._addInactiveBinding(G,m,R));continue}const L=n&&n._propertyBindings[S].binding.parsedPath;G=new Zze(Fr.create(r,R,L),T.ValueTypeName,T.getValueSize()),++G.referenceCount,this._addInactiveBinding(G,m,R),u[S]=G}d[S].resultBuffer=G.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let u=o[n];if(u===void 0)u={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=u;else{const d=u.knownActions;e._byClipCacheIndex=d.length,d.push(e)}e._cacheIndex=i.length,i.push(e),u.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,u=this._actionsByClip,d=u[o],m=d.knownActions,v=m[m.length-1],x=e._byClipCacheIndex;v._byClipCacheIndex=x,m[x]=v,m.pop(),e._byClipCacheIndex=null;const S=d.actionByRoot,T=(e._localRoot||this._root).uuid;delete S[T],m.length===0&&delete u[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let u=i[n];u===void 0&&(u={},i[n]=u),u[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,u=this._bindingsByRootAndName,d=u[i],m=n[n.length-1],v=e._cacheIndex;m._cacheIndex=v,n[v]=m,n.pop(),delete d[o],Object.keys(d).length===0&&delete u[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new w6e(new Float32Array(2),new Float32Array(2),1,lVe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let u=typeof e=="string"?LG.findByName(i,e):e;const d=u!==null?u.uuid:e,m=this._actionsByClip[d];let v=null;if(r===void 0&&(u!==null?r=u.blendMode:r=wW),m!==void 0){const S=m.actionByRoot[o];if(S!==void 0&&S.blendMode===r)return S;v=m.knownActions[0],u===null&&(u=v._clip)}if(u===null)return null;const x=new aVe(this,u,n,r);return this._bindAction(x,v),this._addInactiveAction(x,d,o),x}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?LG.findByName(r,e):e,u=o?o.uuid:e,d=this._actionsByClip[u];return d!==void 0&&d.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),u=this._accuIndex^=1;for(let v=0;v!==r;++v)n[v]._update(i,e,o,u);const d=this._bindings,m=this._nActiveBindings;for(let v=0;v!==m;++v)d[v].apply(u);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const u=o.knownActions;for(let d=0,m=u.length;d!==m;++d){const v=u[d];this._deactivateAction(v);const x=v._cacheIndex,S=n[n.length-1];v._cacheIndex=null,v._byClipCacheIndex=null,S._cacheIndex=x,n[x]=S,n.pop(),this._removeInactiveBindingsForAction(v)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const u in r){const d=r[u].actionByRoot,m=d[n];m!==void 0&&(this._deactivateAction(m),this._removeInactiveAction(m))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const u in o){const d=o[u];d.restoreOriginalState(),this._removeInactiveBinding(d)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Ai{constructor(e){this.value=e}clone(){return new Ai(this.value.clone===void 0?this.value:this.value.clone())}}const O3e=new In;class cVe{constructor(e,n,r=0,i=1/0){this.ray=new wg(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new EW,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return O3e.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(O3e),this}intersectObject(e,n=!0,r=[]){return NG(e,this,r,n),r.sort(L3e),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)NG(e[i],this,r,n);return r.sort(L3e),r}}function L3e(t,e){return t.distance-e.distance}function NG(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let o=0,u=i.length;o<u;o++)NG(i[o],e,n,!0)}}class N3e{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Rs(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const F3e=new Re;class dVe extends Ar{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new zi,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let u=0,d=1,m=32;u<m;u++,d++){const v=u/m*Math.PI*2,x=d/m*Math.PI*2;i.push(Math.cos(v),Math.sin(v),1,Math.cos(x),Math.sin(x),1)}r.setAttribute("position",new Sr(i,3));const o=new t1({fog:!1,toneMapped:!1});this.cone=new DI(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),F3e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(F3e),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}class hVe extends hi{constructor(e,n,r){const i=new O2(n,4,2),o=new mh({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const pVe=new Re,B3e=new cn,U3e=new cn;class fVe extends Ar{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new RW(n);i.rotateY(Math.PI*.5),this.material=new mh({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),u=new Float32Array(o.count*3);i.setAttribute("color",new Pa(u,3)),this.add(new hi(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");B3e.copy(this.light.color),U3e.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?B3e:U3e;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(pVe.setFromMatrixPosition(this.light.matrixWorld).negate())}}const z3e=new Re,Mk=new Re,V3e=new Re;class mVe extends Ar{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new zi;i.setAttribute("position",new Sr([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new t1({fog:!1,toneMapped:!1});this.lightPlane=new Ub(i,o),this.add(this.lightPlane),i=new zi,i.setAttribute("position",new Sr([0,0,0,0,0,1],3)),this.targetLine=new Ub(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),z3e.setFromMatrixPosition(this.light.matrixWorld),Mk.setFromMatrixPosition(this.light.target.matrixWorld),V3e.subVectors(Mk,z3e),this.lightPlane.lookAt(Mk),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Mk),this.targetLine.scale.z=V3e.length()}}const Tk=new Re,is=new AI;class gVe extends DI{constructor(e){const n=new zi,r=new t1({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],u={};d("n1","n2"),d("n2","n4"),d("n4","n3"),d("n3","n1"),d("f1","f2"),d("f2","f4"),d("f4","f3"),d("f3","f1"),d("n1","f1"),d("n2","f2"),d("n3","f3"),d("n4","f4"),d("p","n1"),d("p","n2"),d("p","n3"),d("p","n4"),d("u1","u2"),d("u2","u3"),d("u3","u1"),d("c","t"),d("p","c"),d("cn1","cn2"),d("cn3","cn4"),d("cf1","cf2"),d("cf3","cf4");function d(G,L){m(G),m(L)}function m(G){i.push(0,0,0),o.push(0,0,0),u[G]===void 0&&(u[G]=[]),u[G].push(i.length/3-1)}n.setAttribute("position",new Sr(i,3)),n.setAttribute("color",new Sr(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=u,this.update();const v=new cn(16755200),x=new cn(16711680),S=new cn(43775),T=new cn(16777215),R=new cn(3355443);this.setColors(v,x,S,T,R)}setColors(e,n,r,i,o){const d=this.geometry.getAttribute("color");d.setXYZ(0,e.r,e.g,e.b),d.setXYZ(1,e.r,e.g,e.b),d.setXYZ(2,e.r,e.g,e.b),d.setXYZ(3,e.r,e.g,e.b),d.setXYZ(4,e.r,e.g,e.b),d.setXYZ(5,e.r,e.g,e.b),d.setXYZ(6,e.r,e.g,e.b),d.setXYZ(7,e.r,e.g,e.b),d.setXYZ(8,e.r,e.g,e.b),d.setXYZ(9,e.r,e.g,e.b),d.setXYZ(10,e.r,e.g,e.b),d.setXYZ(11,e.r,e.g,e.b),d.setXYZ(12,e.r,e.g,e.b),d.setXYZ(13,e.r,e.g,e.b),d.setXYZ(14,e.r,e.g,e.b),d.setXYZ(15,e.r,e.g,e.b),d.setXYZ(16,e.r,e.g,e.b),d.setXYZ(17,e.r,e.g,e.b),d.setXYZ(18,e.r,e.g,e.b),d.setXYZ(19,e.r,e.g,e.b),d.setXYZ(20,e.r,e.g,e.b),d.setXYZ(21,e.r,e.g,e.b),d.setXYZ(22,e.r,e.g,e.b),d.setXYZ(23,e.r,e.g,e.b),d.setXYZ(24,n.r,n.g,n.b),d.setXYZ(25,n.r,n.g,n.b),d.setXYZ(26,n.r,n.g,n.b),d.setXYZ(27,n.r,n.g,n.b),d.setXYZ(28,n.r,n.g,n.b),d.setXYZ(29,n.r,n.g,n.b),d.setXYZ(30,n.r,n.g,n.b),d.setXYZ(31,n.r,n.g,n.b),d.setXYZ(32,r.r,r.g,r.b),d.setXYZ(33,r.r,r.g,r.b),d.setXYZ(34,r.r,r.g,r.b),d.setXYZ(35,r.r,r.g,r.b),d.setXYZ(36,r.r,r.g,r.b),d.setXYZ(37,r.r,r.g,r.b),d.setXYZ(38,i.r,i.g,i.b),d.setXYZ(39,i.r,i.g,i.b),d.setXYZ(40,o.r,o.g,o.b),d.setXYZ(41,o.r,o.g,o.b),d.setXYZ(42,o.r,o.g,o.b),d.setXYZ(43,o.r,o.g,o.b),d.setXYZ(44,o.r,o.g,o.b),d.setXYZ(45,o.r,o.g,o.b),d.setXYZ(46,o.r,o.g,o.b),d.setXYZ(47,o.r,o.g,o.b),d.setXYZ(48,o.r,o.g,o.b),d.setXYZ(49,o.r,o.g,o.b),d.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;is.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ys("c",n,e,is,0,0,-1),ys("t",n,e,is,0,0,1),ys("n1",n,e,is,-r,-i,-1),ys("n2",n,e,is,r,-i,-1),ys("n3",n,e,is,-r,i,-1),ys("n4",n,e,is,r,i,-1),ys("f1",n,e,is,-r,-i,1),ys("f2",n,e,is,r,-i,1),ys("f3",n,e,is,-r,i,1),ys("f4",n,e,is,r,i,1),ys("u1",n,e,is,r*.7,i*1.1,-1),ys("u2",n,e,is,-r*.7,i*1.1,-1),ys("u3",n,e,is,0,i*2,-1),ys("cf1",n,e,is,-r,0,1),ys("cf2",n,e,is,r,0,1),ys("cf3",n,e,is,0,-i,1),ys("cf4",n,e,is,0,i,1),ys("cn1",n,e,is,-r,0,-1),ys("cn2",n,e,is,r,0,-1),ys("cn3",n,e,is,0,-i,-1),ys("cn4",n,e,is,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ys(t,e,n,r,i,o,u){Tk.set(i,o,u).unproject(r);const d=e[t];if(d!==void 0){const m=n.getAttribute("position");for(let v=0,x=d.length;v<x;v++)m.setXYZ(d[v],Tk.x,Tk.y,Tk.z)}}class j3e extends DI{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new zi;i.setAttribute("position",new Sr(n,3)),i.setAttribute("color",new Sr(r,3));const o=new t1({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new cn,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:d_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=d_);class vVe{constructor(e,n,r=!0){tr(this,"components",new Map);tr(this,"listen");tr(this,"_appID","");tr(this,"_debugEnabled");tr(this,"_broadcastChannel");tr(this,"_webSocket");tr(this,"_mode","app");tr(this,"_connected",!1);tr(this,"_useBC",!1);tr(this,"messageHandler",e=>{this.listen!==void 0&&(this._useBC?this.listen(e.data):this.listen(JSON.parse(e.data)))});tr(this,"openHandler",()=>{this._connected=!0});tr(this,"closeHandler",()=>{this._connected=!1});this._appID=e,this._debugEnabled=n,n&&(this._useBC=r,r?(this._broadcastChannel=new BroadcastChannel(e),this._broadcastChannel.addEventListener("message",this.messageHandler)):(this._webSocket=new WebSocket(e),this._webSocket.addEventListener("open",this.openHandler),this._webSocket.addEventListener("close",this.closeHandler),this._webSocket.addEventListener("message",this.messageHandler)))}addComponent(e,n){this.components.set(e,n)}dispose(){this._broadcastChannel!==void 0&&this._broadcastChannel.removeEventListener("message",this.messageHandler),this._webSocket!==void 0&&(this._webSocket.removeEventListener("open",this.openHandler),this._webSocket.removeEventListener("close",this.closeHandler),this._webSocket.removeEventListener("message",this.messageHandler)),this.components.forEach(e=>{e.dispose()}),this.components.clear()}send(e){var n,r;this._mode!==e.target&&(this._useBC?(n=this._broadcastChannel)==null||n.postMessage(e):this._connected&&((r=this._webSocket)==null||r.send(JSON.stringify(e))))}get appID(){return this._appID}get connected(){return this._connected}get debugEnabled(){return this._debugEnabled}get mode(){return this._mode}get isApp(){return this._mode==="app"}get editor(){return this._mode==="editor"}set editor(e){e&&(this._mode="editor")}}const ur=new A0,cr={CUSTOM:"ToolEvents::custom",SELECT_DROPDOWN:"ToolEvents::selectDropdown",DRAG_UPDATE:"ToolEvents::dragUpdate",ADD_SCENE:"ToolEvents::addScene",REMOVE_SCENE:"ToolEvents::removeScene",SET_SCENE:"ToolEvents::setScene",GET_OBJECT:"ToolEvents::getObject",SET_OBJECT:"ToolEvents::setObject",UPDATE_OBJECT:"ToolEvents::updateObject",CREATE_TEXTURE:"ToolEvents::createTexture",REQUEST_METHOD:"ToolEvents::requestMethod",ADD_CAMERA:"ToolEvents::addCamera",REMOVE_CAMERA:"ToolEvents::removeCamera"};function yVe(t,e,n){function r(o){switch(e.forEach(u=>{u.callback(t,u.remote,o)}),o.event){case"custom":ur.dispatchEvent({type:cr.CUSTOM,value:o.data});break}}function i(o){switch(n.forEach(u=>{u.callback(t,u.remote,o)}),o.event){case"custom":ur.dispatchEvent({type:cr.CUSTOM,value:o.data});break}}t.listen=o=>{o.target==="editor"?i(o):r(o)}}class FI{constructor(e){tr(this,"app");this.app=e}dispose(){}handleApp(e,n,r){}handleEditor(e,n,r){}}class bVe extends FI{selectDropdown(e,n){this.app.send({event:"selectComponent",target:"app",data:{dropdown:e,value:n}})}updateDropdown(e,n){this.app.send({event:"draggableListUpdate",target:"app",data:{dropdown:e,value:n}})}handleApp(e,n,r){switch(r.event){case"selectComponent":ur.dispatchEvent({type:cr.SELECT_DROPDOWN,value:r.data});break;case"draggableListUpdate":ur.dispatchEvent({type:cr.DRAG_UPDATE,value:r.data});break}}}const UW=()=>{};function jA(t){return t.substring(0,1).toUpperCase()+t.substring(1)}function c2(t,e,n){return Math.min(e,Math.max(t,n))}function H3e(t,e,n){return(n-t)/(e-t)}function G3e(t,e,n){return t*(1-n)+e*n}function _Ve(){return Math.round(Math.random()*1e6).toString()}function wVe(t){return t.r!==void 0&&t.g!==void 0&&t.b!==void 0}function xVe(t){const e=Math.round(t.r*255),n=Math.round(t.g*255),r=Math.round(t.b*255),i=m=>{const v=m.toString(16);return v.length===1?"0"+v:v},o=i(e),u=i(n),d=i(r);return"#"+o+u+d}function $3e(t,e=1){return Number(t.toFixed(e))}let FG=0;const W3e=()=>{FG=0},lg=t=>{if(!t)return;let e=t.name.replaceAll(" ","").replaceAll("/",".");if(e.length===0&&(e=`obj_${FG}`,FG++),t.parent!==null&&t.parent.uuid.length>0&&(e=`${t.parent.uuid}.${e}`),t.uuid=e,t.isMesh!==void 0){const n=t;if(Array.isArray(n.material))n.material.forEach((r,i)=>{r.uuid=`${e}.material.${i}`});else{const r=n.material;r.uuid=`${e}.material`}}t.children.forEach(n=>lg(n))},SVe=t=>{t&&(Array.isArray(t)?t.forEach(e=>e.dispose()):t.dispose())},ug=t=>{var e;if(t){for(;t.children.length>0;){const n=t.children[0];n.type==="Audio"?(n.pause(),n.parent&&n.parent.remove(n)):ug(n)}if(t.parent&&t.parent.remove(t),t.isMesh){const n=t;(e=n.geometry)==null||e.dispose(),SVe(n.material)}t.dispose!==void 0&&t.dispose()}},cI=class cI extends FI{constructor(){super(...arguments);tr(this,"project");tr(this,"sheets",new Map);tr(this,"sheetObjects",new Map);tr(this,"sheetObjectCBs",new Map);tr(this,"sheetObjectUnsubscribe",new Map);tr(this,"activeSheet");tr(this,"studio")}dispose(){this.project=void 0,this.sheets=new Map,this.sheetObjects=new Map,this.sheetObjectCBs=new Map,this.sheetObjectUnsubscribe=new Map}getSheetInstance(n,r){return r!==void 0?`${n}-${r}`:n}sheet(n,r){var u;if(this.project===void 0){console.error("Theatre Project hasn't been created yet.");return}const i=this.getSheetInstance(n,r);let o=this.sheets.get(i);return o!==void 0||(o=(u=this.project)==null?void 0:u.sheet(n,r),this.sheets.set(i,o)),o}playSheet(n,r,i){var o;(o=this.sheet(n,i))==null||o.sequence.play(r),this.app.send({event:"playSheet",target:"editor",data:{sheet:n,instance:i,value:r}})}pauseSheet(n,r){var i;(i=this.sheet(n))==null||i.sequence.pause(),this.app.send({event:"pauseSheet",target:"editor",data:{sheet:n,instance:r}})}clearSheetObjects(n){this.sheetObjects.forEach((r,i)=>{i.search(`${n}_`)>-1&&this.unsubscribe(r)})}sheetObject(n,r,i,o,u){if(this.project===void 0){console.error("Theatre Project hasn't been created yet.");return}const d=this.sheet(n,u);if(d===void 0)return;const v=`${this.getSheetInstance(n,u)}_${r}`;let x=this.sheetObjects.get(v);x!==void 0?x=d.object(r,{...i,...x.value},{reconfigure:!0}):x=d.object(r,i),this.sheetObjects.set(v,x),this.sheetObjectCBs.set(v,o!==void 0?o:UW);const S=x.onValuesChange(T=>{if(this.app.editor){for(const G in T){const L=T[G];typeof L=="object"&&wVe(L)&&(T[G]={r:L.r,g:L.g,b:L.b,a:L.a})}this.app.send({event:"updateSheetObject",target:"app",data:{sheet:n,sheetObject:v,values:T}})}const R=this.sheetObjectCBs.get(v);R!==void 0&&R(T)});return this.sheetObjectUnsubscribe.set(v,S),x}unsubscribe(n){if(this.project===void 0){console.error("Theatre Project hasn't been created yet.");return}const r=n.address.sheetId,i=n.address.objectKey,o=this.sheets.get(r);o==null||o.detachObject(i);const u=`${r}_${i}`,d=this.sheetObjectUnsubscribe.get(u);d!==void 0&&(this.sheetObjects.delete(u),this.sheetObjectCBs.delete(u),this.sheetObjectUnsubscribe.delete(u),d())}handleApp(n,r,i){var d,m;const o=r;let u;switch(i.event){case"setSheet":u=o.sheets.get(i.data.sheet),u!==void 0&&(o.activeSheet=u,(d=this.studio)==null||d.setSelection([u]));break;case"setSheetObject":u=o.sheetObjects.get(`${i.data.sheet}_${i.data.key}`),u!==void 0&&((m=this.studio)==null||m.setSelection([u]));break;case"updateSheetObject":u=o.sheets.get(i.data.sheet),u!==void 0&&u.sequence.pause(),u=o.sheetObjectCBs.get(i.data.sheetObject),u!==void 0&&u(i.data.values);break;case"updateTimeline":u=o.sheets.get(i.data.sheet),o.activeSheet!==void 0&&(o.activeSheet.sequence.position=i.data.position);break}}handleEditor(n,r,i){var o,u;if(n.editor){const d=r;switch(i.event){case"playSheet":(o=d.sheet(i.data.sheet,i.data.instance))==null||o.sequence.play(i.data.value);break;case"pauseSheet":(u=d.sheet(i.data.sheet,i.data.instance))==null||u.sequence.pause();break}}}handleEditorApp(n,r){var i,o,u;if(n.editor){(i=this.studio)==null||i.ui.restore(),(o=this.studio)==null||o.onSelectionChange(x=>{x.length<1||x.forEach(S=>{let T=S.address.sheetId,R="setSheet",G={};switch(S.type){case"Theatre_Sheet_PublicAPI":R="setSheet",G={sheet:S.address.sheetId},r.activeSheet=r.sheets.get(S.address.sheetId);break;case"Theatre_SheetObject_PublicAPI":R="setSheetObject",T+=`_${S.address.objectKey}`,G={id:T,sheet:S.address.sheetId,key:S.address.objectKey},r.activeSheet=r.sheets.get(S.address.sheetId);break}n.send({event:R,target:"app",data:G})})});let d=-1;const m=()=>{var x;if((x=cI.rafDriver)==null||x.tick(performance.now()),r.activeSheet!==void 0&&d!==r.activeSheet.sequence.position){d=r.activeSheet.sequence.position;const S=r.activeSheet;n.send({event:"updateTimeline",target:"app",data:{position:d,sheet:S.address.sheetId}})}},v=()=>{m(),requestAnimationFrame(v)};m(),v()}else(u=this.studio)==null||u.ui.hide()}};tr(cI,"rafDriver");let cg=cI;function EVe(t){if(t.name==="cameras")return"camera";if(t.name==="interactive")return"interactive";if(t.name==="lights")return"light";if(t.name==="ui")return"ui";if(t.name==="utils")return"utils";const e=t.type;return e.search("Helper")>-1?"icon_utils":e.search("Camera")>-1?"camera":e.search("Light")>-1?"light":"obj3D"}function Zk(t){const e={name:t.name,type:t.type,uuid:t.uuid,children:[]};return t.children.forEach(n=>{e.children.push(Zk(n))}),e}function CVe(t){const e={};for(const n in t){const r=t[n].value;e[n]={value:r},r===null?e[n].value={src:"",offset:[0,0],repeat:[1,1]}:r.isTexture&&(e[n].value={src:r.image.src,offset:[r.offset.x,r.offset.y],repeat:[r.repeat.x,r.repeat.y]})}return e}function PVe(t){switch(t){case"blendSrcAlpha":case"blendDstAlpha":case"blendEquationAlpha":case"clippingPlanes":case"shadowSide":case"precision":return!0}return!1}function r4(t){const e={};for(const n in t){if(n.substring(0,1)==="_"||n.substring(0,2)==="is"||PVe(n))continue;const r=typeof t[n],i=t[n];switch(r){case"boolean":case"number":case"string":e[n]=i;break;case"object":if(i!==null)if(e[n]=i,i.isTexture)if(i instanceof Ji){const u=i.source.toJSON().url;e[n]={src:u,offset:[i.offset.x,i.offset.y],repeat:[i.repeat.x,i.repeat.y]}}else i instanceof II&&(console.log("env map"),console.log(i.source.data),console.log(i.source.toJSON()),e[n]={src:"",offset:[i.offset.x,i.offset.y],repeat:[i.repeat.x,i.repeat.y]});else n==="uniforms"&&(e[n]=CVe(e[n]));else e[n]={src:"",offset:[0,0],repeat:[1,1]};break}}return e}function jj(t){t.updateMatrix();const e={name:t.name,type:t.type,uuid:t.uuid,visible:t.visible,matrix:t.matrix.elements,animations:[],material:void 0,perspectiveCameraInfo:void 0,orthographicCameraInfo:void 0,lightInfo:void 0,children:[]};t.animations.forEach(r=>{e.animations.push({name:r.name,duration:r.duration,blendMode:r.blendMode})});const n=t.type.toLowerCase();if(n.search("mesh")>-1){const r=t;if(Array.isArray(r.material)){const i=[];r.material.forEach(o=>{i.push(r4(o))}),e.material=i}else e.material=r4(r.material)}else if(n.search("points")>-1){const r=t;if(Array.isArray(r.material)){const i=[];r.material.forEach(o=>{i.push(r4(o))}),e.material=i}else e.material=r4(r.material)}else if(n.search("line")>-1){const r=t;if(Array.isArray(r.material)){const i=[];r.material.forEach(o=>{i.push(r4(o))}),e.material=i}else e.material=r4(r.material)}else n.search("camera")>-1?t.type==="PerspectiveCamera"?e.perspectiveCameraInfo={fov:t.fov,zoom:t.zoom,near:t.near,far:t.far,focus:t.focus,aspect:t.aspect,filmGauge:t.filmGauge,filmOffset:t.filmOffset}:t.type==="OrthographicCamera"&&(e.orthographicCameraInfo={zoom:t.zoom,near:t.near,far:t.far,left:t.left,right:t.right,top:t.top,bottom:t.bottom}):n.search("light")>-1&&(e.lightInfo={color:t.color,intensity:t.intensity,decay:t.decay,distance:t.distance,angle:t.angle,penumbra:t.penumbra,groundColor:t.groundColor,width:t.width,height:t.height});return e}function MVe(t,e){const n=e.split(".");switch(n.length){case 1:return t[n[0]];case 2:return t[n[0]][n[1]];case 3:return t[n[0]][n[1]][n[2]];case 4:return t[n[0]][n[1]][n[2]][n[3]];case 5:return t[n[0]][n[1]][n[2]][n[3]][n[4]];case 6:return t[n[0]][n[1]][n[2]][n[3]][n[4]][n[5]]}}function TVe(t,e){for(const n in e)t[n]=e[n]}function ws(t,e,n){if(t===void 0){console.log(`Hermes - Can't set props: ${e}`,n);return}const r=e.split("."),i=r.length;if(typeof n!="object")switch(i){case 1:t[r[0]]=n;break;case 2:t[r[0]][r[1]]=n;break;case 3:t[r[0]][r[1]][r[2]]=n;break;case 4:t[r[0]][r[1]][r[2]][r[3]]=n;break;case 5:t[r[0]][r[1]][r[2]][r[3]][r[4]]=n;break}else{let u;switch(i){case 1:u=t[r[0]];break;case 2:u=t[r[0]][r[1]];break;case 3:u=t[r[0]][r[1]][r[2]];break;case 4:u=t[r[0]][r[1]][r[2]][r[3]];break;case 5:u=t[r[0]][r[1]][r[2]][r[3]][r[4]];break}u!=null&&TVe(u,n)}}function zW(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{const i=new Ji(r);i.wrapS=fh,i.wrapT=fh,i.needsUpdate=!0,e(i)},r.onerror=n,r.src=t})}class kVe extends FI{constructor(){super(...arguments);tr(this,"scene");tr(this,"scenes",new Map);tr(this,"renderer");tr(this,"renderTargets",new Map);tr(this,"rendererWidth",300);tr(this,"rendererHeight",150)}dispose(){var n;this.scenes.forEach(r=>{ug(r)}),this.scenes.clear(),this.scene&&ug(this.scene),this.renderTargets.forEach(r=>{r.dispose()}),this.renderTargets.clear(),(n=this.renderer)==null||n.dispose()}getObject(n){this.app.debugEnabled&&this.app.send({event:"getObject",target:"app",data:n})}setObject(n){const r=jj(n);this.app.send({event:"setObject",target:"editor",data:r})}requestMethod(n,r,i,o){this.app.send({event:"requestMethod",target:"app",data:{uuid:n,key:r,value:i,subitem:o}})}updateObject(n,r,i){this.app.send({event:"updateObject",target:"app",data:{uuid:n,key:r,value:i}})}createTexture(n,r,i){this.app.send({event:"createTexture",target:"app",data:{uuid:n,key:r,value:i}})}addScene(n){if(n===void 0||(this.scenes.set(n.name,n),!this.app.debugEnabled))return;W3e(),lg(n);const r=Zk(n);this.app.send({event:"addScene",target:"editor",data:r})}removeScene(n){if(n===void 0||(this.scenes.delete(n.name),!this.app.debugEnabled))return;const r=Zk(n);this.app.send({event:"removeScene",target:"editor",data:r})}removeAllScenes(){this.scenes.forEach(n=>this.removeScene(n))}getScene(n){let r=null;return this.scenes.forEach((i,o)=>{n.search(o)>-1&&(r=i)}),r}setScene(n){if(n===void 0||(this.scene=n,!this.app.debugEnabled))return;W3e(),lg(n);const r=Zk(n);this.app.send({event:"setScene",target:"editor",data:r})}addCamera(n){if(!this.app.debugEnabled)return;const r=jj(n);this.app.send({event:"addCamera",target:"editor",data:r})}removeCamera(n){if(!this.app.debugEnabled)return;const r=jj(n);this.app.send({event:"removeCamera",target:"editor",data:r})}handleApp(n,r,i){switch(i.event){case"getObject":ur.dispatchEvent({type:cr.GET_OBJECT,value:i.data});break;case"updateObject":ur.dispatchEvent({type:cr.UPDATE_OBJECT,value:i.data});break;case"createTexture":ur.dispatchEvent({type:cr.CREATE_TEXTURE,value:i.data});break;case"requestMethod":ur.dispatchEvent({type:cr.REQUEST_METHOD,value:i.data});break}}handleEditor(n,r,i){switch(i.event){case"setObject":ur.dispatchEvent({type:cr.SET_OBJECT,value:i.data});break;case"addScene":ur.dispatchEvent({type:cr.ADD_SCENE,value:i.data});break;case"removeScene":ur.dispatchEvent({type:cr.REMOVE_SCENE,value:i.data});break;case"setScene":ur.dispatchEvent({type:cr.SET_SCENE,value:i.data});break;case"addCamera":ur.dispatchEvent({type:cr.ADD_CAMERA,value:i.data});break;case"removeCamera":ur.dispatchEvent({type:cr.REMOVE_CAMERA,value:i.data});break}}addRT(n,r){const i=new Aa(32,32,r);i.texture.name=n,this.renderTargets.set(n,i)}resize(n,r){var o;const i=this.dpr;this.rendererWidth=n,this.rendererHeight=r,this.renderTargets.forEach(u=>{u.setSize(n*i,r*i)}),(o=this.renderer)==null||o.setSize(n,r)}set dpr(n){var r;(r=this.renderer)==null||r.setPixelRatio(c2(1,2,n))}get dpr(){var n;return this.renderer!==void 0?(n=this.renderer)==null?void 0:n.getPixelRatio():1}get width(){return this.rendererWidth}get height(){return this.rendererHeight}get canvas(){var n;return this.renderer!==void 0?(n=this.renderer)==null?void 0:n.domElement:null}}/*! Tweakpane 4.0.0 (c) 2016 cocopon, licensed under the MIT license. */function bi(t){return t==null}function VW(t){return t!==null&&typeof t=="object"}function BG(t){return t!==null&&typeof t=="object"}function AVe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function N2(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((r,i)=>{const o=t[i],u=e[i];return BG(o)&&BG(u)?Object.assign(Object.assign({},r),{[i]:N2(o,u)}):Object.assign(Object.assign({},r),{[i]:i in e?u:o})},{})}function jW(t){return VW(t)?"target"in t:!1}const IVe={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};let Zo=class p4{static alreadyDisposed(){return new p4({type:"alreadydisposed"})}static notBindable(){return new p4({type:"notbindable"})}static notCompatible(e,n){return new p4({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new p4({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new p4({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=IVe[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}},K3e=class C6e{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const r=this.read();if(!C6e.isBindable(r))throw Zo.notBindable();if(!(e in r))throw Zo.propertyNotFound(e);r[e]=n}},Ls=class{constructor(){this.observers_={}}on(e,n){let r=this.observers_[e];return r||(r=this.observers_[e]=[]),r.push({handler:n}),this}off(e,n){const r=this.observers_[e];return r&&(this.observers_[e]=r.filter(i=>i.handler!==n)),this}emit(e,n){const r=this.observers_[e];r&&r.forEach(i=>{i.handler(n)})}},RVe=class{constructor(e,n){var r;this.constraint_=n==null?void 0:n.constraint,this.equals_=(r=n==null?void 0:n.equals)!==null&&r!==void 0?r:(i,o)=>i===o,this.emitter=new Ls,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.constraint_?this.constraint_.constrain(e):e,o=this.rawValue_;this.equals_(o,i)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=i,this.emitter.emit("change",{options:r,previousRawValue:o,rawValue:i,sender:this}))}},DVe=class{constructor(e){this.emitter=new Ls,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.value_;i===e&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:r,previousRawValue:i,rawValue:this.value_,sender:this}))}},OVe=class{constructor(e){this.emitter=new Ls,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}};function Vi(t,e){const n=e==null?void 0:e.constraint,r=e==null?void 0:e.equals;return!n&&!r?new DVe(t):new RVe(t,e)}function LVe(t){return[new OVe(t),(e,n)=>{t.setRawValue(e,n)}]}let _r=class P6e{constructor(e){this.emitter=new Ls,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((r,i)=>Object.assign(r,{[i]:Vi(e[i])}),{})}static fromObject(e){const n=this.createCore(e);return new P6e(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}},f_=class{constructor(e){this.values=_r.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(e,r),n)}},NVe=class{constructor(e){this.values=_r.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");let i=e;return bi(r)||(i=Math.max(i,r)),bi(n)||(i=Math.min(i,n)),i}},FVe=class{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,r=Math.round((e-n)/this.step);return n+r*this.step}},BVe=class{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}};const UVe={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};let zVe=class{constructor(e,n,r){this.left=n,this.operator=e,this.right=r}evaluate(){const e=UVe[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}};const VVe={"+":t=>t,"-":t=>-t,"~":t=>~t};let jVe=class{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=VVe[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}};function HW(t){return(e,n)=>{for(let r=0;r<t.length;r++){const i=t[r](e,n);if(i!=="")return i}return""}}function $b(t,e){var n;const r=t.substr(e).match(/^\s+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function HVe(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Wb(t,e){var n;const r=t.substr(e).match(/^[0-9]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function GVe(t,e){const n=Wb(t,e);if(n!=="")return n;const r=t.substr(e,1);if(e+=1,r!=="-"&&r!=="+")return"";const i=Wb(t,e);return i===""?"":r+i}function GW(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const r=GVe(t,e);return r===""?"":n+r}function M6e(t,e){const n=t.substr(e,1);if(n==="0")return n;const r=HVe(t,e);return e+=r.length,r===""?"":r+Wb(t,e)}function $Ve(t,e){const n=M6e(t,e);if(e+=n.length,n==="")return"";const r=t.substr(e,1);if(e+=r.length,r!==".")return"";const i=Wb(t,e);return e+=i.length,n+r+i+GW(t,e)}function WVe(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const r=Wb(t,e);return e+=r.length,r===""?"":n+r+GW(t,e)}function KVe(t,e){const n=M6e(t,e);return e+=n.length,n===""?"":n+GW(t,e)}const XVe=HW([$Ve,WVe,KVe]);function qVe(t,e){var n;const r=t.substr(e).match(/^[01]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function YVe(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const r=qVe(t,e);return r===""?"":n+r}function ZVe(t,e){var n;const r=t.substr(e).match(/^[0-7]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function QVe(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const r=ZVe(t,e);return r===""?"":n+r}function JVe(t,e){var n;const r=t.substr(e).match(/^[0-9a-f]+/i);return(n=r&&r[0])!==null&&n!==void 0?n:""}function eje(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const r=JVe(t,e);return r===""?"":n+r}const tje=HW([YVe,QVe,eje]),nje=HW([tje,XVe]);function rje(t,e){const n=nje(t,e);return e+=n.length,n===""?null:{evaluable:new BVe(n),cursor:e}}function ije(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const r=k6e(t,e);if(!r)return null;e=r.cursor,e+=$b(t,e).length;const i=t.substr(e,1);return e+=i.length,i!==")"?null:{evaluable:r.evaluable,cursor:e}}function sje(t,e){var n;return(n=rje(t,e))!==null&&n!==void 0?n:ije(t,e)}function T6e(t,e){const n=sje(t,e);if(n)return n;const r=t.substr(e,1);if(e+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const i=T6e(t,e);return i?(e=i.cursor,{cursor:e,evaluable:new jVe(r,i.evaluable)}):null}function oje(t,e,n){n+=$b(e,n).length;const r=t.filter(i=>e.startsWith(i,n))[0];return r?(n+=r.length,n+=$b(e,n).length,{cursor:n,operator:r}):null}function aje(t,e){return(n,r)=>{const i=t(n,r);if(!i)return null;r=i.cursor;let o=i.evaluable;for(;;){const u=oje(e,n,r);if(!u)break;r=u.cursor;const d=t(n,r);if(!d)return null;r=d.cursor,o=new zVe(u.operator,o,d.evaluable)}return o?{cursor:r,evaluable:o}:null}}const lje=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>aje(t,e),T6e);function k6e(t,e){return e+=$b(t,e).length,lje(t,e)}function uje(t){const e=k6e(t,0);return!e||e.cursor+$b(t,e.cursor).length!==t.length?null:e.evaluable}function gh(t){var e;const n=uje(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function A6e(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=gh(t);if(!bi(e))return e}return 0}function cje(t){return String(t)}function r0(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function qr(t,e,n,r,i){const o=(t-e)/(n-e);return r+o*(i-r)}function X3e(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function $s(t,e,n){return Math.min(Math.max(t,e),n)}function I6e(t,e){return(t%e+e)%e}function dje(t,e){return bi(t.step)?Math.max(X3e(e),2):X3e(t.step)}function R6e(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function D6e(t,e){var n;const r=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function O6e(t,e){return bi(t.step)?null:new FVe(t.step,e)}function L6e(t){return!bi(t.max)&&!bi(t.min)?new f_({max:t.max,min:t.min}):!bi(t.max)||!bi(t.min)?new NVe({max:t.max,min:t.min}):null}function N6e(t,e){var n,r,i;return{formatter:(n=t.format)!==null&&n!==void 0?n:r0(dje(t,e)),keyScale:(r=t.keyScale)!==null&&r!==void 0?r:R6e(t),pointerScale:(i=t.pointerScale)!==null&&i!==void 0?i:D6e(t,e)}}function F6e(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function $W(t){return{constraint:t.constraint,textProps:_r.fromObject(N6e(t.params,t.initialValue))}}let K2=class{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}},BI=class{constructor(e){this.target=e}},m_=class extends BI{constructor(e,n,r){super(e),this.value=n,this.last=r??!0}},hje=class extends BI{constructor(e,n){super(e),this.expanded=n}},pje=class extends BI{constructor(e,n){super(e),this.index=n}},Kb=class extends K2{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new Ls,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new m_(this,n.binding.target.read(),e.options.last))}};class fje{constructor(e,n){this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=n,this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.emitter=new Ls}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=this.binding.read()}push(){this.binding.write(this.value_.rawValue)}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.push(),this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function mje(t){if(!("binding"in t))return!1;const e=t.binding;return jW(e)&&"read"in e&&"write"in e}function gje(t,e){const r=Object.keys(e).reduce((i,o)=>{if(i===void 0)return;const u=e[o],d=u(t[o]);return d.succeeded?Object.assign(Object.assign({},i),{[o]:d.value}):void 0},{});return r}function vje(t,e){return t.reduce((n,r)=>{if(n===void 0)return;const i=e(r);if(!(!i.succeeded||i.value===void 0))return[...n,i.value]},[])}function yje(t){return t===null?!1:typeof t=="object"}function Kd(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const r=t(n);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function q3e(t){return{custom:e=>Kd(e)(t),boolean:Kd(e=>typeof e=="boolean"?e:void 0)(t),number:Kd(e=>typeof e=="number"?e:void 0)(t),string:Kd(e=>typeof e=="string"?e:void 0)(t),function:Kd(e=>typeof e=="function"?e:void 0)(t),constant:e=>Kd(n=>n===e?e:void 0)(t),raw:Kd(e=>e)(t),object:e=>Kd(n=>{if(yje(n))return gje(n,e)})(t),array:e=>Kd(n=>{if(Array.isArray(n))return vje(n,e)})(t)}}const UG={optional:q3e(!0),required:q3e(!1)};function ts(t,e){const n=e(UG),r=UG.required.object(n)(t);return r.succeeded?r.value:void 0}function R0(t,e,n,r){if(e&&!e(t))return!1;const i=ts(t,n);return i?r(i):!1}function D0(t,e){var n;return N2((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function S2(t){return"value"in t}function B6e(t){if(!VW(t)||!("binding"in t))return!1;const e=t.binding;return jW(e)}const Tc="http://www.w3.org/2000/svg";function HA(t){t.offsetHeight}function bje(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function WW(t){return t.ontouchstart!==void 0}function _je(){return globalThis}function wje(){return _je().document}function xje(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const Sje={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function UI(t,e){const n=t.createElementNS(Tc,"svg");return n.innerHTML=Sje[e],n}function U6e(t,e,n){t.insertBefore(e,t.children[n])}function KW(t){t.parentElement&&t.parentElement.removeChild(t)}function z6e(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function Eje(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function V6e(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function ah(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function Dc(t,e,n){ah(t.value(e),n)}const Cje="tp";function Ur(t){return(n,r)=>[Cje,"-",t,"v",n?`_${n}`:"",r?`-${r}`:""].join("")}const Ay=Ur("lbl");function Pje(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(i=>t.createTextNode(i)).forEach((i,o)=>{o>0&&n.appendChild(t.createElement("br")),n.appendChild(i)}),n}let j6e=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ay()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Ay("l")),Dc(n.props,"label",o=>{bi(o)?this.element.classList.add(Ay(void 0,"nol")):(this.element.classList.remove(Ay(void 0,"nol")),Eje(r),r.appendChild(Pje(e,o)))}),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("div");i.classList.add(Ay("v")),this.element.appendChild(i),this.valueElement=i}},H6e=class{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new j6e(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return R0(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return D0(null,{label:this.props.get("label")})}};function Mje(){return["veryfirst","first","last","verylast"]}const Y3e=Ur(""),Z3e={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};let zI=class{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{Mje().forEach(r=>{n.classList.remove(Y3e(void 0,Z3e[r]))}),this.blade.get("positions").forEach(r=>{n.classList.add(Y3e(void 0,Z3e[r]))})}),this.viewProps.handleDispose(()=>{KW(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return R0(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return D0(null,Object.assign({},this.viewProps.exportState()))}},F2=class extends zI{constructor(e,n){if(n.value!==n.valueController.value)throw Zo.shouldNeverHappen();const r=n.valueController.viewProps,i=new H6e(e,{blade:n.blade,props:n.props,valueController:n.valueController});super(Object.assign(Object.assign({},n),{view:new j6e(e,{props:n.props,viewProps:r}),viewProps:r})),this.labelController=i,this.value=n.value,this.valueController=n.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return R0(e,n=>{var r,i,o;return super.importState(n)&&this.labelController.importProps(n)&&((o=(i=(r=this.valueController).importProps)===null||i===void 0?void 0:i.call(r,e))!==null&&o!==void 0?o:!0)},n=>({value:n.optional.raw}),n=>(n.value&&(this.value.rawValue=n.value),!0))}exportState(){var e,n,r;return D0(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(r=(n=(e=this.valueController).exportProps)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:{}))}};function Q3e(t){const e=Object.assign({},t);return delete e.value,e}class G6e extends F2{constructor(e,n){super(e,n),this.tag=n.tag}importState(e){return R0(e,n=>super.importState(Q3e(e)),n=>({tag:n.optional.string}),n=>(this.tag=n.tag,!0))}exportState(){return D0(()=>Q3e(super.exportState()),{binding:{key:this.value.binding.target.key,value:this.value.binding.target.read()},tag:this.tag})}}function Tje(t){return S2(t)&&B6e(t.value)}class kje extends G6e{importState(e){return R0(e,n=>super.importState(n),n=>({binding:n.required.object({value:n.required.raw})}),n=>(this.value.binding.inject(n.binding.value),this.value.fetch(),!0))}}function Aje(t){return S2(t)&&mje(t.value)}function $6e(t,e){for(;t.length<e;)t.push(void 0)}function Ije(t){const e=[];return $6e(e,t),e}function Rje(t){const e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}function Dje(t,e){const n=[...Rje(t),e];return n.length>t.length?n.splice(0,n.length-t.length):$6e(n,t.length),n}class Oje{constructor(e){this.emitter=new Ls,this.onTick_=this.onTick_.bind(this),this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.binding=e.binding,this.value_=Vi(Ije(e.bufferSize)),this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_),this.ticker=e.ticker,this.ticker.emitter.on("tick",this.onTick_),this.fetch()}get rawValue(){return this.value_.rawValue}set rawValue(e){this.value_.rawValue=e}setRawValue(e,n){this.value_.setRawValue(e,n)}fetch(){this.value_.rawValue=Dje(this.value_.rawValue,this.binding.read())}onTick_(){this.fetch()}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function Lje(t){if(!("binding"in t))return!1;const e=t.binding;return jW(e)&&"read"in e&&!("write"in e)}class Nje extends G6e{exportState(){return D0(()=>super.exportState(),{binding:{readonly:!0}})}}function Fje(t){return S2(t)&&Lje(t.value)}let Bje=class extends K2{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller.buttonController.emitter.on(e,()=>{r(new BI(this))}),this}};function Uje(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function Pg(t,e){return n=>{Uje(t,e,n)}}function XW(t,e){ah(t,n=>{e.textContent=n??""})}const Hj=Ur("btn");let zje=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Hj()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("button");r.classList.add(Hj("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(Hj("t")),XW(n.props.value("title"),i),this.buttonElement.appendChild(i)}},Vje=class{constructor(e,n){this.emitter=new Ls,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new zje(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return R0(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return D0(null,{title:this.props.get("title")})}onClick_(){this.emitter.emit("click",{sender:this})}},J3e=class extends zI{constructor(e,n){const r=new Vje(e,{props:n.buttonProps,viewProps:n.viewProps}),i=new H6e(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:n.viewProps}),this.buttonController=r,this.labelController=i}importState(e){return R0(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return D0(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}},W6e=class{constructor(e){const[n,r]=e.split("-"),i=n.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=r??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}};const Mg=new W6e("2.0.0");function La(t){return Object.assign({core:Mg},t)}const jje=La({id:"button",type:"blade",accept(t){const e=ts(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new J3e(t.document,{blade:t.blade,buttonProps:_r.fromObject({title:t.params.title}),labelProps:_r.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof J3e?new Bje(t.controller):null}});function Hje(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function Gje(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function $je(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function Wje(t){return VW(t)?"refresh"in t&&typeof t.refresh=="function":!1}function Kje(t,e){if(!K3e.isBindable(t))throw Zo.notBindable();return new K3e(t,e)}let Xje=class{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new Ls,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,r){const i=r??{},o=this.controller_.element.ownerDocument,u=this.pool_.createBinding(o,Kje(e,n),i),d=this.pool_.createBindingApi(u);return this.add(d,i.index)}addFolder(e){return Gje(this,e)}addButton(e){return Hje(this,e)}addTab(e){return $je(this,e)}add(e,n){const r=e.controller;return this.controller_.rack.add(r,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,r=this.pool_.createBlade(n,e),i=this.pool_.createApi(r);return this.add(i,e.index)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.children.forEach(e=>{Wje(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,r=this.pool_.createApi(n),i=B6e(n.value)?n.value.binding:null;this.emitter_.emit("change",new m_(r,i?i.target.read():n.value.rawValue,e.options.last))}},qW=class extends K2{constructor(e,n){super(e),this.rackApi_=new Xje(e.rackController,n)}},YW=class extends zI{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return R0(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((r,i)=>r.importState(n.children[i])))}exportState(){return D0(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}};function zG(t){return"rackController"in t}let qje=class{constructor(e){this.emitter=new Ls,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw Zo.shouldNeverHappen();const r=n!==void 0?n:this.items_.length;this.items_.splice(r,0,e),this.cache_.add(e);const i=this.extract_(e);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach(o=>{this.cache_.add(o)})),this.emitter.emit("add",{index:r,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const r=this.extract_(e);r&&(r.allItems().forEach(i=>{this.cache_.delete(i)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}};function Yje(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(S2(r)&&r.value===e)return r}return null}function Zje(t){return zG(t)?t.rackController.rack.bcSet_:null}let Qje=class{constructor(e){var n,r;this.emitter=new Ls,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new qje(Zje),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var r;(r=e.parent)===null||r===void 0||r.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const r=e.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),S2(r))r.value.emitter.on("change",this.onChildValueChange_);else if(zG(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.on("layout",this.onRackLayout_),o.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const r=e.item;if(S2(r))r.value.emitter.off("change",this.onChildValueChange_);else if(zG(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.off("layout",this.onRackLayout_),o.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(i=>!i.viewProps.get("hidden")),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach(i=>{const o=[];i===n&&(o.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&o.push("veryfirst")),i===r&&(o.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&o.push("verylast")),i.blade.set("positions",o)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=Yje(this.find(S2),e.sender);if(!n)throw Zo.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}},ZW=class{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new Qje({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&U6e(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&KW(e.bladeController.view.element)}};function Tg(){return new _r({positions:Vi([],{equals:AVe})})}let QW=class K6e extends _r{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=_r.createCore(n);return new K6e(r)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!bi(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const r=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};Dc(this,"expanded",r),Dc(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}};function Jje(t,e){let n=0;return bje(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),HA(e),n=e.clientHeight,t.set("temporaryExpanded",null),HA(e)}),n}function e5e(t,e){e.style.height=t.styleHeight}function JW(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),bi(t.get("expandedHeight"))){const n=Jje(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),HA(e)}),t.emitter.on("change",()=>{e5e(t,e)}),e5e(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}let X6e=class extends qW{constructor(e,n){super(e,n),this.emitter_=new Ls,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new hje(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.rackApi_.refresh()}};const q6e=Ur("cnt");let eHe=class{constructor(e,n){var r;this.className_=Ur((r=n.viewName)!==null&&r!==void 0?r:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),q6e()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),Dc(this.foldable_,"completed",Pg(this.element,this.className_(void 0,"cpl")));const i=e.createElement("button");i.classList.add(this.className_("b")),Dc(n.props,"title",v=>{bi(v)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const o=e.createElement("div");o.classList.add(this.className_("i")),this.element.appendChild(o);const u=e.createElement("div");u.classList.add(this.className_("t")),XW(n.props.value("title"),u),this.buttonElement.appendChild(u),this.titleElement=u;const d=e.createElement("div");d.classList.add(this.className_("m")),this.buttonElement.appendChild(d);const m=e.createElement("div");m.classList.add(this.className_("c")),this.element.appendChild(m),this.containerElement=m}},VG=class extends YW{constructor(e,n){var r;const i=QW.create((r=n.expanded)!==null&&r!==void 0?r:!0),o=new eHe(e,{foldable:i,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new ZW({blade:n.blade,element:o.containerElement,root:n.root,viewProps:n.viewProps}),view:o})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=i,JW(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return R0(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return D0(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}};const tHe=La({id:"folder",type:"blade",accept(t){const e=ts(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new VG(t.document,{blade:t.blade,expanded:t.params.expanded,props:_r.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof VG?new X6e(t.controller,t.pool):null}}),nHe=Ur("");function t5e(t,e){return Pg(t,nHe(void 0,e))}let X2=class Y6e extends _r{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=LVe(Vi(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,r,i;const o=e??{};return new Y6e(_r.createCore({disabled:(n=o.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(r=o.hidden)!==null&&r!==void 0?r:!1,parent:(i=o.parent)!==null&&i!==void 0?i:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){ah(this.globalDisabled_,t5e(e,"disabled")),Dc(this,"hidden",t5e(e,"hidden"))}bindDisabled(e){ah(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){ah(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const r=e.previousRawValue;r==null||r.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}};const n5e=Ur("tbp");let rHe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(n5e()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(n5e("c")),this.element.appendChild(r),this.containerElement=r}};const Iy=Ur("tbi");let iHe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Iy()),n.viewProps.bindClassModifiers(this.element),Dc(n.props,"selected",o=>{o?this.element.classList.add(Iy(void 0,"sel")):this.element.classList.remove(Iy(void 0,"sel"))});const r=e.createElement("button");r.classList.add(Iy("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(Iy("t")),XW(n.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i}},sHe=class{constructor(e,n){this.emitter=new Ls,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new iHe(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}},jG=class extends YW{constructor(e,n){const r=new rHe(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new ZW({blade:n.blade,element:r.containerElement,viewProps:n.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new sHe(e,{props:n.itemProps,viewProps:X2.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,Dc(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}importState(e){return R0(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return D0(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}},oHe=class extends qW{constructor(e,n){super(e,n),this.emitter_=new Ls,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,r=new jG(n,{blade:Tg(),itemProps:_r.fromObject({selected:!1,title:e.title}),props:_r.fromObject({selected:!1}),viewProps:X2.create()}),i=this.pool_.createApi(r);return this.rackApi_.add(i,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}onSelect_(e){this.emitter_.emit("select",new pje(this,e.rawValue))}},aHe=class extends qW{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addBlade(e){return this.rackApi_.addBlade(e)}refresh(){this.rackApi_.refresh()}};const r5e=-1;let lHe=class{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=Vi(!0),this.selectedIndex=Vi(r5e),this.items_=[]}add(e,n){const r=n??this.items_.length;this.items_.splice(r,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=r5e,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,r)=>{n.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,r)=>{n.rawValue=r===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(r=>r===e.sender);this.items_.forEach((r,i)=>{r.rawValue=i===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}};const Ry=Ur("tab");let uHe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ry(),q6e()),n.viewProps.bindClassModifiers(this.element),ah(n.empty,Pg(this.element,Ry(void 0,"nop")));const r=e.createElement("div");r.classList.add(Ry("t")),this.element.appendChild(r),this.itemsElement=r;const i=e.createElement("div");i.classList.add(Ry("i")),this.element.appendChild(i);const o=e.createElement("div");o.classList.add(Ry("c")),this.element.appendChild(o),this.contentsElement=o}},i5e=class extends YW{constructor(e,n){const r=new lHe,i=new uHe(e,{empty:r.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new ZW({blade:n.blade,element:i.contentsElement,viewProps:n.viewProps}),view:i}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const o=this.rackController.rack;o.emitter.on("add",this.onRackAdd_),o.emitter.on("remove",this.onRackRemove_),this.tab=r}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;U6e(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;KW(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}};const Z6e=La({id:"tab",type:"blade",accept(t){const e=ts(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new i5e(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const r=new jG(t.document,{blade:Tg(),itemProps:_r.fromObject({selected:!1,title:n.title}),props:_r.fromObject({selected:!1}),viewProps:X2.create()});e.add(r)}),e},api(t){return t.controller instanceof i5e?new oHe(t.controller,t.pool):t.controller instanceof jG?new aHe(t.controller,t.pool):null}});function cHe(t,e){const n=t.accept(e.params);if(!n)return null;const r=ts(e.params,i=>({disabled:i.optional.boolean,hidden:i.optional.boolean}));return t.controller({blade:Tg(),document:e.document,params:Object.assign(Object.assign({},n.params),{disabled:r==null?void 0:r.disabled,hidden:r==null?void 0:r.hidden}),viewProps:X2.create({disabled:r==null?void 0:r.disabled,hidden:r==null?void 0:r.hidden})})}let eK=class extends Kb{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}},dHe=class{constructor(){this.disabled=!1,this.emitter=new Ls}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}},hHe=class{constructor(e,n){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new Ls,this.interval_=n,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}},g_=class{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,r)=>r.constrain(n),e)}};function GA(t,e){if(t instanceof e)return t;if(t instanceof g_){const n=t.constraints.reduce((r,i)=>r||(i instanceof e?i:null),null);if(n)return n}return null}let v_=class{constructor(e){this.values=_r.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(i=>i.value===e).length>0?e:n[0].value}};function y_(t){var e;const n=UG;if(Array.isArray(t))return(e=ts({items:t},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function tK(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function nK(t){return bi(t)?null:new v_(tK(t))}const Gj=Ur("lst");let pHe=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(Gj()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("select");r.classList.add(Gj("s")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const i=e.createElement("div");i.classList.add(Gj("m")),i.appendChild(UI(e,"dropdown")),this.element.appendChild(i),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,Dc(this.props_,"options",o=>{z6e(this.selectElement),o.forEach(u=>{const d=e.createElement("option");d.textContent=u.text,this.selectElement.appendChild(d)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}},Kf=class{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new pHe(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return R0(e,null,n=>({options:n.required.custom(y_)}),n=>(this.props.set("options",tK(n.options)),!0))}exportProps(){return D0(null,{options:this.props.get("options")})}};const s5e=Ur("pop");let fHe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(s5e()),n.viewProps.bindClassModifiers(this.element),ah(n.shows,Pg(this.element,s5e(void 0,"v")))}},Q6e=class{constructor(e,n){this.shows=Vi(!1),this.viewProps=n.viewProps,this.view=new fHe(e,{shows:this.shows,viewProps:this.viewProps})}};const o5e=Ur("txt");let mHe=class{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(o5e()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const r=e.createElement("input");r.classList.add(o5e("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}},Xb=class{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new mHe(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);bi(i)||(this.value.rawValue=i),this.view.refresh()}};function gHe(t){return String(t)}function J6e(t){return t==="false"?!1:!!t}function a5e(t){return gHe(t)}function vHe(t){return e=>t.reduce((n,r)=>n!==null?n:r(e),null)}const yHe=r0(0);function $A(t){return yHe(t)+"%"}function e7e(t){return String(t)}function HG(t){return t}function kg({primary:t,secondary:e,forward:n,backward:r}){let i=!1;function o(u){i||(i=!0,u(),i=!1)}t.emitter.on("change",u=>{o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),u.options)})}),e.emitter.on("change",u=>{o(()=>{t.setRawValue(r(t.rawValue,e.rawValue),u.options)}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),u.options)})}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function Ja(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function qb(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function vh(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function bHe(t){return t==="ArrowUp"||t==="ArrowDown"}function t7e(t){return bHe(t)||t==="ArrowLeft"||t==="ArrowRight"}function $j(t,e){var n,r;const i=e.ownerDocument.defaultView,o=e.getBoundingClientRect();return{x:t.pageX-(((n=i&&i.scrollX)!==null&&n!==void 0?n:0)+o.left),y:t.pageY-(((r=i&&i.scrollY)!==null&&r!==void 0?r:0)+o.top)}}let q2=class{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new Ls,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_($j(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_($j(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_($j(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const r=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,i=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(r?{x:r.clientX-i.left,y:r.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey})}};const ll=Ur("txt");let _He=class{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(ll(),ll(void 0,"num")),n.arrayPosition&&this.element.classList.add(ll(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(ll("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ll()),this.inputElement.classList.add(ll("i"));const i=e.createElement("div");i.classList.add(ll("k")),this.element.appendChild(i),this.knobElement=i;const o=e.createElementNS(Tc,"svg");o.classList.add(ll("g")),this.knobElement.appendChild(o);const u=e.createElementNS(Tc,"path");u.classList.add(ll("gb")),o.appendChild(u),this.guideBodyElem_=u;const d=e.createElementNS(Tc,"path");d.classList.add(ll("gh")),o.appendChild(d),this.guideHeadElem_=d;const m=e.createElement("div");m.classList.add(Ur("tt")()),this.knobElement.appendChild(m),this.tooltipElem_=m,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(ll(void 0,"drg"));return}this.element.classList.add(ll(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),r=n+(n>0?-1:n<0?1:0),i=$s(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+i},0 L${r},4 L${r+i},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const o=this.props_.get("formatter");this.tooltipElem_.textContent=o(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}},b_=class{constructor(e,n){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(r=n.sliderProps)!==null&&r!==void 0?r:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=Vi(null),this.view=new _He(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const i=new q2(this.view.knobElement);i.emitter.on("down",this.onPointerDown_),i.emitter.on("move",this.onPointerMove_),i.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,r;const i=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),o=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let u=e;return i!==void 0&&(u=Math.max(u,i)),o!==void 0&&(u=Math.min(u,o)),u}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);bi(i)||(this.value.rawValue=this.constrainValue_(i)),this.view.refresh()}onInputKeyDown_(e){const n=Ja(this.props.get("keyScale"),qb(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){Ja(this.props.get("keyScale"),qb(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}};const Wj=Ur("sld");let wHe=class{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(Wj()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Wj("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(Wj("k")),this.trackElement.appendChild(i),this.knobElement=i,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=$s(qr(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}},xHe=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new wHe(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new q2(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(qr($s(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ja(this.props.get("keyScale"),vh(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){Ja(this.props.get("keyScale"),vh(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};const Kj=Ur("sldtxt");let SHe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Kj());const r=e.createElement("div");r.classList.add(Kj("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Kj("t")),this.textView_=n.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}},WA=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new xHe(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new b_(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new SHe(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return R0(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const r=this.sliderC_.props;return r.set("max",n.max),r.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return D0(null,{max:e.get("max"),min:e.get("min")})}};function n7e(t){return{sliderProps:new _r({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new _r({formatter:Vi(t.formatter),keyScale:t.keyScale,pointerScale:Vi(t.pointerScale)})}}const EHe={containerUnitSize:"cnt-usz"};function r7e(t){return`--${EHe[t]}`}function Yb(t){return F6e(t)}function kf(t){if(BG(t))return ts(t,Yb)}function nh(t,e){if(!t)return;const n=[],r=O6e(t,e);r&&n.push(r);const i=L6e(t);return i&&n.push(i),new g_(n)}function CHe(t){return t?t.major===Mg.major:!1}function i7e(t){if(t==="inline"||t==="popup")return t}function __(t,e){t.write(e)}const kk=Ur("ckb");let PHe=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(kk()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(kk("l")),this.element.appendChild(r);const i=e.createElement("input");i.classList.add(kk("i")),i.type="checkbox",r.appendChild(i),this.inputElement=i,n.viewProps.bindDisabled(this.inputElement);const o=e.createElement("div");o.classList.add(kk("w")),r.appendChild(o);const u=UI(e,"check");o.appendChild(u),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}},MHe=class{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new PHe(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked}};function THe(t){const e=[],n=nK(t.options);return n&&e.push(n),new g_(e)}const kHe=La({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ts(e,r=>({options:r.optional.custom(y_),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>J6e,constraint:t=>THe(t.params),writer:t=>__},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&GA(r,v_);return i?new Kf(e,{props:new _r({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new MHe(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof Kf?new eK(t.controller):null}}),t2=Ur("col");let AHe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(t2()),n.foldable.bindExpandedClass(this.element,t2(void 0,"expanded")),Dc(n.foldable,"completed",Pg(this.element,t2(void 0,"cpl")));const r=e.createElement("div");r.classList.add(t2("h")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(t2("s")),r.appendChild(i),this.swatchElement=i;const o=e.createElement("div");if(o.classList.add(t2("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const u=e.createElement("div");u.classList.add(t2("p")),this.element.appendChild(u),this.pickerElement=u}else this.pickerElement=null}};function IHe(t,e,n){const r=$s(t/255,0,1),i=$s(e/255,0,1),o=$s(n/255,0,1),u=Math.max(r,i,o),d=Math.min(r,i,o),m=u-d;let v=0,x=0;const S=(d+u)/2;return m!==0&&(x=m/(1-Math.abs(u+d-1)),r===u?v=(i-o)/m:i===u?v=2+(o-r)/m:v=4+(r-i)/m,v=v/6+(v<0?1:0)),[v*360,x*100,S*100]}function RHe(t,e,n){const r=(t%360+360)%360,i=$s(e/100,0,1),o=$s(n/100,0,1),u=(1-Math.abs(2*o-1))*i,d=u*(1-Math.abs(r/60%2-1)),m=o-u/2;let v,x,S;return r>=0&&r<60?[v,x,S]=[u,d,0]:r>=60&&r<120?[v,x,S]=[d,u,0]:r>=120&&r<180?[v,x,S]=[0,u,d]:r>=180&&r<240?[v,x,S]=[0,d,u]:r>=240&&r<300?[v,x,S]=[d,0,u]:[v,x,S]=[u,0,d],[(v+m)*255,(x+m)*255,(S+m)*255]}function DHe(t,e,n){const r=$s(t/255,0,1),i=$s(e/255,0,1),o=$s(n/255,0,1),u=Math.max(r,i,o),d=Math.min(r,i,o),m=u-d;let v;m===0?v=0:u===r?v=60*(((i-o)/m%6+6)%6):u===i?v=60*((o-r)/m+2):v=60*((r-i)/m+4);const x=u===0?0:m/u,S=u;return[v,x*100,S*100]}function s7e(t,e,n){const r=I6e(t,360),i=$s(e/100,0,1),o=$s(n/100,0,1),u=o*i,d=u*(1-Math.abs(r/60%2-1)),m=o-u;let v,x,S;return r>=0&&r<60?[v,x,S]=[u,d,0]:r>=60&&r<120?[v,x,S]=[d,u,0]:r>=120&&r<180?[v,x,S]=[0,u,d]:r>=180&&r<240?[v,x,S]=[0,d,u]:r>=240&&r<300?[v,x,S]=[d,0,u]:[v,x,S]=[u,0,d],[(v+m)*255,(x+m)*255,(S+m)*255]}function OHe(t,e,n){const r=n+e*(100-Math.abs(2*n-100))/200;return[t,r!==0?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function LHe(t,e,n){const r=100-Math.abs(n*(200-e)/100-100);return[t,r!==0?e*n/r:0,n*(200-e)/(2*100)]}function Oc(t){return[t[0],t[1],t[2]]}function VI(t,e){return[t[0],t[1],t[2],e]}const NHe={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:OHe,rgb:RHe},hsv:{hsl:LHe,hsv:(t,e,n)=>[t,e,n],rgb:s7e},rgb:{hsl:IHe,hsv:DHe,rgb:(t,e,n)=>[t,e,n]}};function dg(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function FHe(t,e){return t===e?e:I6e(t,e)}function o7e(t,e,n){var r;const i=dg(e,n);return[e==="rgb"?$s(t[0],0,i[0]):FHe(t[0],i[0]),$s(t[1],0,i[1]),$s(t[2],0,i[2]),$s((r=t[3])!==null&&r!==void 0?r:1,0,1)]}function l5e(t,e,n,r){const i=dg(e,n),o=dg(e,r);return t.map((u,d)=>u/i[d]*o[d])}function a7e(t,e,n){const r=l5e(t,e.mode,e.type,"int"),i=NHe[e.mode][n.mode](...r);return l5e(i,n.mode,"int",n.type)}let Yr=class l7e{static black(){return new l7e([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=o7e(e,n,this.type)}getComponents(e){return VI(a7e(Oc(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};const of=Ur("colp");let BHe=class{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(of()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(of("hsv"));const i=e.createElement("div");i.classList.add(of("sv")),this.svPaletteView_=n.svPaletteView,i.appendChild(this.svPaletteView_.element),r.appendChild(i);const o=e.createElement("div");o.classList.add(of("h")),this.hPaletteView_=n.hPaletteView,o.appendChild(this.hPaletteView_.element),r.appendChild(o),this.element.appendChild(r);const u=e.createElement("div");if(u.classList.add(of("rgb")),this.textsView_=n.textsView,u.appendChild(this.textsView_.element),this.element.appendChild(u),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const d=e.createElement("div");d.classList.add(of("a"));const m=e.createElement("div");m.classList.add(of("ap")),m.appendChild(this.alphaViews_.palette.element),d.appendChild(m);const v=e.createElement("div");v.classList.add(of("at")),v.appendChild(this.alphaViews_.text.element),d.appendChild(v),this.element.appendChild(d)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}};function UHe(t){return t==="int"?"int":t==="float"?"float":void 0}function rK(t){return ts(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(UHe)}),expanded:e.optional.boolean,picker:e.optional.custom(i7e),readonly:e.optional.constant(!1)}))}function B2(t){return t?.1:1}function u7e(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}let iK=class{constructor(e,n){this.type="float",this.mode=n,this.comps_=o7e(e,n,this.type)}getComponents(e){return VI(a7e(Oc(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}};const zHe={int:(t,e)=>new Yr(t,e),float:(t,e)=>new iK(t,e)};function sK(t,e,n){return zHe[n](t,e)}function VHe(t){return t.type==="float"}function jHe(t){return t.type==="int"}function HHe(t){const e=t.getComponents(),n=dg(t.mode,"int");return new Yr([Math.round(qr(e[0],0,1,0,n[0])),Math.round(qr(e[1],0,1,0,n[1])),Math.round(qr(e[2],0,1,0,n[2])),e[3]],t.mode)}function GHe(t){const e=t.getComponents(),n=dg(t.mode,"int");return new iK([qr(e[0],0,n[0],0,1),qr(e[1],0,n[1],0,1),qr(e[2],0,n[2],0,1),e[3]],t.mode)}function Ta(t,e){if(t.type===e)return t;if(jHe(t)&&e==="float")return GHe(t);if(VHe(t)&&e==="int")return HHe(t);throw Zo.shouldNeverHappen()}function $He(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function gl(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const WHe={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function c7e(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),r=e[2];return WHe[r](n)}function d7e(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[gl(e[1],255),gl(e[2],255),gl(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function KHe(t){const e=d7e(t);return e?new Yr(e,"rgb"):null}function h7e(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[gl(e[1],255),gl(e[2],255),gl(e[3],255),gl(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function XHe(t){const e=h7e(t);return e?new Yr(e,"rgb"):null}function p7e(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[c7e(e[1]),gl(e[2],100),gl(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function qHe(t){const e=p7e(t);return e?new Yr(e,"hsl"):null}function f7e(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[c7e(e[1]),gl(e[2],100),gl(e[3],100),gl(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function YHe(t){const e=f7e(t);return e?new Yr(e,"hsl"):null}function m7e(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function ZHe(t){const e=m7e(t);return e?new Yr(e,"rgb"):null}function g7e(t){const e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),qr(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),qr(parseInt(n[4],16),0,255,0,1)]:null}function QHe(t){const e=g7e(t);return e?new Yr(e,"rgb"):null}function v7e(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function u5e(t){return e=>{const n=v7e(e);return n?sK(n,"rgb",t):null}}function y7e(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function c5e(t){return e=>{const n=y7e(e);return n?sK(n,"rgb",t):null}}const JHe=[{parser:m7e,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:g7e,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:d7e,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:h7e,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:p7e,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:f7e,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:v7e,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:y7e,result:{alpha:!0,mode:"rgb",notation:"object"}}];function eGe(t){return JHe.reduce((e,{parser:n,result:r})=>e||(n(t)?r:null),null)}function tGe(t,e="int"){const n=eGe(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function w_(t){const e=[ZHe,QHe,KHe,XHe,qHe,YHe];t==="int"&&e.push(u5e("int"),c5e("int")),t==="float"&&e.push(u5e("float"),c5e("float"));const n=vHe(e);return r=>{const i=n(r);return i?Ta(i,t):null}}function nGe(t){const e=w_("int");if(typeof t!="string")return Yr.black();const n=e(t);return n??Yr.black()}function b7e(t){const e=$s(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function oK(t,e="#"){const n=Oc(t.getComponents("rgb")).map(b7e).join("");return`${e}${n}`}function aK(t,e="#"){const n=t.getComponents("rgb"),r=[n[0],n[1],n[2],n[3]*255].map(b7e).join("");return`${e}${r}`}function _7e(t){const e=r0(0),n=Ta(t,"int");return`rgb(${Oc(n.getComponents("rgb")).map(i=>e(i)).join(", ")})`}function Qk(t){const e=r0(2),n=r0(0);return`rgba(${Ta(t,"int").getComponents("rgb").map((o,u)=>(u===3?e:n)(o)).join(", ")})`}function rGe(t){const e=[r0(0),$A,$A],n=Ta(t,"int");return`hsl(${Oc(n.getComponents("hsl")).map((i,o)=>e[o](i)).join(", ")})`}function iGe(t){const e=[r0(0),$A,$A,r0(2)];return`hsla(${Ta(t,"int").getComponents("hsl").map((i,o)=>e[o](i)).join(", ")})`}function w7e(t,e){const n=r0(e==="float"?2:0),r=["r","g","b"],i=Ta(t,e);return`{${Oc(i.getComponents("rgb")).map((u,d)=>`${r[d]}: ${n(u)}`).join(", ")}}`}function sGe(t){return e=>w7e(e,t)}function x7e(t,e){const n=r0(2),r=r0(e==="float"?2:0),i=["r","g","b","a"];return`{${Ta(t,e).getComponents("rgb").map((d,m)=>{const v=m===3?n:r;return`${i[m]}: ${v(d)}`}).join(", ")}}`}function oGe(t){return e=>x7e(e,t)}const aGe=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:oK},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:aK},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:_7e},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:Qk},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:rGe},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:iGe},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:sGe(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:oGe(e)}],[])];function S7e(t){return aGe.reduce((e,n)=>e||($He(n.format,t)?n.stringifier:null),null)}const Dy=Ur("apl");let lGe=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Dy()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(Dy("b")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Dy("c")),r.appendChild(i),this.colorElem_=i;const o=e.createElement("div");o.classList.add(Dy("m")),this.element.appendChild(o),this.markerElem_=o;const u=e.createElement("div");u.classList.add(Dy("p")),this.markerElem_.appendChild(u),this.previewElem_=u,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),r=new Yr([n[0],n[1],n[2],0],"rgb"),i=new Yr([n[0],n[1],n[2],255],"rgb"),o=["to right",Qk(r),Qk(i)];this.colorElem_.style.background=`linear-gradient(${o.join(",")})`,this.previewElem_.style.backgroundColor=Qk(e);const u=qr(n[3],0,1,0,100);this.markerElem_.style.left=`${u}%`}onValueChange_(){this.update_()}},uGe=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new lGe(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new q2(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=e.point.x/e.bounds.width,i=this.value.rawValue,[o,u,d]=i.getComponents("hsv");this.value.setRawValue(new Yr([o,u,d,r],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ja(B2(!0),vh(e));if(n===0)return;const r=this.value.rawValue,[i,o,u,d]=r.getComponents("hsv");this.value.setRawValue(new Yr([i,o,u,d+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ja(B2(!0),vh(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};const i4=Ur("coltxt");function cGe(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((r,i)=>{const o=t.createElement("option");return o.textContent=i.text,o.value=i.value,r.appendChild(o),r},t.createDocumentFragment())),e}let dGe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(i4()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(i4("m")),this.modeElem_=cGe(e),this.modeElem_.classList.add(i4("ms")),r.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const i=e.createElement("div");i.classList.add(i4("mm")),i.appendChild(UI(e,"dropdown")),r.appendChild(i),this.element.appendChild(r);const o=e.createElement("div");o.classList.add(i4("w")),this.element.appendChild(o),this.inputsElem_=o,this.inputViews_=n.inputViews,this.applyInputViews_(),ah(n.mode,u=>{this.modeElem_.value=u})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){z6e(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const r=e.createElement("div");r.classList.add(i4("c")),r.appendChild(n.element),this.inputsElem_.appendChild(r)})}};function hGe(t){return r0(t==="float"?2:0)}function pGe(t,e,n){const r=dg(t,e)[n];return new f_({min:0,max:r})}function fGe(t,e,n){return new b_(t,{arrayPosition:n===0?"fst":n===3-1?"lst":"mid",parser:e.parser,props:_r.fromObject({formatter:hGe(e.colorType),keyScale:B2(!1),pointerScale:e.colorType==="float"?.01:1}),value:Vi(0,{constraint:pGe(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function mGe(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:gh,viewProps:e.viewProps};return[0,1,2].map(r=>{const i=fGe(t,n,r);return kg({primary:e.value,secondary:i.value,forward(o){return Ta(o,e.colorType).getComponents(e.colorMode)[r]},backward(o,u){const d=e.colorMode,v=Ta(o,e.colorType).getComponents(d);v[r]=u;const x=sK(VI(Oc(v),v[3]),d,e.colorType);return Ta(x,"int")}}),i})}function gGe(t,e){const n=new Xb(t,{parser:w_("int"),props:_r.fromObject({formatter:oK}),value:Vi(Yr.black()),viewProps:e.viewProps});return kg({primary:e.value,secondary:n.value,forward:r=>new Yr(Oc(r.getComponents()),r.mode),backward:(r,i)=>new Yr(VI(Oc(i.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[n]}function vGe(t){return t!=="hex"}let yGe=class{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=Vi(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new dGe(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return vGe(n)?mGe(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):gGe(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}};const Xj=Ur("hpl");let bGe=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Xj()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(Xj("c")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Xj("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=_7e(new Yr([n,100,100],"hsv"));const r=qr(n,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}},_Ge=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new bGe(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new q2(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=qr($s(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),i=this.value.rawValue,[,o,u,d]=i.getComponents("hsv");this.value.setRawValue(new Yr([r,o,u,d],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=Ja(B2(!1),vh(e));if(n===0)return;const r=this.value.rawValue,[i,o,u,d]=r.getComponents("hsv");this.value.setRawValue(new Yr([i+n,o,u,d],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){Ja(B2(!1),vh(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}};const qj=Ur("svp"),d5e=64;let wGe=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(qj()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("canvas");r.height=d5e,r.width=d5e,r.classList.add(qj("c")),this.element.appendChild(r),this.canvasElement=r;const i=e.createElement("div");i.classList.add(qj("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=xje(this.canvasElement);if(!e)return;const r=this.value.rawValue.getComponents("hsv"),i=this.canvasElement.width,o=this.canvasElement.height,u=e.getImageData(0,0,i,o),d=u.data;for(let x=0;x<o;x++)for(let S=0;S<i;S++){const T=qr(S,0,i,0,100),R=qr(x,0,o,100,0),G=s7e(r[0],T,R),L=(x*i+S)*4;d[L]=G[0],d[L+1]=G[1],d[L+2]=G[2],d[L+3]=255}e.putImageData(u,0,0);const m=qr(r[1],0,100,0,100);this.markerElem_.style.left=`${m}%`;const v=qr(r[2],0,100,100,0);this.markerElem_.style.top=`${v}%`}onValueChange_(){this.update_()}},xGe=class{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new wGe(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new q2(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=qr(e.point.x,0,e.bounds.width,0,100),i=qr(e.point.y,0,e.bounds.height,100,0),[o,,,u]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new Yr([o,r,i,u],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){t7e(e.key)&&e.preventDefault();const[n,r,i,o]=this.value.rawValue.getComponents("hsv"),u=B2(!1),d=Ja(u,vh(e)),m=Ja(u,qb(e));d===0&&m===0||this.value.setRawValue(new Yr([n,r+d,i+m,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=B2(!1),r=Ja(n,vh(e)),i=Ja(n,qb(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}},SGe=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new _Ge(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new xGe(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new uGe(e,{value:this.value,viewProps:this.viewProps}),text:new b_(e,{parser:gh,props:_r.fromObject({pointerScale:.01,keyScale:.1,formatter:r0(2)}),value:Vi(0,{constraint:new f_({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&kg({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,i)=>{const o=r.getComponents();return o[3]=i,new Yr(o,r.mode)}}),this.textsC_=new yGe(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new BHe(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}};const Yj=Ur("colsw");let EGe=class{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(Yj()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Yj("sw")),this.element.appendChild(r),this.swatchElem_=r;const i=e.createElement("button");i.classList.add(Yj("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=aK(e)}onValueChange_(){this.update_()}},CGe=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new EGe(e,{value:this.value,viewProps:this.viewProps})}},lK=class{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=QW.create(n.expanded),this.swatchC_=new CGe(e,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new Xb(e,{parser:n.parser,props:_r.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new AHe(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new Q6e(e,{viewProps:this.viewProps}):null;const i=new SGe(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach(o=>{o.addEventListener("blur",this.onPopupChildBlur_),o.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),kg({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:o=>o,backward:(o,u)=>u})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),JW(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=V6e(e);r&&n.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!WW(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}};function PGe(t){return Oc(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function MGe(t){return t.getComponents("rgb").reduce((e,n,r)=>{const i=Math.floor(r===3?n*255:n)&255;return e<<8|i},0)>>>0}function TGe(t){return new Yr([t>>16&255,t>>8&255,t&255],"rgb")}function kGe(t){return new Yr([t>>24&255,t>>16&255,t>>8&255,qr(t&255,0,255,0,1)],"rgb")}function AGe(t){return typeof t!="number"?Yr.black():TGe(t)}function IGe(t){return typeof t!="number"?Yr.black():kGe(t)}function Jk(t,e){return typeof t!="object"||bi(t)?!1:e in t&&typeof t[e]=="number"}function E7e(t){return Jk(t,"r")&&Jk(t,"g")&&Jk(t,"b")}function C7e(t){return E7e(t)&&Jk(t,"a")}function P7e(t){return E7e(t)}function uK(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),r=e.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function h5e(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function RGe(t){const e=S7e(t);return e?(n,r)=>{__(n,e(r))}:null}function DGe(t){const e=t?MGe:PGe;return(n,r)=>{__(n,e(r))}}function OGe(t,e,n){const i=Ta(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b),t.writeProperty("a",i.a)}function LGe(t,e,n){const i=Ta(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b)}function NGe(t,e){return(n,r)=>{t?OGe(n,r,e):LGe(n,r,e)}}function FGe(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function BGe(t){return t?e=>aK(e,"0x"):e=>oK(e,"0x")}function UGe(t){return"color"in t||t.view==="color"}const zGe=La({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!UGe(e))return null;const n=rK(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:FGe(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?IGe:AGe,equals:uK,writer:t=>DGe(t.params.supportsAlpha)},controller:t=>{var e,n;return new lK(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:BGe(t.params.supportsAlpha),parser:w_("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function VGe(t,e){if(!P7e(t))return Ta(Yr.black(),e);if(e==="int"){const n=h5e(t);return new Yr(n,"rgb")}if(e==="float"){const n=h5e(t);return new iK(n,"rgb")}return Ta(Yr.black(),"int")}function jGe(t){return C7e(t)}function HGe(t){return e=>{const n=VGe(e,t);return Ta(n,"int")}}function GGe(t,e){return n=>t?x7e(n,e):w7e(n,e)}const $Ge=La({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!P7e(t))return null;const r=rK(e);return r?{initialValue:t,params:Object.assign(Object.assign({},r),{colorType:(n=u7e(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>HGe(t.params.colorType),equals:uK,writer:t=>NGe(jGe(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const r=C7e(t.initialValue);return new lK(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:GGe(r,t.params.colorType),parser:w_("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:r,value:t.value,viewProps:t.viewProps})}}),WGe=La({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=tGe(t,u7e(e));if(!n)return null;const r=S7e(n);if(!r)return null;const i=rK(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>nGe,equals:uK,writer:t=>{const e=RGe(t.params.format);if(!e)throw Zo.notBindable();return e}},controller:t=>{var e,n;return new lK(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:w_("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});let cK=class{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((r,i)=>{var o,u;return(u=(o=this.components[i])===null||o===void 0?void 0:o.constrain(r))!==null&&u!==void 0?u:r});return this.asm_.fromComponents(n)}};const p5e=Ur("pndtxt");let KGe=class{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(p5e()),this.textViews.forEach(r=>{const i=e.createElement("div");i.classList.add(p5e("a")),i.appendChild(r.element),this.element.appendChild(i)})}};function XGe(t,e,n){return new b_(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:Vi(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}let dK=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((r,i)=>XGe(e,n,i)),this.acs_.forEach((r,i)=>{kg({primary:this.value,secondary:r.value,forward:o=>n.assembly.toComponents(o)[i],backward:(o,u)=>{const d=n.assembly.toComponents(o);return d[i]=u,n.assembly.fromComponents(d)}})}),this.view=new KGe(e,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}},qGe=class extends Kb{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}};function YGe(t,e){const n=[],r=O6e(t,e);r&&n.push(r);const i=L6e(t);i&&n.push(i);const o=nK(t.options);return o&&n.push(o),new g_(n)}const ZGe=La({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=ts(e,r=>Object.assign(Object.assign({},F6e(r)),{options:r.optional.custom(y_),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>A6e,constraint:t=>YGe(t.params,t.initialValue),writer:t=>__},controller:t=>{const e=t.value,n=t.constraint,r=n&&GA(n,v_);if(r)return new Kf(t.document,{props:new _r({options:r.values.value("options")}),value:e,viewProps:t.viewProps});const i=N6e(t.params,e.rawValue),o=n&&GA(n,f_);return o?new WA(t.document,Object.assign(Object.assign({},n7e(Object.assign(Object.assign({},i),{keyScale:Vi(i.keyScale),max:o.values.value("max"),min:o.values.value("min")}))),{parser:gh,value:e,viewProps:t.viewProps})):new b_(t.document,{parser:gh,props:_r.fromObject(i),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof WA?new qGe(t.controller):t.controller.valueController instanceof Kf?new eK(t.controller):null}});let zf=class{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(bi(e))return!1;const n=e.x,r=e.y;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}};const M7e={toComponents:t=>t.getComponents(),fromComponents:t=>new zf(...t)},s4=Ur("p2d");let QGe=class{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(s4()),n.viewProps.bindClassModifiers(this.element),ah(n.expanded,Pg(this.element,s4(void 0,"expanded")));const r=e.createElement("div");r.classList.add(s4("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(s4("b")),i.appendChild(UI(e,"p2dpad")),n.viewProps.bindDisabled(i),r.appendChild(i),this.buttonElement=i;const o=e.createElement("div");if(o.classList.add(s4("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const u=e.createElement("div");u.classList.add(s4("p")),this.element.appendChild(u),this.pickerElement=u}else this.pickerElement=null}};const af=Ur("p2dp");let JGe=class{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(af()),n.layout==="popup"&&this.element.classList.add(af(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(af("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const i=e.createElementNS(Tc,"svg");i.classList.add(af("g")),this.padElement.appendChild(i),this.svgElem_=i;const o=e.createElementNS(Tc,"line");o.classList.add(af("ax")),o.setAttributeNS(null,"x1","0"),o.setAttributeNS(null,"y1","50%"),o.setAttributeNS(null,"x2","100%"),o.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(o);const u=e.createElementNS(Tc,"line");u.classList.add(af("ax")),u.setAttributeNS(null,"x1","50%"),u.setAttributeNS(null,"y1","0"),u.setAttributeNS(null,"x2","50%"),u.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(u);const d=e.createElementNS(Tc,"line");d.classList.add(af("l")),d.setAttributeNS(null,"x1","50%"),d.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(d),this.lineElem_=d;const m=e.createElement("div");m.classList.add(af("m")),this.padElement.appendChild(m),this.markerElem_=m,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),r=this.props_.get("max"),i=qr(e,-r,+r,0,100),o=qr(n,-r,+r,0,100),u=this.props_.get("invertsY")?100-o:o;this.lineElem_.setAttributeNS(null,"x2",`${i}%`),this.lineElem_.setAttributeNS(null,"y2",`${u}%`),this.markerElem_.style.left=`${i}%`,this.markerElem_.style.top=`${u}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}};function f5e(t,e,n){return[Ja(e[0],vh(t)),Ja(e[1],qb(t))*(n?1:-1)]}let e$e=class{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new JGe(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new q2(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=this.props.get("max"),i=qr(e.point.x,0,e.bounds.width,-r,+r),o=qr(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-r,+r);this.value.setRawValue(new zf(i,o),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){t7e(e.key)&&e.preventDefault();const[n,r]=f5e(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(new zf(this.value.rawValue.x+n,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,r]=f5e(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}},t$e=class{constructor(e,n){var r,i;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=QW.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new Q6e(e,{viewProps:this.viewProps}):null;const o=new e$e(e,{layout:n.pickerLayout,props:new _r({invertsY:Vi(n.invertsY),max:Vi(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach(u=>{u.addEventListener("blur",this.onPopupChildBlur_),u.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=o,this.textC_=new dK(e,{assembly:M7e,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new QGe(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),kg({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:u=>u,backward:(u,d)=>d})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),JW(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=V6e(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!WW(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}};function n$e(t){return zf.isObject(t)?new zf(t.x,t.y):new zf}function r$e(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function i$e(t,e){return new cK({assembly:M7e,components:[nh(Object.assign(Object.assign({},t),t.x),e.x),nh(Object.assign(Object.assign({},t),t.y),e.y)]})}function m5e(t,e){var n,r;if(!bi(t.min)||!bi(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((r=t.max)!==null&&r!==void 0?r:0));const i=R6e(t);return Math.max(Math.abs(i)*10,Math.abs(e)*10)}function s$e(t,e){var n,r;const i=m5e(N2(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),o=m5e(N2(t,(r=t.y)!==null&&r!==void 0?r:{}),e.y);return Math.max(i,o)}function o$e(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}const a$e=La({id:"input-point2d",type:"input",accept:(t,e)=>{if(!zf.isObject(t))return null;const n=ts(e,r=>Object.assign(Object.assign({},Yb(r)),{expanded:r.optional.boolean,picker:r.optional.custom(i7e),readonly:r.optional.constant(!1),x:r.optional.custom(kf),y:r.optional.object(Object.assign(Object.assign({},Yb(r)),{inverted:r.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>n$e,constraint:t=>i$e(t.params,t.initialValue),equals:zf.equals,writer:()=>r$e},controller:t=>{var e,n;const r=t.document,i=t.value,o=t.constraint,u=[t.params.x,t.params.y];return new t$e(r,{axes:i.rawValue.getComponents().map((d,m)=>{var v;return $W({constraint:o.components[m],initialValue:d,params:N2(t.params,(v=u[m])!==null&&v!==void 0?v:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:o$e(t.params),max:s$e(t.params,i.rawValue),parser:gh,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps})}});let $4=class{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(bi(e))return!1;const n=e.x,r=e.y,i=e.z;return!(typeof n!="number"||typeof r!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}};const T7e={toComponents:t=>t.getComponents(),fromComponents:t=>new $4(...t)};function l$e(t){return $4.isObject(t)?new $4(t.x,t.y,t.z):new $4}function u$e(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function c$e(t,e){return new cK({assembly:T7e,components:[nh(Object.assign(Object.assign({},t),t.x),e.x),nh(Object.assign(Object.assign({},t),t.y),e.y),nh(Object.assign(Object.assign({},t),t.z),e.z)]})}const d$e=La({id:"input-point3d",type:"input",accept:(t,e)=>{if(!$4.isObject(t))return null;const n=ts(e,r=>Object.assign(Object.assign({},Yb(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(kf),y:r.optional.custom(kf),z:r.optional.custom(kf)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>l$e,constraint:t=>c$e(t.params,t.initialValue),equals:$4.equals,writer:t=>u$e},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z];return new dK(t.document,{assembly:T7e,axes:e.rawValue.getComponents().map((i,o)=>{var u;return $W({constraint:n.components[o],initialValue:i,params:N2(t.params,(u=r[o])!==null&&u!==void 0?u:{})})}),parser:gh,value:e,viewProps:t.viewProps})}});let W4=class{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.z=r,this.w=i}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(bi(e))return!1;const n=e.x,r=e.y,i=e.z,o=e.w;return!(typeof n!="number"||typeof r!="number"||typeof i!="number"||typeof o!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}};const k7e={toComponents:t=>t.getComponents(),fromComponents:t=>new W4(...t)};function h$e(t){return W4.isObject(t)?new W4(t.x,t.y,t.z,t.w):new W4}function p$e(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function f$e(t,e){return new cK({assembly:k7e,components:[nh(Object.assign(Object.assign({},t),t.x),e.x),nh(Object.assign(Object.assign({},t),t.y),e.y),nh(Object.assign(Object.assign({},t),t.z),e.z),nh(Object.assign(Object.assign({},t),t.w),e.w)]})}const m$e=La({id:"input-point4d",type:"input",accept:(t,e)=>{if(!W4.isObject(t))return null;const n=ts(e,r=>Object.assign(Object.assign({},Yb(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(kf),x:r.optional.custom(kf),y:r.optional.custom(kf),z:r.optional.custom(kf)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>h$e,constraint:t=>f$e(t.params,t.initialValue),equals:W4.equals,writer:t=>p$e},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z,t.params.w];return new dK(t.document,{assembly:k7e,axes:e.rawValue.getComponents().map((i,o)=>{var u;return $W({constraint:n.components[o],initialValue:i,params:N2(t.params,(u=r[o])!==null&&u!==void 0?u:{})})}),parser:gh,value:e,viewProps:t.viewProps})}});function g$e(t){const e=[],n=nK(t.options);return n&&e.push(n),new g_(e)}const v$e=La({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=ts(e,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(y_)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>e7e,constraint:t=>g$e(t.params),writer:t=>__},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&GA(r,v_);return i?new Kf(e,{props:new _r({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new Xb(e,{parser:o=>o,props:_r.fromObject({formatter:HG}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof Kf?new eK(t.controller):null}}),x_={monitor:{defaultInterval:200,defaultRows:3}},g5e=Ur("mll");let y$e=class{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(g5e()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("textarea");r.classList.add(g5e("i")),r.style.height=`calc(var(${r7e("containerUnitSize")}) * ${n.rows})`,r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach(i=>{i!==void 0&&r.push(this.formatter_(i))}),e.textContent=r.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}},hK=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new y$e(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}};const v5e=Ur("sgl");let b$e=class{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(v5e()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(v5e("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}},pK=class{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new b$e(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}};const _$e=La({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ts(e,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>J6e},controller:t=>{var e;return t.value.rawValue.length===1?new pK(t.document,{formatter:a5e,value:t.value,viewProps:t.viewProps}):new hK(t.document,{formatter:a5e,rows:(e=t.params.rows)!==null&&e!==void 0?e:x_.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});let w$e=class extends Kb{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}};const lf=Ur("grl");let x$e=class{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(lf()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=e.createElementNS(Tc,"svg");r.classList.add(lf("g")),r.style.height=`calc(var(${r7e("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(Tc,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;const o=e.createElement("div");o.classList.add(lf("t"),Ur("tt")()),this.element.appendChild(o),this.tooltipElem_=o,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const e=this.svgElem_.getBoundingClientRect(),n=this.value.rawValue.length-1,r=this.props_.get("min"),i=this.props_.get("max"),o=[];this.value.rawValue.forEach((x,S)=>{if(x===void 0)return;const T=qr(S,0,n,0,e.width),R=qr(x,r,i,e.height,0);o.push([T,R].join(","))}),this.lineElem_.setAttributeNS(null,"points",o.join(" "));const u=this.tooltipElem_,d=this.value.rawValue[this.cursor_.rawValue];if(d===void 0){u.classList.remove(lf("t","a"));return}const m=qr(this.cursor_.rawValue,0,n,0,e.width),v=qr(d,r,i,e.height,0);u.style.left=`${m}px`,u.style.top=`${v}px`,u.textContent=`${this.formatter_(d)}`,u.classList.contains(lf("t","a"))||(u.classList.add(lf("t","a"),lf("t","in")),HA(u),u.classList.remove(lf("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}},A7e=class{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=Vi(-1),this.view=new x$e(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!WW(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new q2(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return R0(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return D0(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const n=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(qr(e.offsetX,0,n.width,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(qr(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}};function GG(t){return bi(t.format)?r0(2):t.format}function S$e(t){var e;return t.value.rawValue.length===1?new pK(t.document,{formatter:GG(t.params),value:t.value,viewProps:t.viewProps}):new hK(t.document,{formatter:GG(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:x_.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function E$e(t){var e,n,r;return new A7e(t.document,{formatter:GG(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:x_.monitor.defaultRows,props:_r.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(r=t.params.min)!==null&&r!==void 0?r:0}),value:t.value,viewProps:t.viewProps})}function y5e(t){return t.view==="graph"}const C$e=La({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=ts(e,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>y5e(t)?64:1,reader:t=>A6e},controller:t=>y5e(t.params)?E$e(t):S$e(t),api:t=>t.controller.valueController instanceof A7e?new w$e(t.controller):null}),P$e=La({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=ts(e,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>e7e},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new hK(t.document,{formatter:HG,rows:(e=t.params.rows)!==null&&e!==void 0?e:x_.monitor.defaultRows,value:n,viewProps:t.viewProps}):new pK(t.document,{formatter:HG,value:n,viewProps:t.viewProps})}});class M$e{constructor(){this.map_=new Map}get(e){var n;return(n=this.map_.get(e))!==null&&n!==void 0?n:null}has(e){return this.map_.has(e)}add(e,n){return this.map_.set(e,n),e.viewProps.handleDispose(()=>{this.map_.delete(e)}),n}}class T$e{constructor(e){this.target=e.target,this.reader_=e.reader,this.writer_=e.writer}read(){return this.reader_(this.target.read())}write(e){this.writer_(this.target,e)}inject(e){this.write(this.reader_(e))}}function k$e(t,e){var n;const r=t.accept(e.target.read(),e.params);if(bi(r))return null;const i={target:e.target,initialValue:r.initialValue,params:r.params},o=ts(e.params,S=>({disabled:S.optional.boolean,hidden:S.optional.boolean,label:S.optional.string,tag:S.optional.string})),u=t.binding.reader(i),d=t.binding.constraint?t.binding.constraint(i):void 0,m=new T$e({reader:u,target:e.target,writer:t.binding.writer(i)}),v=new fje(Vi(u(r.initialValue),{constraint:d,equals:t.binding.equals}),m),x=t.controller({constraint:d,document:e.document,initialValue:r.initialValue,params:r.params,value:v,viewProps:X2.create({disabled:o==null?void 0:o.disabled,hidden:o==null?void 0:o.hidden})});return new kje(e.document,{blade:Tg(),props:_r.fromObject({label:"label"in e.params?(n=o==null?void 0:o.label)!==null&&n!==void 0?n:null:e.target.key}),tag:o==null?void 0:o.tag,value:v,valueController:x})}class A$e{constructor(e){this.target=e.target,this.reader_=e.reader}read(){return this.reader_(this.target.read())}}function I$e(t,e){return e===0?new dHe:new hHe(t,e??x_.monitor.defaultInterval)}function R$e(t,e){var n,r,i;const o=t.accept(e.target.read(),e.params);if(bi(o))return null;const u={target:e.target,initialValue:o.initialValue,params:o.params},d=ts(e.params,T=>({bufferSize:T.optional.number,disabled:T.optional.boolean,hidden:T.optional.boolean,interval:T.optional.number,label:T.optional.string})),m=t.binding.reader(u),v=(r=(n=d==null?void 0:d.bufferSize)!==null&&n!==void 0?n:t.binding.defaultBufferSize&&t.binding.defaultBufferSize(o.params))!==null&&r!==void 0?r:1,x=new Oje({binding:new A$e({reader:m,target:e.target}),bufferSize:v,ticker:I$e(e.document,d==null?void 0:d.interval)}),S=t.controller({document:e.document,params:o.params,value:x,viewProps:X2.create({disabled:d==null?void 0:d.disabled,hidden:d==null?void 0:d.hidden})});return S.viewProps.bindDisabled(x.ticker),S.viewProps.handleDispose(()=>{x.ticker.dispose()}),new Nje(e.document,{blade:Tg(),props:_r.fromObject({label:"label"in e.params?(i=d==null?void 0:d.label)!==null&&i!==void 0?i:null:e.target.key}),value:x,valueController:S})}class D$e{constructor(e){this.pluginsMap_={blades:[],inputs:[],monitors:[]},this.apiCache_=e}getAll(){return[...this.pluginsMap_.blades,...this.pluginsMap_.inputs,...this.pluginsMap_.monitors]}register(e,n){if(!CHe(n.core))throw Zo.notCompatible(e,n.id);n.type==="blade"?this.pluginsMap_.blades.unshift(n):n.type==="input"?this.pluginsMap_.inputs.unshift(n):n.type==="monitor"&&this.pluginsMap_.monitors.unshift(n)}createInput_(e,n,r){return this.pluginsMap_.inputs.reduce((i,o)=>i??k$e(o,{document:e,target:n,params:r}),null)}createMonitor_(e,n,r){return this.pluginsMap_.monitors.reduce((i,o)=>i??R$e(o,{document:e,params:r,target:n}),null)}createBinding(e,n,r){const i=n.read();if(bi(i))throw new Zo({context:{key:n.key},type:"nomatchingcontroller"});const o=this.createInput_(e,n,r);if(o)return o;const u=this.createMonitor_(e,n,r);if(u)return u;throw new Zo({context:{key:n.key},type:"nomatchingcontroller"})}createBlade(e,n){const r=this.pluginsMap_.blades.reduce((i,o)=>i??cHe(o,{document:e,params:n}),null);if(!r)throw new Zo({type:"nomatchingview",context:{params:n}});return r}createInputBindingApi_(e){const n=this.pluginsMap_.inputs.reduce((r,i)=>{var o,u;return r||((u=(o=i.api)===null||o===void 0?void 0:o.call(i,{controller:e}))!==null&&u!==void 0?u:null)},null);return this.apiCache_.add(e,n??new Kb(e))}createMonitorBindingApi_(e){const n=this.pluginsMap_.monitors.reduce((r,i)=>{var o,u;return r||((u=(o=i.api)===null||o===void 0?void 0:o.call(i,{controller:e}))!==null&&u!==void 0?u:null)},null);return this.apiCache_.add(e,n??new Kb(e))}createBindingApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(Aje(e))return this.createInputBindingApi_(e);if(Fje(e))return this.createMonitorBindingApi_(e);throw Zo.shouldNeverHappen()}createApi(e){if(this.apiCache_.has(e))return this.apiCache_.get(e);if(Tje(e))return this.createBindingApi(e);const n=this.pluginsMap_.blades.reduce((r,i)=>r??i.api({controller:e,pool:this}),null);if(!n)throw Zo.shouldNeverHappen();return this.apiCache_.add(e,n)}}const O$e=new M$e;function L$e(){const t=new D$e(O$e);return[a$e,d$e,m$e,v$e,ZGe,WGe,$Ge,zGe,kHe,_$e,P$e,C$e,jje,tHe,Z6e].forEach(e=>{t.register("core",e)}),t}class N$e extends K2{constructor(e){super(e),this.emitter_=new Ls,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new m_(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}}class F$e extends K2{}class B$e extends K2{constructor(e){super(e),this.emitter_=new Ls,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new m_(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}}class U$e extends K2{constructor(e){super(e),this.emitter_=new Ls,this.controller.value.emitter.on("change",n=>{this.emitter_.emit("change",new m_(this,n.rawValue))})}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get formatter(){return this.controller.valueController.props.get("formatter")}set formatter(e){this.controller.valueController.props.set("formatter",e)}get value(){return this.controller.value.rawValue}set value(e){this.controller.value.rawValue=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}}const z$e=function(){return{id:"list",type:"blade",core:Mg,accept(t){const e=ts(t,n=>({options:n.required.custom(y_),value:n.required.raw,view:n.required.constant("list"),label:n.optional.string}));return e?{params:e}:null},controller(t){const e=new v_(tK(t.params.options)),n=Vi(t.params.value,{constraint:e}),r=new Kf(t.document,{props:new _r({options:e.values.value("options")}),value:n,viewProps:t.viewProps});return new F2(t.document,{blade:t.blade,props:_r.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof F2)||!(t.controller.valueController instanceof Kf)?null:new N$e(t.controller)}}}();class V$e extends X6e{constructor(e,n){super(e,n)}get element(){return this.controller.view.element}}class j$e extends VG{constructor(e,n){super(e,{expanded:n.expanded,blade:n.blade,props:n.props,root:!0,viewProps:n.viewProps})}}const b5e=Ur("spr");class H$e{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(b5e()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("hr");r.classList.add(b5e("r")),this.element.appendChild(r)}}class _5e extends zI{constructor(e,n){super(Object.assign(Object.assign({},n),{view:new H$e(e,{viewProps:n.viewProps})}))}}const G$e={id:"separator",type:"blade",core:Mg,accept(t){const e=ts(t,n=>({view:n.required.constant("separator")}));return e?{params:e}:null},controller(t){return new _5e(t.document,{blade:t.blade,viewProps:t.viewProps})},api(t){return t.controller instanceof _5e?new F$e(t.controller):null}},$$e={id:"slider",type:"blade",core:Mg,accept(t){const e=ts(t,n=>({max:n.required.number,min:n.required.number,view:n.required.constant("slider"),format:n.optional.function,label:n.optional.string,value:n.optional.number}));return e?{params:e}:null},controller(t){var e,n;const r=(e=t.params.value)!==null&&e!==void 0?e:0,i=new f_({max:t.params.max,min:t.params.min}),o=Vi(r,{constraint:i}),u=new WA(t.document,Object.assign(Object.assign({},n7e({formatter:(n=t.params.format)!==null&&n!==void 0?n:cje,keyScale:Vi(1),max:i.values.value("max"),min:i.values.value("min"),pointerScale:D6e(t.params,r)})),{parser:gh,value:o,viewProps:t.viewProps}));return new F2(t.document,{blade:t.blade,props:_r.fromObject({label:t.params.label}),value:o,valueController:u})},api(t){return!(t.controller instanceof F2)||!(t.controller.valueController instanceof WA)?null:new B$e(t.controller)}},W$e=function(){return{id:"text",type:"blade",core:Mg,accept(t){const e=ts(t,n=>({parse:n.required.function,value:n.required.raw,view:n.required.constant("text"),format:n.optional.function,label:n.optional.string}));return e?{params:e}:null},controller(t){var e;const n=Vi(t.params.value),r=new Xb(t.document,{parser:t.params.parse,props:_r.fromObject({formatter:(e=t.params.format)!==null&&e!==void 0?e:i=>String(i)}),value:n,viewProps:t.viewProps});return new F2(t.document,{blade:t.blade,props:_r.fromObject({label:t.params.label}),value:n,valueController:r})},api(t){return!(t.controller instanceof F2)||!(t.controller.valueController instanceof Xb)?null:new U$e(t.controller)}}}();function K$e(t){const e=t.createElement("div");return e.classList.add(Ur("dfw")()),t.body&&t.body.appendChild(e),e}function X$e(t,e,n){if(t.querySelector(`style[data-tp-style=${e}]`))return;const r=t.createElement("style");r.dataset.tpStyle=e,r.textContent=n,t.head.appendChild(r)}class q$e extends V$e{constructor(e){var n,r;const i=e??{},o=(n=i.document)!==null&&n!==void 0?n:wje(),u=L$e(),d=new j$e(o,{expanded:i.expanded,blade:Tg(),props:_r.fromObject({title:i.title}),viewProps:X2.create()});super(d,u),this.pool_=u,this.containerElem_=(r=i.container)!==null&&r!==void 0?r:K$e(o),this.containerElem_.appendChild(this.element),this.doc_=o,this.usesDefaultWrapper_=!i.container,this.setUpDefaultPlugins_()}get document(){if(!this.doc_)throw Zo.alreadyDisposed();return this.doc_}dispose(){const e=this.containerElem_;if(!e)throw Zo.alreadyDisposed();if(this.usesDefaultWrapper_){const n=e.parentElement;n&&n.removeChild(e)}this.containerElem_=null,this.doc_=null,super.dispose()}registerPlugin(e){e.css&&X$e(this.document,`plugin-${e.id}`,e.css),("plugin"in e?[e.plugin]:"plugins"in e?e.plugins:[]).forEach(r=>{this.pool_.register(e.id,r)})}setUpDefaultPlugins_(){this.registerPlugin({id:"default",css:'.tp-tbiv_b,.tp-coltxtv_ms,.tp-colswv_b,.tp-ckbv_i,.tp-sglv_i,.tp-mllv_i,.tp-grlv_g,.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw,.tp-rotv_b,.tp-fldv_b,.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-p2dv_b,.tp-btnv_b,.tp-lstv_s{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-p2dv_b:hover,.tp-btnv_b:hover,.tp-lstv_s:hover{background-color:var(--btn-bg-h)}.tp-p2dv_b:focus,.tp-btnv_b:focus,.tp-lstv_s:focus{background-color:var(--btn-bg-f)}.tp-p2dv_b:active,.tp-btnv_b:active,.tp-lstv_s:active{background-color:var(--btn-bg-a)}.tp-p2dv_b:disabled,.tp-btnv_b:disabled,.tp-lstv_s:disabled{opacity:.5}.tp-rotv_c>.tp-cntv.tp-v-lst,.tp-tbpv_c>.tp-cntv.tp-v-lst,.tp-fldv_c>.tp-cntv.tp-v-lst{margin-bottom:calc(-1 * var(--cnt-vp))}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_c,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_c{border-bottom-left-radius:0}.tp-rotv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-tbpv_c>.tp-fldv.tp-v-lst .tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-v-lst .tp-fldv_b{border-bottom-left-radius:0}.tp-rotv_c>*:not(.tp-v-fst),.tp-tbpv_c>*:not(.tp-v-fst),.tp-fldv_c>*:not(.tp-v-fst){margin-top:var(--cnt-usp)}.tp-rotv_c>.tp-sprv:not(.tp-v-fst),.tp-tbpv_c>.tp-sprv:not(.tp-v-fst),.tp-fldv_c>.tp-sprv:not(.tp-v-fst),.tp-rotv_c>.tp-cntv:not(.tp-v-fst),.tp-tbpv_c>.tp-cntv:not(.tp-v-fst),.tp-fldv_c>.tp-cntv:not(.tp-v-fst){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-sprv+*:not(.tp-v-hidden),.tp-rotv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-tbpv_c>.tp-cntv+*:not(.tp-v-hidden),.tp-fldv_c>.tp-cntv+*:not(.tp-v-hidden){margin-top:var(--cnt-vp)}.tp-rotv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-tbpv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-fldv_c>.tp-sprv:not(.tp-v-hidden)+.tp-sprv,.tp-rotv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-tbpv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv,.tp-fldv_c>.tp-cntv:not(.tp-v-hidden)+.tp-cntv{margin-top:0}.tp-tbpv_c>.tp-cntv,.tp-fldv_c>.tp-cntv{margin-left:4px}.tp-tbpv_c>.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-fldv>.tp-fldv_b{border-top-left-radius:var(--bld-br);border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b,.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_b{border-bottom-left-radius:0}.tp-tbpv_c .tp-fldv>.tp-fldv_c,.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:var(--bld-br)}.tp-tbpv_c>.tp-cntv+.tp-fldv>.tp-fldv_b,.tp-fldv_c>.tp-cntv+.tp-fldv>.tp-fldv_b{border-top-left-radius:0}.tp-tbpv_c>.tp-cntv+.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-cntv+.tp-tabv>.tp-tabv_t{border-top-left-radius:0}.tp-tbpv_c>.tp-tabv>.tp-tabv_t,.tp-fldv_c>.tp-tabv>.tp-tabv_t{border-top-left-radius:var(--bld-br)}.tp-tbpv_c .tp-tabv>.tp-tabv_c,.tp-fldv_c .tp-tabv>.tp-tabv_c{border-bottom-left-radius:var(--bld-br)}.tp-rotv_b,.tp-fldv_b{background-color:var(--cnt-bg);color:var(--cnt-fg);cursor:pointer;display:block;height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);overflow:hidden;padding-left:var(--cnt-hp);padding-right:calc(		2px * 2 + var(--cnt-usz) + var(--cnt-hp)	);position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-rotv_b:hover,.tp-fldv_b:hover{background-color:var(--cnt-bg-h)}.tp-rotv_b:focus,.tp-fldv_b:focus{background-color:var(--cnt-bg-f)}.tp-rotv_b:active,.tp-fldv_b:active{background-color:var(--cnt-bg-a)}.tp-rotv_b:disabled,.tp-fldv_b:disabled{opacity:.5}.tp-rotv_m,.tp-fldv_m{background:linear-gradient(to left, var(--cnt-fg), var(--cnt-fg) 2px, transparent 2px, transparent 4px, var(--cnt-fg) 4px);border-radius:2px;bottom:0;content:"";display:block;height:6px;right:calc(		var(--cnt-hp) + (				var(--cnt-usz) + 4px - 6px			) / 2 - 2px	);margin:auto;opacity:.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_m,.tp-fldv.tp-fldv-expanded>.tp-fldv_b>.tp-fldv_m{transform:none}.tp-rotv_c,.tp-fldv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-rotv.tp-rotv-cpl:not(.tp-rotv-expanded) .tp-rotv_c,.tp-fldv.tp-fldv-cpl:not(.tp-fldv-expanded)>.tp-fldv_c{display:none}.tp-rotv.tp-rotv-expanded .tp-rotv_c,.tp-fldv.tp-fldv-expanded>.tp-fldv_c{opacity:1;padding-bottom:var(--cnt-vp);padding-top:var(--cnt-vp);transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-txtv_i,.tp-p2dpv_p,.tp-colswv_sw{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-txtv_i:hover,.tp-p2dpv_p:hover,.tp-colswv_sw:hover{background-color:var(--in-bg-h)}.tp-txtv_i:focus,.tp-p2dpv_p:focus,.tp-colswv_sw:focus{background-color:var(--in-bg-f)}.tp-txtv_i:active,.tp-p2dpv_p:active,.tp-colswv_sw:active{background-color:var(--in-bg-a)}.tp-txtv_i:disabled,.tp-p2dpv_p:disabled,.tp-colswv_sw:disabled{opacity:.5}.tp-lstv,.tp-coltxtv_m{position:relative}.tp-lstv_s{padding:0 20px 0 4px;width:100%}.tp-lstv_m,.tp-coltxtv_mm{bottom:0;margin:auto;pointer-events:none;position:absolute;right:2px;top:0}.tp-lstv_m svg,.tp-coltxtv_mm svg{bottom:0;height:16px;margin:auto;position:absolute;right:0;top:0;width:16px}.tp-lstv_m svg path,.tp-coltxtv_mm svg path{fill:currentColor}.tp-sglv_i,.tp-mllv_i,.tp-grlv_g{background-color:var(--mo-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--mo-fg);height:var(--cnt-usz);scrollbar-color:currentColor rgba(0,0,0,0);scrollbar-width:thin;width:100%}.tp-sglv_i::-webkit-scrollbar,.tp-mllv_i::-webkit-scrollbar,.tp-grlv_g::-webkit-scrollbar{height:8px;width:8px}.tp-sglv_i::-webkit-scrollbar-corner,.tp-mllv_i::-webkit-scrollbar-corner,.tp-grlv_g::-webkit-scrollbar-corner{background-color:rgba(0,0,0,0)}.tp-sglv_i::-webkit-scrollbar-thumb,.tp-mllv_i::-webkit-scrollbar-thumb,.tp-grlv_g::-webkit-scrollbar-thumb{background-clip:padding-box;background-color:currentColor;border:rgba(0,0,0,0) solid 2px;border-radius:4px}.tp-pndtxtv,.tp-coltxtv_w{display:flex}.tp-pndtxtv_a,.tp-coltxtv_c{width:100%}.tp-pndtxtv_a+.tp-pndtxtv_a,.tp-coltxtv_c+.tp-pndtxtv_a,.tp-pndtxtv_a+.tp-coltxtv_c,.tp-coltxtv_c+.tp-coltxtv_c{margin-left:2px}.tp-rotv{--bs-bg: var(--tp-base-background-color, hsl(230, 7%, 17%));--bs-br: var(--tp-base-border-radius, 6px);--bs-ff: var(--tp-base-font-family, Roboto Mono, Source Code Pro, Menlo, Courier, monospace);--bs-sh: var(--tp-base-shadow-color, rgba(0, 0, 0, 0.2));--bld-br: var(--tp-blade-border-radius, 2px);--bld-hp: var(--tp-blade-horizontal-padding, 4px);--bld-vw: var(--tp-blade-value-width, 160px);--btn-bg: var(--tp-button-background-color, hsl(230, 7%, 70%));--btn-bg-a: var(--tp-button-background-color-active, #d6d7db);--btn-bg-f: var(--tp-button-background-color-focus, #c8cad0);--btn-bg-h: var(--tp-button-background-color-hover, #bbbcc4);--btn-fg: var(--tp-button-foreground-color, hsl(230, 7%, 17%));--cnt-bg: var(--tp-container-background-color, rgba(187, 188, 196, 0.1));--cnt-bg-a: var(--tp-container-background-color-active, rgba(187, 188, 196, 0.25));--cnt-bg-f: var(--tp-container-background-color-focus, rgba(187, 188, 196, 0.2));--cnt-bg-h: var(--tp-container-background-color-hover, rgba(187, 188, 196, 0.15));--cnt-fg: var(--tp-container-foreground-color, hsl(230, 7%, 75%));--cnt-hp: var(--tp-container-horizontal-padding, 4px);--cnt-vp: var(--tp-container-vertical-padding, 4px);--cnt-usp: var(--tp-container-unit-spacing, 4px);--cnt-usz: var(--tp-container-unit-size, 20px);--in-bg: var(--tp-input-background-color, rgba(187, 188, 196, 0.1));--in-bg-a: var(--tp-input-background-color-active, rgba(187, 188, 196, 0.25));--in-bg-f: var(--tp-input-background-color-focus, rgba(187, 188, 196, 0.2));--in-bg-h: var(--tp-input-background-color-hover, rgba(187, 188, 196, 0.15));--in-fg: var(--tp-input-foreground-color, hsl(230, 7%, 75%));--lbl-fg: var(--tp-label-foreground-color, rgba(187, 188, 196, 0.7));--mo-bg: var(--tp-monitor-background-color, rgba(0, 0, 0, 0.2));--mo-fg: var(--tp-monitor-foreground-color, rgba(187, 188, 196, 0.7));--grv-fg: var(--tp-groove-foreground-color, rgba(187, 188, 196, 0.1))}.tp-btnv_b{width:100%}.tp-btnv_t{text-align:center}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_w{background-color:var(--in-bg);border-radius:var(--bld-br);cursor:pointer;display:block;height:var(--cnt-usz);position:relative;width:var(--cnt-usz)}.tp-ckbv_w svg{bottom:0;display:block;height:16px;left:0;margin:auto;opacity:0;position:absolute;right:0;top:0;width:16px}.tp-ckbv_w svg path{fill:none;stroke:var(--in-fg);stroke-width:2}.tp-ckbv_i:hover+.tp-ckbv_w{background-color:var(--in-bg-h)}.tp-ckbv_i:focus+.tp-ckbv_w{background-color:var(--in-bg-f)}.tp-ckbv_i:active+.tp-ckbv_w{background-color:var(--in-bg-a)}.tp-ckbv_i:checked+.tp-ckbv_w svg{opacity:1}.tp-ckbv.tp-v-disabled .tp-ckbv_w{opacity:.5}.tp-colv{position:relative}.tp-colv_h{display:flex}.tp-colv_s{flex-grow:0;flex-shrink:0;width:var(--cnt-usz)}.tp-colv_t{flex:1;margin-left:4px}.tp-colv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-colv.tp-colv-expanded.tp-colv-cpl .tp-colv_p{overflow:visible}.tp-colv.tp-colv-expanded .tp-colv_p{margin-top:var(--cnt-usp);opacity:1}.tp-colv .tp-popv{left:calc(-1 * var(--cnt-hp));right:calc(-1 * var(--cnt-hp));top:var(--cnt-usz)}.tp-colpv_h,.tp-colpv_ap{margin-left:6px;margin-right:6px}.tp-colpv_h{margin-top:var(--cnt-usp)}.tp-colpv_rgb{display:flex;margin-top:var(--cnt-usp);width:100%}.tp-colpv_a{display:flex;margin-top:var(--cnt-vp);padding-top:calc(			var(--cnt-vp) + 2px		);position:relative}.tp-colpv_a::before{background-color:var(--grv-fg);content:"";height:2px;left:calc(-1 * var(--cnt-hp));position:absolute;right:calc(-1 * var(--cnt-hp));top:0}.tp-colpv.tp-v-disabled .tp-colpv_a::before{opacity:.5}.tp-colpv_ap{align-items:center;display:flex;flex:3}.tp-colpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:var(--bld-br);outline:none;overflow:hidden;position:relative}.tp-svpv.tp-v-disabled{opacity:.5}.tp-svpv_c{cursor:crosshair;display:block;height:calc(var(--cnt-usz)*4);width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0, 0, 0, 0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative}.tp-hplv.tp-v-disabled{opacity:.5}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--cnt-usz);outline:none;position:relative;width:100%}.tp-aplv.tp-v-disabled{opacity:.5}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:var(--bld-br);box-shadow:0 0 2px rgba(0,0,0,.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:var(--bld-br);border:rgba(255,255,255,.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-colswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:var(--bld-br);overflow:hidden}.tp-colswv.tp-v-disabled{opacity:.5}.tp-colswv_sw{border-radius:0}.tp-colswv_b{cursor:pointer;display:block;height:var(--cnt-usz);left:0;position:absolute;top:0;width:var(--cnt-usz)}.tp-colswv_b:focus::after{border:rgba(255,255,255,.75) solid 2px;border-radius:var(--bld-br);bottom:0;content:"";display:block;left:0;position:absolute;right:0;top:0}.tp-coltxtv{display:flex;width:100%}.tp-coltxtv_m{margin-right:4px}.tp-coltxtv_ms{border-radius:var(--bld-br);color:var(--lbl-fg);cursor:pointer;height:var(--cnt-usz);line-height:var(--cnt-usz);padding:0 18px 0 4px}.tp-coltxtv_ms:hover{background-color:var(--in-bg-h)}.tp-coltxtv_ms:focus{background-color:var(--in-bg-f)}.tp-coltxtv_ms:active{background-color:var(--in-bg-a)}.tp-coltxtv_mm{color:var(--lbl-fg)}.tp-coltxtv.tp-v-disabled .tp-coltxtv_mm{opacity:.5}.tp-coltxtv_w{flex:1}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv{position:relative}.tp-fldv_t{padding-left:4px}.tp-fldv_b:disabled .tp-fldv_m{display:none}.tp-fldv_c{padding-left:4px}.tp-fldv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-fldv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-fldv_b:hover+.tp-fldv_i{color:var(--cnt-bg-h)}.tp-fldv_b:focus+.tp-fldv_i{color:var(--cnt-bg-f)}.tp-fldv_b:active+.tp-fldv_i{color:var(--cnt-bg-a)}.tp-fldv.tp-v-disabled>.tp-fldv_i{opacity:.5}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--cnt-usz) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--mo-fg);stroke-linejoin:round}.tp-grlv_t{margin-top:-4px;transition:left .05s,top .05s;visibility:hidden}.tp-grlv_t.tp-grlv_t-a{visibility:visible}.tp-grlv_t.tp-grlv_t-in{transition:none}.tp-grlv.tp-v-disabled .tp-grlv_g{opacity:.5}.tp-grlv .tp-ttv{background-color:var(--mo-fg)}.tp-grlv .tp-ttv::before{border-top-color:var(--mo-fg)}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:var(--cnt-hp);padding-right:var(--cnt-hp)}.tp-lblv.tp-lblv-nol{display:block}.tp-lblv_l{color:var(--lbl-fg);flex:1;-webkit-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv.tp-v-disabled .tp-lblv_l{opacity:.5}.tp-lblv.tp-lblv-nol .tp-lblv_l{display:none}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:var(--bld-vw)}.tp-lblv.tp-lblv-nol .tp-lblv_v{width:100%}.tp-lstv_s{padding:0 20px 0 var(--bld-hp);width:100%}.tp-lstv_m{color:var(--btn-fg)}.tp-sglv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-sglv.tp-v-disabled .tp-sglv_i{opacity:.5}.tp-mllv_i{display:block;height:calc(var(--cnt-usz) * 3);line-height:var(--cnt-usz);padding-left:var(--bld-hp);padding-right:var(--bld-hp);resize:none;white-space:pre}.tp-mllv.tp-v-disabled .tp-mllv_i{opacity:.5}.tp-p2dv{position:relative}.tp-p2dv_h{display:flex}.tp-p2dv_b{height:var(--cnt-usz);margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-p2dv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dv_b svg path{stroke:currentColor;stroke-width:2}.tp-p2dv_b svg circle{fill:currentColor}.tp-p2dv_t{flex:1}.tp-p2dv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-p2dv.tp-p2dv-expanded .tp-p2dv_p{margin-top:var(--cnt-usp);opacity:1}.tp-p2dv .tp-popv{left:calc(-1 * var(--cnt-hp));right:calc(-1 * var(--cnt-hp));top:var(--cnt-usz)}.tp-p2dpv{padding-left:calc(var(--cnt-usz) + 4px)}.tp-p2dpv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpv.tp-v-disabled .tp-p2dpv_p{opacity:.5}.tp-p2dpv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpv_ax{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_l{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-p2dpv_m{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;position:absolute;width:4px}.tp-p2dpv_p:focus .tp-p2dpv_m{background-color:var(--in-fg);border-width:0}.tp-popv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);display:none;max-width:var(--bld-vw);padding:var(--cnt-vp) var(--cnt-hp);position:absolute;visibility:hidden;z-index:1000}.tp-popv.tp-popv-v{display:block;visibility:visible}.tp-sldv.tp-v-disabled{opacity:.5}.tp-sldv_t{box-sizing:border-box;cursor:pointer;height:var(--cnt-usz);margin:0 6px;outline:none;position:relative}.tp-sldv_t::before{background-color:var(--in-bg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_k{height:100%;left:0;position:absolute;top:0}.tp-sldv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";display:block;height:2px;left:0;margin-bottom:auto;margin-top:auto;position:absolute;right:0;top:0}.tp-sldv_k::after{background-color:var(--btn-bg);border-radius:var(--bld-br);bottom:0;content:"";display:block;height:12px;margin-bottom:auto;margin-top:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_t:hover .tp-sldv_k::after{background-color:var(--btn-bg-h)}.tp-sldv_t:focus .tp-sldv_k::after{background-color:var(--btn-bg-f)}.tp-sldv_t:active .tp-sldv_k::after{background-color:var(--btn-bg-a)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-tabv{position:relative}.tp-tabv_t{align-items:flex-end;color:var(--cnt-bg);display:flex;overflow:hidden;position:relative}.tp-tabv_t:hover{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus){color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active){color:var(--cnt-bg-a)}.tp-tabv_t::before{background-color:currentColor;bottom:0;content:"";height:2px;left:0;pointer-events:none;position:absolute;right:0}.tp-tabv.tp-v-disabled .tp-tabv_t::before{opacity:.5}.tp-tabv.tp-tabv-nop .tp-tabv_t{height:calc(var(--cnt-usz) + 4px);position:relative}.tp-tabv.tp-tabv-nop .tp-tabv_t::before{background-color:var(--cnt-bg);bottom:0;content:"";height:2px;left:0;position:absolute;right:0}.tp-tabv_i{bottom:0;color:var(--cnt-bg);left:0;overflow:hidden;position:absolute;top:calc(var(--cnt-usz) + 4px);width:max(var(--bs-br),4px)}.tp-tabv_i::before{background-color:currentColor;bottom:0;content:"";left:0;position:absolute;top:0;width:4px}.tp-tabv_t:hover+.tp-tabv_i{color:var(--cnt-bg-h)}.tp-tabv_t:has(*:focus)+.tp-tabv_i{color:var(--cnt-bg-f)}.tp-tabv_t:has(*:active)+.tp-tabv_i{color:var(--cnt-bg-a)}.tp-tabv.tp-v-disabled>.tp-tabv_i{opacity:.5}.tp-tbiv{flex:1;min-width:0;position:relative}.tp-tbiv+.tp-tbiv{margin-left:2px}.tp-tbiv+.tp-tbiv.tp-v-disabled::before{opacity:.5}.tp-tbiv_b{display:block;padding-left:calc(var(--cnt-hp) + 4px);padding-right:calc(var(--cnt-hp) + 4px);position:relative;width:100%}.tp-tbiv_b:disabled{opacity:.5}.tp-tbiv_b::before{background-color:var(--cnt-bg);bottom:2px;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.tp-tbiv_b:hover::before{background-color:var(--cnt-bg-h)}.tp-tbiv_b:focus::before{background-color:var(--cnt-bg-f)}.tp-tbiv_b:active::before{background-color:var(--cnt-bg-a)}.tp-tbiv_t{color:var(--cnt-fg);height:calc(var(--cnt-usz) + 4px);line-height:calc(var(--cnt-usz) + 4px);opacity:.5;overflow:hidden;text-overflow:ellipsis}.tp-tbiv.tp-tbiv-sel .tp-tbiv_t{opacity:1}.tp-tbpv_c{padding-bottom:var(--cnt-vp);padding-left:4px;padding-top:var(--cnt-vp)}.tp-txtv{position:relative}.tp-txtv_i{padding-left:var(--bld-hp);padding-right:var(--bld-hp)}.tp-txtv.tp-txtv-fst .tp-txtv_i{border-bottom-right-radius:0;border-top-right-radius:0}.tp-txtv.tp-txtv-mid .tp-txtv_i{border-radius:0}.tp-txtv.tp-txtv-lst .tp-txtv_i{border-bottom-left-radius:0;border-top-left-radius:0}.tp-txtv.tp-txtv-num .tp-txtv_i{text-align:right}.tp-txtv.tp-txtv-drg .tp-txtv_i{opacity:.3}.tp-txtv_k{cursor:pointer;height:100%;left:calc(			var(--bld-hp) - 5px		);position:absolute;top:0;width:12px}.tp-txtv_k::before{background-color:var(--in-fg);border-radius:1px;bottom:0;content:"";height:calc(var(--cnt-usz) - 4px);left:50%;margin-bottom:auto;margin-left:-1px;margin-top:auto;opacity:.1;position:absolute;top:0;transition:border-radius .1s,height .1s,transform .1s,width .1s;width:2px}.tp-txtv_k:hover::before,.tp-txtv.tp-txtv-drg .tp-txtv_k::before{opacity:1}.tp-txtv.tp-txtv-drg .tp-txtv_k::before{border-radius:50%;height:4px;transform:translateX(-1px);width:4px}.tp-txtv_g{bottom:0;display:block;height:8px;left:50%;margin:auto;overflow:visible;pointer-events:none;position:absolute;top:0;visibility:hidden;width:100%}.tp-txtv.tp-txtv-drg .tp-txtv_g{visibility:visible}.tp-txtv_gb{fill:none;stroke:var(--in-fg);stroke-dasharray:1}.tp-txtv_gh{fill:none;stroke:var(--in-fg)}.tp-txtv .tp-ttv{margin-left:6px;visibility:hidden}.tp-txtv.tp-txtv-drg .tp-ttv{visibility:visible}.tp-ttv{background-color:var(--in-fg);border-radius:var(--bld-br);color:var(--bs-bg);padding:2px 4px;pointer-events:none;position:absolute;transform:translate(-50%, -100%)}.tp-ttv::before{border-color:var(--in-fg) rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,0);border-style:solid;border-width:2px;box-sizing:border-box;content:"";font-size:.9em;height:4px;left:50%;margin-left:-2px;position:absolute;top:100%;width:4px}.tp-rotv{background-color:var(--bs-bg);border-radius:var(--bs-br);box-shadow:0 2px 4px var(--bs-sh);font-family:var(--bs-ff);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br);border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br);padding-left:calc(			2px * 2 + var(--cnt-usz) + var(--cnt-hp)		);text-align:center}.tp-rotv.tp-rotv-expanded .tp-rotv_b{border-bottom-left-radius:0;border-bottom-right-radius:0;transition-delay:0s;transition-duration:0s}.tp-rotv.tp-rotv-not>.tp-rotv_b{display:none}.tp-rotv_b:disabled .tp-rotv_m{display:none}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst>.tp-fldv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-fldv.tp-v-lst.tp-fldv-expanded>.tp-fldv_b{transition-delay:0s;transition-duration:0s}.tp-rotv_c .tp-fldv.tp-v-vlst:not(.tp-fldv-expanded)>.tp-fldv_b{border-bottom-right-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst{margin-top:calc(-1 * var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-fldv.tp-v-fst>.tp-fldv_b{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_c{border-bottom-left-radius:var(--bs-br);border-bottom-right-radius:var(--bs-br)}.tp-rotv_c>.tp-tabv.tp-v-lst>.tp-tabv_i{border-bottom-left-radius:var(--bs-br)}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst{margin-top:calc(-1 * var(--cnt-vp))}.tp-rotv.tp-rotv-not .tp-rotv_c>.tp-tabv.tp-v-fst>.tp-tabv_t{border-top-left-radius:var(--bs-br);border-top-right-radius:var(--bs-br)}.tp-rotv.tp-v-disabled,.tp-rotv .tp-v-disabled{pointer-events:none}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sprv_r{background-color:var(--grv-fg);border-width:0;display:block;height:2px;margin:0;width:100%}.tp-sprv.tp-v-disabled .tp-sprv_r{opacity:.5}',plugins:[z$e,G$e,$$e,Z6e,W$e]})}}new W6e("4.0.0");function Bi(t){return t==null}function fK(t){return t!==null&&typeof t=="object"}function $G(t){return t!==null&&typeof t=="object"}function Y$e(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function U2(t,e){return Array.from(new Set([...Object.keys(t),...Object.keys(e)])).reduce((r,i)=>{const o=t[i],u=e[i];return $G(o)&&$G(u)?Object.assign(Object.assign({},r),{[i]:U2(o,u)}):Object.assign(Object.assign({},r),{[i]:i in e?u:o})},{})}function Z$e(t){return fK(t)?"target"in t:!1}const Q$e={alreadydisposed:()=>"View has been already disposed",invalidparams:t=>`Invalid parameters for '${t.name}'`,nomatchingcontroller:t=>`No matching controller for '${t.key}'`,nomatchingview:t=>`No matching view for '${JSON.stringify(t.params)}'`,notbindable:()=>"Value is not bindable",notcompatible:t=>`Not compatible with  plugin '${t.id}'`,propertynotfound:t=>`Property '${t.name}' not found`,shouldneverhappen:()=>"This error should never happen"};class Ea{static alreadyDisposed(){return new Ea({type:"alreadydisposed"})}static notBindable(){return new Ea({type:"notbindable"})}static notCompatible(e,n){return new Ea({type:"notcompatible",context:{id:`${e}.${n}`}})}static propertyNotFound(e){return new Ea({type:"propertynotfound",context:{name:e}})}static shouldNeverHappen(){return new Ea({type:"shouldneverhappen"})}constructor(e){var n;this.message=(n=Q$e[e.type](e.context))!==null&&n!==void 0?n:"Unexpected error",this.name=this.constructor.name,this.stack=new Error(this.message).stack,this.type=e.type}toString(){return this.message}}class KA{constructor(e,n){this.obj_=e,this.key=n}static isBindable(e){return!(e===null||typeof e!="object"&&typeof e!="function")}read(){return this.obj_[this.key]}write(e){this.obj_[this.key]=e}writeProperty(e,n){const r=this.read();if(!KA.isBindable(r))throw Ea.notBindable();if(!(e in r))throw Ea.propertyNotFound(e);r[e]=n}}class Jo{constructor(){this.observers_={}}on(e,n){let r=this.observers_[e];return r||(r=this.observers_[e]=[]),r.push({handler:n}),this}off(e,n){const r=this.observers_[e];return r&&(this.observers_[e]=r.filter(i=>i.handler!==n)),this}emit(e,n){const r=this.observers_[e];r&&r.forEach(i=>{i.handler(n)})}}class J$e{constructor(e,n){var r;this.constraint_=n==null?void 0:n.constraint,this.equals_=(r=n==null?void 0:n.equals)!==null&&r!==void 0?r:(i,o)=>i===o,this.emitter=new Jo,this.rawValue_=e}get constraint(){return this.constraint_}get rawValue(){return this.rawValue_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.constraint_?this.constraint_.constrain(e):e,o=this.rawValue_;this.equals_(o,i)&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.rawValue_=i,this.emitter.emit("change",{options:r,previousRawValue:o,rawValue:i,sender:this}))}}class eWe{constructor(e){this.emitter=new Jo,this.value_=e}get rawValue(){return this.value_}set rawValue(e){this.setRawValue(e,{forceEmit:!1,last:!0})}setRawValue(e,n){const r=n??{forceEmit:!1,last:!0},i=this.value_;i===e&&!r.forceEmit||(this.emitter.emit("beforechange",{sender:this}),this.value_=e,this.emitter.emit("change",{options:r,previousRawValue:i,rawValue:this.value_,sender:this}))}}class tWe{constructor(e){this.emitter=new Jo,this.onValueBeforeChange_=this.onValueBeforeChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.value_=e,this.value_.emitter.on("beforechange",this.onValueBeforeChange_),this.value_.emitter.on("change",this.onValueChange_)}get rawValue(){return this.value_.rawValue}onValueBeforeChange_(e){this.emitter.emit("beforechange",Object.assign(Object.assign({},e),{sender:this}))}onValueChange_(e){this.emitter.emit("change",Object.assign(Object.assign({},e),{sender:this}))}}function as(t,e){const n=e==null?void 0:e.constraint,r=e==null?void 0:e.equals;return!n&&!r?new eWe(t):new J$e(t,e)}function nWe(t){return[new tWe(t),(e,n)=>{t.setRawValue(e,n)}]}class dr{constructor(e){this.emitter=new Jo,this.valMap_=e;for(const n in this.valMap_)this.valMap_[n].emitter.on("change",()=>{this.emitter.emit("change",{key:n,sender:this})})}static createCore(e){return Object.keys(e).reduce((r,i)=>Object.assign(r,{[i]:as(e[i])}),{})}static fromObject(e){const n=this.createCore(e);return new dr(n)}get(e){return this.valMap_[e].rawValue}set(e,n){this.valMap_[e].rawValue=n}value(e){return this.valMap_[e]}}class S_{constructor(e){this.values=dr.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");return Math.min(Math.max(e,r),n)}}class mK{constructor(e){this.values=dr.fromObject({max:e.max,min:e.min})}constrain(e){const n=this.values.get("max"),r=this.values.get("min");let i=e;return Bi(r)||(i=Math.max(i,r)),Bi(n)||(i=Math.min(i,n)),i}}class rWe{constructor(e,n=0){this.step=e,this.origin=n}constrain(e){const n=this.origin%this.step,r=Math.round((e-n)/this.step);return n+r*this.step}}class iWe{constructor(e){this.text=e}evaluate(){return Number(this.text)}toString(){return this.text}}const sWe={"**":(t,e)=>Math.pow(t,e),"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,"&":(t,e)=>t&e,"^":(t,e)=>t^e,"|":(t,e)=>t|e};class oWe{constructor(e,n,r){this.left=n,this.operator=e,this.right=r}evaluate(){const e=sWe[this.operator];if(!e)throw new Error(`unexpected binary operator: '${this.operator}`);return e(this.left.evaluate(),this.right.evaluate())}toString(){return["b(",this.left.toString(),this.operator,this.right.toString(),")"].join(" ")}}const aWe={"+":t=>t,"-":t=>-t,"~":t=>~t};class lWe{constructor(e,n){this.operator=e,this.expression=n}evaluate(){const e=aWe[this.operator];if(!e)throw new Error(`unexpected unary operator: '${this.operator}`);return e(this.expression.evaluate())}toString(){return["u(",this.operator,this.expression.toString(),")"].join(" ")}}function gK(t){return(e,n)=>{for(let r=0;r<t.length;r++){const i=t[r](e,n);if(i!=="")return i}return""}}function Zb(t,e){var n;const r=t.substr(e).match(/^\s+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function uWe(t,e){const n=t.substr(e,1);return n.match(/^[1-9]$/)?n:""}function Qb(t,e){var n;const r=t.substr(e).match(/^[0-9]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function cWe(t,e){const n=Qb(t,e);if(n!=="")return n;const r=t.substr(e,1);if(e+=1,r!=="-"&&r!=="+")return"";const i=Qb(t,e);return i===""?"":r+i}function vK(t,e){const n=t.substr(e,1);if(e+=1,n.toLowerCase()!=="e")return"";const r=cWe(t,e);return r===""?"":n+r}function I7e(t,e){const n=t.substr(e,1);if(n==="0")return n;const r=uWe(t,e);return e+=r.length,r===""?"":r+Qb(t,e)}function dWe(t,e){const n=I7e(t,e);if(e+=n.length,n==="")return"";const r=t.substr(e,1);if(e+=r.length,r!==".")return"";const i=Qb(t,e);return e+=i.length,n+r+i+vK(t,e)}function hWe(t,e){const n=t.substr(e,1);if(e+=n.length,n!==".")return"";const r=Qb(t,e);return e+=r.length,r===""?"":n+r+vK(t,e)}function pWe(t,e){const n=I7e(t,e);return e+=n.length,n===""?"":n+vK(t,e)}const fWe=gK([dWe,hWe,pWe]);function mWe(t,e){var n;const r=t.substr(e).match(/^[01]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function gWe(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0b")return"";const r=mWe(t,e);return r===""?"":n+r}function vWe(t,e){var n;const r=t.substr(e).match(/^[0-7]+/);return(n=r&&r[0])!==null&&n!==void 0?n:""}function yWe(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0o")return"";const r=vWe(t,e);return r===""?"":n+r}function bWe(t,e){var n;const r=t.substr(e).match(/^[0-9a-f]+/i);return(n=r&&r[0])!==null&&n!==void 0?n:""}function _We(t,e){const n=t.substr(e,2);if(e+=n.length,n.toLowerCase()!=="0x")return"";const r=bWe(t,e);return r===""?"":n+r}const wWe=gK([gWe,yWe,_We]),xWe=gK([wWe,fWe]);function SWe(t,e){const n=xWe(t,e);return e+=n.length,n===""?null:{evaluable:new iWe(n),cursor:e}}function EWe(t,e){const n=t.substr(e,1);if(e+=n.length,n!=="(")return null;const r=D7e(t,e);if(!r)return null;e=r.cursor,e+=Zb(t,e).length;const i=t.substr(e,1);return e+=i.length,i!==")"?null:{evaluable:r.evaluable,cursor:e}}function CWe(t,e){var n;return(n=SWe(t,e))!==null&&n!==void 0?n:EWe(t,e)}function R7e(t,e){const n=CWe(t,e);if(n)return n;const r=t.substr(e,1);if(e+=r.length,r!=="+"&&r!=="-"&&r!=="~")return null;const i=R7e(t,e);return i?(e=i.cursor,{cursor:e,evaluable:new lWe(r,i.evaluable)}):null}function PWe(t,e,n){n+=Zb(e,n).length;const r=t.filter(i=>e.startsWith(i,n))[0];return r?(n+=r.length,n+=Zb(e,n).length,{cursor:n,operator:r}):null}function MWe(t,e){return(n,r)=>{const i=t(n,r);if(!i)return null;r=i.cursor;let o=i.evaluable;for(;;){const u=PWe(e,n,r);if(!u)break;r=u.cursor;const d=t(n,r);if(!d)return null;r=d.cursor,o=new oWe(u.operator,o,d.evaluable)}return o?{cursor:r,evaluable:o}:null}}const TWe=[["**"],["*","/","%"],["+","-"],["<<",">>>",">>"],["&"],["^"],["|"]].reduce((t,e)=>MWe(t,e),R7e);function D7e(t,e){return e+=Zb(t,e).length,TWe(t,e)}function kWe(t){const e=D7e(t,0);return!e||e.cursor+Zb(t,e.cursor).length!==t.length?null:e.evaluable}function Cu(t){var e;const n=kWe(t);return(e=n==null?void 0:n.evaluate())!==null&&e!==void 0?e:null}function yK(t){if(typeof t=="number")return t;if(typeof t=="string"){const e=Cu(t);if(!Bi(e))return e}return 0}function Ro(t){return e=>e.toFixed(Math.max(Math.min(t,20),0))}function or(t,e,n,r,i){const o=(t-e)/(n-e);return r+o*(i-r)}function w5e(t){return String(t.toFixed(10)).split(".")[1].replace(/0+$/,"").length}function Zi(t,e,n){return Math.min(Math.max(t,e),n)}function O7e(t,e){return(t%e+e)%e}function AWe(t,e){return Bi(t.step)?Math.max(w5e(e),2):w5e(t.step)}function L7e(t){var e;return(e=t.step)!==null&&e!==void 0?e:1}function IWe(t,e){var n;const r=Math.abs((n=t.step)!==null&&n!==void 0?n:e);return r===0?.1:Math.pow(10,Math.floor(Math.log10(r))-1)}function bK(t,e){return Bi(t.step)?null:new rWe(t.step,e)}function _K(t){return!Bi(t.max)&&!Bi(t.min)?new S_({max:t.max,min:t.min}):!Bi(t.max)||!Bi(t.min)?new mK({max:t.max,min:t.min}):null}function wK(t,e){var n,r,i;return{formatter:(n=t.format)!==null&&n!==void 0?n:Ro(AWe(t,e)),keyScale:(r=t.keyScale)!==null&&r!==void 0?r:L7e(t),pointerScale:(i=t.pointerScale)!==null&&i!==void 0?i:IWe(t,e)}}function xK(t){return{format:t.optional.function,keyScale:t.optional.number,max:t.optional.number,min:t.optional.number,pointerScale:t.optional.number,step:t.optional.number}}function SK(t){return{constraint:t.constraint,textProps:dr.fromObject(wK(t.params,t.initialValue))}}class Y2{constructor(e){this.controller=e}get element(){return this.controller.view.element}get disabled(){return this.controller.viewProps.get("disabled")}set disabled(e){this.controller.viewProps.set("disabled",e)}get hidden(){return this.controller.viewProps.get("hidden")}set hidden(e){this.controller.viewProps.set("hidden",e)}dispose(){this.controller.viewProps.set("disposed",!0)}importState(e){return this.controller.importState(e)}exportState(){return this.controller.exportState()}}class Ag{constructor(e){this.target=e}}class jI extends Ag{constructor(e,n,r){super(e),this.value=n,this.last=r??!0}}class RWe extends Ag{constructor(e,n){super(e),this.expanded=n}}class DWe extends Ag{constructor(e,n){super(e),this.index=n}}class EK extends Y2{constructor(e){super(e),this.onValueChange_=this.onValueChange_.bind(this),this.emitter_=new Jo,this.controller.value.emitter.on("change",this.onValueChange_)}get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get key(){return this.controller.value.binding.target.key}get tag(){return this.controller.tag}set tag(e){this.controller.tag=e}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.controller.value.fetch()}onValueChange_(e){const n=this.controller.value;this.emitter_.emit("change",new jI(this,n.binding.target.read(),e.options.last))}}function OWe(t,e){const r=Object.keys(e).reduce((i,o)=>{if(i===void 0)return;const u=e[o],d=u(t[o]);return d.succeeded?Object.assign(Object.assign({},i),{[o]:d.value}):void 0},{});return r}function LWe(t,e){return t.reduce((n,r)=>{if(n===void 0)return;const i=e(r);if(!(!i.succeeded||i.value===void 0))return[...n,i.value]},[])}function NWe(t){return t===null?!1:typeof t=="object"}function Xd(t){return e=>n=>{if(!e&&n===void 0)return{succeeded:!1,value:void 0};if(e&&n===void 0)return{succeeded:!0,value:void 0};const r=t(n);return r!==void 0?{succeeded:!0,value:r}:{succeeded:!1,value:void 0}}}function x5e(t){return{custom:e=>Xd(e)(t),boolean:Xd(e=>typeof e=="boolean"?e:void 0)(t),number:Xd(e=>typeof e=="number"?e:void 0)(t),string:Xd(e=>typeof e=="string"?e:void 0)(t),function:Xd(e=>typeof e=="function"?e:void 0)(t),constant:e=>Xd(n=>n===e?e:void 0)(t),raw:Xd(e=>e)(t),object:e=>Xd(n=>{if(NWe(n))return OWe(n,e)})(t),array:e=>Xd(n=>{if(Array.isArray(n))return LWe(n,e)})(t)}}const WG={optional:x5e(!0),required:x5e(!1)};function ls(t,e){const n=e(WG),r=WG.required.object(n)(t);return r.succeeded?r.value:void 0}function Mu(t,e,n,r){if(e&&!e(t))return!1;const i=ls(t,n);return i?r(i):!1}function Tu(t,e){var n;return U2((n=t==null?void 0:t())!==null&&n!==void 0?n:{},e)}function eA(t){return"value"in t}function FWe(t){if(!fK(t)||!("binding"in t))return!1;const e=t.binding;return Z$e(e)}const io="http://www.w3.org/2000/svg";function XA(t){t.offsetHeight}function BWe(t,e){const n=t.style.transition;t.style.transition="none",e(),t.style.transition=n}function HI(t){return t.ontouchstart!==void 0}function UWe(t){const e=t.ownerDocument.defaultView;return e&&"document"in e?t.getContext("2d",{willReadFrequently:!0}):null}const zWe={check:'<path d="M2 8l4 4l8 -8"/>',dropdown:'<path d="M5 7h6l-3 3 z"/>',p2dpad:'<path d="M8 4v8"/><path d="M4 8h8"/><circle cx="12" cy="12" r="1.2"/>'};function GI(t,e){const n=t.createElementNS(io,"svg");return n.innerHTML=zWe[e],n}function N7e(t,e,n){t.insertBefore(e,t.children[n])}function CK(t){t.parentElement&&t.parentElement.removeChild(t)}function F7e(t){for(;t.children.length>0;)t.removeChild(t.children[0])}function VWe(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])}function PK(t){return t.relatedTarget?t.relatedTarget:"explicitOriginalTarget"in t?t.explicitOriginalTarget:null}function _l(t,e){t.emitter.on("change",n=>{e(n.rawValue)}),e(t.rawValue)}function Sl(t,e,n){_l(t.value(e),n)}const jWe="tp";function fr(t){return(n,r)=>[jWe,"-",t,"v",n?`_${n}`:"",r?`-${r}`:""].join("")}const Oy=fr("lbl");function HWe(t,e){const n=t.createDocumentFragment();return e.split(`
`).map(i=>t.createTextNode(i)).forEach((i,o)=>{o>0&&n.appendChild(t.createElement("br")),n.appendChild(i)}),n}class B7e{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Oy()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(Oy("l")),Sl(n.props,"label",o=>{Bi(o)?this.element.classList.add(Oy(void 0,"nol")):(this.element.classList.remove(Oy(void 0,"nol")),VWe(r),r.appendChild(HWe(e,o)))}),this.element.appendChild(r),this.labelElement=r;const i=e.createElement("div");i.classList.add(Oy("v")),this.element.appendChild(i),this.valueElement=i}}class $I{constructor(e,n){this.props=n.props,this.valueController=n.valueController,this.viewProps=n.valueController.viewProps,this.view=new B7e(e,{props:n.props,viewProps:this.viewProps}),this.view.valueElement.appendChild(this.valueController.view.element)}importProps(e){return Mu(e,null,n=>({label:n.optional.string}),n=>(this.props.set("label",n.label),!0))}exportProps(){return Tu(null,{label:this.props.get("label")})}}function GWe(){return["veryfirst","first","last","verylast"]}const S5e=fr(""),E5e={veryfirst:"vfst",first:"fst",last:"lst",verylast:"vlst"};class E_{constructor(e){this.parent_=null,this.blade=e.blade,this.view=e.view,this.viewProps=e.viewProps;const n=this.view.element;this.blade.value("positions").emitter.on("change",()=>{GWe().forEach(r=>{n.classList.remove(S5e(void 0,E5e[r]))}),this.blade.get("positions").forEach(r=>{n.classList.add(S5e(void 0,E5e[r]))})}),this.viewProps.handleDispose(()=>{CK(n)})}get parent(){return this.parent_}set parent(e){this.parent_=e,this.viewProps.set("parent",this.parent_?this.parent_.viewProps:null)}importState(e){return Mu(e,null,n=>({disabled:n.required.boolean,hidden:n.required.boolean}),n=>(this.viewProps.importState(n),!0))}exportState(){return Tu(null,Object.assign({},this.viewProps.exportState()))}}class qA extends E_{constructor(e,n){if(n.value!==n.valueController.value)throw Ea.shouldNeverHappen();const r=n.valueController.viewProps,i=new $I(e,{blade:n.blade,props:n.props,valueController:n.valueController});super(Object.assign(Object.assign({},n),{view:new B7e(e,{props:n.props,viewProps:r}),viewProps:r})),this.labelController=i,this.value=n.value,this.valueController=n.valueController,this.view.valueElement.appendChild(this.valueController.view.element)}importState(e){return Mu(e,n=>{var r,i,o;return super.importState(n)&&this.labelController.importProps(n)&&((o=(i=(r=this.valueController).importProps)===null||i===void 0?void 0:i.call(r,e))!==null&&o!==void 0?o:!0)},n=>({value:n.optional.raw}),n=>(n.value&&(this.value.rawValue=n.value),!0))}exportState(){var e,n,r;return Tu(()=>super.exportState(),Object.assign(Object.assign({value:this.value.rawValue},this.labelController.exportProps()),(r=(n=(e=this.valueController).exportProps)===null||n===void 0?void 0:n.call(e))!==null&&r!==void 0?r:{}))}}function U7e(t,e){for(;t.length<e;)t.push(void 0)}function $We(t){const e=[];return U7e(e,t),e}function WWe(t){const e=t.indexOf(void 0);return e<0?t:t.slice(0,e)}function KWe(t,e){const n=[...WWe(t),e];return n.length>t.length?n.splice(0,n.length-t.length):U7e(n,t.length),n}class XWe extends Y2{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get title(){var e;return(e=this.controller.buttonController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.buttonController.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller.buttonController.emitter.on(e,()=>{r(new Ag(this))}),this}}function qWe(t,e,n){n?t.classList.add(e):t.classList.remove(e)}function n1(t,e){return n=>{qWe(t,e,n)}}function MK(t,e){_l(t,n=>{e.textContent=n??""})}const Zj=fr("btn");class YWe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Zj()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("button");r.classList.add(Zj("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(Zj("t")),MK(n.props.value("title"),i),this.buttonElement.appendChild(i)}}class z7e{constructor(e,n){this.emitter=new Jo,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new YWe(e,{props:this.props,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}importProps(e){return Mu(e,null,n=>({title:n.optional.string}),n=>(this.props.set("title",n.title),!0))}exportProps(){return Tu(null,{title:this.props.get("title")})}onClick_(){this.emitter.emit("click",{sender:this})}}class C5e extends E_{constructor(e,n){const r=new z7e(e,{props:n.buttonProps,viewProps:n.viewProps}),i=new $I(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:n.viewProps}),this.buttonController=r,this.labelController=i}importState(e){return Mu(e,n=>super.importState(n)&&this.buttonController.importProps(n)&&this.labelController.importProps(n),()=>({}),()=>!0)}exportState(){return Tu(()=>super.exportState(),Object.assign(Object.assign({},this.buttonController.exportProps()),this.labelController.exportProps()))}}class ZWe{constructor(e){const[n,r]=e.split("-"),i=n.split(".");this.major=parseInt(i[0],10),this.minor=parseInt(i[1],10),this.patch=parseInt(i[2],10),this.prerelease=r??null}toString(){const e=[this.major,this.minor,this.patch].join(".");return this.prerelease!==null?[e,this.prerelease].join("-"):e}}const QWe=new ZWe("2.0.0-beta.2");function Es(t){return Object.assign({core:QWe},t)}Es({id:"button",type:"blade",accept(t){const e=ls(t,n=>({title:n.required.string,view:n.required.constant("button"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new C5e(t.document,{blade:t.blade,buttonProps:dr.fromObject({title:t.params.title}),labelProps:dr.fromObject({label:t.params.label}),viewProps:t.viewProps})},api(t){return t.controller instanceof C5e?new XWe(t.controller):null}});function JWe(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"button"}))}function eKe(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"folder"}))}function tKe(t,e){return t.addBlade(Object.assign(Object.assign({},e),{view:"tab"}))}function nKe(t){return fK(t)?"refresh"in t&&typeof t.refresh=="function":!1}function rKe(t,e){if(!KA.isBindable(t))throw Ea.notBindable();return new KA(t,e)}class iKe{constructor(e,n){this.onRackValueChange_=this.onRackValueChange_.bind(this),this.controller_=e,this.emitter_=new Jo,this.pool_=n,this.controller_.rack.emitter.on("valuechange",this.onRackValueChange_)}get children(){return this.controller_.rack.children.map(e=>this.pool_.createApi(e))}addBinding(e,n,r){const i=r??{},o=this.controller_.element.ownerDocument,u=this.pool_.createBinding(o,rKe(e,n),i),d=this.pool_.createBindingApi(u);return this.add(d,i.index)}addFolder(e){return eKe(this,e)}addButton(e){return JWe(this,e)}addTab(e){return tKe(this,e)}add(e,n){const r=e.controller;return this.controller_.rack.add(r,n),e}remove(e){this.controller_.rack.remove(e.controller)}addBlade(e){const n=this.controller_.element.ownerDocument,r=this.pool_.createBlade(n,e),i=this.pool_.createApi(r);return this.add(i,e.index)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.children.forEach(e=>{nKe(e)&&e.refresh()})}onRackValueChange_(e){const n=e.bladeController,r=this.pool_.createApi(n),i=FWe(n.value)?n.value.binding:null;this.emitter_.emit("change",new jI(r,i?i.target.read():n.value.rawValue,e.options.last))}}class TK extends Y2{constructor(e,n){super(e),this.rackApi_=new iKe(e.rackController,n)}}class kK extends E_{constructor(e){super({blade:e.blade,view:e.view,viewProps:e.rackController.viewProps}),this.rackController=e.rackController}importState(e){return Mu(e,n=>super.importState(n),n=>({children:n.required.array(n.required.raw)}),n=>this.rackController.rack.children.every((r,i)=>r.importState(n.children[i])))}exportState(){return Tu(()=>super.exportState(),{children:this.rackController.rack.children.map(e=>e.exportState())})}}function KG(t){return"rackController"in t}class sKe{constructor(e){this.emitter=new Jo,this.items_=[],this.cache_=new Set,this.onSubListAdd_=this.onSubListAdd_.bind(this),this.onSubListRemove_=this.onSubListRemove_.bind(this),this.extract_=e}get items(){return this.items_}allItems(){return Array.from(this.cache_)}find(e){for(const n of this.allItems())if(e(n))return n;return null}includes(e){return this.cache_.has(e)}add(e,n){if(this.includes(e))throw Ea.shouldNeverHappen();const r=n!==void 0?n:this.items_.length;this.items_.splice(r,0,e),this.cache_.add(e);const i=this.extract_(e);i&&(i.emitter.on("add",this.onSubListAdd_),i.emitter.on("remove",this.onSubListRemove_),i.allItems().forEach(o=>{this.cache_.add(o)})),this.emitter.emit("add",{index:r,item:e,root:this,target:this})}remove(e){const n=this.items_.indexOf(e);if(n<0)return;this.items_.splice(n,1),this.cache_.delete(e);const r=this.extract_(e);r&&(r.allItems().forEach(i=>{this.cache_.delete(i)}),r.emitter.off("add",this.onSubListAdd_),r.emitter.off("remove",this.onSubListRemove_)),this.emitter.emit("remove",{index:n,item:e,root:this,target:this})}onSubListAdd_(e){this.cache_.add(e.item),this.emitter.emit("add",{index:e.index,item:e.item,root:this,target:e.target})}onSubListRemove_(e){this.cache_.delete(e.item),this.emitter.emit("remove",{index:e.index,item:e.item,root:this,target:e.target})}}function oKe(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(eA(r)&&r.value===e)return r}return null}function aKe(t){return KG(t)?t.rackController.rack.bcSet_:null}class lKe{constructor(e){var n,r;this.emitter=new Jo,this.onBladePositionsChange_=this.onBladePositionsChange_.bind(this),this.onSetAdd_=this.onSetAdd_.bind(this),this.onSetRemove_=this.onSetRemove_.bind(this),this.onChildDispose_=this.onChildDispose_.bind(this),this.onChildPositionsChange_=this.onChildPositionsChange_.bind(this),this.onChildValueChange_=this.onChildValueChange_.bind(this),this.onChildViewPropsChange_=this.onChildViewPropsChange_.bind(this),this.onRackLayout_=this.onRackLayout_.bind(this),this.onRackValueChange_=this.onRackValueChange_.bind(this),this.blade_=(n=e.blade)!==null&&n!==void 0?n:null,(r=this.blade_)===null||r===void 0||r.value("positions").emitter.on("change",this.onBladePositionsChange_),this.viewProps=e.viewProps,this.bcSet_=new sKe(aKe),this.bcSet_.emitter.on("add",this.onSetAdd_),this.bcSet_.emitter.on("remove",this.onSetRemove_)}get children(){return this.bcSet_.items}add(e,n){var r;(r=e.parent)===null||r===void 0||r.remove(e),e.parent=this,this.bcSet_.add(e,n)}remove(e){e.parent=null,this.bcSet_.remove(e)}find(e){return this.bcSet_.allItems().filter(e)}onSetAdd_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("add",{bladeController:e.item,index:e.index,root:n,sender:this}),!n)return;const r=e.item;if(r.viewProps.emitter.on("change",this.onChildViewPropsChange_),r.blade.value("positions").emitter.on("change",this.onChildPositionsChange_),r.viewProps.handleDispose(this.onChildDispose_),eA(r))r.value.emitter.on("change",this.onChildValueChange_);else if(KG(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.on("layout",this.onRackLayout_),o.on("valuechange",this.onRackValueChange_)}}}onSetRemove_(e){this.updatePositions_();const n=e.target===e.root;if(this.emitter.emit("remove",{bladeController:e.item,root:n,sender:this}),!n)return;const r=e.item;if(eA(r))r.value.emitter.off("change",this.onChildValueChange_);else if(KG(r)){const i=r.rackController.rack;if(i){const o=i.emitter;o.off("layout",this.onRackLayout_),o.off("valuechange",this.onRackValueChange_)}}}updatePositions_(){const e=this.bcSet_.items.filter(i=>!i.viewProps.get("hidden")),n=e[0],r=e[e.length-1];this.bcSet_.items.forEach(i=>{const o=[];i===n&&(o.push("first"),(!this.blade_||this.blade_.get("positions").includes("veryfirst"))&&o.push("veryfirst")),i===r&&(o.push("last"),(!this.blade_||this.blade_.get("positions").includes("verylast"))&&o.push("verylast")),i.blade.set("positions",o)})}onChildPositionsChange_(){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildViewPropsChange_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onChildDispose_(){this.bcSet_.items.filter(n=>n.viewProps.get("disposed")).forEach(n=>{this.bcSet_.remove(n)})}onChildValueChange_(e){const n=oKe(this.find(eA),e.sender);if(!n)throw Ea.alreadyDisposed();this.emitter.emit("valuechange",{bladeController:n,options:e.options,sender:this})}onRackLayout_(e){this.updatePositions_(),this.emitter.emit("layout",{sender:this})}onRackValueChange_(e){this.emitter.emit("valuechange",{bladeController:e.bladeController,options:e.options,sender:this})}onBladePositionsChange_(){this.updatePositions_()}}class AK{constructor(e){this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this),this.element=e.element,this.viewProps=e.viewProps;const n=new lKe({blade:e.root?void 0:e.blade,viewProps:e.viewProps});n.emitter.on("add",this.onRackAdd_),n.emitter.on("remove",this.onRackRemove_),this.rack=n,this.viewProps.handleDispose(()=>{for(let r=this.rack.children.length-1;r>=0;r--)this.rack.children[r].viewProps.set("disposed",!0)})}onRackAdd_(e){e.root&&N7e(this.element,e.bladeController.view.element,e.index)}onRackRemove_(e){e.root&&CK(e.bladeController.view.element)}}function V7e(){return new dr({positions:as([],{equals:Y$e})})}class Ig extends dr{constructor(e){super(e)}static create(e){const n={completed:!0,expanded:e,expandedHeight:null,shouldFixHeight:!1,temporaryExpanded:null},r=dr.createCore(n);return new Ig(r)}get styleExpanded(){var e;return(e=this.get("temporaryExpanded"))!==null&&e!==void 0?e:this.get("expanded")}get styleHeight(){if(!this.styleExpanded)return"0";const e=this.get("expandedHeight");return this.get("shouldFixHeight")&&!Bi(e)?`${e}px`:"auto"}bindExpandedClass(e,n){const r=()=>{this.styleExpanded?e.classList.add(n):e.classList.remove(n)};Sl(this,"expanded",r),Sl(this,"temporaryExpanded",r)}cleanUpTransition(){this.set("shouldFixHeight",!1),this.set("expandedHeight",null),this.set("completed",!0)}}function uKe(t,e){let n=0;return BWe(e,()=>{t.set("expandedHeight",null),t.set("temporaryExpanded",!0),XA(e),n=e.clientHeight,t.set("temporaryExpanded",null),XA(e)}),n}function P5e(t,e){e.style.height=t.styleHeight}function WI(t,e){t.value("expanded").emitter.on("beforechange",()=>{if(t.set("completed",!1),Bi(t.get("expandedHeight"))){const n=uKe(t,e);n>0&&t.set("expandedHeight",n)}t.set("shouldFixHeight",!0),XA(e)}),t.emitter.on("change",()=>{P5e(t,e)}),P5e(t,e),e.addEventListener("transitionend",n=>{n.propertyName==="height"&&t.cleanUpTransition()})}class cKe extends TK{constructor(e,n){super(e,n),this.emitter_=new Jo,this.controller.foldable.value("expanded").emitter.on("change",r=>{this.emitter_.emit("fold",new RWe(this,r.sender.rawValue))}),this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)})}get expanded(){return this.controller.foldable.get("expanded")}set expanded(e){this.controller.foldable.set("expanded",e)}get title(){return this.controller.props.get("title")}set title(e){this.controller.props.set("title",e)}get children(){return this.rackApi_.children}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addFolder(e){return this.rackApi_.addFolder(e)}addButton(e){return this.rackApi_.addButton(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){return this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBlade(e){return this.rackApi_.addBlade(e)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}refresh(){this.rackApi_.refresh()}}const j7e=fr("cnt");class dKe{constructor(e,n){var r;this.className_=fr((r=n.viewName)!==null&&r!==void 0?r:"fld"),this.element=e.createElement("div"),this.element.classList.add(this.className_(),j7e()),n.viewProps.bindClassModifiers(this.element),this.foldable_=n.foldable,this.foldable_.bindExpandedClass(this.element,this.className_(void 0,"expanded")),Sl(this.foldable_,"completed",n1(this.element,this.className_(void 0,"cpl")));const i=e.createElement("button");i.classList.add(this.className_("b")),Sl(n.props,"title",v=>{Bi(v)?this.element.classList.add(this.className_(void 0,"not")):this.element.classList.remove(this.className_(void 0,"not"))}),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i;const o=e.createElement("div");o.classList.add(this.className_("i")),this.element.appendChild(o);const u=e.createElement("div");u.classList.add(this.className_("t")),MK(n.props.value("title"),u),this.buttonElement.appendChild(u),this.titleElement=u;const d=e.createElement("div");d.classList.add(this.className_("m")),this.buttonElement.appendChild(d);const m=e.createElement("div");m.classList.add(this.className_("c")),this.element.appendChild(m),this.containerElement=m}}class M5e extends kK{constructor(e,n){var r;const i=Ig.create((r=n.expanded)!==null&&r!==void 0?r:!0),o=new dKe(e,{foldable:i,props:n.props,viewName:n.root?"rot":void 0,viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new AK({blade:n.blade,element:o.containerElement,root:n.root,viewProps:n.viewProps}),view:o})),this.onTitleClick_=this.onTitleClick_.bind(this),this.props=n.props,this.foldable=i,WI(this.foldable,this.view.containerElement),this.rackController.rack.emitter.on("add",()=>{this.foldable.cleanUpTransition()}),this.rackController.rack.emitter.on("remove",()=>{this.foldable.cleanUpTransition()}),this.view.buttonElement.addEventListener("click",this.onTitleClick_)}get document(){return this.view.element.ownerDocument}importState(e){return Mu(e,n=>super.importState(n),n=>({expanded:n.required.boolean,title:n.optional.string}),n=>(this.foldable.set("expanded",n.expanded),this.props.set("title",n.title),!0))}exportState(){return Tu(()=>super.exportState(),{expanded:this.foldable.get("expanded"),title:this.props.get("title")})}onTitleClick_(){this.foldable.set("expanded",!this.foldable.get("expanded"))}}Es({id:"folder",type:"blade",accept(t){const e=ls(t,n=>({title:n.required.string,view:n.required.constant("folder"),expanded:n.optional.boolean}));return e?{params:e}:null},controller(t){return new M5e(t.document,{blade:t.blade,expanded:t.params.expanded,props:dr.fromObject({title:t.params.title}),viewProps:t.viewProps})},api(t){return t.controller instanceof M5e?new cKe(t.controller,t.pool):null}});const hKe=fr("");function T5e(t,e){return n1(t,hKe(void 0,e))}class yh extends dr{constructor(e){var n;super(e),this.onDisabledChange_=this.onDisabledChange_.bind(this),this.onParentChange_=this.onParentChange_.bind(this),this.onParentGlobalDisabledChange_=this.onParentGlobalDisabledChange_.bind(this),[this.globalDisabled_,this.setGlobalDisabled_]=nWe(as(this.getGlobalDisabled_())),this.value("disabled").emitter.on("change",this.onDisabledChange_),this.value("parent").emitter.on("change",this.onParentChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_)}static create(e){var n,r,i;const o=e??{};return new yh(dr.createCore({disabled:(n=o.disabled)!==null&&n!==void 0?n:!1,disposed:!1,hidden:(r=o.hidden)!==null&&r!==void 0?r:!1,parent:(i=o.parent)!==null&&i!==void 0?i:null}))}get globalDisabled(){return this.globalDisabled_}bindClassModifiers(e){_l(this.globalDisabled_,T5e(e,"disabled")),Sl(this,"hidden",T5e(e,"hidden"))}bindDisabled(e){_l(this.globalDisabled_,n=>{e.disabled=n})}bindTabIndex(e){_l(this.globalDisabled_,n=>{e.tabIndex=n?-1:0})}handleDispose(e){this.value("disposed").emitter.on("change",n=>{n&&e()})}importState(e){this.set("disabled",e.disabled),this.set("hidden",e.hidden)}exportState(){return{disabled:this.get("disabled"),hidden:this.get("hidden")}}getGlobalDisabled_(){const e=this.get("parent");return(e?e.globalDisabled.rawValue:!1)||this.get("disabled")}updateGlobalDisabled_(){this.setGlobalDisabled_(this.getGlobalDisabled_())}onDisabledChange_(){this.updateGlobalDisabled_()}onParentGlobalDisabledChange_(){this.updateGlobalDisabled_()}onParentChange_(e){var n;const r=e.previousRawValue;r==null||r.globalDisabled.emitter.off("change",this.onParentGlobalDisabledChange_),(n=this.get("parent"))===null||n===void 0||n.globalDisabled.emitter.on("change",this.onParentGlobalDisabledChange_),this.updateGlobalDisabled_()}}const k5e=fr("tbp");class pKe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(k5e()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(k5e("c")),this.element.appendChild(r),this.containerElement=r}}const Ly=fr("tbi");class fKe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ly()),n.viewProps.bindClassModifiers(this.element),Sl(n.props,"selected",o=>{o?this.element.classList.add(Ly(void 0,"sel")):this.element.classList.remove(Ly(void 0,"sel"))});const r=e.createElement("button");r.classList.add(Ly("b")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.buttonElement=r;const i=e.createElement("div");i.classList.add(Ly("t")),MK(n.props.value("title"),i),this.buttonElement.appendChild(i),this.titleElement=i}}class mKe{constructor(e,n){this.emitter=new Jo,this.onClick_=this.onClick_.bind(this),this.props=n.props,this.viewProps=n.viewProps,this.view=new fKe(e,{props:n.props,viewProps:n.viewProps}),this.view.buttonElement.addEventListener("click",this.onClick_)}onClick_(){this.emitter.emit("click",{sender:this})}}class XG extends kK{constructor(e,n){const r=new pKe(e,{viewProps:n.viewProps});super(Object.assign(Object.assign({},n),{rackController:new AK({blade:n.blade,element:r.containerElement,viewProps:n.viewProps}),view:r})),this.onItemClick_=this.onItemClick_.bind(this),this.ic_=new mKe(e,{props:n.itemProps,viewProps:yh.create()}),this.ic_.emitter.on("click",this.onItemClick_),this.props=n.props,Sl(this.props,"selected",i=>{this.itemController.props.set("selected",i),this.viewProps.set("hidden",!i)})}get itemController(){return this.ic_}importState(e){return Mu(e,n=>super.importState(n),n=>({selected:n.required.boolean,title:n.required.string}),n=>(this.ic_.props.set("selected",n.selected),this.ic_.props.set("title",n.title),!0))}exportState(){return Tu(()=>super.exportState(),{selected:this.ic_.props.get("selected"),title:this.ic_.props.get("title")})}onItemClick_(){this.props.set("selected",!0)}}class gKe extends TK{constructor(e,n){super(e,n),this.emitter_=new Jo,this.onSelect_=this.onSelect_.bind(this),this.pool_=n,this.rackApi_.on("change",r=>{this.emitter_.emit("change",r)}),this.controller.tab.selectedIndex.emitter.on("change",this.onSelect_)}get pages(){return this.rackApi_.children}addPage(e){const n=this.controller.view.element.ownerDocument,r=new XG(n,{blade:V7e(),itemProps:dr.fromObject({selected:!1,title:e.title}),props:dr.fromObject({selected:!1}),viewProps:yh.create()}),i=this.pool_.createApi(r);return this.rackApi_.add(i,e.index)}removePage(e){this.rackApi_.remove(this.rackApi_.children[e])}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i)}),this}onSelect_(e){this.emitter_.emit("select",new DWe(this,e.rawValue))}}class vKe extends TK{get title(){var e;return(e=this.controller.itemController.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller.itemController.props.set("title",e)}get selected(){return this.controller.props.get("selected")}set selected(e){this.controller.props.set("selected",e)}get children(){return this.rackApi_.children}addButton(e){return this.rackApi_.addButton(e)}addFolder(e){return this.rackApi_.addFolder(e)}addTab(e){return this.rackApi_.addTab(e)}add(e,n){this.rackApi_.add(e,n)}remove(e){this.rackApi_.remove(e)}addBinding(e,n,r){return this.rackApi_.addBinding(e,n,r)}addBlade(e){return this.rackApi_.addBlade(e)}refresh(){this.rackApi_.refresh()}}const A5e=-1;class yKe{constructor(){this.onItemSelectedChange_=this.onItemSelectedChange_.bind(this),this.empty=as(!0),this.selectedIndex=as(A5e),this.items_=[]}add(e,n){const r=n??this.items_.length;this.items_.splice(r,0,e),e.emitter.on("change",this.onItemSelectedChange_),this.keepSelection_()}remove(e){const n=this.items_.indexOf(e);n<0||(this.items_.splice(n,1),e.emitter.off("change",this.onItemSelectedChange_),this.keepSelection_())}keepSelection_(){if(this.items_.length===0){this.selectedIndex.rawValue=A5e,this.empty.rawValue=!0;return}const e=this.items_.findIndex(n=>n.rawValue);e<0?(this.items_.forEach((n,r)=>{n.rawValue=r===0}),this.selectedIndex.rawValue=0):(this.items_.forEach((n,r)=>{n.rawValue=r===e}),this.selectedIndex.rawValue=e),this.empty.rawValue=!1}onItemSelectedChange_(e){if(e.rawValue){const n=this.items_.findIndex(r=>r===e.sender);this.items_.forEach((r,i)=>{r.rawValue=i===n}),this.selectedIndex.rawValue=n}else this.keepSelection_()}}const Ny=fr("tab");class bKe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Ny(),j7e()),n.viewProps.bindClassModifiers(this.element),_l(n.empty,n1(this.element,Ny(void 0,"nop")));const r=e.createElement("div");r.classList.add(Ny("t")),this.element.appendChild(r),this.itemsElement=r;const i=e.createElement("div");i.classList.add(Ny("i")),this.element.appendChild(i);const o=e.createElement("div");o.classList.add(Ny("c")),this.element.appendChild(o),this.contentsElement=o}}class I5e extends kK{constructor(e,n){const r=new yKe,i=new bKe(e,{empty:r.empty,viewProps:n.viewProps});super({blade:n.blade,rackController:new AK({blade:n.blade,element:i.contentsElement,viewProps:n.viewProps}),view:i}),this.onRackAdd_=this.onRackAdd_.bind(this),this.onRackRemove_=this.onRackRemove_.bind(this);const o=this.rackController.rack;o.emitter.on("add",this.onRackAdd_),o.emitter.on("remove",this.onRackRemove_),this.tab=r}add(e,n){this.rackController.rack.add(e,n)}remove(e){this.rackController.rack.remove(this.rackController.rack.children[e])}onRackAdd_(e){if(!e.root)return;const n=e.bladeController;N7e(this.view.itemsElement,n.itemController.view.element,e.index),n.itemController.viewProps.set("parent",this.viewProps),this.tab.add(n.props.value("selected"))}onRackRemove_(e){if(!e.root)return;const n=e.bladeController;CK(n.itemController.view.element),n.itemController.viewProps.set("parent",null),this.tab.remove(n.props.value("selected"))}}Es({id:"tab",type:"blade",accept(t){const e=ls(t,n=>({pages:n.required.array(n.required.object({title:n.required.string})),view:n.required.constant("tab")}));return!e||e.pages.length===0?null:{params:e}},controller(t){const e=new I5e(t.document,{blade:t.blade,viewProps:t.viewProps});return t.params.pages.forEach(n=>{const r=new XG(t.document,{blade:V7e(),itemProps:dr.fromObject({selected:!1,title:n.title}),props:dr.fromObject({selected:!1}),viewProps:yh.create()});e.add(r)}),e},api(t){return t.controller instanceof I5e?new gKe(t.controller,t.pool):t.controller instanceof XG?new vKe(t.controller,t.pool):null}});class IK extends EK{get options(){return this.controller.valueController.props.get("options")}set options(e){this.controller.valueController.props.set("options",e)}}class _Ke{constructor(){this.disabled=!1,this.emitter=new Jo}dispose(){}tick(){this.disabled||this.emitter.emit("tick",{sender:this})}}class wKe{constructor(e,n){this.disabled_=!1,this.timerId_=null,this.onTick_=this.onTick_.bind(this),this.doc_=e,this.emitter=new Jo,this.interval_=n,this.setTimer_()}get disabled(){return this.disabled_}set disabled(e){this.disabled_=e,this.disabled_?this.clearTimer_():this.setTimer_()}dispose(){this.clearTimer_()}clearTimer_(){if(this.timerId_===null)return;const e=this.doc_.defaultView;e&&e.clearInterval(this.timerId_),this.timerId_=null}setTimer_(){if(this.clearTimer_(),this.interval_<=0)return;const e=this.doc_.defaultView;e&&(this.timerId_=e.setInterval(this.onTick_,this.interval_))}onTick_(){this.disabled_||this.emitter.emit("tick",{sender:this})}}class Rg{constructor(e){this.constraints=e}constrain(e){return this.constraints.reduce((n,r)=>r.constrain(n),e)}}function Jb(t,e){if(t instanceof e)return t;if(t instanceof Rg){const n=t.constraints.reduce((r,i)=>r||(i instanceof e?i:null),null);if(n)return n}return null}class KI{constructor(e){this.values=dr.fromObject({options:e})}constrain(e){const n=this.values.get("options");return n.length===0||n.filter(i=>i.value===e).length>0?e:n[0].value}}function XI(t){var e;const n=WG;if(Array.isArray(t))return(e=ls({items:t},r=>({items:r.required.array(r.required.object({text:r.required.string,value:r.required.raw}))})))===null||e===void 0?void 0:e.items;if(typeof t=="object")return n.required.raw(t).value}function H7e(t){if(Array.isArray(t))return t;const e=[];return Object.keys(t).forEach(n=>{e.push({text:n,value:t[n]})}),e}function RK(t){return Bi(t)?null:new KI(H7e(t))}const Qj=fr("lst");class xKe{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.element=e.createElement("div"),this.element.classList.add(Qj()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("select");r.classList.add(Qj("s")),n.viewProps.bindDisabled(r),this.element.appendChild(r),this.selectElement=r;const i=e.createElement("div");i.classList.add(Qj("m")),i.appendChild(GI(e,"dropdown")),this.element.appendChild(i),n.value.emitter.on("change",this.onValueChange_),this.value_=n.value,Sl(this.props_,"options",o=>{F7e(this.selectElement),o.forEach(u=>{const d=e.createElement("option");d.textContent=u.text,this.selectElement.appendChild(d)}),this.update_()})}update_(){const e=this.props_.get("options").map(n=>n.value);this.selectElement.selectedIndex=e.indexOf(this.value_.rawValue)}onValueChange_(){this.update_()}}class hg{constructor(e,n){this.onSelectChange_=this.onSelectChange_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new xKe(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.view.selectElement.addEventListener("change",this.onSelectChange_)}onSelectChange_(e){const n=e.currentTarget;this.value.rawValue=this.props.get("options")[n.selectedIndex].value}importProps(e){return Mu(e,null,n=>({options:n.required.custom(XI)}),n=>(this.props.set("options",H7e(n.options)),!0))}exportProps(){return Tu(null,{options:this.props.get("options")})}}const R5e=fr("pop");class SKe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(R5e()),n.viewProps.bindClassModifiers(this.element),_l(n.shows,n1(this.element,R5e(void 0,"v")))}}class DK{constructor(e,n){this.shows=as(!1),this.viewProps=n.viewProps,this.view=new SKe(e,{shows:this.shows,viewProps:this.viewProps})}}const D5e=fr("txt");class EKe{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(D5e()),n.viewProps.bindClassModifiers(this.element),this.props_=n.props,this.props_.emitter.on("change",this.onChange_);const r=e.createElement("input");r.classList.add(D5e("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onChange_),this.value_=n.value,this.refresh()}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value_.rawValue)}onChange_(){this.refresh()}}class qI{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.parser_=n.parser,this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new EKe(e,{props:n.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);Bi(i)||(this.value.rawValue=i),this.view.refresh()}}function CKe(t){return String(t)}function OK(t){return t==="false"?!1:!!t}function O5e(t){return CKe(t)}function PKe(t){return e=>t.reduce((n,r)=>n!==null?n:r(e),null)}const MKe=Ro(0);function YA(t){return MKe(t)+"%"}function LK(t){return String(t)}function qG(t){return t}function Z2({primary:t,secondary:e,forward:n,backward:r}){let i=!1;function o(u){i||(i=!0,u(),i=!1)}t.emitter.on("change",u=>{o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),u.options)})}),e.emitter.on("change",u=>{o(()=>{t.setRawValue(r(t.rawValue,e.rawValue),u.options)}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),u.options)})}),o(()=>{e.setRawValue(n(t.rawValue,e.rawValue),{forceEmit:!1,last:!0})})}function oo(t,e){const n=t*(e.altKey?.1:1)*(e.shiftKey?10:1);return e.upKey?+n:e.downKey?-n:0}function z2(t){return{altKey:t.altKey,downKey:t.key==="ArrowDown",shiftKey:t.shiftKey,upKey:t.key==="ArrowUp"}}function Pu(t){return{altKey:t.altKey,downKey:t.key==="ArrowLeft",shiftKey:t.shiftKey,upKey:t.key==="ArrowRight"}}function TKe(t){return t==="ArrowUp"||t==="ArrowDown"}function ZA(t){return TKe(t)||t==="ArrowLeft"||t==="ArrowRight"}function Jj(t,e){var n,r;const i=e.ownerDocument.defaultView,o=e.getBoundingClientRect();return{x:t.pageX-(((n=i&&i.scrollX)!==null&&n!==void 0?n:0)+o.left),y:t.pageY-(((r=i&&i.scrollY)!==null&&r!==void 0?r:0)+o.top)}}class _h{constructor(e){this.lastTouch_=null,this.onDocumentMouseMove_=this.onDocumentMouseMove_.bind(this),this.onDocumentMouseUp_=this.onDocumentMouseUp_.bind(this),this.onMouseDown_=this.onMouseDown_.bind(this),this.onTouchEnd_=this.onTouchEnd_.bind(this),this.onTouchMove_=this.onTouchMove_.bind(this),this.onTouchStart_=this.onTouchStart_.bind(this),this.elem_=e,this.emitter=new Jo,e.addEventListener("touchstart",this.onTouchStart_,{passive:!1}),e.addEventListener("touchmove",this.onTouchMove_,{passive:!0}),e.addEventListener("touchend",this.onTouchEnd_),e.addEventListener("mousedown",this.onMouseDown_)}computePosition_(e){const n=this.elem_.getBoundingClientRect();return{bounds:{width:n.width,height:n.height},point:e?{x:e.x,y:e.y}:null}}onMouseDown_(e){var n;e.preventDefault(),(n=e.currentTarget)===null||n===void 0||n.focus();const r=this.elem_.ownerDocument;r.addEventListener("mousemove",this.onDocumentMouseMove_),r.addEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(Jj(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseMove_(e){this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(Jj(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onDocumentMouseUp_(e){const n=this.elem_.ownerDocument;n.removeEventListener("mousemove",this.onDocumentMouseMove_),n.removeEventListener("mouseup",this.onDocumentMouseUp_),this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(Jj(e,this.elem_)),sender:this,shiftKey:e.shiftKey})}onTouchStart_(e){e.preventDefault();const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("down",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchMove_(e){const n=e.targetTouches.item(0),r=this.elem_.getBoundingClientRect();this.emitter.emit("move",{altKey:e.altKey,data:this.computePosition_(n?{x:n.clientX-r.left,y:n.clientY-r.top}:void 0),sender:this,shiftKey:e.shiftKey}),this.lastTouch_=n}onTouchEnd_(e){var n;const r=(n=e.targetTouches.item(0))!==null&&n!==void 0?n:this.lastTouch_,i=this.elem_.getBoundingClientRect();this.emitter.emit("up",{altKey:e.altKey,data:this.computePosition_(r?{x:r.clientX-i.left,y:r.clientY-i.top}:void 0),sender:this,shiftKey:e.shiftKey})}}const ul=fr("txt");class kKe{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(ul(),ul(void 0,"num")),n.arrayPosition&&this.element.classList.add(ul(void 0,n.arrayPosition)),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add(ul("i")),r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,this.onDraggingChange_=this.onDraggingChange_.bind(this),this.dragging_=n.dragging,this.dragging_.emitter.on("change",this.onDraggingChange_),this.element.classList.add(ul()),this.inputElement.classList.add(ul("i"));const i=e.createElement("div");i.classList.add(ul("k")),this.element.appendChild(i),this.knobElement=i;const o=e.createElementNS(io,"svg");o.classList.add(ul("g")),this.knobElement.appendChild(o);const u=e.createElementNS(io,"path");u.classList.add(ul("gb")),o.appendChild(u),this.guideBodyElem_=u;const d=e.createElementNS(io,"path");d.classList.add(ul("gh")),o.appendChild(d),this.guideHeadElem_=d;const m=e.createElement("div");m.classList.add(fr("tt")()),this.knobElement.appendChild(m),this.tooltipElem_=m,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.refresh()}onDraggingChange_(e){if(e.rawValue===null){this.element.classList.remove(ul(void 0,"drg"));return}this.element.classList.add(ul(void 0,"drg"));const n=e.rawValue/this.props_.get("pointerScale"),r=n+(n>0?-1:n<0?1:0),i=Zi(-r,-4,4);this.guideHeadElem_.setAttributeNS(null,"d",[`M ${r+i},0 L${r},4 L${r+i},8`,`M ${n},-1 L${n},9`].join(" ")),this.guideBodyElem_.setAttributeNS(null,"d",`M 0,4 L${n},4`);const o=this.props_.get("formatter");this.tooltipElem_.textContent=o(this.value.rawValue),this.tooltipElem_.style.left=`${n}px`}refresh(){const e=this.props_.get("formatter");this.inputElement.value=e(this.value.rawValue)}onChange_(){this.refresh()}}class C_{constructor(e,n){var r;this.originRawValue_=0,this.onInputChange_=this.onInputChange_.bind(this),this.onInputKeyDown_=this.onInputKeyDown_.bind(this),this.onInputKeyUp_=this.onInputKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.parser_=n.parser,this.props=n.props,this.sliderProps_=(r=n.sliderProps)!==null&&r!==void 0?r:null,this.value=n.value,this.viewProps=n.viewProps,this.dragging_=as(null),this.view=new kKe(e,{arrayPosition:n.arrayPosition,dragging:this.dragging_,props:this.props,value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_),this.view.inputElement.addEventListener("keydown",this.onInputKeyDown_),this.view.inputElement.addEventListener("keyup",this.onInputKeyUp_);const i=new _h(this.view.knobElement);i.emitter.on("down",this.onPointerDown_),i.emitter.on("move",this.onPointerMove_),i.emitter.on("up",this.onPointerUp_)}constrainValue_(e){var n,r;const i=(n=this.sliderProps_)===null||n===void 0?void 0:n.get("min"),o=(r=this.sliderProps_)===null||r===void 0?void 0:r.get("max");let u=e;return i!==void 0&&(u=Math.max(u,i)),o!==void 0&&(u=Math.min(u,o)),u}onInputChange_(e){const r=e.currentTarget.value,i=this.parser_(r);Bi(i)||(this.value.rawValue=this.constrainValue_(i)),this.view.refresh()}onInputKeyDown_(e){const n=oo(this.props.get("keyScale"),z2(e));n!==0&&this.value.setRawValue(this.constrainValue_(this.value.rawValue+n),{forceEmit:!1,last:!1})}onInputKeyUp_(e){oo(this.props.get("keyScale"),z2(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}onPointerDown_(){this.originRawValue_=this.value.rawValue,this.dragging_.rawValue=0}computeDraggingValue_(e){if(!e.point)return null;const n=e.point.x-e.bounds.width/2;return this.constrainValue_(this.originRawValue_+n*this.props.get("pointerScale"))}onPointerMove_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!1,last:!1}),this.dragging_.rawValue=this.value.rawValue-this.originRawValue_)}onPointerUp_(e){const n=this.computeDraggingValue_(e.data);n!==null&&(this.value.setRawValue(n,{forceEmit:!0,last:!0}),this.dragging_.rawValue=null)}}const eH=fr("sld");class AKe{constructor(e,n){this.onChange_=this.onChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onChange_),this.element=e.createElement("div"),this.element.classList.add(eH()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(eH("t")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(eH("k")),this.trackElement.appendChild(i),this.knobElement=i,n.value.emitter.on("change",this.onChange_),this.value=n.value,this.update_()}update_(){const e=Zi(or(this.value.rawValue,this.props_.get("min"),this.props_.get("max"),0,100),0,100);this.knobElement.style.width=`${e}%`}onChange_(){this.update_()}}class IKe{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDownOrMove_=this.onPointerDownOrMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.props=n.props,this.view=new AKe(e,{props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _h(this.view.trackElement),this.ptHandler_.emitter.on("down",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("move",this.onPointerDownOrMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.trackElement.addEventListener("keydown",this.onKeyDown_),this.view.trackElement.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){e.point&&this.value.setRawValue(or(Zi(e.point.x,0,e.bounds.width),0,e.bounds.width,this.props.get("min"),this.props.get("max")),n)}onPointerDownOrMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=oo(this.props.get("keyScale"),Pu(e));n!==0&&this.value.setRawValue(this.value.rawValue+n,{forceEmit:!1,last:!1})}onKeyUp_(e){oo(this.props.get("keyScale"),Pu(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const tH=fr("sldtxt");class RKe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(tH());const r=e.createElement("div");r.classList.add(tH("s")),this.sliderView_=n.sliderView,r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(tH("t")),this.textView_=n.textView,i.appendChild(this.textView_.element),this.element.appendChild(i)}}class L5e{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sliderC_=new IKe(e,{props:n.sliderProps,value:n.value,viewProps:this.viewProps}),this.textC_=new C_(e,{parser:n.parser,props:n.textProps,sliderProps:n.sliderProps,value:n.value,viewProps:n.viewProps}),this.view=new RKe(e,{sliderView:this.sliderC_.view,textView:this.textC_.view})}get sliderController(){return this.sliderC_}get textController(){return this.textC_}importProps(e){return Mu(e,null,n=>({max:n.required.number,min:n.required.number}),n=>{const r=this.sliderC_.props;return r.set("max",n.max),r.set("min",n.min),!0})}exportProps(){const e=this.sliderC_.props;return Tu(null,{max:e.get("max"),min:e.get("min")})}}function DKe(t){return{sliderProps:new dr({keyScale:t.keyScale,max:t.max,min:t.min}),textProps:new dr({formatter:as(t.formatter),keyScale:t.keyScale,pointerScale:as(t.pointerScale)})}}const OKe={containerUnitSize:"cnt-usz"};function G7e(t){return`--${OKe[t]}`}class $7e{constructor(e,n){const r=fr(n.viewName);this.element=e.createElement("div"),this.element.classList.add(r()),n.viewProps.bindClassModifiers(this.element)}}function e_(t){return xK(t)}function Af(t){if($G(t))return ls(t,e_)}function rh(t,e){if(!t)return;const n=[],r=bK(t,e);r&&n.push(r);const i=_K(t);return i&&n.push(i),new Rg(n)}function W7e(t){if(t==="inline"||t==="popup")return t}function r1(t,e){t.write(e)}const Ak=fr("ckb");class LKe{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(Ak()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(Ak("l")),this.element.appendChild(r);const i=e.createElement("input");i.classList.add(Ak("i")),i.type="checkbox",r.appendChild(i),this.inputElement=i,n.viewProps.bindDisabled(this.inputElement);const o=e.createElement("div");o.classList.add(Ak("w")),r.appendChild(o);const u=GI(e,"check");o.appendChild(u),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}update_(){this.inputElement.checked=this.value.rawValue}onValueChange_(){this.update_()}}class NKe{constructor(e,n){this.onInputChange_=this.onInputChange_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new LKe(e,{value:this.value,viewProps:this.viewProps}),this.view.inputElement.addEventListener("change",this.onInputChange_)}onInputChange_(e){const n=e.currentTarget;this.value.rawValue=n.checked}}function FKe(t){const e=[],n=RK(t.options);return n&&e.push(n),new Rg(e)}Es({id:"input-bool",type:"input",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ls(e,r=>({options:r.optional.custom(XI),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>OK,constraint:t=>FKe(t.params),writer:t=>r1},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Jb(r,KI);return i?new hg(e,{props:new dr({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new NKe(e,{value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="boolean"?null:t.controller.valueController instanceof hg?new IK(t.controller):null}});const n2=fr("col");class BKe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(n2()),n.foldable.bindExpandedClass(this.element,n2(void 0,"expanded")),Sl(n.foldable,"completed",n1(this.element,n2(void 0,"cpl")));const r=e.createElement("div");r.classList.add(n2("h")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(n2("s")),r.appendChild(i),this.swatchElement=i;const o=e.createElement("div");if(o.classList.add(n2("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const u=e.createElement("div");u.classList.add(n2("p")),this.element.appendChild(u),this.pickerElement=u}else this.pickerElement=null}}function UKe(t,e,n){const r=Zi(t/255,0,1),i=Zi(e/255,0,1),o=Zi(n/255,0,1),u=Math.max(r,i,o),d=Math.min(r,i,o),m=u-d;let v=0,x=0;const S=(d+u)/2;return m!==0&&(x=m/(1-Math.abs(u+d-1)),r===u?v=(i-o)/m:i===u?v=2+(o-r)/m:v=4+(r-i)/m,v=v/6+(v<0?1:0)),[v*360,x*100,S*100]}function zKe(t,e,n){const r=(t%360+360)%360,i=Zi(e/100,0,1),o=Zi(n/100,0,1),u=(1-Math.abs(2*o-1))*i,d=u*(1-Math.abs(r/60%2-1)),m=o-u/2;let v,x,S;return r>=0&&r<60?[v,x,S]=[u,d,0]:r>=60&&r<120?[v,x,S]=[d,u,0]:r>=120&&r<180?[v,x,S]=[0,u,d]:r>=180&&r<240?[v,x,S]=[0,d,u]:r>=240&&r<300?[v,x,S]=[d,0,u]:[v,x,S]=[u,0,d],[(v+m)*255,(x+m)*255,(S+m)*255]}function VKe(t,e,n){const r=Zi(t/255,0,1),i=Zi(e/255,0,1),o=Zi(n/255,0,1),u=Math.max(r,i,o),d=Math.min(r,i,o),m=u-d;let v;m===0?v=0:u===r?v=60*(((i-o)/m%6+6)%6):u===i?v=60*((o-r)/m+2):v=60*((r-i)/m+4);const x=u===0?0:m/u,S=u;return[v,x*100,S*100]}function K7e(t,e,n){const r=O7e(t,360),i=Zi(e/100,0,1),o=Zi(n/100,0,1),u=o*i,d=u*(1-Math.abs(r/60%2-1)),m=o-u;let v,x,S;return r>=0&&r<60?[v,x,S]=[u,d,0]:r>=60&&r<120?[v,x,S]=[d,u,0]:r>=120&&r<180?[v,x,S]=[0,u,d]:r>=180&&r<240?[v,x,S]=[0,d,u]:r>=240&&r<300?[v,x,S]=[d,0,u]:[v,x,S]=[u,0,d],[(v+m)*255,(x+m)*255,(S+m)*255]}function jKe(t,e,n){const r=n+e*(100-Math.abs(2*n-100))/200;return[t,r!==0?e*(100-Math.abs(2*n-100))/r:0,n+e*(100-Math.abs(2*n-100))/(2*100)]}function HKe(t,e,n){const r=100-Math.abs(n*(200-e)/100-100);return[t,r!==0?e*n/r:0,n*(200-e)/(2*100)]}function Lc(t){return[t[0],t[1],t[2]]}function YI(t,e){return[t[0],t[1],t[2],e]}const GKe={hsl:{hsl:(t,e,n)=>[t,e,n],hsv:jKe,rgb:zKe},hsv:{hsl:HKe,hsv:(t,e,n)=>[t,e,n],rgb:K7e},rgb:{hsl:UKe,hsv:VKe,rgb:(t,e,n)=>[t,e,n]}};function pg(t,e){return[e==="float"?1:t==="rgb"?255:360,e==="float"?1:t==="rgb"?255:100,e==="float"?1:t==="rgb"?255:100]}function $Ke(t,e){return t===e?e:O7e(t,e)}function X7e(t,e,n){var r;const i=pg(e,n);return[e==="rgb"?Zi(t[0],0,i[0]):$Ke(t[0],i[0]),Zi(t[1],0,i[1]),Zi(t[2],0,i[2]),Zi((r=t[3])!==null&&r!==void 0?r:1,0,1)]}function N5e(t,e,n,r){const i=pg(e,n),o=pg(e,r);return t.map((u,d)=>u/i[d]*o[d])}function q7e(t,e,n){const r=N5e(t,e.mode,e.type,"int"),i=GKe[e.mode][n.mode](...r);return N5e(i,n.mode,"int",n.type)}class $r{static black(){return new $r([0,0,0],"rgb")}constructor(e,n){this.type="int",this.mode=n,this.comps_=X7e(e,n,this.type)}getComponents(e){return YI(q7e(Lc(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const uf=fr("colp");class WKe{constructor(e,n){this.alphaViews_=null,this.element=e.createElement("div"),this.element.classList.add(uf()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(uf("hsv"));const i=e.createElement("div");i.classList.add(uf("sv")),this.svPaletteView_=n.svPaletteView,i.appendChild(this.svPaletteView_.element),r.appendChild(i);const o=e.createElement("div");o.classList.add(uf("h")),this.hPaletteView_=n.hPaletteView,o.appendChild(this.hPaletteView_.element),r.appendChild(o),this.element.appendChild(r);const u=e.createElement("div");if(u.classList.add(uf("rgb")),this.textsView_=n.textsView,u.appendChild(this.textsView_.element),this.element.appendChild(u),n.alphaViews){this.alphaViews_={palette:n.alphaViews.palette,text:n.alphaViews.text};const d=e.createElement("div");d.classList.add(uf("a"));const m=e.createElement("div");m.classList.add(uf("ap")),m.appendChild(this.alphaViews_.palette.element),d.appendChild(m);const v=e.createElement("div");v.classList.add(uf("at")),v.appendChild(this.alphaViews_.text.element),d.appendChild(v),this.element.appendChild(d)}}get allFocusableElements(){const e=[this.svPaletteView_.element,this.hPaletteView_.element,this.textsView_.modeSelectElement,...this.textsView_.inputViews.map(n=>n.inputElement)];return this.alphaViews_&&e.push(this.alphaViews_.palette.element,this.alphaViews_.text.inputElement),e}}function KKe(t){return t==="int"?"int":t==="float"?"float":void 0}function NK(t){return ls(t,e=>({color:e.optional.object({alpha:e.optional.boolean,type:e.optional.custom(KKe)}),expanded:e.optional.boolean,picker:e.optional.custom(W7e),readonly:e.optional.constant(!1)}))}function V2(t){return t?.1:1}function Y7e(t){var e;return(e=t.color)===null||e===void 0?void 0:e.type}class FK{constructor(e,n){this.type="float",this.mode=n,this.comps_=X7e(e,n,this.type)}getComponents(e){return YI(q7e(Lc(this.comps_),{mode:this.mode,type:this.type},{mode:e??this.mode,type:this.type}),this.comps_[3])}toRgbaObject(){const e=this.getComponents("rgb");return{r:e[0],g:e[1],b:e[2],a:e[3]}}}const XKe={int:(t,e)=>new $r(t,e),float:(t,e)=>new FK(t,e)};function BK(t,e,n){return XKe[n](t,e)}function qKe(t){return t.type==="float"}function YKe(t){return t.type==="int"}function ZKe(t){const e=t.getComponents(),n=pg(t.mode,"int");return new $r([Math.round(or(e[0],0,1,0,n[0])),Math.round(or(e[1],0,1,0,n[1])),Math.round(or(e[2],0,1,0,n[2])),e[3]],t.mode)}function QKe(t){const e=t.getComponents(),n=pg(t.mode,"int");return new FK([or(e[0],0,n[0],0,1),or(e[1],0,n[1],0,1),or(e[2],0,n[2],0,1),e[3]],t.mode)}function ka(t,e){if(t.type===e)return t;if(YKe(t)&&e==="float")return QKe(t);if(qKe(t)&&e==="int")return ZKe(t);throw Ea.shouldNeverHappen()}function JKe(t,e){return t.alpha===e.alpha&&t.mode===e.mode&&t.notation===e.notation&&t.type===e.type}function vl(t,e){const n=t.match(/^(.+)%$/);return Math.min(n?parseFloat(n[1])*.01*e:parseFloat(t),e)}const eXe={deg:t=>t,grad:t=>t*360/400,rad:t=>t*360/(2*Math.PI),turn:t=>t*360};function Z7e(t){const e=t.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);if(!e)return parseFloat(t);const n=parseFloat(e[1]),r=e[2];return eXe[r](n)}function Q7e(t){const e=t.match(/^rgb\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[vl(e[1],255),vl(e[2],255),vl(e[3],255)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function tXe(t){const e=Q7e(t);return e?new $r(e,"rgb"):null}function J7e(t){const e=t.match(/^rgba\(\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[vl(e[1],255),vl(e[2],255),vl(e[3],255),vl(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function nXe(t){const e=J7e(t);return e?new $r(e,"rgb"):null}function eye(t){const e=t.match(/^hsl\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Z7e(e[1]),vl(e[2],100),vl(e[3],100)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function rXe(t){const e=eye(t);return e?new $r(e,"hsl"):null}function tye(t){const e=t.match(/^hsla\(\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*,\s*([0-9A-Fa-f.]+%?)\s*\)$/);if(!e)return null;const n=[Z7e(e[1]),vl(e[2],100),vl(e[3],100),vl(e[4],1)];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function iXe(t){const e=tye(t);return e?new $r(e,"hsl"):null}function nye(t){const e=t.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)];const n=t.match(/^(?:#|0x)([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null}function sXe(t){const e=nye(t);return e?new $r(e,"rgb"):null}function rye(t){const e=t.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);if(e)return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),or(parseInt(e[4]+e[4],16),0,255,0,1)];const n=t.match(/^(?:#|0x)?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),or(parseInt(n[4],16),0,255,0,1)]:null}function oXe(t){const e=rye(t);return e?new $r(e,"rgb"):null}function iye(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])?null:n}function F5e(t){return e=>{const n=iye(e);return n?BK(n,"rgb",t):null}}function sye(t){const e=t.match(/^\{\s*r\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*g\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*b\s*:\s*([0-9A-Fa-f.]+%?)\s*,\s*a\s*:\s*([0-9A-Fa-f.]+%?)\s*\}$/);if(!e)return null;const n=[parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3]),parseFloat(e[4])];return isNaN(n[0])||isNaN(n[1])||isNaN(n[2])||isNaN(n[3])?null:n}function B5e(t){return e=>{const n=sye(e);return n?BK(n,"rgb",t):null}}const aXe=[{parser:nye,result:{alpha:!1,mode:"rgb",notation:"hex"}},{parser:rye,result:{alpha:!0,mode:"rgb",notation:"hex"}},{parser:Q7e,result:{alpha:!1,mode:"rgb",notation:"func"}},{parser:J7e,result:{alpha:!0,mode:"rgb",notation:"func"}},{parser:eye,result:{alpha:!1,mode:"hsl",notation:"func"}},{parser:tye,result:{alpha:!0,mode:"hsl",notation:"func"}},{parser:iye,result:{alpha:!1,mode:"rgb",notation:"object"}},{parser:sye,result:{alpha:!0,mode:"rgb",notation:"object"}}];function lXe(t){return aXe.reduce((e,{parser:n,result:r})=>e||(n(t)?r:null),null)}function uXe(t,e="int"){const n=lXe(t);return n?n.notation==="hex"&&e!=="float"?Object.assign(Object.assign({},n),{type:"int"}):n.notation==="func"?Object.assign(Object.assign({},n),{type:e}):null:null}function P_(t){const e=[sXe,oXe,tXe,nXe,rXe,iXe];t==="int"&&e.push(F5e("int"),B5e("int")),t==="float"&&e.push(F5e("float"),B5e("float"));const n=PKe(e);return r=>{const i=n(r);return i?ka(i,t):null}}function cXe(t){const e=P_("int");if(typeof t!="string")return $r.black();const n=e(t);return n??$r.black()}function oye(t){const e=Zi(Math.floor(t),0,255).toString(16);return e.length===1?`0${e}`:e}function UK(t,e="#"){const n=Lc(t.getComponents("rgb")).map(oye).join("");return`${e}${n}`}function zK(t,e="#"){const n=t.getComponents("rgb"),r=[n[0],n[1],n[2],n[3]*255].map(oye).join("");return`${e}${r}`}function aye(t){const e=Ro(0),n=ka(t,"int");return`rgb(${Lc(n.getComponents("rgb")).map(i=>e(i)).join(", ")})`}function tA(t){const e=Ro(2),n=Ro(0);return`rgba(${ka(t,"int").getComponents("rgb").map((o,u)=>(u===3?e:n)(o)).join(", ")})`}function dXe(t){const e=[Ro(0),YA,YA],n=ka(t,"int");return`hsl(${Lc(n.getComponents("hsl")).map((i,o)=>e[o](i)).join(", ")})`}function hXe(t){const e=[Ro(0),YA,YA,Ro(2)];return`hsla(${ka(t,"int").getComponents("hsl").map((i,o)=>e[o](i)).join(", ")})`}function lye(t,e){const n=Ro(e==="float"?2:0),r=["r","g","b"],i=ka(t,e);return`{${Lc(i.getComponents("rgb")).map((u,d)=>`${r[d]}: ${n(u)}`).join(", ")}}`}function pXe(t){return e=>lye(e,t)}function uye(t,e){const n=Ro(2),r=Ro(e==="float"?2:0),i=["r","g","b","a"];return`{${ka(t,e).getComponents("rgb").map((d,m)=>{const v=m===3?n:r;return`${i[m]}: ${v(d)}`}).join(", ")}}`}function fXe(t){return e=>uye(e,t)}const mXe=[{format:{alpha:!1,mode:"rgb",notation:"hex",type:"int"},stringifier:UK},{format:{alpha:!0,mode:"rgb",notation:"hex",type:"int"},stringifier:zK},{format:{alpha:!1,mode:"rgb",notation:"func",type:"int"},stringifier:aye},{format:{alpha:!0,mode:"rgb",notation:"func",type:"int"},stringifier:tA},{format:{alpha:!1,mode:"hsl",notation:"func",type:"int"},stringifier:dXe},{format:{alpha:!0,mode:"hsl",notation:"func",type:"int"},stringifier:hXe},...["int","float"].reduce((t,e)=>[...t,{format:{alpha:!1,mode:"rgb",notation:"object",type:e},stringifier:pXe(e)},{format:{alpha:!0,mode:"rgb",notation:"object",type:e},stringifier:fXe(e)}],[])];function cye(t){return mXe.reduce((e,n)=>e||(JKe(n.format,t)?n.stringifier:null),null)}const Fy=fr("apl");class gXe{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(Fy()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(Fy("b")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(Fy("c")),r.appendChild(i),this.colorElem_=i;const o=e.createElement("div");o.classList.add(Fy("m")),this.element.appendChild(o),this.markerElem_=o;const u=e.createElement("div");u.classList.add(Fy("p")),this.markerElem_.appendChild(u),this.previewElem_=u,this.update_()}update_(){const e=this.value.rawValue,n=e.getComponents("rgb"),r=new $r([n[0],n[1],n[2],0],"rgb"),i=new $r([n[0],n[1],n[2],255],"rgb"),o=["to right",tA(r),tA(i)];this.colorElem_.style.background=`linear-gradient(${o.join(",")})`,this.previewElem_.style.backgroundColor=tA(e);const u=or(n[3],0,1,0,100);this.markerElem_.style.left=`${u}%`}onValueChange_(){this.update_()}}class vXe{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new gXe(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _h(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=e.point.x/e.bounds.width,i=this.value.rawValue,[o,u,d]=i.getComponents("hsv");this.value.setRawValue(new $r([o,u,d,r],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=oo(V2(!0),Pu(e));if(n===0)return;const r=this.value.rawValue,[i,o,u,d]=r.getComponents("hsv");this.value.setRawValue(new $r([i,o,u,d+n],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){oo(V2(!0),Pu(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const o4=fr("coltxt");function yXe(t){const e=t.createElement("select"),n=[{text:"RGB",value:"rgb"},{text:"HSL",value:"hsl"},{text:"HSV",value:"hsv"},{text:"HEX",value:"hex"}];return e.appendChild(n.reduce((r,i)=>{const o=t.createElement("option");return o.textContent=i.text,o.value=i.value,r.appendChild(o),r},t.createDocumentFragment())),e}class bXe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(o4()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(o4("m")),this.modeElem_=yXe(e),this.modeElem_.classList.add(o4("ms")),r.appendChild(this.modeSelectElement),n.viewProps.bindDisabled(this.modeElem_);const i=e.createElement("div");i.classList.add(o4("mm")),i.appendChild(GI(e,"dropdown")),r.appendChild(i),this.element.appendChild(r);const o=e.createElement("div");o.classList.add(o4("w")),this.element.appendChild(o),this.inputsElem_=o,this.inputViews_=n.inputViews,this.applyInputViews_(),_l(n.mode,u=>{this.modeElem_.value=u})}get modeSelectElement(){return this.modeElem_}get inputViews(){return this.inputViews_}set inputViews(e){this.inputViews_=e,this.applyInputViews_()}applyInputViews_(){F7e(this.inputsElem_);const e=this.element.ownerDocument;this.inputViews_.forEach(n=>{const r=e.createElement("div");r.classList.add(o4("c")),r.appendChild(n.element),this.inputsElem_.appendChild(r)})}}function _Xe(t){return Ro(t==="float"?2:0)}function wXe(t,e,n){const r=pg(t,e)[n];return new S_({min:0,max:r})}function xXe(t,e,n){return new C_(t,{arrayPosition:n===0?"fst":n===3-1?"lst":"mid",parser:e.parser,props:dr.fromObject({formatter:_Xe(e.colorType),keyScale:V2(!1),pointerScale:e.colorType==="float"?.01:1}),value:as(0,{constraint:wXe(e.colorMode,e.colorType,n)}),viewProps:e.viewProps})}function SXe(t,e){const n={colorMode:e.colorMode,colorType:e.colorType,parser:Cu,viewProps:e.viewProps};return[0,1,2].map(r=>{const i=xXe(t,n,r);return Z2({primary:e.value,secondary:i.value,forward(o){return ka(o,e.colorType).getComponents(e.colorMode)[r]},backward(o,u){const d=e.colorMode,v=ka(o,e.colorType).getComponents(d);v[r]=u;const x=BK(YI(Lc(v),v[3]),d,e.colorType);return ka(x,"int")}}),i})}function EXe(t,e){const n=new qI(t,{parser:P_("int"),props:dr.fromObject({formatter:UK}),value:as($r.black()),viewProps:e.viewProps});return Z2({primary:e.value,secondary:n.value,forward:r=>new $r(Lc(r.getComponents()),r.mode),backward:(r,i)=>new $r(YI(Lc(i.getComponents(r.mode)),r.getComponents()[3]),r.mode)}),[n]}function CXe(t){return t!=="hex"}class PXe{constructor(e,n){this.onModeSelectChange_=this.onModeSelectChange_.bind(this),this.colorType_=n.colorType,this.value=n.value,this.viewProps=n.viewProps,this.colorMode=as(this.value.rawValue.mode),this.ccs_=this.createComponentControllers_(e),this.view=new bXe(e,{mode:this.colorMode,inputViews:[this.ccs_[0].view,this.ccs_[1].view,this.ccs_[2].view],viewProps:this.viewProps}),this.view.modeSelectElement.addEventListener("change",this.onModeSelectChange_)}createComponentControllers_(e){const n=this.colorMode.rawValue;return CXe(n)?SXe(e,{colorMode:n,colorType:this.colorType_,value:this.value,viewProps:this.viewProps}):EXe(e,{value:this.value,viewProps:this.viewProps})}onModeSelectChange_(e){const n=e.currentTarget;this.colorMode.rawValue=n.value,this.ccs_=this.createComponentControllers_(this.view.element.ownerDocument),this.view.inputViews=this.ccs_.map(r=>r.view)}}const nH=fr("hpl");class MXe{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(nH()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(nH("c")),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(nH("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=this.value.rawValue,[n]=e.getComponents("hsv");this.markerElem_.style.backgroundColor=aye(new $r([n,100,100],"hsv"));const r=or(n,0,360,0,100);this.markerElem_.style.left=`${r}%`}onValueChange_(){this.update_()}}class TXe{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new MXe(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _h(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=or(Zi(e.point.x,0,e.bounds.width),0,e.bounds.width,0,360),i=this.value.rawValue,[,o,u,d]=i.getComponents("hsv");this.value.setRawValue(new $r([r,o,u,d],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){const n=oo(V2(!1),Pu(e));if(n===0)return;const r=this.value.rawValue,[i,o,u,d]=r.getComponents("hsv");this.value.setRawValue(new $r([i+n,o,u,d],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){oo(V2(!1),Pu(e))!==0&&this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}const rH=fr("svp"),U5e=64;class kXe{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),this.value=n.value,this.value.emitter.on("change",this.onValueChange_),this.element=e.createElement("div"),this.element.classList.add(rH()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("canvas");r.height=U5e,r.width=U5e,r.classList.add(rH("c")),this.element.appendChild(r),this.canvasElement=r;const i=e.createElement("div");i.classList.add(rH("m")),this.element.appendChild(i),this.markerElem_=i,this.update_()}update_(){const e=UWe(this.canvasElement);if(!e)return;const r=this.value.rawValue.getComponents("hsv"),i=this.canvasElement.width,o=this.canvasElement.height,u=e.getImageData(0,0,i,o),d=u.data;for(let x=0;x<o;x++)for(let S=0;S<i;S++){const T=or(S,0,i,0,100),R=or(x,0,o,100,0),G=K7e(r[0],T,R),L=(x*i+S)*4;d[L]=G[0],d[L+1]=G[1],d[L+2]=G[2],d[L+3]=255}e.putImageData(u,0,0);const m=or(r[1],0,100,0,100);this.markerElem_.style.left=`${m}%`;const v=or(r[2],0,100,100,0);this.markerElem_.style.top=`${v}%`}onValueChange_(){this.update_()}}class AXe{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.view=new kXe(e,{value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _h(this.view.element),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=or(e.point.x,0,e.bounds.width,0,100),i=or(e.point.y,0,e.bounds.height,100,0),[o,,,u]=this.value.rawValue.getComponents("hsv");this.value.setRawValue(new $r([o,r,i,u],"hsv"),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onKeyDown_(e){ZA(e.key)&&e.preventDefault();const[n,r,i,o]=this.value.rawValue.getComponents("hsv"),u=V2(!1),d=oo(u,Pu(e)),m=oo(u,z2(e));d===0&&m===0||this.value.setRawValue(new $r([n,r+d,i+m,o],"hsv"),{forceEmit:!1,last:!1})}onKeyUp_(e){const n=V2(!1),r=oo(n,Pu(e)),i=oo(n,z2(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class IXe{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.hPaletteC_=new TXe(e,{value:this.value,viewProps:this.viewProps}),this.svPaletteC_=new AXe(e,{value:this.value,viewProps:this.viewProps}),this.alphaIcs_=n.supportsAlpha?{palette:new vXe(e,{value:this.value,viewProps:this.viewProps}),text:new C_(e,{parser:Cu,props:dr.fromObject({pointerScale:.01,keyScale:.1,formatter:Ro(2)}),value:as(0,{constraint:new S_({min:0,max:1})}),viewProps:this.viewProps})}:null,this.alphaIcs_&&Z2({primary:this.value,secondary:this.alphaIcs_.text.value,forward:r=>r.getComponents()[3],backward:(r,i)=>{const o=r.getComponents();return o[3]=i,new $r(o,r.mode)}}),this.textsC_=new PXe(e,{colorType:n.colorType,value:this.value,viewProps:this.viewProps}),this.view=new WKe(e,{alphaViews:this.alphaIcs_?{palette:this.alphaIcs_.palette.view,text:this.alphaIcs_.text.view}:null,hPaletteView:this.hPaletteC_.view,supportsAlpha:n.supportsAlpha,svPaletteView:this.svPaletteC_.view,textsView:this.textsC_.view,viewProps:this.viewProps})}get textsController(){return this.textsC_}}const iH=fr("colsw");class RXe{constructor(e,n){this.onValueChange_=this.onValueChange_.bind(this),n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.element=e.createElement("div"),this.element.classList.add(iH()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(iH("sw")),this.element.appendChild(r),this.swatchElem_=r;const i=e.createElement("button");i.classList.add(iH("b")),n.viewProps.bindDisabled(i),this.element.appendChild(i),this.buttonElement=i,this.update_()}update_(){const e=this.value.rawValue;this.swatchElem_.style.backgroundColor=zK(e)}onValueChange_(){this.update_()}}class DXe{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new RXe(e,{value:this.value,viewProps:this.viewProps})}}class VK{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=Ig.create(n.expanded),this.swatchC_=new DXe(e,{value:this.value,viewProps:this.viewProps});const r=this.swatchC_.view.buttonElement;r.addEventListener("blur",this.onButtonBlur_),r.addEventListener("click",this.onButtonClick_),this.textC_=new qI(e,{parser:n.parser,props:dr.fromObject({formatter:n.formatter}),value:this.value,viewProps:this.viewProps}),this.view=new BKe(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout}),this.view.swatchElement.appendChild(this.swatchC_.view.element),this.view.textElement.appendChild(this.textC_.view.element),this.popC_=n.pickerLayout==="popup"?new DK(e,{viewProps:this.viewProps}):null;const i=new IXe(e,{colorType:n.colorType,supportsAlpha:n.supportsAlpha,value:this.value,viewProps:this.viewProps});i.view.allFocusableElements.forEach(o=>{o.addEventListener("blur",this.onPopupChildBlur_),o.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=i,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(i.view.element),Z2({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:o=>o,backward:(o,u)=>u})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),WI(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=PK(e);r&&n.contains(r)||r&&r===this.swatchC_.view.buttonElement&&!HI(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.swatchC_.view.buttonElement.focus()}}function OXe(t){return Lc(t.getComponents("rgb")).reduce((e,n)=>e<<8|Math.floor(n)&255,0)}function LXe(t){return t.getComponents("rgb").reduce((e,n,r)=>{const i=Math.floor(r===3?n*255:n)&255;return e<<8|i},0)>>>0}function NXe(t){return new $r([t>>16&255,t>>8&255,t&255],"rgb")}function FXe(t){return new $r([t>>24&255,t>>16&255,t>>8&255,or(t&255,0,255,0,1)],"rgb")}function BXe(t){return typeof t!="number"?$r.black():NXe(t)}function UXe(t){return typeof t!="number"?$r.black():FXe(t)}function nA(t,e){return typeof t!="object"||Bi(t)?!1:e in t&&typeof t[e]=="number"}function dye(t){return nA(t,"r")&&nA(t,"g")&&nA(t,"b")}function hye(t){return dye(t)&&nA(t,"a")}function pye(t){return dye(t)}function jK(t,e){if(t.mode!==e.mode||t.type!==e.type)return!1;const n=t.getComponents(),r=e.getComponents();for(let i=0;i<n.length;i++)if(n[i]!==r[i])return!1;return!0}function z5e(t){return"a"in t?[t.r,t.g,t.b,t.a]:[t.r,t.g,t.b]}function zXe(t){const e=cye(t);return e?(n,r)=>{r1(n,e(r))}:null}function VXe(t){const e=t?LXe:OXe;return(n,r)=>{r1(n,e(r))}}function jXe(t,e,n){const i=ka(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b),t.writeProperty("a",i.a)}function HXe(t,e,n){const i=ka(e,n).toRgbaObject();t.writeProperty("r",i.r),t.writeProperty("g",i.g),t.writeProperty("b",i.b)}function GXe(t,e){return(n,r)=>{t?jXe(n,r,e):HXe(n,r,e)}}function $Xe(t){var e;return!!(!((e=t==null?void 0:t.color)===null||e===void 0)&&e.alpha)}function WXe(t){return t?e=>zK(e,"0x"):e=>UK(e,"0x")}function KXe(t){return"color"in t||t.view==="color"}Es({id:"input-color-number",type:"input",accept:(t,e)=>{if(typeof t!="number"||!KXe(e))return null;const n=NK(e);return n?{initialValue:t,params:Object.assign(Object.assign({},n),{supportsAlpha:$Xe(e)})}:null},binding:{reader:t=>t.params.supportsAlpha?UXe:BXe,equals:jK,writer:t=>VXe(t.params.supportsAlpha)},controller:t=>{var e,n;return new VK(t.document,{colorType:"int",expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:WXe(t.params.supportsAlpha),parser:P_("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.supportsAlpha,value:t.value,viewProps:t.viewProps})}});function XXe(t,e){if(!pye(t))return ka($r.black(),e);if(e==="int"){const n=z5e(t);return new $r(n,"rgb")}if(e==="float"){const n=z5e(t);return new FK(n,"rgb")}return ka($r.black(),"int")}function qXe(t){return hye(t)}function YXe(t){return e=>{const n=XXe(e,t);return ka(n,"int")}}function ZXe(t,e){return n=>t?uye(n,e):lye(n,e)}Es({id:"input-color-object",type:"input",accept:(t,e)=>{var n;if(!pye(t))return null;const r=NK(e);return r?{initialValue:t,params:Object.assign(Object.assign({},r),{colorType:(n=Y7e(e))!==null&&n!==void 0?n:"int"})}:null},binding:{reader:t=>YXe(t.params.colorType),equals:jK,writer:t=>GXe(qXe(t.initialValue),t.params.colorType)},controller:t=>{var e,n;const r=hye(t.initialValue);return new VK(t.document,{colorType:t.params.colorType,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:ZXe(r,t.params.colorType),parser:P_("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:r,value:t.value,viewProps:t.viewProps})}});Es({id:"input-color-string",type:"input",accept:(t,e)=>{if(typeof t!="string"||e.view==="text")return null;const n=uXe(t,Y7e(e));if(!n)return null;const r=cye(n);if(!r)return null;const i=NK(e);return i?{initialValue:t,params:Object.assign(Object.assign({},i),{format:n,stringifier:r})}:null},binding:{reader:()=>cXe,equals:jK,writer:t=>{const e=zXe(t.params.format);if(!e)throw Ea.notBindable();return e}},controller:t=>{var e,n;return new VK(t.document,{colorType:t.params.format.type,expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,formatter:t.params.stringifier,parser:P_("int"),pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",supportsAlpha:t.params.format.alpha,value:t.value,viewProps:t.viewProps})}});class ZI{constructor(e){this.components=e.components,this.asm_=e.assembly}constrain(e){const n=this.asm_.toComponents(e).map((r,i)=>{var o,u;return(u=(o=this.components[i])===null||o===void 0?void 0:o.constrain(r))!==null&&u!==void 0?u:r});return this.asm_.fromComponents(n)}}const V5e=fr("pndtxt");class QXe{constructor(e,n){this.textViews=n.textViews,this.element=e.createElement("div"),this.element.classList.add(V5e()),this.textViews.forEach(r=>{const i=e.createElement("div");i.classList.add(V5e("a")),i.appendChild(r.element),this.element.appendChild(i)})}}function JXe(t,e,n){return new C_(t,{arrayPosition:n===0?"fst":n===e.axes.length-1?"lst":"mid",parser:e.parser,props:e.axes[n].textProps,value:as(0,{constraint:e.axes[n].constraint}),viewProps:e.viewProps})}class Dg{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.acs_=n.axes.map((r,i)=>JXe(e,n,i)),this.acs_.forEach((r,i)=>{Z2({primary:this.value,secondary:r.value,forward:o=>n.assembly.toComponents(o)[i],backward:(o,u)=>{const d=n.assembly.toComponents(o);return d[i]=u,n.assembly.fromComponents(d)}})}),this.view=new QXe(e,{textViews:this.acs_.map(r=>r.view)})}get textControllers(){return this.acs_}}class eqe extends EK{get max(){return this.controller.valueController.sliderController.props.get("max")}set max(e){this.controller.valueController.sliderController.props.set("max",e)}get min(){return this.controller.valueController.sliderController.props.get("min")}set min(e){this.controller.valueController.sliderController.props.set("min",e)}}function tqe(t,e){const n=[],r=bK(t,e);r&&n.push(r);const i=_K(t);i&&n.push(i);const o=RK(t.options);return o&&n.push(o),new Rg(n)}Es({id:"input-number",type:"input",accept:(t,e)=>{if(typeof t!="number")return null;const n=ls(e,r=>Object.assign(Object.assign({},xK(r)),{options:r.optional.custom(XI),readonly:r.optional.constant(!1)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>yK,constraint:t=>tqe(t.params,t.initialValue),writer:t=>r1},controller:t=>{const e=t.value,n=t.constraint,r=n&&Jb(n,KI);if(r)return new hg(t.document,{props:new dr({options:r.values.value("options")}),value:e,viewProps:t.viewProps});const i=wK(t.params,e.rawValue),o=n&&Jb(n,S_);return o?new L5e(t.document,Object.assign(Object.assign({},DKe(Object.assign(Object.assign({},i),{keyScale:as(i.keyScale),max:o.values.value("max"),min:o.values.value("min")}))),{parser:Cu,value:e,viewProps:t.viewProps})):new C_(t.document,{parser:Cu,props:dr.fromObject(i),value:e,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="number"?null:t.controller.valueController instanceof L5e?new eqe(t.controller):t.controller.valueController instanceof hg?new IK(t.controller):null}});class Vf{constructor(e=0,n=0){this.x=e,this.y=n}getComponents(){return[this.x,this.y]}static isObject(e){if(Bi(e))return!1;const n=e.x,r=e.y;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y}toObject(){return{x:this.x,y:this.y}}}const fye={toComponents:t=>t.getComponents(),fromComponents:t=>new Vf(...t)},a4=fr("p2d");class nqe{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(a4()),n.viewProps.bindClassModifiers(this.element),_l(n.expanded,n1(this.element,a4(void 0,"expanded")));const r=e.createElement("div");r.classList.add(a4("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(a4("b")),i.appendChild(GI(e,"p2dpad")),n.viewProps.bindDisabled(i),r.appendChild(i),this.buttonElement=i;const o=e.createElement("div");if(o.classList.add(a4("t")),r.appendChild(o),this.textElement=o,n.pickerLayout==="inline"){const u=e.createElement("div");u.classList.add(a4("p")),this.element.appendChild(u),this.pickerElement=u}else this.pickerElement=null}}const cf=fr("p2dp");class rqe{constructor(e,n){this.onFoldableChange_=this.onFoldableChange_.bind(this),this.onPropsChange_=this.onPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.props_=n.props,this.props_.emitter.on("change",this.onPropsChange_),this.element=e.createElement("div"),this.element.classList.add(cf()),n.layout==="popup"&&this.element.classList.add(cf(void 0,"p")),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(cf("p")),n.viewProps.bindTabIndex(r),this.element.appendChild(r),this.padElement=r;const i=e.createElementNS(io,"svg");i.classList.add(cf("g")),this.padElement.appendChild(i),this.svgElem_=i;const o=e.createElementNS(io,"line");o.classList.add(cf("ax")),o.setAttributeNS(null,"x1","0"),o.setAttributeNS(null,"y1","50%"),o.setAttributeNS(null,"x2","100%"),o.setAttributeNS(null,"y2","50%"),this.svgElem_.appendChild(o);const u=e.createElementNS(io,"line");u.classList.add(cf("ax")),u.setAttributeNS(null,"x1","50%"),u.setAttributeNS(null,"y1","0"),u.setAttributeNS(null,"x2","50%"),u.setAttributeNS(null,"y2","100%"),this.svgElem_.appendChild(u);const d=e.createElementNS(io,"line");d.classList.add(cf("l")),d.setAttributeNS(null,"x1","50%"),d.setAttributeNS(null,"y1","50%"),this.svgElem_.appendChild(d),this.lineElem_=d;const m=e.createElement("div");m.classList.add(cf("m")),this.padElement.appendChild(m),this.markerElem_=m,n.value.emitter.on("change",this.onValueChange_),this.value=n.value,this.update_()}get allFocusableElements(){return[this.padElement]}update_(){const[e,n]=this.value.rawValue.getComponents(),r=this.props_.get("max"),i=or(e,-r,+r,0,100),o=or(n,-r,+r,0,100),u=this.props_.get("invertsY")?100-o:o;this.lineElem_.setAttributeNS(null,"x2",`${i}%`),this.lineElem_.setAttributeNS(null,"y2",`${u}%`),this.markerElem_.style.left=`${i}%`,this.markerElem_.style.top=`${u}%`}onValueChange_(){this.update_()}onPropsChange_(){this.update_()}onFoldableChange_(){this.update_()}}function j5e(t,e,n){return[oo(e[0],Pu(t)),oo(e[1],z2(t))*(n?1:-1)]}class iqe{constructor(e,n){this.onPadKeyDown_=this.onPadKeyDown_.bind(this),this.onPadKeyUp_=this.onPadKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.view=new rqe(e,{layout:n.layout,props:this.props,value:this.value,viewProps:this.viewProps}),this.ptHandler_=new _h(this.view.padElement),this.ptHandler_.emitter.on("down",this.onPointerDown_),this.ptHandler_.emitter.on("move",this.onPointerMove_),this.ptHandler_.emitter.on("up",this.onPointerUp_),this.view.padElement.addEventListener("keydown",this.onPadKeyDown_),this.view.padElement.addEventListener("keyup",this.onPadKeyUp_)}handlePointerEvent_(e,n){if(!e.point)return;const r=this.props.get("max"),i=or(e.point.x,0,e.bounds.width,-r,+r),o=or(this.props.get("invertsY")?e.bounds.height-e.point.y:e.point.y,0,e.bounds.height,-r,+r);this.value.setRawValue(new Vf(i,o),n)}onPointerDown_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerMove_(e){this.handlePointerEvent_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.handlePointerEvent_(e.data,{forceEmit:!0,last:!0})}onPadKeyDown_(e){ZA(e.key)&&e.preventDefault();const[n,r]=j5e(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(new Vf(this.value.rawValue.x+n,this.value.rawValue.y+r),{forceEmit:!1,last:!1})}onPadKeyUp_(e){const[n,r]=j5e(e,[this.props.get("xKeyScale"),this.props.get("yKeyScale")],this.props.get("invertsY"));n===0&&r===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class sqe{constructor(e,n){var r,i;this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.onPadButtonBlur_=this.onPadButtonBlur_.bind(this),this.onPadButtonClick_=this.onPadButtonClick_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=Ig.create(n.expanded),this.popC_=n.pickerLayout==="popup"?new DK(e,{viewProps:this.viewProps}):null;const o=new iqe(e,{layout:n.pickerLayout,props:new dr({invertsY:as(n.invertsY),max:as(n.max),xKeyScale:n.axes[0].textProps.value("keyScale"),yKeyScale:n.axes[1].textProps.value("keyScale")}),value:this.value,viewProps:this.viewProps});o.view.allFocusableElements.forEach(u=>{u.addEventListener("blur",this.onPopupChildBlur_),u.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=o,this.textC_=new Dg(e,{assembly:fye,axes:n.axes,parser:n.parser,value:this.value,viewProps:this.viewProps}),this.view=new nqe(e,{expanded:this.foldable_.value("expanded"),pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.textElement.appendChild(this.textC_.view.element),(r=this.view.buttonElement)===null||r===void 0||r.addEventListener("blur",this.onPadButtonBlur_),(i=this.view.buttonElement)===null||i===void 0||i.addEventListener("click",this.onPadButtonClick_),this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),Z2({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:u=>u,backward:(u,d)=>d})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),WI(this.foldable_,this.view.pickerElement))}get textController(){return this.textC_}onPadButtonBlur_(e){if(!this.popC_)return;const n=this.view.element,r=e.relatedTarget;(!r||!n.contains(r))&&(this.popC_.shows.rawValue=!1)}onPadButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.view.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=PK(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!HI(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_?e.key==="Escape"&&(this.popC_.shows.rawValue=!1):this.view.pickerElement&&e.key==="Escape"&&this.view.buttonElement.focus()}}function oqe(t){return Vf.isObject(t)?new Vf(t.x,t.y):new Vf}function aqe(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y)}function lqe(t,e){return new ZI({assembly:fye,components:[rh(Object.assign(Object.assign({},t),t.x),e.x),rh(Object.assign(Object.assign({},t),t.y),e.y)]})}function H5e(t,e){var n,r;if(!Bi(t.min)||!Bi(t.max))return Math.max(Math.abs((n=t.min)!==null&&n!==void 0?n:0),Math.abs((r=t.max)!==null&&r!==void 0?r:0));const i=L7e(t);return Math.max(Math.abs(i)*10,Math.abs(e)*10)}function uqe(t,e){var n,r;const i=H5e(U2(t,(n=t.x)!==null&&n!==void 0?n:{}),e.x),o=H5e(U2(t,(r=t.y)!==null&&r!==void 0?r:{}),e.y);return Math.max(i,o)}function cqe(t){if(!("y"in t))return!1;const e=t.y;return e&&"inverted"in e?!!e.inverted:!1}Es({id:"input-point2d",type:"input",accept:(t,e)=>{if(!Vf.isObject(t))return null;const n=ls(e,r=>Object.assign(Object.assign({},e_(r)),{expanded:r.optional.boolean,picker:r.optional.custom(W7e),readonly:r.optional.constant(!1),x:r.optional.custom(Af),y:r.optional.object(Object.assign(Object.assign({},e_(r)),{inverted:r.optional.boolean}))}));return n?{initialValue:t,params:n}:null},binding:{reader:()=>oqe,constraint:t=>lqe(t.params,t.initialValue),equals:Vf.equals,writer:()=>aqe},controller:t=>{var e,n;const r=t.document,i=t.value,o=t.constraint,u=[t.params.x,t.params.y];return new sqe(r,{axes:i.rawValue.getComponents().map((d,m)=>{var v;return SK({constraint:o.components[m],initialValue:d,params:U2(t.params,(v=u[m])!==null&&v!==void 0?v:{})})}),expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,invertsY:cqe(t.params),max:uqe(t.params,i.rawValue),parser:Cu,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps})}});class K4{constructor(e=0,n=0,r=0){this.x=e,this.y=n,this.z=r}getComponents(){return[this.x,this.y,this.z]}static isObject(e){if(Bi(e))return!1;const n=e.x,r=e.y,i=e.z;return!(typeof n!="number"||typeof r!="number"||typeof i!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z}toObject(){return{x:this.x,y:this.y,z:this.z}}}const mye={toComponents:t=>t.getComponents(),fromComponents:t=>new K4(...t)};function dqe(t){return K4.isObject(t)?new K4(t.x,t.y,t.z):new K4}function hqe(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z)}function pqe(t,e){return new ZI({assembly:mye,components:[rh(Object.assign(Object.assign({},t),t.x),e.x),rh(Object.assign(Object.assign({},t),t.y),e.y),rh(Object.assign(Object.assign({},t),t.z),e.z)]})}Es({id:"input-point3d",type:"input",accept:(t,e)=>{if(!K4.isObject(t))return null;const n=ls(e,r=>Object.assign(Object.assign({},e_(r)),{readonly:r.optional.constant(!1),x:r.optional.custom(Af),y:r.optional.custom(Af),z:r.optional.custom(Af)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>dqe,constraint:t=>pqe(t.params,t.initialValue),equals:K4.equals,writer:t=>hqe},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z];return new Dg(t.document,{assembly:mye,axes:e.rawValue.getComponents().map((i,o)=>{var u;return SK({constraint:n.components[o],initialValue:i,params:U2(t.params,(u=r[o])!==null&&u!==void 0?u:{})})}),parser:Cu,value:e,viewProps:t.viewProps})}});class X4{constructor(e=0,n=0,r=0,i=0){this.x=e,this.y=n,this.z=r,this.w=i}getComponents(){return[this.x,this.y,this.z,this.w]}static isObject(e){if(Bi(e))return!1;const n=e.x,r=e.y,i=e.z,o=e.w;return!(typeof n!="number"||typeof r!="number"||typeof i!="number"||typeof o!="number")}static equals(e,n){return e.x===n.x&&e.y===n.y&&e.z===n.z&&e.w===n.w}toObject(){return{x:this.x,y:this.y,z:this.z,w:this.w}}}const gye={toComponents:t=>t.getComponents(),fromComponents:t=>new X4(...t)};function fqe(t){return X4.isObject(t)?new X4(t.x,t.y,t.z,t.w):new X4}function mqe(t,e){t.writeProperty("x",e.x),t.writeProperty("y",e.y),t.writeProperty("z",e.z),t.writeProperty("w",e.w)}function gqe(t,e){return new ZI({assembly:gye,components:[rh(Object.assign(Object.assign({},t),t.x),e.x),rh(Object.assign(Object.assign({},t),t.y),e.y),rh(Object.assign(Object.assign({},t),t.z),e.z),rh(Object.assign(Object.assign({},t),t.w),e.w)]})}Es({id:"input-point4d",type:"input",accept:(t,e)=>{if(!X4.isObject(t))return null;const n=ls(e,r=>Object.assign(Object.assign({},e_(r)),{readonly:r.optional.constant(!1),w:r.optional.custom(Af),x:r.optional.custom(Af),y:r.optional.custom(Af),z:r.optional.custom(Af)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>fqe,constraint:t=>gqe(t.params,t.initialValue),equals:X4.equals,writer:t=>mqe},controller:t=>{const e=t.value,n=t.constraint,r=[t.params.x,t.params.y,t.params.z,t.params.w];return new Dg(t.document,{assembly:gye,axes:e.rawValue.getComponents().map((i,o)=>{var u;return SK({constraint:n.components[o],initialValue:i,params:U2(t.params,(u=r[o])!==null&&u!==void 0?u:{})})}),parser:Cu,value:e,viewProps:t.viewProps})}});function vqe(t){const e=[],n=RK(t.options);return n&&e.push(n),new Rg(e)}Es({id:"input-string",type:"input",accept:(t,e)=>{if(typeof t!="string")return null;const n=ls(e,r=>({readonly:r.optional.constant(!1),options:r.optional.custom(XI)}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>LK,constraint:t=>vqe(t.params),writer:t=>r1},controller:t=>{const e=t.document,n=t.value,r=t.constraint,i=r&&Jb(r,KI);return i?new hg(e,{props:new dr({options:i.values.value("options")}),value:n,viewProps:t.viewProps}):new qI(e,{parser:o=>o,props:dr.fromObject({formatter:qG}),value:n,viewProps:t.viewProps})},api(t){return typeof t.controller.value.rawValue!="string"?null:t.controller.valueController instanceof hg?new IK(t.controller):null}});const M_={monitor:{defaultInterval:200,defaultRows:3}},G5e=fr("mll");class yqe{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add(G5e()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("textarea");r.classList.add(G5e("i")),r.style.height=`calc(var(${G7e("containerUnitSize")}) * ${n.rows})`,r.readOnly=!0,n.viewProps.bindDisabled(r),this.element.appendChild(r),this.textareaElem_=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.textareaElem_,n=e.scrollTop===e.scrollHeight-e.clientHeight,r=[];this.value.rawValue.forEach(i=>{i!==void 0&&r.push(this.formatter_(i))}),e.textContent=r.join(`
`),n&&(e.scrollTop=e.scrollHeight)}onValueUpdate_(){this.update_()}}class HK{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new yqe(e,{formatter:n.formatter,rows:n.rows,value:this.value,viewProps:this.viewProps})}}const $5e=fr("sgl");class bqe{constructor(e,n){this.onValueUpdate_=this.onValueUpdate_.bind(this),this.formatter_=n.formatter,this.element=e.createElement("div"),this.element.classList.add($5e()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("input");r.classList.add($5e("i")),r.readOnly=!0,r.type="text",n.viewProps.bindDisabled(r),this.element.appendChild(r),this.inputElement=r,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}update_(){const e=this.value.rawValue,n=e[e.length-1];this.inputElement.value=n!==void 0?this.formatter_(n):""}onValueUpdate_(){this.update_()}}class GK{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new bqe(e,{formatter:n.formatter,value:this.value,viewProps:this.viewProps})}}Es({id:"monitor-bool",type:"monitor",accept:(t,e)=>{if(typeof t!="boolean")return null;const n=ls(e,r=>({readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>OK},controller:t=>{var e;return t.value.rawValue.length===1?new GK(t.document,{formatter:O5e,value:t.value,viewProps:t.viewProps}):new HK(t.document,{formatter:O5e,rows:(e=t.params.rows)!==null&&e!==void 0?e:M_.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}});class _qe extends EK{get max(){return this.controller.valueController.props.get("max")}set max(e){this.controller.valueController.props.set("max",e)}get min(){return this.controller.valueController.props.get("min")}set min(e){this.controller.valueController.props.set("min",e)}}const df=fr("grl");class wqe{constructor(e,n){this.onCursorChange_=this.onCursorChange_.bind(this),this.onValueUpdate_=this.onValueUpdate_.bind(this),this.element=e.createElement("div"),this.element.classList.add(df()),n.viewProps.bindClassModifiers(this.element),this.formatter_=n.formatter,this.props_=n.props,this.cursor_=n.cursor,this.cursor_.emitter.on("change",this.onCursorChange_);const r=e.createElementNS(io,"svg");r.classList.add(df("g")),r.style.height=`calc(var(${G7e("containerUnitSize")}) * ${n.rows})`,this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(io,"polyline");this.svgElem_.appendChild(i),this.lineElem_=i;const o=e.createElement("div");o.classList.add(df("t"),fr("tt")()),this.element.appendChild(o),this.tooltipElem_=o,n.value.emitter.on("change",this.onValueUpdate_),this.value=n.value,this.update_()}get graphElement(){return this.svgElem_}update_(){const e=this.svgElem_.getBoundingClientRect(),n=this.value.rawValue.length-1,r=this.props_.get("min"),i=this.props_.get("max"),o=[];this.value.rawValue.forEach((x,S)=>{if(x===void 0)return;const T=or(S,0,n,0,e.width),R=or(x,r,i,e.height,0);o.push([T,R].join(","))}),this.lineElem_.setAttributeNS(null,"points",o.join(" "));const u=this.tooltipElem_,d=this.value.rawValue[this.cursor_.rawValue];if(d===void 0){u.classList.remove(df("t","a"));return}const m=or(this.cursor_.rawValue,0,n,0,e.width),v=or(d,r,i,e.height,0);u.style.left=`${m}px`,u.style.top=`${v}px`,u.textContent=`${this.formatter_(d)}`,u.classList.contains(df("t","a"))||(u.classList.add(df("t","a"),df("t","in")),XA(u),u.classList.remove(df("t","in")))}onValueUpdate_(){this.update_()}onCursorChange_(){this.update_()}}class $K{constructor(e,n){if(this.onGraphMouseMove_=this.onGraphMouseMove_.bind(this),this.onGraphMouseLeave_=this.onGraphMouseLeave_.bind(this),this.onGraphPointerDown_=this.onGraphPointerDown_.bind(this),this.onGraphPointerMove_=this.onGraphPointerMove_.bind(this),this.onGraphPointerUp_=this.onGraphPointerUp_.bind(this),this.props=n.props,this.value=n.value,this.viewProps=n.viewProps,this.cursor_=as(-1),this.view=new wqe(e,{cursor:this.cursor_,formatter:n.formatter,rows:n.rows,props:this.props,value:this.value,viewProps:this.viewProps}),!HI(e))this.view.element.addEventListener("mousemove",this.onGraphMouseMove_),this.view.element.addEventListener("mouseleave",this.onGraphMouseLeave_);else{const r=new _h(this.view.element);r.emitter.on("down",this.onGraphPointerDown_),r.emitter.on("move",this.onGraphPointerMove_),r.emitter.on("up",this.onGraphPointerUp_)}}importProps(e){return Mu(e,null,n=>({max:n.required.number,min:n.required.number}),n=>(this.props.set("max",n.max),this.props.set("min",n.min),!0))}exportProps(){return Tu(null,{max:this.props.get("max"),min:this.props.get("min")})}onGraphMouseLeave_(){this.cursor_.rawValue=-1}onGraphMouseMove_(e){const n=this.view.element.getBoundingClientRect();this.cursor_.rawValue=Math.floor(or(e.offsetX,0,n.width,0,this.value.rawValue.length))}onGraphPointerDown_(e){this.onGraphPointerMove_(e)}onGraphPointerMove_(e){if(!e.data.point){this.cursor_.rawValue=-1;return}this.cursor_.rawValue=Math.floor(or(e.data.point.x,0,e.data.bounds.width,0,this.value.rawValue.length))}onGraphPointerUp_(){this.cursor_.rawValue=-1}}function YG(t){return Bi(t.format)?Ro(2):t.format}function xqe(t){var e;return t.value.rawValue.length===1?new GK(t.document,{formatter:YG(t.params),value:t.value,viewProps:t.viewProps}):new HK(t.document,{formatter:YG(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:M_.monitor.defaultRows,value:t.value,viewProps:t.viewProps})}function Sqe(t){var e,n,r;return new $K(t.document,{formatter:YG(t.params),rows:(e=t.params.rows)!==null&&e!==void 0?e:M_.monitor.defaultRows,props:dr.fromObject({max:(n=t.params.max)!==null&&n!==void 0?n:100,min:(r=t.params.min)!==null&&r!==void 0?r:0}),value:t.value,viewProps:t.viewProps})}function W5e(t){return t.view==="graph"}Es({id:"monitor-number",type:"monitor",accept:(t,e)=>{if(typeof t!="number")return null;const n=ls(e,r=>({format:r.optional.function,max:r.optional.number,min:r.optional.number,readonly:r.required.constant(!0),rows:r.optional.number,view:r.optional.string}));return n?{initialValue:t,params:n}:null},binding:{defaultBufferSize:t=>W5e(t)?64:1,reader:t=>yK},controller:t=>W5e(t.params)?Sqe(t):xqe(t),api:t=>t.controller.valueController instanceof $K?new _qe(t.controller):null});Es({id:"monitor-string",type:"monitor",accept:(t,e)=>{if(typeof t!="string")return null;const n=ls(e,r=>({multiline:r.optional.boolean,readonly:r.required.constant(!0),rows:r.optional.number}));return n?{initialValue:t,params:n}:null},binding:{reader:t=>LK},controller:t=>{var e;const n=t.value;return n.rawValue.length>1||t.params.multiline?new HK(t.document,{formatter:qG,rows:(e=t.params.rows)!==null&&e!==void 0?e:M_.monitor.defaultRows,value:n,viewProps:t.viewProps}):new GK(t.document,{formatter:qG,value:n,viewProps:t.viewProps})}});class vye{constructor(e){this.controller_=e}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get title(){var e;return(e=this.controller_.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.props.set("title",e)}on(e,n){const r=n.bind(this);return this.controller_.emitter.on(e,()=>{r(new Ag(this))}),this}}class Eqe extends Ag{constructor(e,n,r){super(e),this.cell=n,this.index=r}}class yye extends Y2{constructor(e){super(e),this.cellToApiMap_=new Map,this.emitter_=new Jo;const n=this.controller.valueController;n.cellControllers.forEach((r,i)=>{const o=new vye(r);this.cellToApiMap_.set(r,o),r.emitter.on("click",()=>{const u=i%n.size[0],d=Math.floor(i/n.size[0]);this.emitter_.emit("click",{event:new Eqe(this,o,[u,d])})})})}cell(e,n){const r=this.controller.valueController,i=r.cellControllers[n*r.size[0]+e];return this.cellToApiMap_.get(i)}on(e,n){const r=n.bind(this);return this.emitter_.on(e,i=>{r(i.event)}),this}}class bye{constructor(e,n){this.size=n.size;const[r,i]=this.size,o=[];for(let u=0;u<i;u++)for(let d=0;d<r;d++){const m=new z7e(e,{props:dr.fromObject(Object.assign({},n.cellConfig(d,u))),viewProps:yh.create()});o.push(m)}this.cellCs_=o,this.viewProps=yh.create(),this.viewProps.handleDispose(()=>{this.cellCs_.forEach(u=>{u.viewProps.set("disposed",!0)})}),this.view=new $7e(e,{viewProps:this.viewProps,viewName:"btngrid"}),this.view.element.style.gridTemplateColumns=`repeat(${r}, 1fr)`,this.cellCs_.forEach(u=>{this.view.element.appendChild(u.view.element)})}get cellControllers(){return this.cellCs_}}class K5e extends E_{constructor(e,n){const r=n.valueController,i=new $I(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:r.viewProps}),this.valueController=r,this.labelController=i}}const Cqe=Es({id:"buttongrid",type:"blade",accept(t){const e=ls(t,n=>({cells:n.required.function,size:n.required.array(n.required.number),view:n.required.constant("buttongrid"),label:n.optional.string}));return e?{params:e}:null},controller(t){return new K5e(t.document,{blade:t.blade,labelProps:dr.fromObject({label:t.params.label}),valueController:new bye(t.document,{cellConfig:t.params.cells,size:t.params.size})})},api(t){return t.controller instanceof K5e?new yye(t.controller):null}});class _ye extends Y2{get label(){return this.controller.labelController.props.get("label")}set label(e){this.controller.labelController.props.set("label",e)}get value(){return this.controller.valueController.value.rawValue}set value(e){this.controller.valueController.value.rawValue=e}on(e,n){const r=n.bind(this);return this.controller.valueController.value.emitter.on(e,i=>{r(new jI(this,i.rawValue,i.options.last))}),this}}function cl(t,e,n){return t*(1-n)+e*n}const Pqe=20,Mqe=.001,sH=100;function Tqe(t,e){let n=.25,r=.5,i=-1;for(let o=0;o<Pqe;o++){const[u,d]=t.curve(r);if(r+=n*(u<e?1:-1),i=d,n*=.5,Math.abs(e-u)<Mqe)break}return i}class Xf{constructor(e=0,n=0,r=1,i=1){this.cache_=[],this.comps_=[e,n,r,i]}get x1(){return this.comps_[0]}get y1(){return this.comps_[1]}get x2(){return this.comps_[2]}get y2(){return this.comps_[3]}static isObject(e){return Bi(e)||!Array.isArray(e)?!1:typeof e[0]=="number"&&typeof e[1]=="number"&&typeof e[2]=="number"&&typeof e[3]=="number"}static equals(e,n){return e.x1===n.x1&&e.y1===n.y1&&e.x2===n.x2&&e.y2===n.y2}curve(e){const n=cl(0,this.x1,e),r=cl(0,this.y1,e),i=cl(this.x1,this.x2,e),o=cl(this.y1,this.y2,e),u=cl(this.x2,1,e),d=cl(this.y2,1,e),m=cl(n,i,e),v=cl(r,o,e),x=cl(i,u,e),S=cl(o,d,e);return[cl(m,x,e),cl(v,S,e)]}y(e){if(this.cache_.length===0){const n=[];for(let r=0;r<sH;r++)n.push(Tqe(this,or(r,0,sH-1,0,1)));this.cache_=n}return this.cache_[Math.round(or(Zi(e,0,1),0,1,0,sH-1))]}toObject(){return[this.comps_[0],this.comps_[1],this.comps_[2],this.comps_[3]]}}const WK={toComponents:t=>t.toObject(),fromComponents:t=>new Xf(...t)};function kqe(t){const e=Ro(2);return`cubic-bezier(${t.toObject().map(r=>e(r)).join(", ")})`}const X5e=[0,.5,.5,1];function Aqe(t){const e=t.match(/^cubic-bezier\s*\(\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*,\s*([0-9.]+)\s*\)$/);if(!e)return new Xf(...X5e);const n=[e[1],e[2],e[3],e[4]].reduce((r,i)=>{if(!r)return null;const o=Number(i);return isNaN(o)?null:[...r,o]},[]);return new Xf(...n??X5e)}const r2=fr("cbz");class wye{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(r2()),n.viewProps.bindClassModifiers(this.element),n.foldable.bindExpandedClass(this.element,r2(void 0,"expanded")),Sl(n.foldable,"completed",n1(this.element,r2(void 0,"cpl")));const r=e.createElement("div");r.classList.add(r2("h")),this.element.appendChild(r);const i=e.createElement("button");i.classList.add(r2("b")),n.viewProps.bindDisabled(i);const o=e.createElementNS(io,"svg");o.innerHTML='<path d="M2 13C8 13 8 3 14 3"/>',i.appendChild(o),r.appendChild(i),this.buttonElement=i;const u=e.createElement("div");if(u.classList.add(r2("t")),r.appendChild(u),this.textElement=u,n.pickerLayout==="inline"){const d=e.createElement("div");d.classList.add(r2("p")),this.element.appendChild(d),this.pickerElement=d}else this.pickerElement=null}}const oH=fr("cbzp");class xye{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(oH()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("div");r.classList.add(oH("g")),this.element.appendChild(r),this.graphElement=r;const i=e.createElement("div");i.classList.add(oH("t")),this.element.appendChild(i),this.textElement=i}}function Sye(t,e){const n=new MutationObserver(i=>{for(const o of i)o.type==="childList"&&o.addedNodes.forEach(u=>{u.contains(u)&&(e(),n.disconnect())})}),r=t.ownerDocument;n.observe(r.body,{attributes:!0,childList:!0,subtree:!0})}const hf=fr("cbzg");function Iqe(t,e){return n=>e(t(n))}class Eye{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(hf()),n.viewProps.bindClassModifiers(this.element),n.viewProps.bindTabIndex(this.element);const r=e.createElement("div");r.classList.add(hf("p")),this.element.appendChild(r),this.previewElement=r;const i=e.createElementNS(io,"svg");i.classList.add(hf("g")),this.element.appendChild(i),this.svgElem_=i;const o=e.createElementNS(io,"path");o.classList.add(hf("u")),this.svgElem_.appendChild(o),this.guideElem_=o;const u=e.createElementNS(io,"polyline");u.classList.add(hf("l")),this.svgElem_.appendChild(u),this.lineElem_=u,this.handleElems_=[e.createElement("div"),e.createElement("div")],this.handleElems_.forEach(d=>{d.classList.add(hf("h")),this.element.appendChild(d)}),this.vectorElems_=[e.createElementNS(io,"line"),e.createElementNS(io,"line")],this.vectorElems_.forEach(d=>{d.classList.add(hf("v")),this.svgElem_.appendChild(d)}),this.value_=n.value,this.value_.emitter.on("change",this.onValueChange_.bind(this)),this.sel_=n.selection,this.handleElems_.forEach((d,m)=>{_l(this.sel_,Iqe(v=>v===m,n1(d,hf("h","sel"))))}),Sye(this.element,()=>{this.refresh()})}getVertMargin_(e){return e*.25}valueToPosition(e,n){const r=this.element.getBoundingClientRect(),i=r.width,o=r.height,u=this.getVertMargin_(o);return{x:or(e,0,1,0,i),y:or(n,0,1,o-u,u)}}positionToValue(e,n){const r=this.element.getBoundingClientRect(),i=r.width,o=r.height,u=this.getVertMargin_(o);return{x:Zi(or(e,0,i,0,1),0,1),y:or(n,o-u,u,0,1)}}refresh(){this.guideElem_.setAttributeNS(null,"d",[0,1].map(o=>{const u=this.valueToPosition(0,o),d=this.valueToPosition(1,o);return[`M ${u.x},${u.y}`,`L ${d.x},${d.y}`].join(" ")}).join(" "));const e=this.value_.rawValue,n=[];let r=0;for(;;){const o=this.valueToPosition(...e.curve(r));if(n.push([o.x,o.y].join(",")),r>=1)break;r=Math.min(r+.05,1)}this.lineElem_.setAttributeNS(null,"points",n.join(" "));const i=e.toObject();[0,1].forEach(o=>{const u=this.valueToPosition(o,o),d=this.valueToPosition(i[o*2],i[o*2+1]),m=this.vectorElems_[o];m.setAttributeNS(null,"x1",String(u.x)),m.setAttributeNS(null,"y1",String(u.y)),m.setAttributeNS(null,"x2",String(d.x)),m.setAttributeNS(null,"y2",String(d.y));const v=this.handleElems_[o];v.style.left=`${d.x}px`,v.style.top=`${d.y}px`})}onValueChange_(){this.refresh()}}const q5e=24,Y5e=400,Z5e=1e3,l4=fr("cbzprv");class Cye{constructor(e,n){this.stopped_=!0,this.startTime_=-1,this.onDispose_=this.onDispose_.bind(this),this.onTimer_=this.onTimer_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.element=e.createElement("div"),this.element.classList.add(l4()),n.viewProps.bindClassModifiers(this.element);const r=e.createElementNS(io,"svg");r.classList.add(l4("g")),this.element.appendChild(r),this.svgElem_=r;const i=e.createElementNS(io,"path");i.classList.add(l4("t")),this.svgElem_.appendChild(i),this.ticksElem_=i;const o=e.createElement("div");o.classList.add(l4("m")),this.element.appendChild(o),this.markerElem_=o,this.value_=n.value,this.value_.emitter.on("change",this.onValueChange_),n.viewProps.handleDispose(this.onDispose_),Sye(this.element,()=>{this.refresh()})}play(){this.stop(),this.updateMarker_(0),this.markerElem_.classList.add(l4("m","a")),this.startTime_=new Date().getTime()+Y5e,this.stopped_=!1,requestAnimationFrame(this.onTimer_)}stop(){this.stopped_=!0,this.markerElem_.classList.remove(l4("m","a"))}onDispose_(){this.stop()}updateMarker_(e){const n=this.value_.rawValue.y(Zi(e,0,1));this.markerElem_.style.left=`${n*100}%`}refresh(){const e=this.svgElem_.getBoundingClientRect(),n=e.width,r=e.height,i=[],o=this.value_.rawValue;for(let u=0;u<q5e;u++){const d=or(u,0,q5e-1,0,1),m=or(o.y(d),0,1,0,n);i.push(`M ${m},0 v${r}`)}this.ticksElem_.setAttributeNS(null,"d",i.join(" "))}onTimer_(){if(this.startTime_===null)return;const e=new Date().getTime()-this.startTime_,n=e/Z5e;this.updateMarker_(n),e>Z5e+Y5e&&this.stop(),this.stopped_||requestAnimationFrame(this.onTimer_)}onValueChange_(){this.refresh(),this.play()}}function ZG(t,e,n,r){const i=n-t,o=r-e;return Math.sqrt(i*i+o*o)}function Rqe(t,e,n,r){const i=ZG(t,e,n,r),o=Math.atan2(r-e,n-t),u=Math.round(o/(Math.PI/4))*Math.PI/4;return{x:t+Math.cos(u)*i,y:e+Math.sin(u)*i}}class Pye{constructor(e,n){this.onKeyDown_=this.onKeyDown_.bind(this),this.onKeyUp_=this.onKeyUp_.bind(this),this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.keyScale_=n.keyScale,this.value=n.value,this.sel_=as(0),this.viewProps=n.viewProps,this.view=new Eye(e,{selection:this.sel_,value:this.value,viewProps:this.viewProps}),this.view.element.addEventListener("keydown",this.onKeyDown_),this.view.element.addEventListener("keyup",this.onKeyUp_),this.prevView_=new Cye(e,{value:this.value,viewProps:this.viewProps}),this.prevView_.element.addEventListener("mousedown",i=>{i.stopImmediatePropagation(),i.preventDefault(),this.prevView_.play()}),this.view.previewElement.appendChild(this.prevView_.element);const r=new _h(this.view.element);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}refresh(){this.view.refresh(),this.prevView_.refresh(),this.prevView_.play()}updateValue_(e,n,r){const i=this.sel_.rawValue,o=this.value.rawValue.toObject(),u=this.view.positionToValue(e.x,e.y),d=n?Rqe(i,i,u.x,u.y):u;o[i*2]=d.x,o[i*2+1]=d.y,this.value.setRawValue(new Xf(...o),r)}onPointerDown_(e){const n=e.data;if(!n.point)return;const r=this.value.rawValue,i=this.view.valueToPosition(r.x1,r.y1),o=ZG(n.point.x,n.point.y,i.x,i.y),u=this.view.valueToPosition(r.x2,r.y2),d=ZG(n.point.x,n.point.y,u.x,u.y);this.sel_.rawValue=o<=d?0:1,this.updateValue_(n.point,e.shiftKey,{forceEmit:!1,last:!1})}onPointerMove_(e){const n=e.data;n.point&&this.updateValue_(n.point,e.shiftKey,{forceEmit:!1,last:!1})}onPointerUp_(e){const n=e.data;n.point&&this.updateValue_(n.point,e.shiftKey,{forceEmit:!0,last:!0})}onKeyDown_(e){ZA(e.key)&&e.preventDefault();const n=this.sel_.rawValue,r=this.value.rawValue.toObject(),i=this.keyScale_.rawValue;r[n*2]+=oo(i,Pu(e)),r[n*2+1]+=oo(i,z2(e)),this.value.setRawValue(new Xf(...r),{forceEmit:!1,last:!1})}onKeyUp_(e){ZA(e.key)&&e.preventDefault();const n=this.keyScale_.rawValue,r=oo(n,Pu(e)),i=oo(n,z2(e));r===0&&i===0||this.value.setRawValue(this.value.rawValue,{forceEmit:!0,last:!0})}}class Mye{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.view=new xye(e,{viewProps:this.viewProps}),this.gc_=new Pye(e,{keyScale:n.axis.textProps.value("keyScale"),value:this.value,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.gc_.view.element);const r=Object.assign(Object.assign({},n.axis),{constraint:new mK({max:1,min:0})}),i=Object.assign(Object.assign({},n.axis),{constraint:void 0});this.tc_=new Dg(e,{assembly:WK,axes:[r,i,r,i],parser:Cu,value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element)}get allFocusableElements(){return[this.gc_.view.element,...this.tc_.view.textViews.map(e=>e.inputElement)]}refresh(){this.gc_.refresh()}}class QG{constructor(e,n){this.onButtonBlur_=this.onButtonBlur_.bind(this),this.onButtonClick_=this.onButtonClick_.bind(this),this.onPopupChildBlur_=this.onPopupChildBlur_.bind(this),this.onPopupChildKeydown_=this.onPopupChildKeydown_.bind(this),this.value=n.value,this.viewProps=n.viewProps,this.foldable_=Ig.create(n.expanded),this.view=new wye(e,{foldable:this.foldable_,pickerLayout:n.pickerLayout,viewProps:this.viewProps}),this.view.buttonElement.addEventListener("blur",this.onButtonBlur_),this.view.buttonElement.addEventListener("click",this.onButtonClick_),this.tc_=new qI(e,{parser:Aqe,props:dr.fromObject({formatter:kqe}),value:this.value,viewProps:this.viewProps}),this.view.textElement.appendChild(this.tc_.view.element),this.popC_=n.pickerLayout==="popup"?new DK(e,{viewProps:this.viewProps}):null;const r=new Mye(e,{axis:n.axis,value:this.value,viewProps:this.viewProps});r.allFocusableElements.forEach(i=>{i.addEventListener("blur",this.onPopupChildBlur_),i.addEventListener("keydown",this.onPopupChildKeydown_)}),this.pickerC_=r,this.popC_?(this.view.element.appendChild(this.popC_.view.element),this.popC_.view.element.appendChild(this.pickerC_.view.element),_l(this.popC_.shows,i=>{i&&r.refresh()}),Z2({primary:this.foldable_.value("expanded"),secondary:this.popC_.shows,forward:i=>i,backward:(i,o)=>o})):this.view.pickerElement&&(this.view.pickerElement.appendChild(this.pickerC_.view.element),WI(this.foldable_,this.view.pickerElement))}onButtonBlur_(e){if(!this.popC_)return;const n=e.relatedTarget;(!n||!this.popC_.view.element.contains(n))&&(this.popC_.shows.rawValue=!1)}onButtonClick_(){this.foldable_.set("expanded",!this.foldable_.get("expanded")),this.foldable_.get("expanded")&&this.pickerC_.allFocusableElements[0].focus()}onPopupChildBlur_(e){if(!this.popC_)return;const n=this.popC_.view.element,r=PK(e);r&&n.contains(r)||r&&r===this.view.buttonElement&&!HI(n.ownerDocument)||(this.popC_.shows.rawValue=!1)}onPopupChildKeydown_(e){this.popC_&&e.key==="Escape"&&(this.popC_.shows.rawValue=!1)}}function Dqe(){return new ZI({assembly:WK,components:[0,1,2,3].map(t=>t%2===0?new mK({min:0,max:1}):void 0)})}const Oqe=Es({id:"cubicbezier",type:"blade",accept(t){const e=ls(t,n=>({value:n.required.array(n.required.number),view:n.required.constant("cubicbezier"),expanded:n.optional.boolean,label:n.optional.string,picker:n.optional.custom(r=>r==="inline"||r==="popup"?r:void 0)}));return e?{params:e}:null},controller(t){var e,n;const r=new Xf(...t.params.value),i=as(r,{constraint:Dqe(),equals:Xf.equals}),o=new QG(t.document,{axis:{textProps:dr.fromObject({keyScale:.1,pointerScale:.01,formatter:Ro(2)})},expanded:(e=t.params.expanded)!==null&&e!==void 0?e:!1,pickerLayout:(n=t.params.picker)!==null&&n!==void 0?n:"popup",value:i,viewProps:t.viewProps});return new qA(t.document,{blade:t.blade,props:dr.fromObject({label:t.params.label}),value:i,valueController:o})},api(t){return!(t.controller instanceof qA)||!(t.controller.valueController instanceof QG)?null:new _ye(t.controller)}});class Tye extends Y2{begin(){this.controller.valueController.begin()}end(){this.controller.valueController.end()}}const Q5e=20;class kye{constructor(){this.start_=null,this.duration_=0,this.fps_=null,this.frameCount_=0,this.timestamps_=[]}get duration(){return this.duration_}get fps(){return this.fps_}begin(e){this.start_=e.getTime()}calculateFps_(e){if(this.timestamps_.length===0)return null;const n=this.timestamps_[0];return 1e3*(this.frameCount_-n.frameCount)/(e-n.time)}compactTimestamps_(){if(this.timestamps_.length<=Q5e)return;const e=this.timestamps_.length-Q5e;this.timestamps_.splice(0,e);const n=this.timestamps_[0].frameCount;this.timestamps_.forEach(r=>{r.frameCount-=n}),this.frameCount_-=n}end(e){if(this.start_===null)return;const n=e.getTime();this.duration_=n-this.start_,this.start_=null,this.fps_=this.calculateFps_(n),this.timestamps_.push({frameCount:this.frameCount_,time:n}),++this.frameCount_,this.compactTimestamps_()}}const By=fr("fps");class Aye{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(By()),n.viewProps.bindClassModifiers(this.element),this.graphElement=e.createElement("div"),this.graphElement.classList.add(By("g")),this.element.appendChild(this.graphElement);const r=e.createElement("div");r.classList.add(By("l")),this.element.appendChild(r);const i=e.createElement("span");i.classList.add(By("v")),i.textContent="--",r.appendChild(i),this.valueElement=i;const o=e.createElement("span");o.classList.add(By("u")),o.textContent="FPS",r.appendChild(o)}}class Iye{constructor(e,n){this.stopwatch_=new kye,this.onTick_=this.onTick_.bind(this),this.ticker_=n.ticker,this.ticker_.emitter.on("tick",this.onTick_),this.value_=n.value,this.viewProps=n.viewProps,this.view=new Aye(e,{viewProps:this.viewProps}),this.graphC_=new $K(e,{formatter:Ro(0),props:dr.fromObject({max:n.maxValue,min:n.minValue}),rows:n.rows,value:this.value_,viewProps:this.viewProps}),this.view.graphElement.appendChild(this.graphC_.view.element),this.viewProps.handleDispose(()=>{this.graphC_.viewProps.set("disposed",!0),this.ticker_.dispose()})}begin(){this.stopwatch_.begin(new Date)}end(){this.stopwatch_.end(new Date)}onTick_(){const e=this.stopwatch_.fps;if(e!==null){const n=this.value_.rawValue;this.value_.rawValue=KWe(n,e),this.view.valueElement.textContent=e.toFixed(0)}}}class J5e extends E_{constructor(e,n){const r=n.valueController,i=new $I(e,{blade:n.blade,props:n.labelProps,valueController:r});super({blade:n.blade,view:i.view,viewProps:r.viewProps}),this.valueController=r,this.labelController=i}}function Lqe(t,e){return e===0?new _Ke:new wKe(t,e??M_.monitor.defaultInterval)}const Nqe=Es({id:"fpsgraph",type:"blade",accept(t){const e=ls(t,n=>({view:n.required.constant("fpsgraph"),interval:n.optional.number,label:n.optional.string,rows:n.optional.number,max:n.optional.number,min:n.optional.number}));return e?{params:e}:null},controller(t){var e,n,r,i;const o=(e=t.params.interval)!==null&&e!==void 0?e:500;return new J5e(t.document,{blade:t.blade,labelProps:dr.fromObject({label:t.params.label}),valueController:new Iye(t.document,{rows:(n=t.params.rows)!==null&&n!==void 0?n:2,maxValue:(r=t.params.max)!==null&&r!==void 0?r:90,minValue:(i=t.params.min)!==null&&i!==void 0?i:0,ticker:Lqe(t.document,o),value:as($We(80)),viewProps:t.viewProps})})},api(t){return t.controller instanceof J5e?new Tye(t.controller):null}});class C0{constructor(e,n){this.min=e,this.max=n}static isObject(e){if(typeof e!="object"||e===null)return!1;const n=e.min,r=e.max;return!(typeof n!="number"||typeof r!="number")}static equals(e,n){return e.min===n.min&&e.max===n.max}get length(){return this.max-this.min}toObject(){return{min:this.min,max:this.max}}}const KK={fromComponents:t=>new C0(t[0],t[1]),toComponents:t=>[t.min,t.max]};class XK{constructor(e){this.edge=e}constrain(e){var n,r,i,o,u,d,m,v;if(e.min<=e.max)return new C0((r=(n=this.edge)===null||n===void 0?void 0:n.constrain(e.min))!==null&&r!==void 0?r:e.min,(o=(i=this.edge)===null||i===void 0?void 0:i.constrain(e.max))!==null&&o!==void 0?o:e.max);const x=(e.min+e.max)/2;return new C0((d=(u=this.edge)===null||u===void 0?void 0:u.constrain(x))!==null&&d!==void 0?d:x,(v=(m=this.edge)===null||m===void 0?void 0:m.constrain(x))!==null&&v!==void 0?v:x)}}const aH=fr("rsltxt");class Rye{constructor(e,n){this.sliderView_=n.sliderView,this.textView_=n.textView,this.element=e.createElement("div"),this.element.classList.add(aH());const r=e.createElement("div");r.classList.add(aH("s")),r.appendChild(this.sliderView_.element),this.element.appendChild(r);const i=e.createElement("div");i.classList.add(aH("t")),i.appendChild(this.textView_.element),this.element.appendChild(i)}}const i2=fr("rsl");class Dye{constructor(e,n){this.onSliderPropsChange_=this.onSliderPropsChange_.bind(this),this.onValueChange_=this.onValueChange_.bind(this),this.sliderProps_=n.sliderProps,this.sliderProps_.emitter.on("change",this.onSliderPropsChange_),this.element=e.createElement("div"),this.element.classList.add(i2()),n.viewProps.bindClassModifiers(this.element),this.value_=n.value,this.value_.emitter.on("change",this.onValueChange_);const r=e.createElement("div");r.classList.add(i2("t")),this.element.appendChild(r),this.trackElement=r;const i=e.createElement("div");i.classList.add(i2("b")),r.appendChild(i),this.barElement=i;const o=["min","max"].map(u=>{const d=e.createElement("div");return d.classList.add(i2("k"),i2("k",u)),r.appendChild(d),d});this.knobElements=[o[0],o[1]],this.update_()}valueToX_(e){const n=this.sliderProps_.get("min"),r=this.sliderProps_.get("max");return Zi(or(e,n,r,0,1),0,1)*100}update_(){const e=this.value_.rawValue;e.length===0?this.element.classList.add(i2(void 0,"zero")):this.element.classList.remove(i2(void 0,"zero"));const n=[this.valueToX_(e.min),this.valueToX_(e.max)];this.barElement.style.left=`${n[0]}%`,this.barElement.style.right=`${100-n[1]}%`,this.knobElements.forEach((r,i)=>{r.style.left=`${n[i]}%`})}onSliderPropsChange_(){this.update_()}onValueChange_(){this.update_()}}class Oye{constructor(e,n){this.grabbing_=null,this.grabOffset_=0,this.onPointerDown_=this.onPointerDown_.bind(this),this.onPointerMove_=this.onPointerMove_.bind(this),this.onPointerUp_=this.onPointerUp_.bind(this),this.sliderProps=n.sliderProps,this.viewProps=n.viewProps,this.value=n.value,this.view=new Dye(e,{sliderProps:this.sliderProps,value:this.value,viewProps:n.viewProps});const r=new _h(this.view.trackElement);r.emitter.on("down",this.onPointerDown_),r.emitter.on("move",this.onPointerMove_),r.emitter.on("up",this.onPointerUp_)}ofs_(){return this.grabbing_==="min"?this.view.knobElements[0].getBoundingClientRect().width/2:this.grabbing_==="max"?-this.view.knobElements[1].getBoundingClientRect().width/2:0}valueFromData_(e){if(!e.point)return null;const n=(e.point.x+this.ofs_())/e.bounds.width,r=this.sliderProps.get("min"),i=this.sliderProps.get("max");return or(n,0,1,r,i)}onPointerDown_(e){if(!e.data.point)return;const n=e.data.point.x/e.data.bounds.width,r=this.value.rawValue,i=this.sliderProps.get("min"),o=this.sliderProps.get("max"),u=or(r.min,i,o,0,1),d=or(r.max,i,o,0,1);Math.abs(d-n)<=.025?this.grabbing_="max":Math.abs(u-n)<=.025?this.grabbing_="min":n>=u&&n<=d?(this.grabbing_="length",this.grabOffset_=or(n-u,0,1,0,o-i)):n<u?(this.grabbing_="min",this.onPointerMove_(e)):n>d&&(this.grabbing_="max",this.onPointerMove_(e))}applyPointToValue_(e,n){const r=this.valueFromData_(e);if(r===null)return;const i=this.sliderProps.get("min"),o=this.sliderProps.get("max");if(this.grabbing_==="min")this.value.setRawValue(new C0(r,this.value.rawValue.max),n);else if(this.grabbing_==="max")this.value.setRawValue(new C0(this.value.rawValue.min,r),n);else if(this.grabbing_==="length"){const u=this.value.rawValue.length;let d=r-this.grabOffset_,m=d+u;d<i?(d=i,m=i+u):m>o&&(d=o-u,m=o),this.value.setRawValue(new C0(d,m),n)}}onPointerMove_(e){this.applyPointToValue_(e.data,{forceEmit:!1,last:!1})}onPointerUp_(e){this.applyPointToValue_(e.data,{forceEmit:!0,last:!0}),this.grabbing_=null}}class Lye{constructor(e,n){this.value=n.value,this.viewProps=n.viewProps,this.sc_=new Oye(e,n);const r={constraint:n.constraint,textProps:n.textProps};this.tc_=new Dg(e,{assembly:KK,axes:[r,r],parser:n.parser,value:this.value,viewProps:n.viewProps}),this.view=new Rye(e,{sliderView:this.sc_.view,textView:this.tc_.view})}get textController(){return this.tc_}}function Fqe(t){return C0.isObject(t)?new C0(t.min,t.max):new C0(0,0)}function Bqe(t,e){t.writeProperty("max",e.max),t.writeProperty("min",e.min)}function Uqe(t){const e=[],n=_K(t);n&&e.push(n);const r=bK(t);return r&&e.push(r),new XK(new Rg(e))}const zqe=Es({id:"input-interval",type:"input",accept:(t,e)=>{if(!C0.isObject(t))return null;const n=ls(e,r=>Object.assign(Object.assign({},xK(r)),{readonly:r.optional.constant(!1)}));return n?{initialValue:new C0(t.min,t.max),params:n}:null},binding:{reader:t=>Fqe,constraint:t=>Uqe(t.params),equals:C0.equals,writer:t=>Bqe},controller(t){const e=t.value,n=t.constraint;if(!(n instanceof XK))throw Ea.shouldNeverHappen();const r=(e.rawValue.min+e.rawValue.max)/2,i=dr.fromObject(wK(t.params,r)),o=n.edge&&Jb(n.edge,S_);if(o)return new Lye(t.document,{constraint:n.edge,parser:Cu,sliderProps:new dr({keyScale:i.value("keyScale"),max:o.values.value("max"),min:o.values.value("min")}),textProps:i,value:e,viewProps:t.viewProps});const u={constraint:n.edge,textProps:i};return new Dg(t.document,{assembly:KK,axes:[u,u],parser:Cu,value:e,viewProps:t.viewProps})}});class Nye{constructor(e){this.controller_=e}get disabled(){return this.controller_.viewProps.get("disabled")}set disabled(e){this.controller_.viewProps.set("disabled",e)}get title(){var e;return(e=this.controller_.props.get("title"))!==null&&e!==void 0?e:""}set title(e){this.controller_.props.set("title",e)}}class Fye extends jI{constructor(e,n,r,i,o){super(e,i,o),this.cell=n,this.index=r}}class Bye extends Y2{constructor(e){super(e),this.cellToApiMap_=new Map,this.controller.valueController.cellControllers.forEach(r=>{const i=new Nye(r);this.cellToApiMap_.set(r,i)})}get value(){return this.controller.value}cell(e,n){const r=this.controller.valueController,i=r.cellControllers[n*r.size[0]+e];return this.cellToApiMap_.get(i)}on(e,n){const r=n.bind(this);this.controller.value.emitter.on(e,i=>{const o=this.controller.valueController,u=o.findCellByValue(i.rawValue);if(!u)return;const d=this.cellToApiMap_.get(u);if(!d)return;const m=o.cellControllers.indexOf(u);r(new Fye(this,d,[m%o.size[0],Math.floor(m/o.size[0])],i.rawValue))})}}const Uy=fr("rad");class Uye{constructor(e,n){this.element=e.createElement("div"),this.element.classList.add(Uy()),n.viewProps.bindClassModifiers(this.element);const r=e.createElement("label");r.classList.add(Uy("l")),this.element.appendChild(r);const i=e.createElement("input");i.classList.add(Uy("i")),i.name=n.name,i.type="radio",n.viewProps.bindDisabled(i),r.appendChild(i),this.inputElement=i;const o=e.createElement("div");o.classList.add(Uy("b")),r.appendChild(o);const u=e.createElement("div");u.classList.add(Uy("t")),o.appendChild(u),Sl(n.props,"title",d=>{u.textContent=d})}}class zye{constructor(e,n){this.props=n.props,this.viewProps=n.viewProps,this.view=new Uye(e,{name:n.name,props:this.props,viewProps:this.viewProps})}}class QA{constructor(e,n){this.cellCs_=[],this.cellValues_=[],this.onCellInputChange_=this.onCellInputChange_.bind(this),this.size=n.size;const[r,i]=this.size;for(let o=0;o<i;o++)for(let u=0;u<r;u++){const d=new zye(e,{name:n.groupName,props:dr.fromObject(Object.assign({},n.cellConfig(u,o))),viewProps:yh.create()});this.cellCs_.push(d),this.cellValues_.push(n.cellConfig(u,o).value)}this.value=n.value,_l(this.value,o=>{const u=this.findCellByValue(o);u&&(u.view.inputElement.checked=!0)}),this.viewProps=yh.create(),this.view=new $7e(e,{viewProps:this.viewProps,viewName:"radgrid"}),this.view.element.style.gridTemplateColumns=`repeat(${r}, 1fr)`,this.cellCs_.forEach(o=>{o.view.inputElement.addEventListener("change",this.onCellInputChange_),this.view.element.appendChild(o.view.element)})}get cellControllers(){return this.cellCs_}findCellByValue(e){const n=this.cellValues_.findIndex(r=>r===e);return n<0?null:this.cellCs_[n]}onCellInputChange_(e){const n=e.currentTarget,r=this.cellCs_.findIndex(i=>i.view.inputElement===n);r<0||(this.value.rawValue=this.cellValues_[r])}}const Vqe=function(){return Es({id:"radiogrid",type:"blade",accept(t){const e=ls(t,n=>({cells:n.required.function,groupName:n.required.string,size:n.required.array(n.required.number),value:n.required.raw,view:n.required.constant("radiogrid"),label:n.optional.string}));return e?{params:e}:null},controller(t){const e=as(t.params.value);return new qA(t.document,{blade:t.blade,props:dr.fromObject({label:t.params.label}),value:e,valueController:new QA(t.document,{groupName:t.params.groupName,cellConfig:t.params.cells,size:t.params.size,value:e})})},api(t){return!(t.controller instanceof qA)||!(t.controller.valueController instanceof QA)?null:new Bye(t.controller)}})}();function qK(t){return Es({id:"input-radiogrid",type:"input",accept(e,n){if(!t.isType(e))return null;const r=ls(n,i=>({cells:i.required.function,groupName:i.required.string,size:i.required.array(i.required.number),view:i.required.constant("radiogrid")}));return r?{initialValue:e,params:r}:null},binding:t.binding,controller:e=>new QA(e.document,{cellConfig:e.params.cells,groupName:e.params.groupName,size:e.params.size,value:e.value})})}const jqe=qK({isType:t=>typeof t=="number",binding:{reader:t=>yK,writer:t=>r1}}),Hqe=qK({isType:t=>typeof t=="string",binding:{reader:t=>LK,writer:t=>r1}}),Gqe=qK({isType:t=>typeof t=="boolean",binding:{reader:t=>OK,writer:t=>r1}}),$qe="essentials",Wqe='.tp-cbzgv,.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:rgba(0,0,0,0);border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-radv_b,.tp-rslv_k,.tp-cbzv_b{background-color:var(--btn-bg);border-radius:var(--bld-br);color:var(--btn-fg);cursor:pointer;display:block;font-weight:bold;height:var(--cnt-usz);line-height:var(--cnt-usz);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-radv_b:hover,.tp-rslv_k:hover,.tp-cbzv_b:hover{background-color:var(--btn-bg-h)}.tp-radv_b:focus,.tp-rslv_k:focus,.tp-cbzv_b:focus{background-color:var(--btn-bg-f)}.tp-radv_b:active,.tp-rslv_k:active,.tp-cbzv_b:active{background-color:var(--btn-bg-a)}.tp-radv_b:disabled,.tp-rslv_k:disabled,.tp-cbzv_b:disabled{opacity:.5}.tp-cbzgv{background-color:var(--in-bg);border-radius:var(--bld-br);box-sizing:border-box;color:var(--in-fg);font-family:inherit;height:var(--cnt-usz);line-height:var(--cnt-usz);min-width:0;width:100%}.tp-cbzgv:hover{background-color:var(--in-bg-h)}.tp-cbzgv:focus{background-color:var(--in-bg-f)}.tp-cbzgv:active{background-color:var(--in-bg-a)}.tp-cbzgv:disabled{opacity:.5}.tp-btngridv{border-radius:var(--bld-br);display:grid;overflow:hidden;gap:2px}.tp-btngridv.tp-v-disabled{opacity:.5}.tp-btngridv .tp-btnv_b:disabled{opacity:1}.tp-btngridv .tp-btnv_b:disabled .tp-btnv_t{opacity:.5}.tp-btngridv .tp-btnv_b{border-radius:0}.tp-cbzv{position:relative}.tp-cbzv_h{display:flex}.tp-cbzv_b{margin-right:4px;position:relative;width:var(--cnt-usz)}.tp-cbzv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-cbzv_b svg path{stroke:var(--bs-bg);stroke-width:2}.tp-cbzv_t{flex:1}.tp-cbzv_p{height:0;margin-top:0;opacity:0;overflow:hidden;transition:height .2s ease-in-out,opacity .2s linear,margin .2s ease-in-out}.tp-cbzv.tp-cbzv-expanded .tp-cbzv_p{margin-top:var(--cnt-usp);opacity:1}.tp-cbzv.tp-cbzv-cpl .tp-cbzv_p{overflow:visible}.tp-cbzv .tp-popv{left:calc(-1 * var(--cnt-hp));position:absolute;right:calc(-1 * var(--cnt-hp));top:var(--cnt-usz)}.tp-cbzpv_t{margin-top:var(--cnt-usp)}.tp-cbzgv{height:auto;overflow:hidden;position:relative}.tp-cbzgv.tp-v-disabled{opacity:.5}.tp-cbzgv_p{left:16px;position:absolute;right:16px;top:0}.tp-cbzgv_g{cursor:pointer;display:block;height:calc(var(--cnt-usz) * 5);width:100%}.tp-cbzgv_u{opacity:.1;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_l{fill:rgba(0,0,0,0);stroke:var(--in-fg)}.tp-cbzgv_v{opacity:.5;stroke:var(--in-fg);stroke-dasharray:1}.tp-cbzgv_h{border:var(--in-fg) solid 1px;border-radius:50%;box-sizing:border-box;height:4px;margin-left:-2px;margin-top:-2px;pointer-events:none;position:absolute;width:4px}.tp-cbzgv:focus .tp-cbzgv_h-sel{background-color:var(--in-fg);border-width:0}.tp-cbzprvv{cursor:pointer;height:4px;padding:4px 0;position:relative}.tp-cbzprvv_g{display:block;height:100%;overflow:visible;width:100%}.tp-cbzprvv_t{opacity:.5;stroke:var(--mo-fg)}.tp-cbzprvv_m{background-color:var(--mo-fg);border-radius:50%;height:4px;margin-left:-2px;margin-top:-2px;opacity:0;position:absolute;top:50%;transition:opacity .2s ease-out;width:4px}.tp-cbzprvv_m.tp-cbzprvv_m-a{opacity:1}.tp-fpsv{position:relative}.tp-fpsv_l{bottom:4px;color:var(--mo-fg);line-height:1;right:4px;pointer-events:none;position:absolute}.tp-fpsv_u{margin-left:.2em;opacity:.7}.tp-rslv{cursor:pointer;padding-left:8px;padding-right:8px}.tp-rslv.tp-v-disabled{opacity:.5}.tp-rslv_t{height:calc(var(--cnt-usz));position:relative}.tp-rslv_t::before{background-color:var(--in-bg);border-radius:1px;content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:-4px;right:-4px}.tp-rslv_b{bottom:0;top:0;position:absolute}.tp-rslv_b::before{background-color:var(--in-fg);content:"";height:2px;margin-top:-1px;position:absolute;top:50%;left:0;right:0}.tp-rslv_k{height:calc(var(--cnt-usz) - 8px);margin-top:calc((var(--cnt-usz) - 8px)/-2);position:absolute;top:50%;width:8px}.tp-rslv_k.tp-rslv_k-min{margin-left:-8px}.tp-rslv_k.tp-rslv_k-max{margin-left:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-min{border-bottom-right-radius:0;border-top-right-radius:0}.tp-rslv.tp-rslv-zero .tp-rslv_k.tp-rslv_k-max{border-bottom-left-radius:0;border-top-left-radius:0}.tp-rsltxtv{display:flex}.tp-rsltxtv_s{flex:1}.tp-rsltxtv_t{flex:1;margin-left:4px}.tp-radv_l{display:block;position:relative}.tp-radv_i{left:0;opacity:0;position:absolute;top:0}.tp-radv_b{opacity:.5}.tp-radv_i:hover+.tp-radv_b{background-color:var(--btn-bg-h)}.tp-radv_i:focus+.tp-radv_b{background-color:var(--btn-bg-f)}.tp-radv_i:active+.tp-radv_b{background-color:var(--btn-bg-a)}.tp-radv_i:checked+.tp-radv_b{opacity:1}.tp-radv_t{bottom:0;color:inherit;left:0;overflow:hidden;position:absolute;right:0;text-align:center;text-overflow:ellipsis;top:0}.tp-radv_i:disabled+.tp-radv_b>.tp-radv_t{opacity:.5}.tp-radgridv{border-radius:var(--bld-br);display:grid;overflow:hidden;gap:2px}.tp-radgridv.tp-v-disabled{opacity:.5}.tp-radgridv .tp-radv_b{border-radius:0}',Kqe=[Cqe,Oqe,Nqe,zqe,Vqe,Gqe,jqe,Hqe],Xqe=Object.freeze(Object.defineProperty({__proto__:null,ButtonCellApi:vye,ButtonGridApi:yye,ButtonGridController:bye,CubicBezier:Xf,CubicBezierApi:_ye,CubicBezierAssembly:WK,CubicBezierController:QG,CubicBezierGraphController:Pye,CubicBezierGraphView:Eye,CubicBezierPickerController:Mye,CubicBezierPickerView:xye,CubicBezierPreviewView:Cye,CubicBezierView:wye,FpsGraphBladeApi:Tye,FpsGraphController:Iye,FpsView:Aye,Fpswatch:kye,Interval:C0,IntervalAssembly:KK,IntervalConstraint:XK,RadioCellApi:Nye,RadioController:zye,RadioGridApi:Bye,RadioGridController:QA,RadioView:Uye,RangeSliderController:Oye,RangeSliderTextController:Lye,RangeSliderTextView:Rye,RangeSliderView:Dye,TpRadioGridChangeEvent:Fye,css:Wqe,id:$qe,plugins:Kqe},Symbol.toStringTag,{value:"Module"}));class qqe extends FI{constructor(n){super(n);tr(this,"bindCBs");tr(this,"buttonCBs");tr(this,"pane");tr(this,"appCallbacks",0);tr(this,"editorCallbacks",0);tr(this,"inspectorFolder");this.bindCBs=new Map,this.buttonCBs=new Map,n.editor&&this.createGUI()}createGUI(){this.pane=new q$e({title:"GUI"}),this.pane.registerPlugin(Xqe)}dispose(){var n;this.bindCBs.clear(),this.buttonCBs.clear(),this.appCallbacks=0,this.editorCallbacks=0,this.app.editor&&((n=this.pane)==null||n.dispose(),this.pane=void 0)}addFolder(n,r=void 0,i=void 0){if(this.app.editor)return this.pane===void 0&&this.createGUI(),(i!==void 0?i:this.pane).addFolder({title:n,...r});this.app.send({event:"addFolder",target:"app",data:{name:n,params:r,parent:i}})}get bindID(){return`debug_${Math.max(this.appCallbacks,this.editorCallbacks)}`}bind(n,r,i,o=void 0){const u=this.bindID,d=i.onChange!==void 0?i.onChange:UW;this.bindCBs.set(u,d),this.app.editor?(this.pane===void 0&&this.createGUI(),(o!==void 0?o:this.pane).addBinding(n,r,i).on("change",v=>{this.app.send({event:"updateBind",target:"app",data:{id:u,value:v.value}})}),this.editorCallbacks++):(this.app.send({event:"bindObject",target:"app",data:{id:u,name:r,params:i,parent:o}}),this.appCallbacks++)}triggerBind(n,r){const i=this.bindCBs.get(n);i!==void 0?i(r):console.warn(`No callback for: ${n}`,r)}button(n,r,i=void 0){const o=this.bindID;this.buttonCBs.set(o,r),this.app.editor?(this.pane===void 0&&this.createGUI(),(i!==void 0?i:this.pane).addButton({title:n}).on("click",()=>{this.app.send({event:"clickButton",target:"app",data:{id:o}})}),this.editorCallbacks++):(this.app.send({event:"addButton",target:"app",data:{id:o,name:n,callback:r,parent:i}}),this.appCallbacks++)}triggerButton(n){const r=this.buttonCBs.get(n);r!==void 0&&r()}createInspector(){this.inspectorFolder=this.addFolder("Inspector",this.pane)}clearInspector(){const n=this.inspectorFolder.children.length-1;for(let r=n;r>-1;--r)this.inspectorFolder.remove(this.inspectorFolder.children[r])}handleApp(n,r,i){const o=r;switch(i.event){case"addFolder":o.addFolder(i.data.name,i.data.params,i.data.parent);break;case"bindObject":o.bind(i.data.name,i.data.params,i.data.parent);break;case"updateBind":o.triggerBind(i.data.id,i.data.value);break;case"addButton":o.button(i.data.name,i.data.callback,i.data.parent);break;case"clickButton":o.triggerButton(i.data.id);break}}}const Yqe=!0,br=new vVe("ws://localhost:8080",Yqe),yf=new cg(br),Zy=new kVe(br);br.addComponent("theatre",yf);br.addComponent("three",Zy);{yf.studio=N8e;const t=new bVe(br),e=new qqe(br);br.addComponent("components",t),br.addComponent("debug",e);const n=[{remote:yf,callback:yf.handleApp},{remote:Zy,callback:Zy.handleApp},{remote:t,callback:t.handleApp},{remote:e,callback:e.handleApp}],r=[{remote:yf,callback:yf.handleEditor},{remote:Zy,callback:Zy.handleEditor}];yVe(br,n,r),yf.handleEditorApp(br,yf)}const t_=new A0,n_={LOAD_COMPLETE:"Events::loadComplete"};function Zqe(t){return Ve.jsxs("div",{className:"editor",ref:t.ref,style:t.style,children:[Ve.jsx("div",{className:"header",children:t.header}),t.children,Ve.jsx("div",{className:"footer",children:t.footer})]})}function Vye(t){return t.title.search("<")>-1?Ve.jsx("button",{className:"svg",dangerouslySetInnerHTML:{__html:t.title}}):Ve.jsx("button",{children:t.title})}const YK=ut.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),QI=ut.createContext({}),ZK=ut.createContext(null),JI=typeof document<"u",JG=JI?ut.useLayoutEffect:ut.useEffect,jye=ut.createContext({strict:!1});function Qqe(t,e,n,r){const{visualElement:i}=ut.useContext(QI),o=ut.useContext(jye),u=ut.useContext(ZK),d=ut.useContext(YK).reducedMotion,m=ut.useRef();r=r||o.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:i,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const v=m.current;return ut.useInsertionEffect(()=>{v&&v.update(n,u)}),JG(()=>{v&&v.render()}),ut.useEffect(()=>{v&&v.updateFeatures()}),(window.HandoffAppearAnimations?JG:ut.useEffect)(()=>{v&&v.animationState&&v.animationState.animateChanges()}),v}function I4(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Jqe(t,e,n){return ut.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):I4(n)&&(n.current=r))},[e])}function r_(t){return typeof t=="string"||Array.isArray(t)}function eR(t){return typeof t=="object"&&typeof t.start=="function"}const QK=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JK=["initial",...QK];function tR(t){return eR(t.animate)||JK.some(e=>r_(t[e]))}function Hye(t){return!!(tR(t)||t.variants)}function eYe(t,e){if(tR(t)){const{initial:n,animate:r}=t;return{initial:n===!1||r_(n)?n:void 0,animate:r_(r)?r:void 0}}return t.inherit!==!1?e:{}}function tYe(t){const{initial:e,animate:n}=eYe(t,ut.useContext(QI));return ut.useMemo(()=>({initial:e,animate:n}),[e4e(e),e4e(n)])}function e4e(t){return Array.isArray(t)?t.join(" "):t}const t4e={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},i_={};for(const t in t4e)i_[t]={isEnabled:e=>t4e[t].some(n=>!!e[n])};function nYe(t){for(const e in t)i_[e]={...i_[e],...t[e]}}const Gye=ut.createContext({}),$ye=ut.createContext({}),rYe=Symbol.for("motionComponentSymbol");function iYe({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&nYe(t);function o(d,m){let v;const x={...ut.useContext(YK),...d,layoutId:sYe(d)},{isStatic:S}=x,T=tYe(d),R=r(d,S);if(!S&&JI){T.visualElement=Qqe(i,R,x,e);const G=ut.useContext($ye),L=ut.useContext(jye).strict;T.visualElement&&(v=T.visualElement.loadFeatures(x,L,t,G))}return ut.createElement(QI.Provider,{value:T},v&&T.visualElement?ut.createElement(v,{visualElement:T.visualElement,...x}):null,n(i,d,Jqe(R,T.visualElement,m),R,S,T.visualElement))}const u=ut.forwardRef(o);return u[rYe]=i,u}function sYe({layoutId:t}){const e=ut.useContext(Gye).id;return e&&t!==void 0?e+"-"+t:t}function oYe(t){function e(r,i={}){return iYe(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const aYe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eX(t){return typeof t!="string"||t.includes("-")?!1:!!(aYe.indexOf(t)>-1||/[A-Z]/.test(t))}const JA={};function lYe(t){Object.assign(JA,t)}const T_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Q2=new Set(T_);function Wye(t,{layout:e,layoutId:n}){return Q2.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!JA[t]||t==="opacity")}const Ra=t=>!!(t&&t.getVelocity),uYe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cYe=T_.length;function dYe(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let u=0;u<cYe;u++){const d=T_[u];if(t[d]!==void 0){const m=uYe[d]||d;o+=`${m}(${t[d]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const Kye=t=>e=>typeof e=="string"&&e.startsWith(t),Xye=Kye("--"),e$=Kye("var(--"),hYe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,pYe=(t,e)=>e&&typeof t=="number"?e.transform(t):t,qf=(t,e,n)=>Math.min(Math.max(n,t),e),J2={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},db={...J2,transform:t=>qf(0,1,t)},Ik={...J2,default:1},hb=t=>Math.round(t*1e5)/1e5,nR=/(-)?([\d]*\.?[\d])+/g,qye=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fYe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function k_(t){return typeof t=="string"}const A_=t=>({test:e=>k_(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),bf=A_("deg"),Ic=A_("%"),$n=A_("px"),mYe=A_("vh"),gYe=A_("vw"),n4e={...Ic,parse:t=>Ic.parse(t)/100,transform:t=>Ic.transform(t*100)},r4e={...J2,transform:Math.round},Yye={borderWidth:$n,borderTopWidth:$n,borderRightWidth:$n,borderBottomWidth:$n,borderLeftWidth:$n,borderRadius:$n,radius:$n,borderTopLeftRadius:$n,borderTopRightRadius:$n,borderBottomRightRadius:$n,borderBottomLeftRadius:$n,width:$n,maxWidth:$n,height:$n,maxHeight:$n,size:$n,top:$n,right:$n,bottom:$n,left:$n,padding:$n,paddingTop:$n,paddingRight:$n,paddingBottom:$n,paddingLeft:$n,margin:$n,marginTop:$n,marginRight:$n,marginBottom:$n,marginLeft:$n,rotate:bf,rotateX:bf,rotateY:bf,rotateZ:bf,scale:Ik,scaleX:Ik,scaleY:Ik,scaleZ:Ik,skew:bf,skewX:bf,skewY:bf,distance:$n,translateX:$n,translateY:$n,translateZ:$n,x:$n,y:$n,z:$n,perspective:$n,transformPerspective:$n,opacity:db,originX:n4e,originY:n4e,originZ:$n,zIndex:r4e,fillOpacity:db,strokeOpacity:db,numOctaves:r4e};function tX(t,e,n,r){const{style:i,vars:o,transform:u,transformOrigin:d}=t;let m=!1,v=!1,x=!0;for(const S in e){const T=e[S];if(Xye(S)){o[S]=T;continue}const R=Yye[S],G=pYe(T,R);if(Q2.has(S)){if(m=!0,u[S]=G,!x)continue;T!==(R.default||0)&&(x=!1)}else S.startsWith("origin")?(v=!0,d[S]=G):i[S]=G}if(e.transform||(m||r?i.transform=dYe(t.transform,n,x,r):i.transform&&(i.transform="none")),v){const{originX:S="50%",originY:T="50%",originZ:R=0}=d;i.transformOrigin=`${S} ${T} ${R}`}}const nX=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zye(t,e,n){for(const r in e)!Ra(e[r])&&!Wye(r,n)&&(t[r]=e[r])}function vYe({transformTemplate:t},e,n){return ut.useMemo(()=>{const r=nX();return tX(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function yYe(t,e,n){const r=t.style||{},i={};return Zye(i,r,t),Object.assign(i,vYe(t,e,n)),t.transformValues?t.transformValues(i):i}function bYe(t,e,n){const r={},i=yYe(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const _Ye=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function eI(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||_Ye.has(t)}let Qye=t=>!eI(t);function wYe(t){t&&(Qye=e=>e.startsWith("on")?!eI(e):t(e))}try{wYe(require("@emotion/is-prop-valid").default)}catch{}function xYe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Qye(i)||n===!0&&eI(i)||!e&&!eI(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function i4e(t,e,n){return typeof t=="string"?t:$n.transform(e+n*t)}function SYe(t,e,n){const r=i4e(e,t.x,t.width),i=i4e(n,t.y,t.height);return`${r} ${i}`}const EYe={offset:"stroke-dashoffset",array:"stroke-dasharray"},CYe={offset:"strokeDashoffset",array:"strokeDasharray"};function PYe(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?EYe:CYe;t[o.offset]=$n.transform(-r);const u=$n.transform(e),d=$n.transform(n);t[o.array]=`${u} ${d}`}function rX(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:u,pathSpacing:d=1,pathOffset:m=0,...v},x,S,T){if(tX(t,v,x,T),S){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:R,style:G,dimensions:L}=t;R.transform&&(L&&(G.transform=R.transform),delete R.transform),L&&(i!==void 0||o!==void 0||G.transform)&&(G.transformOrigin=SYe(L,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(R.x=e),n!==void 0&&(R.y=n),r!==void 0&&(R.scale=r),u!==void 0&&PYe(R,u,d,m,!1)}const Jye=()=>({...nX(),attrs:{}}),iX=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MYe(t,e,n,r){const i=ut.useMemo(()=>{const o=Jye();return rX(o,e,{enableHardwareAcceleration:!1},iX(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};Zye(o,t.style,t),i.style={...o,...i.style}}return i}function TYe(t=!1){return(n,r,i,{latestValues:o},u)=>{const m=(eX(n)?MYe:bYe)(r,o,u,n),x={...xYe(r,typeof n=="string",t),...m,ref:i},{children:S}=r,T=ut.useMemo(()=>Ra(S)?S.get():S,[S]);return ut.createElement(n,{...x,children:T})}}const sX=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function ebe(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const tbe=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nbe(t,e,n,r){ebe(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(tbe.has(i)?i:sX(i),e.attrs[i])}function oX(t,e){const{style:n}=t,r={};for(const i in n)(Ra(n[i])||e.style&&Ra(e.style[i])||Wye(i,t))&&(r[i]=n[i]);return r}function rbe(t,e){const n=oX(t,e);for(const r in t)if(Ra(t[r])||Ra(e[r])){const i=T_.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function aX(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function I_(t){const e=ut.useRef(null);return e.current===null&&(e.current=t()),e.current}const tI=t=>Array.isArray(t),kYe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),AYe=t=>tI(t)?t[t.length-1]||0:t;function rA(t){const e=Ra(t)?t.get():t;return kYe(e)?e.toValue():e}function IYe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const u={latestValues:RYe(r,i,o,t),renderState:e()};return n&&(u.mount=d=>n(r,d,u)),u}const ibe=t=>(e,n)=>{const r=ut.useContext(QI),i=ut.useContext(ZK),o=()=>IYe(t,e,r,i);return n?o():I_(o)};function RYe(t,e,n,r){const i={},o=r(t,{});for(const T in o)i[T]=rA(o[T]);let{initial:u,animate:d}=t;const m=tR(t),v=Hye(t);e&&v&&!m&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let x=n?n.initial===!1:!1;x=x||u===!1;const S=x?d:u;return S&&typeof S!="boolean"&&!eR(S)&&(Array.isArray(S)?S:[S]).forEach(R=>{const G=aX(t,R);if(!G)return;const{transitionEnd:L,transition:B,...z}=G;for(const C in z){let V=z[C];if(Array.isArray(V)){const Y=x?V.length-1:0;V=V[Y]}V!==null&&(i[C]=V)}for(const C in L)i[C]=L[C]}),i}const DYe={useVisualState:ibe({scrapeMotionValuesFromProps:rbe,createRenderState:Jye,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}rX(n,r,{enableHardwareAcceleration:!1},iX(e.tagName),t.transformTemplate),nbe(e,n)}})},OYe={useVisualState:ibe({scrapeMotionValuesFromProps:oX,createRenderState:nX})};function LYe(t,{forwardMotionProps:e=!1},n,r){return{...eX(t)?DYe:OYe,preloadedFeatures:n,useRender:TYe(e),createVisualElement:r,Component:t}}function ih(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const sbe=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function rR(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const NYe=t=>e=>sbe(e)&&t(e,rR(e));function lh(t,e,n,r){return ih(t,e,NYe(n),r)}const FYe=(t,e)=>n=>e(t(n)),jf=(...t)=>t.reduce(FYe);function obe(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const s4e=obe("dragHorizontal"),o4e=obe("dragVertical");function abe(t){let e=!1;if(t==="y")e=o4e();else if(t==="x")e=s4e();else{const n=s4e(),r=o4e();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function lbe(){const t=abe(!0);return t?(t(),!1):!0}class i1{constructor(e){this.isMounted=!1,this.node=e}update(){}}const os=t=>t;function BYe(t){let e=[],n=[],r=0,i=!1,o=!1;const u=new WeakSet,d={schedule:(m,v=!1,x=!1)=>{const S=x&&i,T=S?e:n;return v&&u.add(m),T.indexOf(m)===-1&&(T.push(m),S&&i&&(r=e.length)),m},cancel:m=>{const v=n.indexOf(m);v!==-1&&n.splice(v,1),u.delete(m)},process:m=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let v=0;v<r;v++){const x=e[v];x(m),u.has(x)&&(d.schedule(x),t())}i=!1,o&&(o=!1,d.process(m))}};return d}const Rk=["prepare","read","update","preRender","render","postRender"],UYe=40;function zYe(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=Rk.reduce((S,T)=>(S[T]=BYe(()=>n=!0),S),{}),u=S=>o[S].process(i),d=()=>{const S=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,UYe),1),i.timestamp=S,i.isProcessing=!0,Rk.forEach(u),i.isProcessing=!1,n&&e&&(r=!1,t(d))},m=()=>{n=!0,r=!0,i.isProcessing||t(d)};return{schedule:Rk.reduce((S,T)=>{const R=o[T];return S[T]=(G,L=!1,B=!1)=>(n||m(),R.schedule(G,L,B)),S},{}),cancel:S=>Rk.forEach(T=>o[T].cancel(S)),state:i,steps:o}}const{schedule:Ui,cancel:Nc,state:Xo,steps:lH}=zYe(typeof requestAnimationFrame<"u"?requestAnimationFrame:os,!0);function a4e(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,u)=>{if(o.type==="touch"||lbe())return;const d=t.getProps();t.animationState&&d.whileHover&&t.animationState.setActive("whileHover",e),d[r]&&Ui.update(()=>d[r](o,u))};return lh(t.current,n,i,{passive:!t.getProps()[r]})}class VYe extends i1{mount(){this.unmount=jf(a4e(this.node,!0),a4e(this.node,!1))}unmount(){}}class jYe extends i1{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=jf(ih(this.node.current,"focus",()=>this.onFocus()),ih(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const ube=(t,e)=>e?t===e?!0:ube(t,e.parentElement):!1;function uH(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,rR(n))}class HYe extends i1{constructor(){super(...arguments),this.removeStartListeners=os,this.removeEndListeners=os,this.removeAccessibleListeners=os,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),o=lh(window,"pointerup",(d,m)=>{if(!this.checkPressEnd())return;const{onTap:v,onTapCancel:x}=this.node.getProps();Ui.update(()=>{ube(this.node.current,d.target)?v&&v(d,m):x&&x(d,m)})},{passive:!(r.onTap||r.onPointerUp)}),u=lh(window,"pointercancel",(d,m)=>this.cancelPress(d,m),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=jf(o,u),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||uH("up",(m,v)=>{const{onTap:x}=this.node.getProps();x&&Ui.update(()=>x(m,v))})};this.removeEndListeners(),this.removeEndListeners=ih(this.node.current,"keyup",u),uH("down",(d,m)=>{this.startPress(d,m)})},n=ih(this.node.current,"keydown",e),r=()=>{this.isPressing&&uH("cancel",(o,u)=>this.cancelPress(o,u))},i=ih(this.node.current,"blur",r);this.removeAccessibleListeners=jf(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ui.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!lbe()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ui.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=lh(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=ih(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=jf(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const t$=new WeakMap,cH=new WeakMap,GYe=t=>{const e=t$.get(t.target);e&&e(t)},$Ye=t=>{t.forEach(GYe)};function WYe({root:t,...e}){const n=t||document;cH.has(n)||cH.set(n,{});const r=cH.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver($Ye,{root:t,...e})),r[i]}function KYe(t,e,n){const r=WYe(e);return t$.set(t,n),r.observe(t),()=>{t$.delete(t),r.unobserve(t)}}const XYe={some:0,all:1};class qYe extends i1{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:XYe[i]},d=m=>{const{isIntersecting:v}=m;if(this.isInView===v||(this.isInView=v,o&&!v&&this.hasEnteredView))return;v&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",v);const{onViewportEnter:x,onViewportLeave:S}=this.node.getProps(),T=v?x:S;T&&T(m)};return KYe(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(YYe(e,n))&&this.startObserver()}unmount(){}}function YYe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZYe={inView:{Feature:qYe},tap:{Feature:HYe},focus:{Feature:jYe},hover:{Feature:VYe}};function cbe(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function QYe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function JYe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function iR(t,e,n){const r=t.getProps();return aX(r,e,n!==void 0?n:r.custom,QYe(t),JYe(t))}const eZe="framerAppearId",tZe="data-"+sX(eZe);let nZe=os,lX=os;const Hf=t=>t*1e3,uh=t=>t/1e3,rZe={current:!1},dbe=t=>Array.isArray(t)&&typeof t[0]=="number";function hbe(t){return!!(!t||typeof t=="string"&&pbe[t]||dbe(t)||Array.isArray(t)&&t.every(hbe))}const Qy=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,pbe={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qy([0,.65,.55,1]),circOut:Qy([.55,0,1,.45]),backIn:Qy([.31,.01,.66,-.59]),backOut:Qy([.33,1.53,.69,.99])};function fbe(t){if(t)return dbe(t)?Qy(t):Array.isArray(t)?t.map(fbe):pbe[t]}function iZe(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:u="loop",ease:d,times:m}={}){const v={[e]:n};m&&(v.offset=m);const x=fbe(d);return Array.isArray(x)&&(v.easing=x),t.animate(v,{delay:r,duration:i,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:o+1,direction:u==="reverse"?"alternate":"normal"})}function sZe(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const mbe=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oZe=1e-7,aZe=12;function lZe(t,e,n,r,i){let o,u,d=0;do u=e+(n-e)/2,o=mbe(u,r,i)-t,o>0?n=u:e=u;while(Math.abs(o)>oZe&&++d<aZe);return u}function R_(t,e,n,r){if(t===e&&n===r)return os;const i=o=>lZe(o,0,1,t,n);return o=>o===0||o===1?o:mbe(i(o),e,r)}const uZe=R_(.42,0,1,1),cZe=R_(0,0,.58,1),gbe=R_(.42,0,.58,1),dZe=t=>Array.isArray(t)&&typeof t[0]!="number",vbe=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ybe=t=>e=>1-t(1-e),bbe=t=>1-Math.sin(Math.acos(t)),uX=ybe(bbe),hZe=vbe(uX),_be=R_(.33,1.53,.69,.99),cX=ybe(_be),pZe=vbe(cX),fZe=t=>(t*=2)<1?.5*cX(t):.5*(2-Math.pow(2,-10*(t-1))),mZe={linear:os,easeIn:uZe,easeInOut:gbe,easeOut:cZe,circIn:bbe,circInOut:hZe,circOut:uX,backIn:cX,backInOut:pZe,backOut:_be,anticipate:fZe},l4e=t=>{if(Array.isArray(t)){lX(t.length===4);const[e,n,r,i]=t;return R_(e,n,r,i)}else if(typeof t=="string")return mZe[t];return t},dX=(t,e)=>n=>!!(k_(n)&&fYe.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),wbe=(t,e,n)=>r=>{if(!k_(r))return r;const[i,o,u,d]=r.match(nR);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},gZe=t=>qf(0,255,t),dH={...J2,transform:t=>Math.round(gZe(t))},b2={test:dX("rgb","red"),parse:wbe("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+dH.transform(t)+", "+dH.transform(e)+", "+dH.transform(n)+", "+hb(db.transform(r))+")"};function vZe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const n$={test:dX("#"),parse:vZe,transform:b2.transform},R4={test:dX("hsl","hue"),parse:wbe("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ic.transform(hb(e))+", "+Ic.transform(hb(n))+", "+hb(db.transform(r))+")"},wa={test:t=>b2.test(t)||n$.test(t)||R4.test(t),parse:t=>b2.test(t)?b2.parse(t):R4.test(t)?R4.parse(t):n$.parse(t),transform:t=>k_(t)?t:t.hasOwnProperty("red")?b2.transform(t):R4.transform(t)},Fi=(t,e,n)=>-n*t+n*e+t;function hH(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function yZe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,u=0;if(!e)i=o=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,m=2*n-d;i=hH(m,d,t+1/3),o=hH(m,d,t),u=hH(m,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(u*255),alpha:r}}const pH=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},bZe=[n$,b2,R4],_Ze=t=>bZe.find(e=>e.test(t));function u4e(t){const e=_Ze(t);let n=e.parse(t);return e===R4&&(n=yZe(n)),n}const xbe=(t,e)=>{const n=u4e(t),r=u4e(e),i={...n};return o=>(i.red=pH(n.red,r.red,o),i.green=pH(n.green,r.green,o),i.blue=pH(n.blue,r.blue,o),i.alpha=Fi(n.alpha,r.alpha,o),b2.transform(i))};function wZe(t){var e,n;return isNaN(t)&&k_(t)&&(((e=t.match(nR))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(qye))===null||n===void 0?void 0:n.length)||0)>0}const Sbe={regex:hYe,countKey:"Vars",token:"${v}",parse:os},Ebe={regex:qye,countKey:"Colors",token:"${c}",parse:wa.parse},Cbe={regex:nR,countKey:"Numbers",token:"${n}",parse:J2.parse};function fH(t,{regex:e,countKey:n,token:r,parse:i}){const o=t.tokenised.match(e);o&&(t["num"+n]=o.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...o.map(i)))}function nI(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&fH(n,Sbe),fH(n,Ebe),fH(n,Cbe),n}function Pbe(t){return nI(t).values}function Mbe(t){const{values:e,numColors:n,numVars:r,tokenised:i}=nI(t),o=e.length;return u=>{let d=i;for(let m=0;m<o;m++)m<r?d=d.replace(Sbe.token,u[m]):m<r+n?d=d.replace(Ebe.token,wa.transform(u[m])):d=d.replace(Cbe.token,hb(u[m]));return d}}const xZe=t=>typeof t=="number"?0:t;function SZe(t){const e=Pbe(t);return Mbe(t)(e.map(xZe))}const Yf={test:wZe,parse:Pbe,createTransformer:Mbe,getAnimatableNone:SZe},Tbe=(t,e)=>n=>`${n>0?e:t}`;function kbe(t,e){return typeof t=="number"?n=>Fi(t,e,n):wa.test(t)?xbe(t,e):t.startsWith("var(")?Tbe(t,e):Ibe(t,e)}const Abe=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,u)=>kbe(o,e[u]));return o=>{for(let u=0;u<r;u++)n[u]=i[u](o);return n}},EZe=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kbe(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}},Ibe=(t,e)=>{const n=Yf.createTransformer(e),r=nI(t),i=nI(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?jf(Abe(r.values,i.values),n):Tbe(t,e)},s_=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},c4e=(t,e)=>n=>Fi(t,e,n);function CZe(t){return typeof t=="number"?c4e:typeof t=="string"?wa.test(t)?xbe:Ibe:Array.isArray(t)?Abe:typeof t=="object"?EZe:c4e}function PZe(t,e,n){const r=[],i=n||CZe(t[0]),o=t.length-1;for(let u=0;u<o;u++){let d=i(t[u],t[u+1]);if(e){const m=Array.isArray(e)?e[u]||os:e;d=jf(m,d)}r.push(d)}return r}function hX(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(lX(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const u=PZe(e,r,i),d=u.length,m=v=>{let x=0;if(d>1)for(;x<t.length-2&&!(v<t[x+1]);x++);const S=s_(t[x],t[x+1],v);return u[x](S)};return n?v=>m(qf(t[0],t[o-1],v)):m}function MZe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=s_(0,e,r);t.push(Fi(n,1,i))}}function TZe(t){const e=[0];return MZe(e,t.length-1),e}function kZe(t,e){return t.map(n=>n*e)}function AZe(t,e){return t.map(()=>e||gbe).splice(0,t.length-1)}function rI({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=dZe(r)?r.map(l4e):l4e(r),o={done:!1,value:e[0]},u=kZe(n&&n.length===e.length?n:TZe(e),t),d=hX(u,e,{ease:Array.isArray(i)?i:AZe(e,i)});return{calculatedDuration:t,next:m=>(o.value=d(m),o.done=m>=t,o)}}function Rbe(t,e){return e?t*(1e3/e):0}const IZe=5;function Dbe(t,e,n){const r=Math.max(e-IZe,0);return Rbe(n-t(r),e-r)}const mH=.001,RZe=.01,d4e=10,DZe=.05,OZe=1;function LZe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;nZe(t<=Hf(d4e));let u=1-e;u=qf(DZe,OZe,u),t=qf(RZe,d4e,uh(t)),u<1?(i=v=>{const x=v*u,S=x*t,T=x-n,R=r$(v,u),G=Math.exp(-S);return mH-T/R*G},o=v=>{const S=v*u*t,T=S*n+n,R=Math.pow(u,2)*Math.pow(v,2)*t,G=Math.exp(-S),L=r$(Math.pow(v,2),u);return(-i(v)+mH>0?-1:1)*((T-R)*G)/L}):(i=v=>{const x=Math.exp(-v*t),S=(v-n)*t+1;return-mH+x*S},o=v=>{const x=Math.exp(-v*t),S=(n-v)*(t*t);return x*S});const d=5/t,m=FZe(i,o,d);if(t=Hf(t),isNaN(m))return{stiffness:100,damping:10,duration:t};{const v=Math.pow(m,2)*r;return{stiffness:v,damping:u*2*Math.sqrt(r*v),duration:t}}}const NZe=12;function FZe(t,e,n){let r=n;for(let i=1;i<NZe;i++)r=r-t(r)/e(r);return r}function r$(t,e){return t*Math.sqrt(1-e*e)}const BZe=["duration","bounce"],UZe=["stiffness","damping","mass"];function h4e(t,e){return e.some(n=>t[n]!==void 0)}function zZe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!h4e(t,UZe)&&h4e(t,BZe)){const n=LZe(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function Obe({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],u={done:!1,value:i},{stiffness:d,damping:m,mass:v,velocity:x,duration:S,isResolvedFromDuration:T}=zZe(r),R=x?-uh(x):0,G=m/(2*Math.sqrt(d*v)),L=o-i,B=uh(Math.sqrt(d/v)),z=Math.abs(L)<5;n||(n=z?.01:2),e||(e=z?.005:.5);let C;if(G<1){const V=r$(B,G);C=Y=>{const me=Math.exp(-G*B*Y);return o-me*((R+G*B*L)/V*Math.sin(V*Y)+L*Math.cos(V*Y))}}else if(G===1)C=V=>o-Math.exp(-B*V)*(L+(R+B*L)*V);else{const V=B*Math.sqrt(G*G-1);C=Y=>{const me=Math.exp(-G*B*Y),q=Math.min(V*Y,300);return o-me*((R+G*B*L)*Math.sinh(q)+V*L*Math.cosh(q))/V}}return{calculatedDuration:T&&S||null,next:V=>{const Y=C(V);if(T)u.done=V>=S;else{let me=R;V!==0&&(G<1?me=Dbe(C,V,Y):me=0);const q=Math.abs(me)<=n,ae=Math.abs(o-Y)<=e;u.done=q&&ae}return u.value=u.done?o:Y,u}}}function p4e({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:u,min:d,max:m,restDelta:v=.5,restSpeed:x}){const S=t[0],T={done:!1,value:S},R=ve=>d!==void 0&&ve<d||m!==void 0&&ve>m,G=ve=>d===void 0?m:m===void 0||Math.abs(d-ve)<Math.abs(m-ve)?d:m;let L=n*e;const B=S+L,z=u===void 0?B:u(B);z!==B&&(L=z-S);const C=ve=>-L*Math.exp(-ve/r),V=ve=>z+C(ve),Y=ve=>{const W=C(ve),se=V(ve);T.done=Math.abs(W)<=v,T.value=T.done?z:se};let me,q;const ae=ve=>{R(T.value)&&(me=ve,q=Obe({keyframes:[T.value,G(T.value)],velocity:Dbe(V,ve,T.value),damping:i,stiffness:o,restDelta:v,restSpeed:x}))};return ae(0),{calculatedDuration:null,next:ve=>{let W=!1;return!q&&me===void 0&&(W=!0,Y(ve),ae(ve)),me!==void 0&&ve>me?q.next(ve-me):(!W&&Y(ve),T)}}}const VZe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ui.update(e,!0),stop:()=>Nc(e),now:()=>Xo.isProcessing?Xo.timestamp:performance.now()}},f4e=2e4;function m4e(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<f4e;)e+=n,r=t.next(e);return e>=f4e?1/0:e}const jZe={decay:p4e,inertia:p4e,tween:rI,keyframes:rI,spring:Obe};function iI({autoplay:t=!0,delay:e=0,driver:n=VZe,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:u=0,repeatType:d="loop",onPlay:m,onStop:v,onComplete:x,onUpdate:S,...T}){let R=1,G=!1,L,B;const z=()=>{B=new Promise(It=>{L=It})};z();let C;const V=jZe[i]||rI;let Y;V!==rI&&typeof r[0]!="number"&&(Y=hX([0,100],r,{clamp:!1}),r=[0,100]);const me=V({...T,keyframes:r});let q;d==="mirror"&&(q=V({...T,keyframes:[...r].reverse(),velocity:-(T.velocity||0)}));let ae="idle",ve=null,W=null,se=null;me.calculatedDuration===null&&o&&(me.calculatedDuration=m4e(me));const{calculatedDuration:Te}=me;let dt=1/0,He=1/0;Te!==null&&(dt=Te+u,He=dt*(o+1)-u);let xe=0;const gt=It=>{if(W===null)return;R>0&&(W=Math.min(W,It)),R<0&&(W=Math.min(It-He/R,W)),ve!==null?xe=ve:xe=Math.round(It-W)*R;const tn=xe-e*(R>=0?1:-1),pn=R>=0?tn<0:tn>He;xe=Math.max(tn,0),ae==="finished"&&ve===null&&(xe=He);let ft=xe,kt=me;if(o){const bt=xe/dt;let Nt=Math.floor(bt),je=bt%1;!je&&bt>=1&&(je=1),je===1&&Nt--,Nt=Math.min(Nt,o+1);const Cn=!!(Nt%2);Cn&&(d==="reverse"?(je=1-je,u&&(je-=u/dt)):d==="mirror"&&(kt=q));let ln=qf(0,1,je);xe>He&&(ln=d==="reverse"&&Cn?1:0),ft=ln*dt}const Xt=pn?{done:!1,value:r[0]}:kt.next(ft);Y&&(Xt.value=Y(Xt.value));let{done:Ut}=Xt;!pn&&Te!==null&&(Ut=R>=0?xe>=He:xe<=0);const it=ve===null&&(ae==="finished"||ae==="running"&&Ut);return S&&S(Xt.value),it&&Ne(),Xt},ze=()=>{C&&C.stop(),C=void 0},At=()=>{ae="idle",ze(),L(),z(),W=se=null},Ne=()=>{ae="finished",x&&x(),ze(),L()},ht=()=>{if(G)return;C||(C=n(gt));const It=C.now();m&&m(),ve!==null?W=It-ve:(!W||ae==="finished")&&(W=It),ae==="finished"&&z(),se=W,ve=null,ae="running",C.start()};t&&ht();const pt={then(It,tn){return B.then(It,tn)},get time(){return uh(xe)},set time(It){It=Hf(It),xe=It,ve!==null||!C||R===0?ve=It:W=C.now()-It/R},get duration(){const It=me.calculatedDuration===null?m4e(me):me.calculatedDuration;return uh(It)},get speed(){return R},set speed(It){It===R||!C||(R=It,pt.time=uh(xe))},get state(){return ae},play:ht,pause:()=>{ae="paused",ve=xe},stop:()=>{G=!0,ae!=="idle"&&(ae="idle",v&&v(),At())},cancel:()=>{se!==null&&gt(se),At()},complete:()=>{ae="finished"},sample:It=>(W=0,gt(It))};return pt}function HZe(t){let e;return()=>(e===void 0&&(e=t()),e)}const GZe=HZe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$Ze=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Dk=10,WZe=2e4,KZe=(t,e)=>e.type==="spring"||t==="backgroundColor"||!hbe(e.ease);function XZe(t,e,{onUpdate:n,onComplete:r,...i}){if(!(GZe()&&$Ze.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let u=!1,d,m;const v=()=>{m=new Promise(C=>{d=C})};v();let{keyframes:x,duration:S=300,ease:T,times:R}=i;if(KZe(e,i)){const C=iI({...i,repeat:0,delay:0});let V={done:!1,value:x[0]};const Y=[];let me=0;for(;!V.done&&me<WZe;)V=C.sample(me),Y.push(V.value),me+=Dk;R=void 0,x=Y,S=me-Dk,T="linear"}const G=iZe(t.owner.current,e,x,{...i,duration:S,ease:T,times:R}),L=()=>G.cancel(),B=()=>{Ui.update(L),d(),v()};return G.onfinish=()=>{t.set(sZe(x,i)),r&&r(),B()},{then(C,V){return m.then(C,V)},attachTimeline(C){return G.timeline=C,G.onfinish=null,os},get time(){return uh(G.currentTime||0)},set time(C){G.currentTime=Hf(C)},get speed(){return G.playbackRate},set speed(C){G.playbackRate=C},get duration(){return uh(S)},play:()=>{u||(G.play(),Nc(L))},pause:()=>G.pause(),stop:()=>{if(u=!0,G.playState==="idle")return;const{currentTime:C}=G;if(C){const V=iI({...i,autoplay:!1});t.setWithVelocity(V.sample(C-Dk).value,V.sample(C).value,Dk)}B()},complete:()=>G.finish(),cancel:B}}function qZe({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:os,pause:os,stop:os,then:o=>(o(),Promise.resolve()),cancel:os,complete:os});return e?iI({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const YZe={type:"spring",stiffness:500,damping:25,restSpeed:10},ZZe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QZe={type:"keyframes",duration:.8},JZe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},eQe=(t,{keyframes:e})=>e.length>2?QZe:Q2.has(t)?t.startsWith("scale")?ZZe(e[1]):YZe:JZe,i$=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Yf.test(e)||e==="0")&&!e.startsWith("url(")),tQe=new Set(["brightness","contrast","saturate","opacity"]);function nQe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(nR)||[];if(!r)return t;const i=n.replace(r,"");let o=tQe.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const rQe=/([a-z-]*)\(.*?\)/g,s$={...Yf,getAnimatableNone:t=>{const e=t.match(rQe);return e?e.map(nQe).join(" "):t}},iQe={...Yye,color:wa,backgroundColor:wa,outlineColor:wa,fill:wa,stroke:wa,borderColor:wa,borderTopColor:wa,borderRightColor:wa,borderBottomColor:wa,borderLeftColor:wa,filter:s$,WebkitFilter:s$},pX=t=>iQe[t];function Lbe(t,e){let n=pX(t);return n!==s$&&(n=Yf),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Nbe=t=>/^0[^.\s]+$/.test(t);function sQe(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Nbe(t)}function oQe(t,e,n,r){const i=i$(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const u=r.from!==void 0?r.from:t.get();let d;const m=[];for(let v=0;v<o.length;v++)o[v]===null&&(o[v]=v===0?u:o[v-1]),sQe(o[v])&&m.push(v),typeof o[v]=="string"&&o[v]!=="none"&&o[v]!=="0"&&(d=o[v]);if(i&&m.length&&d)for(let v=0;v<m.length;v++){const x=m[v];o[x]=Lbe(e,d)}return o}function aQe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:u,repeatDelay:d,from:m,elapsed:v,...x}){return!!Object.keys(x).length}function Fbe(t,e){return t[e]||t.default||t}const fX=(t,e,n,r={})=>i=>{const o=Fbe(r,t)||{},u=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Hf(u);const m=oQe(e,t,n,o),v=m[0],x=m[m.length-1],S=i$(t,v),T=i$(t,x);let R={keyframes:m,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-d,onUpdate:G=>{e.set(G),o.onUpdate&&o.onUpdate(G)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(aQe(o)||(R={...R,...eQe(t,R)}),R.duration&&(R.duration=Hf(R.duration)),R.repeatDelay&&(R.repeatDelay=Hf(R.repeatDelay)),!S||!T||rZe.current||o.type===!1)return qZe(R);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const G=XZe(e,t,R);if(G)return G}return iI(R)};function sI(t){return!!(Ra(t)&&t.add)}const Bbe=t=>/^\-?\d*\.?\d+$/.test(t);function mX(t,e){t.indexOf(e)===-1&&t.push(e)}function gX(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function lQe([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[o]=t.splice(e,1);t.splice(i,0,o)}return t}class vX{constructor(){this.subscriptions=[]}add(e){return mX(this.subscriptions,e),()=>gX(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const u=this.subscriptions[o];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const uQe=t=>!isNaN(parseFloat(t)),pb={current:void 0};class cQe{constructor(e,n={}){this.version="10.16.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:o,timestamp:u}=Xo;this.lastUpdated!==u&&(this.timeDelta=o,this.lastUpdated=u,Ui.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ui.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=uQe(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vX);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ui.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return pb.current&&pb.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Rbe(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function j2(t,e){return new cQe(t,e)}const Ube=t=>e=>e.test(t),dQe={test:t=>t==="auto",parse:t=>t},zbe=[J2,$n,Ic,bf,gYe,mYe,dQe],zy=t=>zbe.find(Ube(t)),hQe=[...zbe,wa,Yf],pQe=t=>hQe.find(Ube(t));function fQe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,j2(n))}function mQe(t,e){const n=iR(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const u in o){const d=AYe(o[u]);fQe(t,u,d)}}function gQe(t,e,n){var r,i;const o=Object.keys(e).filter(d=>!t.hasValue(d)),u=o.length;if(u)for(let d=0;d<u;d++){const m=o[d],v=e[m];let x=null;Array.isArray(v)&&(x=v[0]),x===null&&(x=(i=(r=n[m])!==null&&r!==void 0?r:t.readValue(m))!==null&&i!==void 0?i:e[m]),x!=null&&(typeof x=="string"&&(Bbe(x)||Nbe(x))?x=parseFloat(x):!pQe(x)&&Yf.test(v)&&(x=Lbe(m,v)),t.addValue(m,j2(x,{owner:t})),n[m]===void 0&&(n[m]=x),x!==null&&t.setBaseTarget(m,x))}}function vQe(t,e){return e?(e[t]||e.default||e).from:void 0}function yQe(t,e,n){const r={};for(const i in t){const o=vQe(i,e);if(o!==void 0)r[i]=o;else{const u=n.getValue(i);u&&(r[i]=u.get())}}return r}function bQe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Vbe(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:u,...d}=t.makeTargetAnimatable(e);const m=t.getValue("willChange");r&&(o=r);const v=[],x=i&&t.animationState&&t.animationState.getState()[i];for(const S in d){const T=t.getValue(S),R=d[S];if(!T||R===void 0||x&&bQe(x,S))continue;const G={delay:n,elapsed:0,...o};if(window.HandoffAppearAnimations&&!T.hasAnimated){const B=t.getProps()[tZe];B&&(G.elapsed=window.HandoffAppearAnimations(B,S,T,Ui))}T.start(fX(S,T,R,t.shouldReduceMotion&&Q2.has(S)?{type:!1}:G));const L=T.animation;sI(m)&&(m.add(S),L.then(()=>m.remove(S))),v.push(L)}return u&&Promise.all(v).then(()=>{u&&mQe(t,u)}),v}function o$(t,e,n={}){const r=iR(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(Vbe(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:x,staggerDirection:S}=i;return _Qe(t,e,v+m,x,S,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[m,v]=d==="beforeChildren"?[o,u]:[u,o];return m().then(()=>v())}else return Promise.all([o(),u(n.delay)])}function _Qe(t,e,n=0,r=0,i=1,o){const u=[],d=(t.variantChildren.size-1)*r,m=i===1?(v=0)=>v*r:(v=0)=>d-v*r;return Array.from(t.variantChildren).sort(wQe).forEach((v,x)=>{v.notify("AnimationStart",e),u.push(o$(v,e,{...o,delay:n+m(x)}).then(()=>v.notify("AnimationComplete",e)))}),Promise.all(u)}function wQe(t,e){return t.sortNodePosition(e)}function xQe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>o$(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=o$(t,e,n);else{const i=typeof e=="function"?iR(t,e,n.custom):e;r=Promise.all(Vbe(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const SQe=[...QK].reverse(),EQe=QK.length;function CQe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>xQe(t,n,r)))}function PQe(t){let e=CQe(t);const n=TQe();let r=!0;const i=(m,v)=>{const x=iR(t,v);if(x){const{transition:S,transitionEnd:T,...R}=x;m={...m,...R,...T}}return m};function o(m){e=m(t)}function u(m,v){const x=t.getProps(),S=t.getVariantContext(!0)||{},T=[],R=new Set;let G={},L=1/0;for(let z=0;z<EQe;z++){const C=SQe[z],V=n[C],Y=x[C]!==void 0?x[C]:S[C],me=r_(Y),q=C===v?V.isActive:null;q===!1&&(L=z);let ae=Y===S[C]&&Y!==x[C]&&me;if(ae&&r&&t.manuallyAnimateOnMount&&(ae=!1),V.protectedKeys={...G},!V.isActive&&q===null||!Y&&!V.prevProp||eR(Y)||typeof Y=="boolean")continue;const ve=MQe(V.prevProp,Y);let W=ve||C===v&&V.isActive&&!ae&&me||z>L&&me;const se=Array.isArray(Y)?Y:[Y];let Te=se.reduce(i,{});q===!1&&(Te={});const{prevResolvedValues:dt={}}=V,He={...dt,...Te},xe=gt=>{W=!0,R.delete(gt),V.needsAnimating[gt]=!0};for(const gt in He){const ze=Te[gt],At=dt[gt];G.hasOwnProperty(gt)||(ze!==At?tI(ze)&&tI(At)?!cbe(ze,At)||ve?xe(gt):V.protectedKeys[gt]=!0:ze!==void 0?xe(gt):R.add(gt):ze!==void 0&&R.has(gt)?xe(gt):V.protectedKeys[gt]=!0)}V.prevProp=Y,V.prevResolvedValues=Te,V.isActive&&(G={...G,...Te}),r&&t.blockInitialAnimation&&(W=!1),W&&!ae&&T.push(...se.map(gt=>({animation:gt,options:{type:C,...m}})))}if(R.size){const z={};R.forEach(C=>{const V=t.getBaseTarget(C);V!==void 0&&(z[C]=V)}),T.push({animation:z})}let B=!!T.length;return r&&x.initial===!1&&!t.manuallyAnimateOnMount&&(B=!1),r=!1,B?e(T):Promise.resolve()}function d(m,v,x){var S;if(n[m].isActive===v)return Promise.resolve();(S=t.variantChildren)===null||S===void 0||S.forEach(R=>{var G;return(G=R.animationState)===null||G===void 0?void 0:G.setActive(m,v)}),n[m].isActive=v;const T=u(x,m);for(const R in n)n[R].protectedKeys={};return T}return{animateChanges:u,setActive:d,setAnimateFunction:o,getState:()=>n}}function MQe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cbe(e,t):!1}function s2(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function TQe(){return{animate:s2(!0),whileInView:s2(),whileHover:s2(),whileTap:s2(),whileDrag:s2(),whileFocus:s2(),exit:s2()}}class kQe extends i1{constructor(e){super(e),e.animationState||(e.animationState=PQe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),eR(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let AQe=0;class IQe extends i1{constructor(){super(...arguments),this.id=AQe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const RQe={animation:{Feature:kQe},exit:{Feature:IQe}},g4e=(t,e)=>Math.abs(t-e);function DQe(t,e){const n=g4e(t.x,e.x),r=g4e(t.y,e.y);return Math.sqrt(n**2+r**2)}class jbe{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=vH(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=DQe(v.offset,{x:0,y:0})>=3;if(!x&&!S)return;const{point:T}=v,{timestamp:R}=Xo;this.history.push({...T,timestamp:R});const{onStart:G,onMove:L}=this.handlers;x||(G&&G(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),L&&L(this.lastMoveEvent,v)},this.handlePointerMove=(v,x)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=gH(x,this.transformPagePoint),Ui.update(this.updatePoint,!0)},this.handlePointerUp=(v,x)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:S,onSessionEnd:T}=this.handlers,R=vH(v.type==="pointercancel"?this.lastMoveEventInfo:gH(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(v,R),T&&T(v,R)},!sbe(e))return;this.handlers=n,this.transformPagePoint=r;const i=rR(e),o=gH(i,this.transformPagePoint),{point:u}=o,{timestamp:d}=Xo;this.history=[{...u,timestamp:d}];const{onSessionStart:m}=n;m&&m(e,vH(o,this.history)),this.removeListeners=jf(lh(window,"pointermove",this.handlePointerMove),lh(window,"pointerup",this.handlePointerUp),lh(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Nc(this.updatePoint)}}function gH(t,e){return e?{point:e(t.point)}:t}function v4e(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vH({point:t},e){return{point:t,delta:v4e(t,Hbe(e)),offset:v4e(t,OQe(e)),velocity:LQe(e,.1)}}function OQe(t){return t[0]}function Hbe(t){return t[t.length-1]}function LQe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Hbe(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hf(e)));)n--;if(!r)return{x:0,y:0};const o=uh(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const u={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function M0(t){return t.max-t.min}function a$(t,e=0,n=.01){return Math.abs(t-e)<=n}function y4e(t,e,n,r=.5){t.origin=r,t.originPoint=Fi(e.min,e.max,t.origin),t.scale=M0(n)/M0(e),(a$(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Fi(n.min,n.max,t.origin)-t.originPoint,(a$(t.translate)||isNaN(t.translate))&&(t.translate=0)}function fb(t,e,n,r){y4e(t.x,e.x,n.x,r?r.originX:void 0),y4e(t.y,e.y,n.y,r?r.originY:void 0)}function b4e(t,e,n){t.min=n.min+e.min,t.max=t.min+M0(e)}function NQe(t,e,n){b4e(t.x,e.x,n.x),b4e(t.y,e.y,n.y)}function _4e(t,e,n){t.min=e.min-n.min,t.max=t.min+M0(e)}function mb(t,e,n){_4e(t.x,e.x,n.x),_4e(t.y,e.y,n.y)}function FQe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Fi(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Fi(n,t,r.max):Math.min(t,n)),t}function w4e(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BQe(t,{top:e,left:n,bottom:r,right:i}){return{x:w4e(t.x,n,i),y:w4e(t.y,e,r)}}function x4e(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UQe(t,e){return{x:x4e(t.x,e.x),y:x4e(t.y,e.y)}}function zQe(t,e){let n=.5;const r=M0(t),i=M0(e);return i>r?n=s_(e.min,e.max-r,t.min):r>i&&(n=s_(t.min,t.max-i,e.min)),qf(0,1,n)}function VQe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const l$=.35;function jQe(t=l$){return t===!1?t=0:t===!0&&(t=l$),{x:S4e(t,"left","right"),y:S4e(t,"top","bottom")}}function S4e(t,e,n){return{min:E4e(t,e),max:E4e(t,n)}}function E4e(t,e){return typeof t=="number"?t:t[e]||0}const C4e=()=>({translate:0,scale:1,origin:0,originPoint:0}),D4=()=>({x:C4e(),y:C4e()}),P4e=()=>({min:0,max:0}),Is=()=>({x:P4e(),y:P4e()});function Sc(t){return[t("x"),t("y")]}function Gbe({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function HQe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GQe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function yH(t){return t===void 0||t===1}function u$({scale:t,scaleX:e,scaleY:n}){return!yH(t)||!yH(e)||!yH(n)}function d2(t){return u$(t)||$be(t)||t.z||t.rotate||t.rotateX||t.rotateY}function $be(t){return M4e(t.x)||M4e(t.y)}function M4e(t){return t&&t!=="0%"}function oI(t,e,n){const r=t-n,i=e*r;return n+i}function T4e(t,e,n,r,i){return i!==void 0&&(t=oI(t,i,r)),oI(t,n,r)+e}function c$(t,e=0,n=1,r,i){t.min=T4e(t.min,e,n,r,i),t.max=T4e(t.max,e,n,r,i)}function Wbe(t,{x:e,y:n}){c$(t.x,e.translate,e.scale,e.originPoint),c$(t.y,n.translate,n.scale,n.originPoint)}function $Qe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,u;for(let d=0;d<i;d++){o=n[d],u=o.projectionDelta;const m=o.instance;m&&m.style&&m.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&O4(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Wbe(t,u)),r&&d2(o.latestValues)&&O4(t,o.latestValues))}e.x=k4e(e.x),e.y=k4e(e.y)}function k4e(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Sf(t,e){t.min=t.min+e,t.max=t.max+e}function A4e(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,u=Fi(t.min,t.max,o);c$(t,e[n],e[r],u,e.scale)}const WQe=["x","scaleX","originX"],KQe=["y","scaleY","originY"];function O4(t,e){A4e(t.x,e,WQe),A4e(t.y,e,KQe)}function Kbe(t,e){return Gbe(GQe(t.getBoundingClientRect(),e))}function XQe(t,e,n){const r=Kbe(t,n),{scroll:i}=e;return i&&(Sf(r.x,i.offset.x),Sf(r.y,i.offset.y)),r}const qQe=new WeakMap;class YQe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Is(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{this.stopAnimation(),n&&this.snapToCursor(rR(m,"page").point)},o=(m,v)=>{const{drag:x,dragPropagation:S,onDragStart:T}=this.getProps();if(x&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=abe(x),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sc(G=>{let L=this.getAxisMotionValue(G).get()||0;if(Ic.test(L)){const{projection:B}=this.visualElement;if(B&&B.layout){const z=B.layout.layoutBox[G];z&&(L=M0(z)*(parseFloat(L)/100))}}this.originPoint[G]=L}),T&&Ui.update(()=>T(m,v),!1,!0);const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},u=(m,v)=>{const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:T,onDrag:R}=this.getProps();if(!x&&!this.openGlobalLock)return;const{offset:G}=v;if(S&&this.currentDirection===null){this.currentDirection=ZQe(G),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",v.point,G),this.updateAxis("y",v.point,G),this.visualElement.render(),R&&R(m,v)},d=(m,v)=>this.stop(m,v);this.panSession=new jbe(e,{onSessionStart:i,onStart:o,onMove:u,onSessionEnd:d},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ui.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ok(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=FQe(u,this.constraints[e],this.elastic[e])),o.set(u)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&I4(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BQe(r.layoutBox,e):this.constraints=!1,this.elastic=jQe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Sc(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=VQe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!I4(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=XQe(r,i.root,this.visualElement.getTransformPagePoint());let u=UQe(i.layout.layoutBox,o);if(n){const d=n(HQe(u));this.hasMutatedConstraints=!!d,d&&(u=Gbe(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},v=Sc(x=>{if(!Ok(x,n,this.currentDirection))return;let S=m&&m[x]||{};u&&(S={min:0,max:0});const T=i?200:1e6,R=i?40:1e7,G={type:"inertia",velocity:r?e[x]:0,bounceStiffness:T,bounceDamping:R,timeConstant:750,restDelta:1,restSpeed:10,...o,...S};return this.startAxisValueAnimation(x,G)});return Promise.all(v).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(fX(e,r,0,n))}stopAnimation(){Sc(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Sc(n=>{const{drag:r}=this.getProps();if(!Ok(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:u,max:d}=i.layout.layoutBox[n];o.set(e[n]-Fi(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!I4(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Sc(u=>{const d=this.getAxisMotionValue(u);if(d){const m=d.get();i[u]=zQe({min:m,max:m},this.constraints[u])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Sc(u=>{if(!Ok(u,e,null))return;const d=this.getAxisMotionValue(u),{min:m,max:v}=this.constraints[u];d.set(Fi(m,v,i[u]))})}addListeners(){if(!this.visualElement.current)return;qQe.set(this.visualElement,this);const e=this.visualElement.current,n=lh(e,"pointerdown",m=>{const{drag:v,dragListener:x=!0}=this.getProps();v&&x&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();I4(m)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const u=ih(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:m,hasLayoutChanged:v})=>{this.isDragging&&v&&(Sc(x=>{const S=this.getAxisMotionValue(x);S&&(this.originPoint[x]+=m[x].translate,S.set(S.get()+m[x].translate))}),this.visualElement.render())});return()=>{u(),n(),o(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:u=l$,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:u,dragMomentum:d}}}function Ok(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ZQe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QQe extends i1{constructor(e){super(e),this.removeGroupControls=os,this.removeListeners=os,this.controls=new YQe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||os}unmount(){this.removeGroupControls(),this.removeListeners()}}const I4e=t=>(e,n)=>{t&&Ui.update(()=>t(e,n))};class JQe extends i1{constructor(){super(...arguments),this.removePointerDownListener=os}onPointerDown(e){this.session=new jbe(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:I4e(e),onStart:I4e(n),onMove:r,onEnd:(o,u)=>{delete this.session,i&&Ui.update(()=>i(o,u))}}}mount(){this.removePointerDownListener=lh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function eJe(){const t=ut.useContext(ZK);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=ut.useId();return ut.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const iA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function R4e(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($n.test(t))t=parseFloat(t);else return t;const n=R4e(t,e.target.x),r=R4e(t,e.target.y);return`${n}% ${r}%`}},tJe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Yf.parse(t);if(i.length>5)return r;const o=Yf.createTransformer(t),u=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,m=n.y.scale*e.y;i[0+u]/=d,i[1+u]/=m;const v=Fi(d,m,.5);return typeof i[2+u]=="number"&&(i[2+u]/=v),typeof i[3+u]=="number"&&(i[3+u]/=v),o(i)}};class nJe extends Ige.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;lYe(rJe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),iA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,u=r.projection;return u&&(u.isPresent=o,i||e.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?u.promote():u.relegate()||Ui.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Xbe(t){const[e,n]=eJe(),r=ut.useContext(Gye);return Ige.createElement(nJe,{...t,layoutGroup:r,switchLayoutGroup:ut.useContext($ye),isPresent:e,safeToRemove:n})}const rJe={borderRadius:{...Vy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vy,borderTopRightRadius:Vy,borderBottomLeftRadius:Vy,borderBottomRightRadius:Vy,boxShadow:tJe},qbe=["TopLeft","TopRight","BottomLeft","BottomRight"],iJe=qbe.length,D4e=t=>typeof t=="string"?parseFloat(t):t,O4e=t=>typeof t=="number"||$n.test(t);function sJe(t,e,n,r,i,o){i?(t.opacity=Fi(0,n.opacity!==void 0?n.opacity:1,oJe(r)),t.opacityExit=Fi(e.opacity!==void 0?e.opacity:1,0,aJe(r))):o&&(t.opacity=Fi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<iJe;u++){const d=`border${qbe[u]}Radius`;let m=L4e(e,d),v=L4e(n,d);if(m===void 0&&v===void 0)continue;m||(m=0),v||(v=0),m===0||v===0||O4e(m)===O4e(v)?(t[d]=Math.max(Fi(D4e(m),D4e(v),r),0),(Ic.test(v)||Ic.test(m))&&(t[d]+="%")):t[d]=v}(e.rotate||n.rotate)&&(t.rotate=Fi(e.rotate||0,n.rotate||0,r))}function L4e(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const oJe=Ybe(0,.5,uX),aJe=Ybe(.5,.95,os);function Ybe(t,e,n){return r=>r<t?0:r>e?1:n(s_(t,e,r))}function N4e(t,e){t.min=e.min,t.max=e.max}function dl(t,e){N4e(t.x,e.x),N4e(t.y,e.y)}function F4e(t,e,n,r,i){return t-=e,t=oI(t,1/n,r),i!==void 0&&(t=oI(t,1/i,r)),t}function lJe(t,e=0,n=1,r=.5,i,o=t,u=t){if(Ic.test(e)&&(e=parseFloat(e),e=Fi(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=Fi(o.min,o.max,r);t===o&&(d-=e),t.min=F4e(t.min,e,n,d,i),t.max=F4e(t.max,e,n,d,i)}function B4e(t,e,[n,r,i],o,u){lJe(t,e[n],e[r],e[i],e.scale,o,u)}const uJe=["x","scaleX","originX"],cJe=["y","scaleY","originY"];function U4e(t,e,n,r){B4e(t.x,e,uJe,n?n.x:void 0,r?r.x:void 0),B4e(t.y,e,cJe,n?n.y:void 0,r?r.y:void 0)}function z4e(t){return t.translate===0&&t.scale===1}function Zbe(t){return z4e(t.x)&&z4e(t.y)}function dJe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Qbe(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function V4e(t){return M0(t.x)/M0(t.y)}class hJe{constructor(){this.members=[]}add(e){mX(this.members,e),e.scheduleRender()}remove(e){if(gX(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function j4e(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:m,rotateX:v,rotateY:x}=n;m&&(r+=`rotate(${m}deg) `),v&&(r+=`rotateX(${v}deg) `),x&&(r+=`rotateY(${x}deg) `)}const u=t.x.scale*e.x,d=t.y.scale*e.y;return(u!==1||d!==1)&&(r+=`scale(${u}, ${d})`),r||"none"}const pJe=(t,e)=>t.depth-e.depth;class fJe{constructor(){this.children=[],this.isDirty=!1}add(e){mX(this.children,e),this.isDirty=!0}remove(e){gX(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pJe),this.isDirty=!1,this.children.forEach(e)}}function mJe(t,e){const n=performance.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Nc(r),t(o-e))};return Ui.read(r,!0),()=>Nc(r)}function gJe(t){window.MotionDebug&&window.MotionDebug.record(t)}function vJe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function yJe(t,e,n){const r=Ra(t)?t:j2(t);return r.start(fX("",r,e,n)),r.animation}const H4e=["","X","Y","Z"],G4e=1e3;let bJe=0;const h2={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function Jbe({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(u={},d=e==null?void 0:e()){this.id=bJe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{h2.totalNodes=h2.resolvedTargetDeltas=h2.recalculatedProjection=0,this.nodes.forEach(xJe),this.nodes.forEach(MJe),this.nodes.forEach(TJe),this.nodes.forEach(SJe),gJe(h2)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new fJe)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new vX),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const m=this.eventHandlers.get(u);m&&m.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vJe(u),this.instance=u;const{layoutId:m,layout:v,visualElement:x}=this.options;if(x&&!x.current&&x.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(v||m)&&(this.isLayoutDirty=!0),t){let S;const T=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,S&&S(),S=mJe(T,250),iA.hasAnimatedSinceResize&&(iA.hasAnimatedSinceResize=!1,this.nodes.forEach(W4e))})}m&&this.root.registerSharedNode(m,this),this.options.animate!==!1&&x&&(m||v)&&this.addEventListener("didUpdate",({delta:S,hasLayoutChanged:T,hasRelativeTargetChanged:R,layout:G})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||x.getDefaultTransition()||DJe,{onLayoutAnimationStart:B,onLayoutAnimationComplete:z}=x.getProps(),C=!this.targetLayout||!Qbe(this.targetLayout,G)||R,V=!T&&R;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||V||T&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(S,V);const Y={...Fbe(L,"layout"),onPlay:B,onComplete:z};(x.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else T||W4e(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=G})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Nc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(kJe),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const S=this.path[x];S.shouldResetTransform=!0,S.updateScroll("snapshot"),S.options.layoutRoot&&S.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const v=this.getTransformTemplate();this.prevTransformTemplateValue=v?v(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($4e);return}this.isUpdating||this.nodes.forEach(CJe),this.isUpdating=!1,this.nodes.forEach(PJe),this.nodes.forEach(_Je),this.nodes.forEach(wJe),this.clearAllSnapshots();const d=performance.now();Xo.delta=qf(0,1e3/60,d-Xo.timestamp),Xo.timestamp=d,Xo.isProcessing=!0,lH.update.process(Xo),lH.preRender.process(Xo),lH.render.process(Xo),Xo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(EJe),this.sharedNodes.forEach(AJe)}scheduleUpdateProjection(){Ui.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ui.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!Zbe(this.projectionDelta),m=this.getTransformTemplate(),v=m?m(this.latestValues,""):void 0,x=v!==this.prevTransformTemplateValue;u&&(d||d2(this.latestValues)||x)&&(i(this.instance,v),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return u&&(m=this.removeTransform(m)),OJe(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Is();const d=u.measureViewportBox(),{scroll:m}=this.root;return m&&(Sf(d.x,m.offset.x),Sf(d.y,m.offset.y)),d}removeElementScroll(u){const d=Is();dl(d,u);for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:x,options:S}=v;if(v!==this.root&&x&&S.layoutScroll){if(x.isRoot){dl(d,u);const{scroll:T}=this.root;T&&(Sf(d.x,-T.offset.x),Sf(d.y,-T.offset.y))}Sf(d.x,x.offset.x),Sf(d.y,x.offset.y)}}return d}applyTransform(u,d=!1){const m=Is();dl(m,u);for(let v=0;v<this.path.length;v++){const x=this.path[v];!d&&x.options.layoutScroll&&x.scroll&&x!==x.root&&O4(m,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),d2(x.latestValues)&&O4(m,x.latestValues)}return d2(this.latestValues)&&O4(m,this.latestValues),m}removeTransform(u){const d=Is();dl(d,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];if(!v.instance||!d2(v.latestValues))continue;u$(v.latestValues)&&v.updateSnapshot();const x=Is(),S=v.measurePageBox();dl(x,S),U4e(d,v.latestValues,v.snapshot?v.snapshot.layoutBox:void 0,x)}return d2(this.latestValues)&&U4e(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const m=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=m.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=m.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=m.isSharedProjectionDirty);const v=!!this.resumingFrom||this!==m;if(!(u||v&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:S,layoutId:T}=this.options;if(!(!this.layout||!(S||T))){if(this.resolvedRelativeTargetAt=Xo.timestamp,!this.targetDelta&&!this.relativeTarget){const R=this.getClosestProjectingParent();R&&R.layout&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),mb(this.relativeTargetOrigin,this.layout.layoutBox,R.layout.layoutBox),dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Is(),this.targetWithTransforms=Is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NQe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dl(this.target,this.layout.layoutBox),Wbe(this.target,this.targetDelta)):dl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const R=this.getClosestProjectingParent();R&&!!R.resumingFrom==!!this.resumingFrom&&!R.options.layoutScroll&&R.target&&this.animationProgress!==1?(this.relativeParent=R,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),mb(this.relativeTargetOrigin,this.target,R.target),dl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}h2.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||u$(this.parent.latestValues)||$be(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),m=!!this.resumingFrom||this!==d;let v=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(v=!1),m&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(v=!1),this.resolvedRelativeTargetAt===Xo.timestamp&&(v=!1),v)return;const{layout:x,layoutId:S}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||S))return;dl(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,R=this.treeScale.y;$Qe(this.layoutCorrected,this.treeScale,this.path,m),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:G}=d;if(!G){this.projectionTransform&&(this.projectionDelta=D4(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=D4(),this.projectionDeltaWithTransform=D4());const L=this.projectionTransform;fb(this.projectionDelta,this.layoutCorrected,G,this.latestValues),this.projectionTransform=j4e(this.projectionDelta,this.treeScale),(this.projectionTransform!==L||this.treeScale.x!==T||this.treeScale.y!==R)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",G)),h2.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,d=!1){const m=this.snapshot,v=m?m.latestValues:{},x={...this.latestValues},S=D4();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=Is(),R=m?m.source:void 0,G=this.layout?this.layout.source:void 0,L=R!==G,B=this.getStack(),z=!B||B.members.length<=1,C=!!(L&&!z&&this.options.crossfade===!0&&!this.path.some(RJe));this.animationProgress=0;let V;this.mixTargetDelta=Y=>{const me=Y/1e3;K4e(S.x,u.x,me),K4e(S.y,u.y,me),this.setTargetDelta(S),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mb(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),IJe(this.relativeTarget,this.relativeTargetOrigin,T,me),V&&dJe(this.relativeTarget,V)&&(this.isProjectionDirty=!1),V||(V=Is()),dl(V,this.relativeTarget)),L&&(this.animationValues=x,sJe(x,v,this.latestValues,me,C,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=me},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Nc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ui.update(()=>{iA.hasAnimatedSinceResize=!0,this.currentAnimation=yJe(0,G4e,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(G4e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:m,layout:v,latestValues:x}=u;if(!(!d||!m||!v)){if(this!==u&&this.layout&&v&&e_e(this.options.animationType,this.layout.layoutBox,v.layoutBox)){m=this.target||Is();const S=M0(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+S;const T=M0(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+T}dl(d,m),O4(d,x),fb(this.projectionDeltaWithTransform,this.layoutCorrected,d,x)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new hJe),this.sharedNodes.get(u).add(d);const v=d.options.initialPromotionConfig;d.promote({transition:v?v.transition:void 0,preserveFollowOpacity:v&&v.shouldPreserveFollowOpacity?v.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:m}={}){const v=this.getStack();v&&v.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:m}=u;if((m.rotate||m.rotateX||m.rotateY||m.rotateZ)&&(d=!0),!d)return;const v={};for(let x=0;x<H4e.length;x++){const S="rotate"+H4e[x];m[S]&&(v[S]=m[S],u.setStaticValue(S,0))}u.render();for(const x in v)u.setStaticValue(x,v[x]);u.scheduleRender()}getProjectionStyles(u={}){var d,m;const v={};if(!this.instance||this.isSVG)return v;if(this.isVisible)v.visibility="";else return{visibility:"hidden"};const x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,v.opacity="",v.pointerEvents=rA(u.pointerEvents)||"",v.transform=x?x(this.latestValues,""):"none",v;const S=this.getLead();if(!this.projectionDelta||!this.layout||!S.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=rA(u.pointerEvents)||""),this.hasProjected&&!d2(this.latestValues)&&(L.transform=x?x({},""):"none",this.hasProjected=!1),L}const T=S.animationValues||S.latestValues;this.applyTransformsToTarget(),v.transform=j4e(this.projectionDeltaWithTransform,this.treeScale,T),x&&(v.transform=x(T,v.transform));const{x:R,y:G}=this.projectionDelta;v.transformOrigin=`${R.origin*100}% ${G.origin*100}% 0`,S.animationValues?v.opacity=S===this?(m=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&m!==void 0?m:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:v.opacity=S===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const L in JA){if(T[L]===void 0)continue;const{correct:B,applyTo:z}=JA[L],C=v.transform==="none"?T[L]:B(T[L],S);if(z){const V=z.length;for(let Y=0;Y<V;Y++)v[z[Y]]=C}else v[L]=C}return this.options.layoutId&&(v.pointerEvents=S===this?rA(u.pointerEvents)||"":"none"),v}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach($4e),this.root.sharedNodes.clear()}}}function _Je(t){t.updateLayout()}function wJe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,u=n.source!==t.layout.source;o==="size"?Sc(S=>{const T=u?n.measuredBox[S]:n.layoutBox[S],R=M0(T);T.min=r[S].min,T.max=T.min+R}):e_e(o,n.layoutBox,r)&&Sc(S=>{const T=u?n.measuredBox[S]:n.layoutBox[S],R=M0(r[S]);T.max=T.min+R,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[S].max=t.relativeTarget[S].min+R)});const d=D4();fb(d,r,n.layoutBox);const m=D4();u?fb(m,t.applyTransform(i,!0),n.measuredBox):fb(m,r,n.layoutBox);const v=!Zbe(d);let x=!1;if(!t.resumeFrom){const S=t.getClosestProjectingParent();if(S&&!S.resumeFrom){const{snapshot:T,layout:R}=S;if(T&&R){const G=Is();mb(G,n.layoutBox,T.layoutBox);const L=Is();mb(L,r,R.layoutBox),Qbe(G,L)||(x=!0),S.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=G,t.relativeParent=S)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:m,layoutDelta:d,hasLayoutChanged:v,hasRelativeTargetChanged:x})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function xJe(t){h2.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function SJe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function EJe(t){t.clearSnapshot()}function $4e(t){t.clearMeasurements()}function CJe(t){t.isLayoutDirty=!1}function PJe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function W4e(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function MJe(t){t.resolveTargetDelta()}function TJe(t){t.calcProjection()}function kJe(t){t.resetRotation()}function AJe(t){t.removeLeadSnapshot()}function K4e(t,e,n){t.translate=Fi(e.translate,0,n),t.scale=Fi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function X4e(t,e,n,r){t.min=Fi(e.min,n.min,r),t.max=Fi(e.max,n.max,r)}function IJe(t,e,n,r){X4e(t.x,e.x,n.x,r),X4e(t.y,e.y,n.y,r)}function RJe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DJe={duration:.45,ease:[.4,0,.1,1]},q4e=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),Y4e=q4e("applewebkit/")&&!q4e("chrome/")?Math.round:os;function Z4e(t){t.min=Y4e(t.min),t.max=Y4e(t.max)}function OJe(t){Z4e(t.x),Z4e(t.y)}function e_e(t,e,n){return t==="position"||t==="preserve-aspect"&&!a$(V4e(e),V4e(n),.2)}const LJe=Jbe({attachResizeListener:(t,e)=>ih(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bH={current:void 0},t_e=Jbe({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bH.current){const t=new LJe({});t.mount(window),t.setOptions({layoutScroll:!0}),bH.current=t}return bH.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NJe={pan:{Feature:JQe},drag:{Feature:QQe,ProjectionNode:t_e,MeasureLayout:Xbe}},FJe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function BJe(t){const e=FJe.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function d$(t,e,n=1){const[r,i]=BJe(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const u=o.trim();return Bbe(u)?parseFloat(u):u}else return e$(i)?d$(i,e,n+1):i}function UJe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!e$(o))return;const u=d$(o,r);u&&i.set(u)});for(const i in e){const o=e[i];if(!e$(o))continue;const u=d$(o,r);u&&(e[i]=u,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const zJe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),n_e=t=>zJe.has(t),VJe=t=>Object.keys(t).some(n_e),Q4e=t=>t===J2||t===$n,J4e=(t,e)=>parseFloat(t.split(", ")[e]),ege=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return J4e(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?J4e(o[1],t):0}},jJe=new Set(["x","y","z"]),HJe=T_.filter(t=>!jJe.has(t));function GJe(t){const e=[];return HJe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const fg={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ege(4,13),y:ege(5,14)};fg.translateX=fg.x;fg.translateY=fg.y;const $Je=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:u}=o,d={};u==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(v=>{d[v]=fg[v](r,o)}),e.render();const m=e.measureViewportBox();return n.forEach(v=>{const x=e.getValue(v);x&&x.jump(d[v]),t[v]=fg[v](m,o)}),t},WJe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(n_e);let o=[],u=!1;const d=[];if(i.forEach(m=>{const v=t.getValue(m);if(!t.hasValue(m))return;let x=n[m],S=zy(x);const T=e[m];let R;if(tI(T)){const G=T.length,L=T[0]===null?1:0;x=T[L],S=zy(x);for(let B=L;B<G&&T[B]!==null;B++)R?lX(zy(T[B])===R):R=zy(T[B])}else R=zy(T);if(S!==R)if(Q4e(S)&&Q4e(R)){const G=v.get();typeof G=="string"&&v.set(parseFloat(G)),typeof T=="string"?e[m]=parseFloat(T):Array.isArray(T)&&R===$n&&(e[m]=T.map(parseFloat))}else S!=null&&S.transform&&(R!=null&&R.transform)&&(x===0||T===0)?x===0?v.set(R.transform(x)):e[m]=S.transform(T):(u||(o=GJe(t),u=!0),d.push(m),r[m]=r[m]!==void 0?r[m]:e[m],v.jump(T))}),d.length){const m=d.indexOf("height")>=0?window.pageYOffset:null,v=$Je(e,t,d);return o.length&&o.forEach(([x,S])=>{t.getValue(x).set(S)}),t.render(),JI&&m!==null&&window.scrollTo({top:m}),{target:v,transitionEnd:r}}else return{target:e,transitionEnd:r}};function KJe(t,e,n,r){return VJe(e)?WJe(t,e,n,r):{target:e,transitionEnd:r}}const XJe=(t,e,n,r)=>{const i=UJe(t,e,r);return e=i.target,r=i.transitionEnd,KJe(t,e,n,r)},h$={current:null},r_e={current:!1};function qJe(){if(r_e.current=!0,!!JI)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>h$.current=t.matches;t.addListener(e),e()}else h$.current=!1}function YJe(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],u=n[i];if(Ra(o))t.addValue(i,o),sI(r)&&r.add(i);else if(Ra(u))t.addValue(i,j2(o,{owner:t})),sI(r)&&r.remove(i);else if(u!==o)if(t.hasValue(i)){const d=t.getValue(i);!d.hasAnimated&&d.set(o)}else{const d=t.getStaticValue(i);t.addValue(i,j2(d!==void 0?d:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const tge=new WeakMap,i_e=Object.keys(i_),ZJe=i_e.length,nge=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],QJe=JK.length;class JJe{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ui.render(this.render,!1,!0);const{latestValues:d,renderState:m}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=u,this.isControllingVariants=tR(n),this.isVariantNode=Hye(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...x}=this.scrapeMotionValuesFromProps(n,{});for(const S in x){const T=x[S];d[S]!==void 0&&Ra(T)&&(T.set(d[S],!1),sI(v)&&v.add(S))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,tge.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),r_e.current||qJe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:h$.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){tge.delete(this.current),this.projection&&this.projection.unmount(),Nc(this.notifyUpdate),Nc(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Q2.has(e),i=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ui.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let u,d;for(let m=0;m<ZJe;m++){const v=i_e[m],{isEnabled:x,Feature:S,ProjectionNode:T,MeasureLayout:R}=i_[v];T&&(u=T),x(n)&&(!this.features[v]&&S&&(this.features[v]=new S(this)),R&&(d=R))}if(!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:m,layout:v,drag:x,dragConstraints:S,layoutScroll:T,layoutRoot:R}=n;this.projection.setOptions({layoutId:m,layout:v,alwaysMeasureLayout:!!x||S&&I4(S),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof v=="string"?v:"both",initialPromotionConfig:o,layoutScroll:T,layoutRoot:R})}return d}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Is()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<nge.length;r++){const i=nge[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=YJe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<QJe;r++){const i=JK[r],o=this.props[i];(r_(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=j2(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=aX(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ra(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vX),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class s_e extends JJe{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},o){let u=yQe(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),u&&(u=i(u))),o){gQe(this,r,u);const d=XJe(this,r,u,n);n=d.transitionEnd,r=d.target}return{transition:e,transitionEnd:n,...r}}}function eet(t){return window.getComputedStyle(t)}class tet extends s_e{readValueFromInstance(e,n){if(Q2.has(n)){const r=pX(n);return r&&r.default||0}else{const r=eet(e),i=(Xye(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Kbe(e,n)}build(e,n,r,i){tX(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return oX(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ra(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){ebe(e,n,r,i)}}class net extends s_e{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Q2.has(n)){const r=pX(n);return r&&r.default||0}return n=tbe.has(n)?n:sX(n),e.getAttribute(n)}measureInstanceViewportBox(){return Is()}scrapeMotionValuesFromProps(e,n){return rbe(e,n)}build(e,n,r,i){rX(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){nbe(e,n,r,i)}mount(e){this.isSVGTag=iX(e.tagName),super.mount(e)}}const ret=(t,e)=>eX(t)?new net(e,{enableHardwareAcceleration:!1}):new tet(e,{enableHardwareAcceleration:!0}),iet={layout:{ProjectionNode:t_e,MeasureLayout:Xbe}},set={...RQe,...ZYe,...NJe,...iet},o_e=oYe((t,e)=>LYe(t,e,set,ret)),a_e=ut.createContext(null);function oet(t,e,n,r){if(!r)return t;const i=t.findIndex(x=>x.value===e);if(i===-1)return t;const o=r>0?1:-1,u=t[i+o];if(!u)return t;const d=t[i],m=u.layout,v=Fi(m.min,m.max,.5);return o===1&&d.layout.max+n>v||o===-1&&d.layout.min+n<v?lQe(t,i,i+o):t}function aet({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...o},u){const d=I_(()=>o_e(e)),m=[],v=ut.useRef(!1),x={axis:n,registerItem:(S,T)=>{T&&m.findIndex(R=>S===R.value)===-1&&(m.push({value:S,layout:T[n]}),m.sort(det))},updateOrder:(S,T,R)=>{if(v.current)return;const G=oet(m,S,T,R);m!==G&&(v.current=!0,r(G.map(cet).filter(L=>i.indexOf(L)!==-1)))}};return ut.useEffect(()=>{v.current=!1}),ut.createElement(d,{...o,ref:u,ignoreStrict:!0},ut.createElement(a_e.Provider,{value:x},t))}const uet=ut.forwardRef(aet);function cet(t){return t.value}function det(t,e){return t.layout.min-e.layout.min}function l_e(t){const e=I_(()=>j2(t)),{isStatic:n}=ut.useContext(YK);if(n){const[,r]=ut.useState(t);ut.useEffect(()=>e.on("change",r),[])}return e}const het=t=>typeof t=="object"&&t.mix,pet=t=>het(t)?t.mix:void 0;function fet(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],u=t[3+n],d=hX(i,o,{mixer:pet(o[0]),...u});return e?d(r):d}function u_e(t,e){const n=l_e(e()),r=()=>n.set(e());return r(),JG(()=>{const i=()=>Ui.update(r,!1,!0),o=t.map(u=>u.on("change",i));return()=>{o.forEach(u=>u()),Nc(r)}}),n}function met(t){pb.current=[],t();const e=u_e(pb.current,t);return pb.current=void 0,e}function get(t,e,n,r){if(typeof t=="function")return met(t);const i=typeof e=="function"?e:fet(e,n,r);return Array.isArray(t)?rge(t,i):rge([t],([o])=>i(o))}function rge(t,e){const n=I_(()=>[]);return u_e(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function ige(t,e=0){return Ra(t)?t:l_e(e)}function vet({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:o=!0,...u},d){const m=I_(()=>o_e(r)),v=ut.useContext(a_e),x={x:ige(e.x),y:ige(e.y)},S=get([x.x,x.y],([B,z])=>B||z?1:"unset"),T=ut.useRef(null),{axis:R,registerItem:G,updateOrder:L}=v;return ut.useEffect(()=>{G(n,T.current)},[v]),ut.createElement(m,{drag:R,...u,dragSnapToOrigin:!0,style:{...e,x:x.x,y:x.y,zIndex:S},layout:o,onDrag:(B,z)=>{const{velocity:C}=z;C[R]&&L(n,x[R].get(),C[R]),i&&i(B,z)},onLayoutMeasure:B=>{T.current=B},ref:d,ignoreStrict:!0},t)}const yet=ut.forwardRef(vet),c_e={Group:uet,Item:yet},bet=Ve.jsxs("svg",{className:"closeIcon",width:"14",height:"14",fill:"none",stroke:"#666666",strokeMiterlimit:"10",children:[Ve.jsx("circle",{cx:"7",cy:"7",r:"6"}),Ve.jsx("line",{x1:"4",y1:"4",x2:"10",y2:"10"}),Ve.jsx("line",{x1:"4",y1:"10",x2:"10",y2:"4"})]}),_et=Ve.jsx("svg",{className:"dragIcon",width:"14",height:"14",fill:"#666666",stroke:"none",children:Ve.jsx("path",{d:`M10.43,4H3.57C3.26,4,3,4.22,3,4.5v1C3,5.78,3.26,6,3.57,6h6.86C10.74,6,11,5.78,11,5.5v-1
C11,4.22,10.74,4,10.43,4z M10.43,8H3.57C3.26,8,3,8.22,3,8.5v1C3,9.78,3.26,10,3.57,10h6.86C10.74,10,11,9.78,11,9.5v-1
C11,8.22,10.74,8,10.43,8z`})});function wet(t){return Ve.jsx(c_e.Item,{value:t.title,children:Ve.jsxs("div",{children:[_et,Ve.jsx("span",{children:t.title}),Ve.jsx("button",{className:"closeIcon",onClick:()=>{t.onDelete(t.index)},children:bet})]})},t.title)}function xet(t){const[e,n]=ut.useState(!1),[r,i]=ut.useState(t.options),o=v=>{t.onDragComplete(v),i(v)},u=v=>{const x=[...r];x.splice(v,1),o(x)},d=[];r.forEach((v,x)=>{d.push(Ve.jsx(wet,{index:x,title:v,onDelete:u},v))});let m="dropdown draggable";return t.subdropdown&&(m+=" subdropdown"),Ve.jsxs("div",{className:m,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[Ve.jsx(Vye,{title:t.title}),Ve.jsx(c_e.Group,{axis:"y",values:r,onReorder:o,style:{visibility:e?"visible":"hidden"},children:d})]})}function Eet(t){const{option:e}=t,[n,r]=ut.useState("");let i;switch(e.type){case"draggable":i=Ve.jsx(xet,{title:e.title,options:e.value,onDragComplete:o=>{e.onDragComplete!==void 0&&e.onDragComplete(o)},subdropdown:!0});break;case"dropdown":i=Ve.jsx(d_e,{title:e.title,options:e.value,onSelect:e.onSelect,subdropdown:!0});break;case"option":i=Ve.jsx("button",{onClick:()=>{e.onSelect!==void 0&&e.onSelect(e.value),e.selectable&&(n!==e.title?r(e.title):r(""))},children:e.title});break}return Ve.jsx("li",{className:n===e.title?"selected":"",children:i},_Ve())}function d_e(t){const[e,n]=ut.useState(!1),r=[];t.options.map((o,u)=>{t.onSelect!==void 0&&(o.onSelect=t.onSelect),r.push(Ve.jsx(Eet,{option:o},u))});let i="dropdown";return t.subdropdown&&(i+=" subdropdown"),Ve.jsxs("div",{className:i,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:[Ve.jsx(Vye,{title:t.title}),Ve.jsx("ul",{style:{visibility:e?"visible":"hidden"},children:r})]})}function yX(t){const[e,n]=ut.useState(t.open!==void 0?t.open:!0),[r,i]=ut.useState(Math.random()),o=!e||t.children===void 0;return Ve.jsxs("div",{className:`accordion ${o?"hide":""}`,children:[Ve.jsxs("button",{className:"toggle",onClick:()=>{const u=!e;t.onToggle!==void 0&&t.onToggle(u),n(u)},children:[Ve.jsx("p",{className:`status ${e?"open":""}`,children:"Toggle"}),Ve.jsx("p",{className:"label",children:jA(t.label)})]}),t.canRefresh?Ve.jsx("button",{className:"refresh",onClick:()=>i(Math.random())}):null,t.button,Ve.jsx("div",{className:e?"open":"",children:Ve.jsx("div",{children:t.children})},r)]})}function h_e(t){const e=ut.useRef(null),[n,r]=ut.useState(!1),i=t.child!==void 0&&t.child.children.length>0,o=[];return t.child!==void 0&&t.child.children.length>0&&t.child.children.map((u,d)=>{o.push(Ve.jsx(h_e,{child:u,three:t.three},d))}),ut.useEffect(()=>{if(t.child){const u=t.three.getScene(t.child.uuid);if(u!==null){const d=u.getObjectByProperty("uuid",t.child.uuid);d!==void 0&&(e.current.style.opacity=d.visible?"1":"0.25")}}},[n]),Ve.jsx(Ve.Fragment,{children:t.child!==void 0&&Ve.jsxs("div",{className:"childObject",children:[Ve.jsxs("div",{className:"child",children:[i?Ve.jsx("button",{className:"status",style:{backgroundPositionX:n?"-14px":"2px"},onClick:()=>{r(!n)}}):null,Ve.jsx("button",{className:"name",style:{left:i?"20px":"5px"},onClick:()=>{t.child!==void 0&&(t.three.getObject(t.child.uuid),n||r(!0))},children:t.child.name.length>0?`${t.child.name} (${t.child.type})`:`${t.child.type}::${t.child.uuid}`}),Ve.jsx("button",{className:"visibility",ref:e,onClick:()=>{if(t.child){const u=t.three.getScene(t.child.uuid);if(u!==null){const d=u.getObjectByProperty("uuid",t.child.uuid);if(d!==void 0){const m="visible",v=!d.visible;e.current.style.opacity=v?"1":"0.25",t.three.updateObject(t.child.uuid,m,v),ws(d,m,v)}else console.log(`Hermes - Couldn't find object: ${t.child.uuid}`,u)}else console.log(`Hermes - Couldn't find object in scene: ${t.child.uuid}, ${t.child.name}`)}}}),Ve.jsx("div",{className:`icon ${EVe(t.child)}`})]}),Ve.jsx("div",{className:n?"open":"",children:Ve.jsx("div",{className:"container",children:o})})]},Math.random())})}function Cet(t){var n;const e=[];return(n=t.child)==null||n.children.map((r,i)=>{e.push(Ve.jsx(h_e,{child:r,scene:t.scene,three:t.three},i))}),Ve.jsx("div",{className:`scene ${t.class!==void 0?t.class:""}`,children:e})}function Pet(t){const[e,n]=ut.useState(t.defaultValue);return ut.useEffect(()=>{var T,R,G;let r=!1,i=-1,o=0,u=t.defaultValue;const d=L=>{var B;r=!0,o=Number((B=t.input.current)==null?void 0:B.value),i=L.clientX,document.addEventListener("mouseup",v,!1),document.addEventListener("mousemove",m,!1),document.addEventListener("contextmenu",v,!1)},m=L=>{if(!r)return;const B=t.step!==void 0?t.step:1,z=(L.clientX-i)*B;u=Number((o+z).toFixed(4)),t.min!==void 0&&(u=Math.max(u,t.min)),t.max!==void 0&&(u=Math.min(u,t.max)),t.onChange!==void 0&&t.onChange(u),n(u)},v=()=>{r=!1,document.removeEventListener("mouseup",v),document.removeEventListener("mousemove",m),document.removeEventListener("contextmenu",v)},x=L=>{const B=Number(L.target.value);n(B)},S=L=>{const B=Number(L.target.value);t.onChange!==void 0&&t.onChange(B),n(B)};return(T=t.input.current)==null||T.addEventListener("input",x),(R=t.label.current)==null||R.addEventListener("mousedown",d,!1),t.sliderRef!==void 0&&((G=t.sliderRef.current)==null||G.addEventListener("input",S)),()=>{var L,B,z;(L=t.input.current)==null||L.removeEventListener("input",x),(B=t.label.current)==null||B.removeEventListener("mousedown",d),t.sliderRef!==void 0&&((z=t.sliderRef.current)==null||z.removeEventListener("input",S)),document.removeEventListener("mouseup",v),document.removeEventListener("mousemove",m),document.removeEventListener("contextmenu",v)}},[]),e}function E2(t){const e=ut.useRef(null),n=ut.useRef(null),r=Pet({label:t.labelRef,input:e,sliderRef:n,defaultValue:t.value,min:t.min,max:t.max,step:t.step,onChange:i=>{t.onChange!==void 0&&t.onChange(t.prop,i)}});return Ve.jsxs(Ve.Fragment,{children:[t.type==="number"&&Ve.jsx("input",{alt:t.alt,className:t.className,ref:e,type:"number",value:r,min:t.min,max:t.max,step:t.step,disabled:t.disabled,onChange:i=>{const o=Number(i.target.value);t.onChange!==void 0&&t.onChange(t.prop,o)}}),t.type==="range"&&Ve.jsxs(Ve.Fragment,{children:[Ve.jsx("input",{type:"text",value:r.toString(),disabled:t.disabled,ref:e,className:"min",onChange:i=>{const o=Number(i.target.value);t.onChange!==void 0&&t.onChange(t.prop,o)}}),Ve.jsx("input",{disabled:t.disabled,type:"range",value:r,min:t.min,max:t.max,step:t.step,ref:n,onChange:UW})]})]})}function Met(t){const e=ut.useRef(null),n=ut.useRef(null),r=ut.useRef(null),i=ut.useRef(null),o=ut.useRef(null),u=ut.useRef(null),[d,m]=ut.useState(t.value),[v,x]=ut.useState({min:Math.min(t.min,Math.min(t.value.x,t.value.y)),max:Math.max(t.max,Math.max(t.value.x,t.value.y))}),[S,T]=ut.useState(!1);function R(){S||(window.addEventListener("mousemove",L),window.addEventListener("mouseup",G),window.addEventListener("mouseup",G),T(!0))}function G(){window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",G),T(!1)}function L(Y){const me=o.current.getBoundingClientRect(),q=c2(0,99,Y.clientX-me.left)/99,ae=c2(0,99,Y.clientY-me.top)/99,ve=$3e(G3e(v.min,v.max,q),3),W=$3e(G3e(v.min,v.max,ae),3);t.onChange({target:{value:{x:ve,y:W}}}),m({x:ve,y:W})}function B(Y){let me=d.x,q=d.y;Y.target===e.current?me=Number(Y.target.value):q=Number(Y.target.value),m({x:me,y:q})}function z(){const Y=Number(r.current.value);x({min:Y,max:v.max}),(d.x<Y||d.y<Y)&&m({x:c2(Y,v.max,d.x),y:c2(Y,v.max,d.y)})}function C(){const Y=Number(i.current.value);x({min:v.min,max:Y}),(d.x>Y||d.y>Y)&&m({x:c2(v.min,Y,d.x),y:c2(v.min,Y,d.y)})}ut.useEffect(()=>{const Y=H3e(v.min,v.max,d.x),me=H3e(v.min,v.max,d.y);u.current.style.left=`${Y*100}%`,u.current.style.top=`${me*100}%`},[v,d]);const V=t.step!==void 0?t.step:.01;return Ve.jsxs("div",{className:"vector2",children:[Ve.jsxs("div",{className:"fields",children:[Ve.jsxs("div",{children:[Ve.jsx("label",{children:"X:"}),Ve.jsx("input",{ref:e,type:"number",value:d.x,min:v.min,max:v.max,step:V,onChange:B})]}),Ve.jsxs("div",{children:[Ve.jsx("label",{children:"Y:"}),Ve.jsx("input",{ref:n,type:"number",value:d.y,min:v.min,max:v.max,step:V,onChange:B})]}),Ve.jsxs("div",{children:[Ve.jsx("label",{children:"Min:"}),Ve.jsx("input",{ref:r,type:"number",value:v.min,step:V,onChange:z})]}),Ve.jsxs("div",{children:[Ve.jsx("label",{children:"Max:"}),Ve.jsx("input",{ref:i,type:"number",value:v.max,step:V,onChange:C})]})]}),Ve.jsxs("div",{className:"input",ref:o,onMouseDown:R,onMouseUp:G,children:[Ve.jsx("div",{className:"x"}),Ve.jsx("div",{className:"y"}),Ve.jsx("div",{className:"pt",ref:u})]})]})}function sge(t){const e=t.value.isVector3!==void 0,n=t.value.isEuler!==void 0,r=t.value.elements!==void 0,i=t.step!==void 0?t.step:.01,o=[];if(e){const u=ut.useMemo(()=>t.value,[]),d=(v,x)=>{u[v]=x,t.onChange({target:{value:u}})};["x","y","z"].forEach(v=>{const x=ut.useRef(null);o.push(Ve.jsxs("div",{children:[Ve.jsx("label",{ref:x,children:v.toUpperCase()}),Ve.jsx(E2,{value:u[v],type:"number",prop:v,step:i,labelRef:x,onChange:d})]},v))})}else if(n){const u=ut.useMemo(()=>t.value,[]),d=(v,x)=>{u[v]=x,t.onChange({target:{value:u}})};["_x","_y","_z"].forEach(v=>{const x=ut.useRef(null);o.push(Ve.jsxs("div",{children:[Ve.jsx("label",{ref:x,children:v.substring(1).toUpperCase()}),Ve.jsx(E2,{value:u[v],type:"number",prop:v,step:i,labelRef:x,onChange:d})]},v))})}else if(r){const u=ut.useMemo(()=>t.value,[]),d=(m,v)=>{const x=Number(m);u.elements[x]=v,t.onChange({target:{value:u}})};for(let m=0;m<9;m++){const v=ut.useRef(null);o.push(Ve.jsxs("div",{children:[Ve.jsx("label",{ref:v,children:m+1}),Ve.jsx(E2,{value:u.elements[m],type:"number",prop:m.toString(),step:i,labelRef:v,onChange:d})]},m.toString()))}}return Ve.jsx("div",{className:"grid3",children:o},Math.random().toString())}function Tet(t){const e=t.value.x!==void 0,n=t.step!==void 0?t.step:.01,r=[];if(e){const i=ut.useMemo(()=>t.value,[]),o=(d,m)=>{i[d]=m,t.onChange({target:{value:i}})};["x","y","z","w"].forEach(d=>{const m=ut.useRef(null);r.push(Ve.jsxs("div",{children:[Ve.jsx("label",{ref:m,children:d.toUpperCase()}),Ve.jsx(E2,{value:i.x,type:"number",prop:d,step:n,labelRef:m,onChange:o})]},d))})}else{const i=ut.useMemo(()=>t.value,[]),o=(u,d)=>{const m=Number(u);i.elements[m]=d,t.onChange({target:{value:i}})};for(let u=0;u<16;u++){const d=ut.useRef(null);r.push(Ve.jsxs("div",{children:[Ve.jsx("label",{ref:d,children:u+1}),Ve.jsx(E2,{value:i.elements[u],type:"number",prop:u.toString(),step:n,labelRef:d,onChange:o})]},u.toString()))}}return Ve.jsx("div",{className:"grid4",children:r})}function ket(t){return"items"in t}function H2(t){const e=[];return t.items.forEach(n=>{ket(n)?e.push(Ve.jsx(H2,{title:jA(n.title),items:n.items},Math.random())):e.push(Ve.jsx(sA,{title:n.title,prop:n.prop,value:n.value,type:n.type,min:n.min,max:n.max,step:n.step,disabled:n.disabled,options:n.options,onChange:(r,i)=>{n.onChange!==void 0&&n.onChange(r,i)},onKeyDown:r=>{n.onKeyDown!==void 0&&n.onKeyDown(r)}},Math.random()))}),Ve.jsx(yX,{label:t.title,open:t.expanded===!0,children:e})}function Aet(t){return!(t==="alphaHash"||t==="alphaToCoverage"||t==="attenuationDistance"||t==="blendAlpha"||t==="blendColor"||t==="blendDstAlpha"||t==="colorWrite"||t==="combine"||t==="defaultAttributeValues"||t==="depthFunc"||t==="forceSinglePass"||t==="glslVersion"||t==="linecap"||t==="linejoin"||t==="linewidth"||t==="normalMapType"||t==="precision"||t==="premultipliedAlpha"||t==="shadowSide"||t==="toneMapped"||t==="uniformsGroups"||t==="uniformsNeedUpdate"||t==="userData"||t==="vertexColors"||t==="version"||t==="wireframeLinecap"||t==="wireframeLinejoin"||t==="wireframeLinewidth"||t.slice(0,4)==="clip"||t.slice(0,7)==="polygon"||t.slice(0,7)==="stencil"||t.slice(0,2)==="is")}function Iet(t){switch(t){case"Alpha Map":return"alphaMap";case"Anisotropy Map":return"anisotropyMap";case"AO Map":return"aoMap";case"Bump Map":return"bumpMap";case"Clearcoat Map":return"clearcoatMap";case"Clearcoat Normal Map":return"clearcoatNormalMap";case"Clearcoat Roughness Map":return"clearcoatRoughnessMap";case"Displacement Map":return"displacementMap";case"Emissive Map":return"emissiveMap";case"Iridescence Map":return"iridescenceMap";case"Iridescence Thickness Map":return"iridescenceThicknessMap";case"Map":return"map";case"Matcap":return"matcap";case"Normal Map":return"normalMap";case"Roughness Map":return"roughnessMap";case"Sheen Color Map":return"sheenColorMap";case"Sheen Roughness Map":return"sheenRoughnessMap";case"Specular Color Map":return"specularColorMap";case"Specular Map Intensity":return"specularIntensityMap";case"Thickness Map":return"thicknessMap";case"Transmission Map":return"transmissionMap"}return t}function sR(t){switch(t){case"alphaMap":return"Alpha Map";case"anisotropyMap":return"Anisotropy Map";case"anisotropyRotation":return"Anisotropy Rotation";case"aoMap":return"AO Map";case"aoMapIntensity":return"AO Map Intensity";case"attenuationColor":return"Attenuation Color";case"blendAlpha":return"Blend Alpha";case"blendColor":return"Blend Color";case"blendDst":return"Blend Dst";case"blendDstAlpha":return"Blend Dst Alha";case"blendEquation":return"Blend Equation";case"blendEquationAlpha":return"Blend Equation Alpha";case"blending":return"Blending";case"blendSrc":return"Blend Src";case"blendSrcAlpha":return"Blend Src Alpha";case"bumpMap":return"Bump Map";case"bumpScale":return"Bump Scale";case"clearcoatMap":return"Clearcoat Map";case"clearcoatNormalMap":return"Clearcoat Normal Map";case"clearcoatNormalScale":return"Clearcoat Normal Scale";case"clearcoatRoughness":return"Clearcoat Roughness";case"clearcoatRoughnessMap":return"Clearcoat Roughness Map";case"color":return"Color";case"defines":return"Defines";case"depthTest":return"Depth Test";case"depthWrite":return"Depth Write";case"displacementBias":return"Displacement Bias";case"displacementMap":return"Displacement Map";case"displacementScale":return"Displacement Scale";case"dithering":return"Dithering";case"emissive":return"Emissive";case"emissiveMap":return"Emissive Map";case"emissiveIntensity":return"Emissive Intensity";case"envMap":return"Environment Map";case"envMapIntensity":return"Environment Map Intensity";case"extensions":return"Extensions";case"flatShading":return"Flat Shading";case"fragmentShader":return"Fragment Shader";case"fog":return"Fog";case"gradientMap":return"Gradient Map";case"ior":return"IOR";case"iridescenceIOR":return"Iridescence IOR";case"iridescenceMap":return"Iridescence Map";case"iridescenceThicknessMap":return"Iridescence Thickness Map";case"iridescenceThicknessRange":return"Iridescence Thickness Range";case"lights":return"Lights";case"lightMap":return"Light Map";case"lightMapIntensity":return"Light Map Intensity";case"map":return"Map";case"matcap":return"Matcap";case"metalness":return"Metalness";case"metalnessMap":return"Metalness Map";case"name":return"Name";case"normalMap":return"Normal Map";case"normalScale":return"Normal Scale";case"opacity":return"Opacity";case"reflectivity":return"Reflectivity";case"refractionRatio":return"Refraction Ratio";case"roughness":return"Roughness";case"roughnessMap":return"Roughness Map";case"sheenColor":return"Sheen Color";case"sheenColorMap":return"Sheen Color Map";case"sheenRoughness":return"Sheen Roughness";case"sheenRoughnessMap":return"Sheen Roughness Map";case"shininess":return"Shininess";case"side":return"Side";case"size":return"Size";case"sizeAttenuation":return"Size Attenuation";case"specular":return"Specular";case"specularColor":return"Specular Color";case"specularColorMap":return"Specular Color Map";case"specularIntensity":return"Specular Intensity";case"specularIntensityMap":return"Specular Map Intensity";case"thickness":return"Thickness";case"thicknessMap":return"Thickness Map";case"transmission":return"Transmission";case"transmissionMap":return"Transmission Map";case"transparent":return"Transparent";case"type":return"Type";case"uuid":return"UUID";case"uniforms":return"Uniforms";case"vertexShader":return"Vertex Shader";case"visible":return"Visible";case"wireframe":return"Wireframe"}return t}function p_e(t){const e=t.toLowerCase();return e.search("intensity")>-1||e==="anisotropyrotation"||e==="blendalpha"||e==="bumpscale"||e==="clearcoatroughness"||e==="displacementbias"||e==="displacementscale"||e==="metalness"||e==="opacity"||e==="reflectivity"||e==="refractionratio"||e==="roughness"||e==="sheenroughness"||e==="thickness"}function Ret(){const t=document.createElement("input");return t.type="file",new Promise((e,n)=>{t.addEventListener("change",function(){if(t.files===null)n();else{const r=t.files[0],i=new FileReader;i.onload=function(o){e(o.target.result)},i.readAsDataURL(r)}}),t.click()})}const Det=[{title:"Front",value:Rc},{title:"Back",value:Ss},{title:"Double",value:Sa}],Oet=[{title:"No Blending",value:bl},{title:"Normal",value:x2},{title:"Additive",value:EG},{title:"Subtractive",value:CG},{title:"Multiply",value:PG},{title:"Custom",value:B8e}],Let=[{title:"Add",value:Pf},{title:"Subtract",value:U8e},{title:"Reverse Subtract",value:z8e},{title:"Min",value:V8e},{title:"Max",value:j8e}],Net=[{title:"Zero",valye:uW},{title:"One",valye:cW},{title:"Src Color",valye:dW},{title:"One Minus Src Color",valye:hW},{title:"Src Alpha",valye:Ob},{title:"One Minus Src Alpha",valye:Lb},{title:"Dst Alpha",valye:pW},{title:"One Minus Dst Alpha",valye:fW},{title:"Dst Color",valye:mW},{title:"One Minus Dst Color",valye:gW},{title:"Src Alpha Saturate",valye:H8e},{title:"Constant Color",valye:vW},{title:"One Minus Constant Color",valye:yW},{title:"Constant Alpha",valye:bW},{title:"One Minus Constant Alpha",valye:_W}],Fet=[{title:"Zero",valye:uW},{title:"One",valye:cW},{title:"Src Color",valye:dW},{title:"One Minus Src Color",valye:hW},{title:"Src Alpha",valye:Ob},{title:"One Minus Src Alpha",valye:Lb},{title:"Dst Alpha",valye:pW},{title:"One Minus Dst Alpha",valye:fW},{title:"Dst Color",valye:mW},{title:"One Minus Dst Color",valye:gW},{title:"Constant Color",valye:vW},{title:"One Minus Constant Color",valye:yW},{title:"Constant Alpha",valye:bW},{title:"One Minus Constant Alpha",valye:_W}];function jy(t,e){t.needsUpdate=!0,t.type="option",t.options=e}function Bet(t,e,n,r){return{type:"boolean",title:sR(t),prop:t,value:e,needsUpdate:!0,onChange:(i,o)=>{r.updateObject(n.uuid,`material.${t}`,o),r.updateObject(n.uuid,"material.needsUpdate",!0);const u=r.getScene(n.uuid);if(u!==null){const d=u.getObjectByProperty("uuid",n.uuid);ws(d,`material.${t}`,o)}}}}function Uet(t,e,n,r){const i={type:"number",title:sR(t),prop:t,value:e,min:void 0,max:void 0,step:.01,needsUpdate:!0,onChange:(o,u)=>{r.updateObject(n.uuid,`material.${t}`,u),r.updateObject(n.uuid,"material.needsUpdate",!0);const d=r.getScene(n.uuid);if(d!==null){const m=d.getObjectByProperty("uuid",n.uuid);ws(m,`material.${t}`,u)}}};switch(t){case"blending":jy(i,Oet);break;case"blendDst":jy(i,Fet);break;case"blendEquation":jy(i,Let);break;case"blendSrc":jy(i,Net);break;case"side":jy(i,Det);break}return p_e(t)&&(i.value=Number(e),i.type="range",i.min=Math.min(0,i.value),i.max=Math.max(1,i.value),i.step=.01),i}function zet(t,e,n,r){const i={type:"string",title:sR(t),prop:t,value:e,needsUpdate:!0,onChange:(u,d)=>{r.updateObject(n.uuid,`material.${t}`,d),r.updateObject(n.uuid,"material.needsUpdate",!0);const m=r.getScene(n.uuid);if(m!==null){const v=m.getObjectByProperty("uuid",n.uuid);ws(v,`material.${t}`,d)}},onKeyDown:u=>{}};return(t==="vertexShader"||t==="fragmentShader")&&(i.disabled=!1,i.latest=i.value,i.onChange=(u,d)=>{i.latest=d,r.updateObject(n.uuid,`material.${t}`,d);const m=r.getScene(n.uuid);if(m!==null){const v=m.getObjectByProperty("uuid",n.uuid);ws(v,`material.${t}`,d)}},i.onKeyDown=u=>{if(u.key==="Enter"&&(u.altKey||u.metaKey)){r.updateObject(n.uuid,"material.needsUpdate",!0);const d=r.getScene(n.uuid);if(d!==null){const m=d.getObjectByProperty("uuid",n.uuid);ws(m,"material.needsUpdate",!0)}}}),i}function Vet(t){return t.x!==void 0&&t.y!==void 0&&t.z===void 0}function jet(t){return t.x!==void 0&&t.y!==void 0&&t.z!==void 0&&t.w===void 0}function Het(t){return t.x!==void 0&&t.y!==void 0&&t.z!==void 0&&t.w!==void 0}function p$(t){t.sort((e,n)=>e.title<n.title?-1:e.title>n.title?1:0)}function Jy(t,e,n,r,i="",o=!1){const u=sR(t).split(".")[0].replaceAll("[","").replaceAll("]",""),d=i.length>0?`${i}.${t}`:t,m=typeof e;if(m==="boolean"||m==="string")return{title:u,prop:d,type:m,value:e,disabled:o,onChange:(v,x)=>{r.updateObject(n.uuid,`material.${d}`,x);const S=r.getScene(n.uuid);if(S!==null){const T=S.getObjectByProperty("uuid",n.uuid);ws(T,`material.${d}`,x)}}};if(m==="number"){const v={title:u,prop:d,type:"number",value:e,step:.01,disabled:o,onChange:(x,S)=>{r.updateObject(n.uuid,`material.${d}`,S);const T=r.getScene(n.uuid);if(T!==null){const R=T.getObjectByProperty("uuid",n.uuid);ws(R,`material.${d}`,S)}}};return p_e(u)&&(v.type="range",v.min=0,v.max=1),v}else{if(e.isColor)return{title:u,prop:d,type:"color",value:e,disabled:o,onChange:(v,x)=>{const S=new cn(x);r.updateObject(n.uuid,`material.${d}`,S);const T=r.getScene(n.uuid);if(T!==null){const R=T.getObjectByProperty("uuid",n.uuid);ws(R,`material.${d}`,S)}}};if(Array.isArray(e)){const v=[];for(const x in e){const S=e[x],T=`[${x.toString()}]`;if(S.value!==void 0){const R=Jy(`${T}.value`,S.value,n,r,d,o);R!==void 0&&v.push(R)}else{const R=Jy(T,S,n,r,d,o);R!==void 0&&v.push(R)}}if(v.length>0)return p$(v),{title:u,items:v}}else{if(Vet(e))return{title:u,prop:d,type:"vector2",value:e,disabled:o,onChange:(v,x)=>{r.updateObject(n.uuid,`material.${d}`,x);const S=r.getScene(n.uuid);if(S!==null){const T=S.getObjectByProperty("uuid",n.uuid);ws(T,`material.${d}`,x)}}};if(jet(e))return{title:u,prop:d,type:"grid3",value:e,disabled:o,onChange:(v,x)=>{r.updateObject(n.uuid,`material.${d}`,x);const S=r.getScene(n.uuid);if(S!==null){const T=S.getObjectByProperty("uuid",n.uuid);ws(T,`material.${d}`,x)}}};if(Het(e))return{title:u,prop:d,type:"grid4",value:e,disabled:o,onChange:(v,x)=>{r.updateObject(n.uuid,`material.${d}`,x);const S=r.getScene(n.uuid);if(S!==null){const T=S.getObjectByProperty("uuid",n.uuid);ws(T,`material.${d}`,x)}}};if(e.isEuler)return{title:u,prop:d,type:"euler",value:e,disabled:o,onChange:(v,x)=>{r.updateObject(n.uuid,`material.${d}`,x);const S=r.getScene(n.uuid);if(S!==null){const T=S.getObjectByProperty("uuid",n.uuid);ws(T,`material.${d}`,x)}}};if(e.src!==void 0)return{title:u,type:"image",value:e,disabled:o,onChange:(v,x)=>{const S=Iet(t),T=i.length>0?`${i}.${S}`:S;r.createTexture(n.uuid,`material.${T}`,x);const R=r.getScene(n.uuid);if(R!==null){const G=R.getObjectByProperty("uuid",n.uuid);if(G!==void 0){const L=B=>{const z=G.material,C=T.split(".");switch(C.length){case 1:z[C[0]]=B;break;case 2:z[C[0]][C[1]]=B;break;case 3:z[C[0]][C[1]][C[2]]=B;break;case 4:z[C[0]][C[1]][C[2]][C[3]]=B;break;case 5:z[C[0]][C[1]][C[2]][C[3]][C[4]]=B;break}z.needsUpdate=!0};x.src.length>0?zW(x.src).then(B=>{B.offset.set(x.offset[0],x.offset[1]),B.repeat.set(x.repeat[0],x.repeat[1]),L(B)}):L(null)}}}};if(e.elements!==void 0)return{title:u,prop:d,type:e.elements.length>9?"grid4":"grid3",value:e,disabled:o,onChange:(v,x)=>{r.updateObject(n.uuid,`material.${d}`,x);const S=r.getScene(n.uuid);if(S!==null){const T=S.getObjectByProperty("uuid",n.uuid);ws(T,`material.${d}`,x)}}};{const v=[],x=t==="defines"||t==="extensions";try{for(const S in e){const T=e[S];if(T!==void 0)if(T.value!==void 0){const R=Jy(`${S}.value`,T.value,n,r,d,x);R!==void 0&&v.push(R)}else{const R=Jy(S,T,n,r,d,x);R!==void 0&&v.push(R)}}}catch{console.log("Issue cycling through material object:",t,e)}if(v.length>0)return p$(v),{title:u,items:v}}}}}function oge(t,e,n){const r=[];for(const i in t){if(!Aet(i))continue;const o=typeof t[i],u=t[i];if(o==="boolean")r.push(Bet(i,u,e,n));else if(o==="number")r.push(Uet(i,u,e,n));else if(o==="string")r.push(zet(i,u,e,n));else if(o==="object"){const d=Jy(i,u,e,n);d!==void 0&&r.push(d)}else u!==void 0&&console.log("other:",i,o,u)}return p$(r),r.push({title:"Update Material",type:"button",onChange:()=>{n.updateObject(e.uuid,"material.needsUpdate",!0);const i=n.getScene(e.uuid);if(i!==null){const o=i.getObjectByProperty("uuid",e.uuid);ws(o,"material.needsUpdate",!0)}}}),r}function Get(t,e){const n=t.material;if(Array.isArray(n)){const r=[],i=n.length;for(let o=0;o<i;o++)r.push(Ve.jsx(H2,{title:`Material ${o}`,items:oge(n[o],t,e)},`Material ${o}`));return Ve.jsx(Ve.Fragment,{children:r})}else return Ve.jsx(H2,{title:"Material",items:oge(n,t,e)})}const age="data:image/gif;base64,R0lGODlhDgFkAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDIgNzkuZGJhM2RhM2I1LCAyMDIzLzEyLzE1LTEwOjQyOjM3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMDk3M0NEODAxQjQxMUVGODVGNENDMkUyMUExNDk1NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyMDk3M0NEOTAxQjQxMUVGODVGNENDMkUyMUExNDk1NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkE4ODc3Qzg5MDFCMzExRUY4NUY0Q0MyRTIxQTE0OTU1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkE4ODc3QzhBMDFCMzExRUY4NUY0Q0MyRTIxQTE0OTU1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Af/+/fz7+vn49/b19PPy8fDv7u3s6+rp6Ofm5eTj4uHg397d3Nva2djX1tXU09LR0M/OzczLysnIx8bFxMPCwcC/vr28u7q5uLe2tbSzsrGwr66trKuqqainpqWko6KhoJ+enZybmpmYl5aVlJOSkZCPjo2Mi4qJiIeGhYSDgoGAf359fHt6eXh3dnV0c3JxcG9ubWxramloZ2ZlZGNiYWBfXl1cW1pZWFdWVVRTUlFQT05NTEtKSUhHRkVEQ0JBQD8+PTw7Ojk4NzY1NDMyMTAvLi0sKyopKCcmJSQjIiEgHx4dHBsaGRgXFhUUExIREA8ODQwLCgkIBwYFBAMCAQAAIfkEAAAAAAAsAAAAAA4BZAAAAv+Mj6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4Lx/JM1/aN5/rO9/4PDAqHxKLxiEwql8ym8wmNSqfUqvWKzWq33K73Cw6Lx+Sy+YxOq9fstvsNj8vn9Lr9js/r9/y+/w8YKDhIWGh4iJiouMjY6PgIGSk5SVlpeYmZqTkJAGDQ+dnpuekmGgAKejpKuiZqmprKqoZKGyrbOlqrejub6xvLGyw8TFzcprurGuvqybxq7ETbrItsCz0l7Zpc+6p9/cS967w9/S2FTF0u/mzehK4Oqz3eTl9vf4+fr7/P3+//DzCgwIEECxo8iDChwoUMGzp8CDGixIkUK1q8iDGjxo0XHDt6/AgypMiRJEuaPIkypcqVLFt+KwAAOw==";function $et(t){const e=t.step!==void 0?t.step:.01,n=ut.useRef(null),r=ut.useRef(null),i=ut.useRef(null),o=ut.useRef(null),u=ut.useRef(null),[d]=ut.useState(t.value),[m,v]=ut.useState(t.value.offset[0]),[x,S]=ut.useState(t.value.offset[1]),[T,R]=ut.useState(t.value.repeat[0]),[G,L]=ut.useState(t.value.repeat[1]);function B(C,V,Y,me,q){if(t.onChange!==void 0){const ae=t.prop!==void 0?t.prop:t.title;t.onChange(ae,{src:C,offset:[V,Y],repeat:[me,q]})}}function z(C){const V=n.current.src,Y=C.target.value;switch(C.target){case r.current:v(Y),B(V,Y,x,T,G);break;case i.current:S(Y),B(V,m,Y,T,G);break;case o.current:R(Y),B(V,m,x,Y,G);break;case u.current:L(Y),B(V,m,x,T,Y);break}}return Ve.jsxs("div",{className:"imageField",children:[Ve.jsx("img",{alt:t.title,ref:n,onClick:()=>{Ret().then(C=>{n.current.src=C,B(C,m,x,T,G)})},src:d.src.length>0?d.src:age}),Ve.jsxs("div",{className:"fields",children:[Ve.jsxs("div",{children:[Ve.jsx("label",{children:"Offset:"}),Ve.jsx("input",{ref:r,type:"number",value:m,step:e,onChange:z}),Ve.jsx("input",{ref:i,type:"number",value:x,step:e,onChange:z})]}),Ve.jsxs("div",{children:[Ve.jsx("label",{children:"Repeat:"}),Ve.jsx("input",{ref:o,type:"number",value:T,step:e,onChange:z}),Ve.jsx("input",{ref:u,type:"number",value:G,step:e,onChange:z})]}),Ve.jsx("button",{onClick:()=>{B("",m,x,T,G),n.current.src=age},children:"Clear"})]})]})}function sA(t){var v;let e=t.value;e!==void 0&&e.isColor!==void 0&&(e=xVe(t.value));const[n,r]=ut.useState(e),i=ut.useRef(null),o=x=>{let S=x.target.value;t.type==="boolean"?S=x.target.checked:t.type==="option"&&(S=t.options[S].value),r(S),t.onChange!==void 0&&t.onChange(t.prop!==void 0?t.prop:t.title,S)},u={};t.disabled&&(u.opacity=.8);const d=t.type==="string"&&(n.length>100||n.search(`
`)>-1),m=d||t.type==="image"||t.type==="vector2";return Ve.jsxs("div",{className:`field ${m?"block":""}`,style:u,children:[t.type!=="button"&&Ve.jsx("label",{ref:i,children:jA(t.title)},"fieldLabel"),t.type==="string"&&!d&&Ve.jsx("input",{type:"text",disabled:t.disabled,onChange:o,value:n}),t.type==="string"&&d&&Ve.jsx("textarea",{cols:50,rows:10,disabled:t.disabled!==void 0?t.disabled:!0,onChange:o,onKeyDown:x=>{t.onKeyDown!==void 0&&t.onKeyDown(x)},value:n}),t.type==="boolean"&&Ve.jsx("input",{type:"checkbox",disabled:t.disabled,onChange:o,checked:n}),t.type==="number"&&Ve.jsx(E2,{value:n,type:t.type,prop:t.prop!==void 0?t.prop:t.title,min:t.min,max:t.max,step:t.step,disabled:t.disabled,labelRef:i,onChange:t.onChange}),t.type==="range"&&Ve.jsx(E2,{value:n,type:t.type,prop:t.prop!==void 0?t.prop:t.title,min:t.min,max:t.max,step:t.step,disabled:t.disabled,labelRef:i,onChange:t.onChange}),t.type==="color"&&Ve.jsxs(Ve.Fragment,{children:[Ve.jsx("input",{type:"text",value:n.toString(),onChange:o,disabled:t.disabled,className:"color"}),Ve.jsx("input",{type:"color",value:n,onChange:o,disabled:t.disabled})]}),t.type==="button"&&Ve.jsx("button",{disabled:t.disabled,onClick:()=>{t.onChange!==void 0&&t.onChange(t.prop!==void 0?t.prop:t.title,!0)},children:t.title}),t.type==="image"&&Ve.jsx($et,{title:t.title,prop:t.prop,value:t.value,onChange:t.onChange}),t.type==="option"&&Ve.jsx(Ve.Fragment,{children:Ve.jsx("select",{onChange:o,disabled:t.disabled,defaultValue:t.value,children:(v=t.options)==null?void 0:v.map((x,S)=>Ve.jsx("option",{value:x.value,children:jA(x.title)},S))})}),t.type==="vector2"&&Ve.jsx(Met,{step:t.step,value:n,min:0,max:1,onChange:o}),t.type==="grid3"&&Ve.jsx(sge,{step:t.step,value:n,onChange:o}),t.type==="grid4"&&Ve.jsx(Tet,{step:t.step,value:n,onChange:o}),t.type==="euler"&&Ve.jsx(sge,{step:t.step,value:n,onChange:o})]})}function lge(t){switch(t){case"fov":return"FOV";case"zoom":return"Zoom";case"near":return"Near";case"far":return"Far";case"focus":return"Focus";case"aspect":return"Aspect";case"filmGauge":return"Film Gauge";case"filmOffset":return"Film Offset";case"left":return"Left";case"right":return"Right";case"top":return"Top";case"bottom":return"Bottom"}return t}function Wet(t,e){const n=[];if(t.perspectiveCameraInfo!==void 0)for(const r in t.perspectiveCameraInfo)n.push({title:lge(r),prop:r,type:"number",step:.01,value:t.perspectiveCameraInfo[r],onChange:(i,o)=>{e.updateObject(t.uuid,i,o),e.requestMethod(t.uuid,"updateProjectionMatrix");const u=e.getScene(t.uuid);if(u!==null){const d=u.getObjectByProperty("uuid",t.uuid);d!==void 0&&(ws(d,i,o),d.updateProjectionMatrix())}}});else if(t.orthographicCameraInfo!==void 0)for(const r in t.orthographicCameraInfo)n.push({title:lge(r),prop:r,type:"number",step:.01,value:t.perspectiveCameraInfo[r],onChange:(i,o)=>{e.updateObject(t.uuid,i,o),e.requestMethod(t.uuid,"updateProjectionMatrix");const u=e.getScene(t.uuid);if(u!==null){const d=u.getObjectByProperty("uuid",t.uuid);d!==void 0&&(ws(d,i,o),d.updateProjectionMatrix())}}});return Ve.jsx(H2,{title:"Camera",items:n})}function Ket(t,e){const n=new In;n.elements=t.matrix;const r=new Re,i=new qi,o=new Re;t.uuid.length>0&&(r.setFromMatrixPosition(n),i.setFromRotationMatrix(n),o.setFromMatrixScale(n));const u=(d,m)=>{const v=d==="rotation"?{x:m._x,y:m._y,z:m._z}:m;e.updateObject(t.uuid,d,v);const x=e.getScene(t.uuid);if(x!==null){const S=x.getObjectByProperty("uuid",t.uuid);ws(S,d,v)}};return Ve.jsx(H2,{title:"Transform",items:[{title:"Position",prop:"position",type:"grid3",step:.1,value:r,onChange:u},{title:"Rotation",prop:"rotation",type:"grid3",value:i,onChange:u},{title:"Scale",prop:"scale",type:"grid3",value:o,onChange:u}]})}function uge(t){switch(t){case"color":return"Color";case"intensity":return"Intensity";case"decay":return"Decay";case"distance":return"Distance";case"angle":return"Angle";case"penumbra":return"Penumbra";case"groundColor":return"Ground Color";case"width":return"Width";case"height":return"Height"}return t}function Xet(t,e){const n=[];if(t.lightInfo!==void 0)for(const r in t.lightInfo){const i=t.lightInfo[r];i!==void 0&&(i.isColor!==void 0?n.push({title:uge(r),prop:r,type:"color",value:i,onChange:(o,u)=>{const d=new cn(u);e.updateObject(t.uuid,o,d);const m=e.getScene(t.uuid);if(m!==null){const v=m.getObjectByProperty("uuid",t.uuid);ws(v,o,d)}}}):n.push({title:uge(r),prop:r,type:typeof i,value:i,step:typeof i=="number"?.01:void 0,onChange:(o,u)=>{e.updateObject(t.uuid,o,u);const d=e.getScene(t.uuid);if(d!==null){const m=d.getObjectByProperty("uuid",t.uuid);ws(m,o,u)}}}))}return Ve.jsx(H2,{title:"Light",items:n})}function qet(t,e){const n=[],r=[];let i=0;t.animations.forEach(u=>{i=Math.max(i,u.duration),u.duration>0&&r.push({title:u.name,items:[{title:"Duration",type:"number",value:u.duration,disabled:!0},{title:"Blend Mode",type:"option",disabled:!0,options:[{title:"Normal",value:2500},{title:"Additive",value:2501}]}]})}),n.push({title:"Animations",items:r});const o=e.getScene(t.uuid);if(o!==null){const u=o.getObjectByProperty("uuid",t.uuid);let d=!1;if(u!==void 0){const m=u.mixer;if(d=m!==void 0,d){const v=[{title:"Time Scale",type:"range",value:m.timeScale,step:.01,min:-1,max:2,onChange:(x,S)=>{m.timeScale=S,e.updateObject(t.uuid,"mixer.timeScale",S)}}];v.push({title:"Stop All",type:"button",onChange:()=>{m.stopAllAction(),e.requestMethod(t.uuid,"stopAllAction",void 0,"mixer")}}),n.push({title:"Mixer",items:v})}}}return Ve.jsx(H2,{title:"Animation",items:n})}const f_e={name:"",uuid:"",type:"",visible:!1,matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],animations:[],material:void 0,perspectiveCameraInfo:void 0,orthographicCameraInfo:void 0,lightInfo:void 0,children:[]};let Ya={...f_e};function Yet(t){const[e,n]=ut.useState(-1);ut.useEffect(()=>{function u(m){Ya={...m.value},n(Date.now())}function d(){Ya={...f_e},n(Date.now())}return ur.addEventListener(cr.SET_SCENE,d),ur.addEventListener(cr.SET_OBJECT,u),()=>{ur.removeEventListener(cr.SET_SCENE,d),ur.removeEventListener(cr.SET_OBJECT,u)}},[]);const r=Ya.type.toLowerCase(),i=Ya.animations.length>0||Ya.mixer!==void 0,o=r.search("mesh")>-1||r.search("line")>-1||r.search("points")>-1;return Ve.jsx(yX,{label:"Inspector",children:Ve.jsx("div",{id:"Inspector",className:t.class,children:Ya.uuid.length>0&&Ve.jsxs(Ve.Fragment,{children:[Ve.jsxs(Ve.Fragment,{children:[Ve.jsx(sA,{type:"string",title:"Name",prop:"name",value:Ya.name,disabled:!0}),Ve.jsx(sA,{type:"string",title:"Type",prop:"type",value:Ya.type,disabled:!0}),Ve.jsx(sA,{type:"string",title:"UUID",prop:"uuid",value:Ya.uuid,disabled:!0})]}),Ve.jsxs(Ve.Fragment,{children:[Ket(Ya,t.three),i?qet(Ya,t.three):null,r.search("camera")>-1?Wet(Ya,t.three):null,r.search("light")>-1?Xet(Ya,t.three):null,o?Get(Ya,t.three):null]})]})},e)},"Inspector")}function Zet(t){const[e]=ut.useState([]),[n]=ut.useState([]),[r,i]=ut.useState(0),o=d=>{const m=d.value;e.push(m),n.push(Ve.jsx(yX,{label:`Scene: ${m.name}`,open:!0,canRefresh:!0,children:Ve.jsx(Cet,{child:m,scene:m,three:t.three})},Date.now())),i(Date.now())},u=d=>{const m=d.value;for(let v=0;v<e.length;v++)if(m.uuid===e[v].uuid){e.splice(v,1),n.splice(v,1),i(Date.now());return}};return ut.useEffect(()=>(ur.addEventListener(cr.ADD_SCENE,o),ur.addEventListener(cr.REMOVE_SCENE,u),()=>{ur.removeEventListener(cr.ADD_SCENE,o),ur.removeEventListener(cr.REMOVE_SCENE,u)}),[]),Ve.jsxs("div",{id:"SidePanel",children:[Ve.jsx("div",{children:n},r),Ve.jsx(Yet,{three:t.three})]})}class Qet extends Ub{constructor(e,n){const r=[1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],i=new zi;i.setAttribute("position",new Sr(r,3)),i.computeBoundingSphere();const o=new t1({fog:!1});super(i,o),this.light=e,this.color=n,this.type="RectAreaLightHelper";const u=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],d=new zi;d.setAttribute("position",new Sr(u,3)),d.computeBoundingSphere(),this.add(new hi(d,new mh({side:Ss,fog:!1})))}updateMatrixWorld(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),this.color!==void 0)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);const e=this.material.color,n=Math.max(e.r,e.g,e.b);n>1&&e.multiplyScalar(1/n),this.children[0].material.color.copy(this.material.color)}this.matrixWorld.extractRotation(this.light.matrixWorld).scale(this.scale).copyPosition(this.light.matrixWorld),this.children[0].matrixWorld.copy(this.matrixWorld)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const cge={type:"change"},_H={type:"start"},dge={type:"end"},Lk=new wg,hge=new xf,Jet=Math.cos(70*qo.DEG2RAD);class ett extends A0{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new Re,this.cursor=new Re,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:B5.ROTATE,MIDDLE:B5.DOLLY,RIGHT:B5.PAN},this.touches={ONE:U5.ROTATE,TWO:U5.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return d.phi},this.getAzimuthalAngle=function(){return d.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ne){ne.addEventListener("keydown",an),this._domElementKeyEvents=ne},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",an),this._domElementKeyEvents=null},this.saveState=function(){r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=function(){r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(cge),r.update(),o=i.NONE},this.update=function(){const ne=new Re,st=new js().setFromUnitVectors(e.up,new Re(0,1,0)),Mt=st.clone().invert(),qt=new Re,on=new js,Yn=new Re,Zn=2*Math.PI;return function(Zr=null){const wr=r.object.position;ne.copy(wr).sub(r.target),ne.applyQuaternion(st),d.setFromVector3(ne),r.autoRotate&&o===i.NONE&&dt(se(Zr)),r.enableDamping?(d.theta+=m.theta*r.dampingFactor,d.phi+=m.phi*r.dampingFactor):(d.theta+=m.theta,d.phi+=m.phi);let Ir=r.minAzimuthAngle,vr=r.maxAzimuthAngle;isFinite(Ir)&&isFinite(vr)&&(Ir<-Math.PI?Ir+=Zn:Ir>Math.PI&&(Ir-=Zn),vr<-Math.PI?vr+=Zn:vr>Math.PI&&(vr-=Zn),Ir<=vr?d.theta=Math.max(Ir,Math.min(vr,d.theta)):d.theta=d.theta>(Ir+vr)/2?Math.max(Ir,d.theta):Math.min(vr,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(x,r.dampingFactor):r.target.add(x),r.target.sub(r.cursor),r.target.clampLength(r.minTargetRadius,r.maxTargetRadius),r.target.add(r.cursor);let Qr=!1;if(r.zoomToCursor&&q||r.object.isOrthographicCamera)d.radius=pt(d.radius);else{const Ns=d.radius;d.radius=pt(d.radius*v),Qr=Ns!=d.radius}if(ne.setFromSpherical(d),ne.applyQuaternion(Mt),wr.copy(r.target).add(ne),r.object.lookAt(r.target),r.enableDamping===!0?(m.theta*=1-r.dampingFactor,m.phi*=1-r.dampingFactor,x.multiplyScalar(1-r.dampingFactor)):(m.set(0,0,0),x.set(0,0,0)),r.zoomToCursor&&q){let Ns=null;if(r.object.isPerspectiveCamera){const ea=ne.length();Ns=pt(ea*v);const Na=ea-Ns;r.object.position.addScaledVector(Y,Na),r.object.updateMatrixWorld(),Qr=!!Na}else if(r.object.isOrthographicCamera){const ea=new Re(me.x,me.y,0);ea.unproject(r.object);const Na=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),r.object.updateProjectionMatrix(),Qr=Na!==r.object.zoom;const ta=new Re(me.x,me.y,0);ta.unproject(r.object),r.object.position.sub(ta).add(ea),r.object.updateMatrixWorld(),Ns=ne.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Ns!==null&&(this.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Ns).add(r.object.position):(Lk.origin.copy(r.object.position),Lk.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Lk.direction))<Jet?e.lookAt(r.target):(hge.setFromNormalAndCoplanarPoint(r.object.up,r.target),Lk.intersectPlane(hge,r.target))))}else if(r.object.isOrthographicCamera){const Ns=r.object.zoom;r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/v)),Ns!==r.object.zoom&&(r.object.updateProjectionMatrix(),Qr=!0)}return v=1,q=!1,Qr||qt.distanceToSquared(r.object.position)>u||8*(1-on.dot(r.object.quaternion))>u||Yn.distanceToSquared(r.target)>u?(r.dispatchEvent(cge),qt.copy(r.object.position),on.copy(r.object.quaternion),Yn.copy(r.target),!0):!1}}(),this.dispose=function(){r.domElement.removeEventListener("contextmenu",fn),r.domElement.removeEventListener("pointerdown",Ze),r.domElement.removeEventListener("pointercancel",Ct),r.domElement.removeEventListener("wheel",Rt),r.domElement.removeEventListener("pointermove",Et),r.domElement.removeEventListener("pointerup",Ct),r.domElement.getRootNode().removeEventListener("keydown",On,{capture:!0}),r._domElementKeyEvents!==null&&(r._domElementKeyEvents.removeEventListener("keydown",an),r._domElementKeyEvents=null)};const r=this,i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let o=i.NONE;const u=1e-6,d=new N3e,m=new N3e;let v=1;const x=new Re,S=new nn,T=new nn,R=new nn,G=new nn,L=new nn,B=new nn,z=new nn,C=new nn,V=new nn,Y=new Re,me=new nn;let q=!1;const ae=[],ve={};let W=!1;function se(ne){return ne!==null?2*Math.PI/60*r.autoRotateSpeed*ne:2*Math.PI/60/60*r.autoRotateSpeed}function Te(ne){const st=Math.abs(ne*.01);return Math.pow(.95,r.zoomSpeed*st)}function dt(ne){m.theta-=ne}function He(ne){m.phi-=ne}const xe=function(){const ne=new Re;return function(Mt,qt){ne.setFromMatrixColumn(qt,0),ne.multiplyScalar(-Mt),x.add(ne)}}(),gt=function(){const ne=new Re;return function(Mt,qt){r.screenSpacePanning===!0?ne.setFromMatrixColumn(qt,1):(ne.setFromMatrixColumn(qt,0),ne.crossVectors(r.object.up,ne)),ne.multiplyScalar(Mt),x.add(ne)}}(),ze=function(){const ne=new Re;return function(Mt,qt){const on=r.domElement;if(r.object.isPerspectiveCamera){const Yn=r.object.position;ne.copy(Yn).sub(r.target);let Zn=ne.length();Zn*=Math.tan(r.object.fov/2*Math.PI/180),xe(2*Mt*Zn/on.clientHeight,r.object.matrix),gt(2*qt*Zn/on.clientHeight,r.object.matrix)}else r.object.isOrthographicCamera?(xe(Mt*(r.object.right-r.object.left)/r.object.zoom/on.clientWidth,r.object.matrix),gt(qt*(r.object.top-r.object.bottom)/r.object.zoom/on.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}}();function At(ne){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?v/=ne:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Ne(ne){r.object.isPerspectiveCamera||r.object.isOrthographicCamera?v*=ne:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ht(ne,st){if(!r.zoomToCursor)return;q=!0;const Mt=r.domElement.getBoundingClientRect(),qt=ne-Mt.left,on=st-Mt.top,Yn=Mt.width,Zn=Mt.height;me.x=qt/Yn*2-1,me.y=-(on/Zn)*2+1,Y.set(me.x,me.y,1).unproject(r.object).sub(r.object.position).normalize()}function pt(ne){return Math.max(r.minDistance,Math.min(r.maxDistance,ne))}function It(ne){S.set(ne.clientX,ne.clientY)}function tn(ne){ht(ne.clientX,ne.clientX),z.set(ne.clientX,ne.clientY)}function pn(ne){G.set(ne.clientX,ne.clientY)}function ft(ne){T.set(ne.clientX,ne.clientY),R.subVectors(T,S).multiplyScalar(r.rotateSpeed);const st=r.domElement;dt(2*Math.PI*R.x/st.clientHeight),He(2*Math.PI*R.y/st.clientHeight),S.copy(T),r.update()}function kt(ne){C.set(ne.clientX,ne.clientY),V.subVectors(C,z),V.y>0?At(Te(V.y)):V.y<0&&Ne(Te(V.y)),z.copy(C),r.update()}function Xt(ne){L.set(ne.clientX,ne.clientY),B.subVectors(L,G).multiplyScalar(r.panSpeed),ze(B.x,B.y),G.copy(L),r.update()}function Ut(ne){ht(ne.clientX,ne.clientY),ne.deltaY<0?Ne(Te(ne.deltaY)):ne.deltaY>0&&At(Te(ne.deltaY)),r.update()}function it(ne){let st=!1;switch(ne.code){case r.keys.UP:ne.ctrlKey||ne.metaKey||ne.shiftKey?He(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):ze(0,r.keyPanSpeed),st=!0;break;case r.keys.BOTTOM:ne.ctrlKey||ne.metaKey||ne.shiftKey?He(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):ze(0,-r.keyPanSpeed),st=!0;break;case r.keys.LEFT:ne.ctrlKey||ne.metaKey||ne.shiftKey?dt(2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):ze(r.keyPanSpeed,0),st=!0;break;case r.keys.RIGHT:ne.ctrlKey||ne.metaKey||ne.shiftKey?dt(-2*Math.PI*r.rotateSpeed/r.domElement.clientHeight):ze(-r.keyPanSpeed,0),st=!0;break}st&&(ne.preventDefault(),r.update())}function bt(ne){if(ae.length===1)S.set(ne.pageX,ne.pageY);else{const st=rr(ne),Mt=.5*(ne.pageX+st.x),qt=.5*(ne.pageY+st.y);S.set(Mt,qt)}}function Nt(ne){if(ae.length===1)G.set(ne.pageX,ne.pageY);else{const st=rr(ne),Mt=.5*(ne.pageX+st.x),qt=.5*(ne.pageY+st.y);G.set(Mt,qt)}}function je(ne){const st=rr(ne),Mt=ne.pageX-st.x,qt=ne.pageY-st.y,on=Math.sqrt(Mt*Mt+qt*qt);z.set(0,on)}function Cn(ne){r.enableZoom&&je(ne),r.enablePan&&Nt(ne)}function ln(ne){r.enableZoom&&je(ne),r.enableRotate&&bt(ne)}function rn(ne){if(ae.length==1)T.set(ne.pageX,ne.pageY);else{const Mt=rr(ne),qt=.5*(ne.pageX+Mt.x),on=.5*(ne.pageY+Mt.y);T.set(qt,on)}R.subVectors(T,S).multiplyScalar(r.rotateSpeed);const st=r.domElement;dt(2*Math.PI*R.x/st.clientHeight),He(2*Math.PI*R.y/st.clientHeight),S.copy(T)}function Ot(ne){if(ae.length===1)L.set(ne.pageX,ne.pageY);else{const st=rr(ne),Mt=.5*(ne.pageX+st.x),qt=.5*(ne.pageY+st.y);L.set(Mt,qt)}B.subVectors(L,G).multiplyScalar(r.panSpeed),ze(B.x,B.y),G.copy(L)}function dn(ne){const st=rr(ne),Mt=ne.pageX-st.x,qt=ne.pageY-st.y,on=Math.sqrt(Mt*Mt+qt*qt);C.set(0,on),V.set(0,Math.pow(C.y/z.y,r.zoomSpeed)),At(V.y),z.copy(C);const Yn=(ne.pageX+st.x)*.5,Zn=(ne.pageY+st.y)*.5;ht(Yn,Zn)}function Pe(ne){r.enableZoom&&dn(ne),r.enablePan&&Ot(ne)}function de(ne){r.enableZoom&&dn(ne),r.enableRotate&&rn(ne)}function Ze(ne){r.enabled!==!1&&(ae.length===0&&(r.domElement.setPointerCapture(ne.pointerId),r.domElement.addEventListener("pointermove",Et),r.domElement.addEventListener("pointerup",Ct)),!gr(ne)&&(ar(ne),ne.pointerType==="touch"?Fn(ne):Dt(ne)))}function Et(ne){r.enabled!==!1&&(ne.pointerType==="touch"?gn(ne):hn(ne))}function Ct(ne){switch(Bn(ne),ae.length){case 0:r.domElement.releasePointerCapture(ne.pointerId),r.domElement.removeEventListener("pointermove",Et),r.domElement.removeEventListener("pointerup",Ct),r.dispatchEvent(dge),o=i.NONE;break;case 1:const st=ae[0],Mt=ve[st];Fn({pointerId:st,pageX:Mt.x,pageY:Mt.y});break}}function Dt(ne){let st;switch(ne.button){case 0:st=r.mouseButtons.LEFT;break;case 1:st=r.mouseButtons.MIDDLE;break;case 2:st=r.mouseButtons.RIGHT;break;default:st=-1}switch(st){case B5.DOLLY:if(r.enableZoom===!1)return;tn(ne),o=i.DOLLY;break;case B5.ROTATE:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(r.enablePan===!1)return;pn(ne),o=i.PAN}else{if(r.enableRotate===!1)return;It(ne),o=i.ROTATE}break;case B5.PAN:if(ne.ctrlKey||ne.metaKey||ne.shiftKey){if(r.enableRotate===!1)return;It(ne),o=i.ROTATE}else{if(r.enablePan===!1)return;pn(ne),o=i.PAN}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(_H)}function hn(ne){switch(o){case i.ROTATE:if(r.enableRotate===!1)return;ft(ne);break;case i.DOLLY:if(r.enableZoom===!1)return;kt(ne);break;case i.PAN:if(r.enablePan===!1)return;Xt(ne);break}}function Rt(ne){r.enabled===!1||r.enableZoom===!1||o!==i.NONE||(ne.preventDefault(),r.dispatchEvent(_H),Ut(Pn(ne)),r.dispatchEvent(dge))}function Pn(ne){const st=ne.deltaMode,Mt={clientX:ne.clientX,clientY:ne.clientY,deltaY:ne.deltaY};switch(st){case 1:Mt.deltaY*=16;break;case 2:Mt.deltaY*=100;break}return ne.ctrlKey&&!W&&(Mt.deltaY*=10),Mt}function On(ne){ne.key==="Control"&&(W=!0,r.domElement.getRootNode().addEventListener("keyup",Yt,{passive:!0,capture:!0}))}function Yt(ne){ne.key==="Control"&&(W=!1,r.domElement.getRootNode().removeEventListener("keyup",Yt,{passive:!0,capture:!0}))}function an(ne){r.enabled===!1||r.enablePan===!1||it(ne)}function Fn(ne){switch(hr(ne),ae.length){case 1:switch(r.touches.ONE){case U5.ROTATE:if(r.enableRotate===!1)return;bt(ne),o=i.TOUCH_ROTATE;break;case U5.PAN:if(r.enablePan===!1)return;Nt(ne),o=i.TOUCH_PAN;break;default:o=i.NONE}break;case 2:switch(r.touches.TWO){case U5.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Cn(ne),o=i.TOUCH_DOLLY_PAN;break;case U5.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ln(ne),o=i.TOUCH_DOLLY_ROTATE;break;default:o=i.NONE}break;default:o=i.NONE}o!==i.NONE&&r.dispatchEvent(_H)}function gn(ne){switch(hr(ne),o){case i.TOUCH_ROTATE:if(r.enableRotate===!1)return;rn(ne),r.update();break;case i.TOUCH_PAN:if(r.enablePan===!1)return;Ot(ne),r.update();break;case i.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Pe(ne),r.update();break;case i.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;de(ne),r.update();break;default:o=i.NONE}}function fn(ne){r.enabled!==!1&&ne.preventDefault()}function ar(ne){ae.push(ne.pointerId)}function Bn(ne){delete ve[ne.pointerId];for(let st=0;st<ae.length;st++)if(ae[st]==ne.pointerId){ae.splice(st,1);return}}function gr(ne){for(let st=0;st<ae.length;st++)if(ae[st]==ne.pointerId)return!0;return!1}function hr(ne){let st=ve[ne.pointerId];st===void 0&&(st=new nn,ve[ne.pointerId]=st),st.set(ne.pageX,ne.pageY)}function rr(ne){const st=ne.pointerId===ae[0]?ae[1]:ae[0];return ve[st]}r.domElement.addEventListener("contextmenu",fn),r.domElement.addEventListener("pointerdown",Ze),r.domElement.addEventListener("pointercancel",Ct),r.domElement.addEventListener("wheel",Rt,{passive:!1}),r.domElement.getRootNode().addEventListener("keydown",On,{passive:!0,capture:!0}),this.update()}}function u4(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}const aI=t=>{const[e,n]=ut.useState(t.options[t.index]),r=()=>{t.onToggle(!t.open)},i=o=>{o!==e&&(t.onSelect(o),n(o)),t.onToggle(!1)};return Ve.jsxs("div",{className:`dropdown ${t.up===!0?"up":""}`,children:[Ve.jsx("div",{className:"dropdown-toggle",onClick:r,children:e}),t.open&&Ve.jsx("ul",{className:"dropdown-menu",children:t.options.map(o=>Ve.jsx("li",{onClick:()=>i(o),children:o},o))})]})},o2=ut.forwardRef(function(e,n){const r=["Renderer","Depth","Normals","UVs","Wireframe"],[i,o]=ut.useState("Renderer"),[u,d]=ut.useState(!1),[m,v]=ut.useState(!1),[x,S]=ut.useState(!1);return Ve.jsxs("div",{className:"CameraWindow",children:[Ve.jsx("div",{ref:n,className:"clickable",onClick:()=>{x&&S(!1)}}),Ve.jsx(aI,{index:r.indexOf(i),open:m,options:r,onSelect:T=>{if(T===i)return;const R=T;e.onSelectRenderMode(R),o(R)},onToggle:T=>{u&&d(!1),v(T)},up:!0}),Ve.jsx(aI,{index:e.options.indexOf(e.camera.name),open:x,options:e.options,onSelect:e.onSelectCamera,onToggle:T=>{S(T)},up:!0})]})});class ttt extends Ia{constructor(e){super({extensions:{derivatives:!0},glslVersion:kG,side:Sa,transparent:!0,uniforms:{uScale:{value:(e==null?void 0:e.scale)!==void 0?e==null?void 0:e.scale:.1},uDivisions:{value:(e==null?void 0:e.divisions)!==void 0?e==null?void 0:e.divisions:10},uColor:{value:(e==null?void 0:e.color)!==void 0?e==null?void 0:e.color:new cn(16777215)},uDistance:{value:(e==null?void 0:e.distance)!==void 0?e==null?void 0:e.distance:1e4},uSubgridOpacity:{value:(e==null?void 0:e.subgridOpacity)!==void 0?e==null?void 0:e.subgridOpacity:.15},uGridOpacity:{value:(e==null?void 0:e.gridOpacity)!==void 0?e==null?void 0:e.gridOpacity:.25}},vertexShader:`out vec3 worldPosition;
      uniform float uDistance;
      
      void main() {
        // Scale the plane by the drawing distance
        worldPosition = position.xzy * uDistance;
        worldPosition.xz += cameraPosition.xz;
      
        gl_Position = projectionMatrix * modelViewMatrix * vec4(worldPosition, 1.0);
      }`,fragmentShader:`out vec4 fragColor;
      in vec3 worldPosition;
      
      uniform float uDivisions;
      uniform float uScale;
      uniform vec3 uColor;
      uniform float uDistance;
      uniform float uSubgridOpacity;
      uniform float uGridOpacity;
      
      float getGrid(float gapSize) {
        vec2 worldPositionByDivision = worldPosition.xz / gapSize;
      
        // Inverted, 0 where line, >1 where there's no line
        // We use the worldPosition (which in this case we use similarly to UVs) differential to control the anti-aliasing
        // We need to do the -0.5)-0.5 trick because the result fades out from 0 to 1, and we want both
        // worldPositionByDivision == 0.3 and worldPositionByDivision == 0.7 to result in the same fade, i.e. 0.3,
        // otherwise only one side of the line will be anti-aliased
        vec2 grid = abs(fract(worldPositionByDivision-0.5)-0.5) / fwidth(worldPositionByDivision) / 2.0;
        float gridLine = min(grid.x, grid.y);
      
        // Uninvert and clamp
        return 1.0 - min(gridLine, 1.0);
      }
      
      void main() {
        float cameraDistanceToGridPlane = distance(cameraPosition.y, worldPosition.y);
        float cameraDistanceToFragmentOnGridPlane = distance(cameraPosition.xz, worldPosition.xz);
      
        // The size of the grid and subgrid are powers of each other and they are determined based on camera distance.
        // The current grid will become the next subgrid when it becomes too small, and its next power becomes the new grid.
        float subGridPower = pow(uDivisions, floor(log(cameraDistanceToGridPlane) / log(uDivisions)));
        float gridPower = subGridPower * uDivisions;
      
        // If we want to fade both the grid and its subgrid, we need to displays 3 different opacities, with the next grid being the third
        float nextGridPower = gridPower * uDivisions;
      
        // 1 where grid, 0 where no grid
        float subgrid = getGrid(subGridPower * uScale);
        float grid = getGrid(gridPower * uScale);
        float nextGrid = getGrid(nextGridPower * uScale);
      
        // Where we are between the introduction of the current grid power and when we switch to the next grid power
        float stepPercentage = (cameraDistanceToGridPlane - subGridPower)/(gridPower - subGridPower);
      
        // The last x percentage of the current step over which we want to fade
        float fadeRange = 0.3;
      
        // We calculate the fade percentage from the step percentage and the fade range
        float fadePercentage = max(stepPercentage - 1.0 + fadeRange, 0.0) / fadeRange;
      
        // Set base opacity based on how close we are to the drawing distance, with a cubic falloff
        float baseOpacity = subgrid * pow(1.0 - min(cameraDistanceToFragmentOnGridPlane / uDistance, 1.0), 3.0);
      
        // Shade the subgrid
        fragColor = vec4(uColor.rgb, (baseOpacity - fadePercentage) * uSubgridOpacity);
      
        // Somewhat arbitrary additional fade coefficient to counter anti-aliasing popping when switching between grid powers
        float fadeCoefficient = 0.5;
      
        // Shade the grid
        fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity - fadePercentage * (uGridOpacity - uSubgridOpacity) * fadeCoefficient, grid);
      
        // Shade the next grid
        fragColor.a = mix(fragColor.a, baseOpacity * uGridOpacity, nextGrid);
      
        if (fragColor.a <= 0.0) discard;
      }`,name:"InfiniteGrid",depthWrite:!1})}}class ntt extends hi{constructor(){const n=new ttt;super(new R2(2,2),n);tr(this,"gridMaterial");this.gridMaterial=n,this.frustumCulled=!1,this.name="InfiniteGridHelper",this.position.y=.1}update(){this.gridMaterial.needsUpdate=!0}}const rtt=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>

void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>

	#if defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif

	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
}`,itt=`
#include <common>
#include <uv_pars_fragment>
#include <clipping_planes_pars_fragment>

void main() {
	#include <clipping_planes_fragment>
	gl_FragColor = vec4(vec3(vUv, 0.0), 1.0);
}`;class stt extends Ia{constructor(){super({defines:{USE_UV:""},vertexShader:rtt,fragmentShader:itt})}}let fu,wH=!1,Li=null,Mo=null,pf=null,ff=null,c4="Renderer",Nk="Renderer",pge="Renderer",fge="Renderer";function ott(t){const e=t.three.app.appID,n=ut.useMemo(()=>new Map,[]),r=ut.useMemo(()=>new Map,[]),i=ut.useMemo(()=>new Map,[]),o=ut.useMemo(()=>new Map,[]),u=ut.useMemo(()=>new Bb,[]),d=ut.useMemo(()=>new y2,[]),m=ut.useMemo(()=>new ntt,[]),v=ut.useMemo(()=>new j3e(500),[]),x=ut.useMemo(()=>new j3e(100),[]),S=ut.useMemo(()=>new d6e,[]),T=ut.useMemo(()=>new kze,[]),R=ut.useMemo(()=>new stt,[]),G=ut.useMemo(()=>new mh({opacity:.33,transparent:!0,wireframe:!0}),[]);function L(it,bt){const Nt=new Fb(-100,100,100,-100,50,5e3);return Nt.name=it,Nt.position.copy(bt),Nt.lookAt(0,0,0),n.set(it,Nt),Nt}const B=["Single","Side by Side","Stacked","Quad"],z=ut.useRef(null),C=ut.useRef(null),V=ut.useRef(null),Y=ut.useRef(null),me=ut.useRef(null),q=ut.useRef(null),ae=localStorage,ve=ae.getItem(`${e}_mode`),[W,se]=ut.useState(ve!==null?ve:"Single"),[Te,dt]=ut.useState(null),[He,xe]=ut.useState(!1),[gt,ze]=ut.useState(!1),[At,Ne]=ut.useState("Orbit"),[ht,pt]=ut.useState(!1),[It,tn]=ut.useState(Date.now());ae.setItem(`${e}_mode`,W),ae.setItem(`${e}_tlCam`,ae.getItem(`${e}_tlCam`)!==null?ae.getItem(`${e}_tlCam`):"Debug"),ae.setItem(`${e}_trCam`,ae.getItem(`${e}_trCam`)!==null?ae.getItem(`${e}_trCam`):"Orthographic"),ae.setItem(`${e}_blCam`,ae.getItem(`${e}_blCam`)!==null?ae.getItem(`${e}_blCam`):"Front"),ae.setItem(`${e}_brCam`,ae.getItem(`${e}_brCam`)!==null?ae.getItem(`${e}_brCam`):"Top"),ae.setItem(`${e}_tlRender`,ae.getItem(`${e}_tlRender`)!==null?ae.getItem(`${e}_tlRender`):"Renderer"),ae.setItem(`${e}_trRender`,ae.getItem(`${e}_trRender`)!==null?ae.getItem(`${e}_trRender`):"Renderer"),ae.setItem(`${e}_blRender`,ae.getItem(`${e}_blRender`)!==null?ae.getItem(`${e}_blRender`):"Renderer"),ae.setItem(`${e}_brRender`,ae.getItem(`${e}_brRender`)!==null?ae.getItem(`${e}_brRender`):"Renderer");const pn=(it,bt)=>{const Nt=r.get(it.name);if(Nt!==void 0&&Nt.dispose(),r.delete(it.name),it.name==="UI")return;const je=new ett(it,bt);switch(je.enableDamping=!0,je.dampingFactor=.05,it.name){case"Top":case"Bottom":case"Left":case"Right":case"Front":case"Back":je.enableRotate=!1;break}r.set(it.name,je)},ft=it=>{const bt=i.get(it.name);bt!==void 0&&(u.remove(bt),bt.dispose(),i.delete(it.name));const Nt=r.get(it.name);Nt!==void 0&&(Nt.dispose(),r.delete(it.name))},kt=()=>{r.forEach((it,bt)=>{it.dispose();const Nt=i.get(bt);Nt!==void 0&&(u.remove(Nt),Nt.dispose()),i.delete(bt),r.delete(bt)}),r.clear(),i.clear()},Xt=()=>{switch(W){case"Single":pn(Li,V.current);break;case"Side by Side":case"Stacked":pn(Li,V.current),pn(Mo,Y.current);break;case"Quad":pn(Li,V.current),pn(Mo,Y.current),pn(pf,me.current),pn(ff,q.current);break}};ut.useEffect(()=>{const it=new h6e({canvas:z.current,stencil:!1});it.autoClear=!1,it.shadowMap.enabled=!0,it.setPixelRatio(devicePixelRatio),it.setClearColor(0),t.three.renderer=it,dt(it)},[]),ut.useEffect(()=>{u.name="Debug Scene",u.uuid="",d.name="helpers",u.add(d),d.add(m),v.name="axisHelper",d.add(v),x.name="interactionHelper",d.add(x),x.visible=!1,L("Top",new Re(0,1e3,0)),L("Bottom",new Re(0,-1e3,0)),L("Left",new Re(-1e3,0,0)),L("Right",new Re(1e3,0,0)),L("Front",new Re(0,0,1e3)),L("Back",new Re(0,0,-1e3)),L("Orthographic",new Re(1e3,1e3,1e3)),L("UI",new Re);const it=new Ds(60,1,50,5e3);it.name="Debug",it.position.set(500,500,500),it.lookAt(0,0,0),n.set("Debug",it),Li=n.get(ae.getItem(`${e}_tlCam`)),Mo=n.get(ae.getItem(`${e}_trCam`)),pf=n.get(ae.getItem(`${e}_blCam`)),ff=n.get(ae.getItem(`${e}_brCam`))},[]),ut.useEffect(()=>{const it=()=>{o.forEach(rn=>{d.remove(rn),rn.dispose()}),o.clear()},bt=()=>{fu.traverse(rn=>{if(rn.type.search("Light")>-1){let Ot;switch(rn.type){case"DirectionalLight":Ot=new mVe(rn,100),Ot.name=`${rn.name}Helper`,o.set(rn.name,Ot),d.add(Ot);break;case"HemisphereLight":Ot=new fVe(rn,250),Ot.name=`${rn.name}Helper`,o.set(rn.name,Ot),d.add(Ot);break;case"RectAreaLight":Ot=new Qet(rn),Ot.name=`${rn.name}Helper`,o.set(rn.name,Ot),d.add(Ot);break;case"PointLight":Ot=new hVe(rn,100),Ot.name=`${rn.name}Helper`,o.set(rn.name,Ot),d.add(Ot);break;case"SpotLight":Ot=new dVe(rn),Ot.name=`${rn.name}Helper`,o.set(rn.name,Ot),d.add(Ot);break}}})},Nt=rn=>{d.add(v),it(),ug(fu),u.remove(fu);const Ot=t.scenes.get(rn.value.name);if(Ot!==void 0){const dn=new Ot;t.onSceneSet!==void 0&&t.onSceneSet(dn),fu=dn,t.three.scene=fu,u.add(fu),wH=!0,bt()}},je=rn=>{var Pe;const Ot=rn.value,dn=(Pe=t.three.scene)==null?void 0:Pe.getObjectByProperty("uuid",Ot.uuid);if(dn!==void 0&&n.set(Ot.name,dn),dn instanceof Ds){const de=new gVe(dn);i.set(dn.name,de),u.add(de)}tn(Date.now())},Cn=rn=>{const Ot=i.get(rn.value.name);Ot!==void 0&&(u.remove(Ot),Ot.dispose()),n.delete(rn.value.name),tn(Date.now())},ln=rn=>{const Ot=fu.getObjectByProperty("uuid",rn.value.uuid);Ot&&Ot.add(v)};return ur.addEventListener(cr.SET_SCENE,Nt),ur.addEventListener(cr.ADD_CAMERA,je),ur.addEventListener(cr.REMOVE_CAMERA,Cn),ur.addEventListener(cr.SET_OBJECT,ln),()=>{ur.removeEventListener(cr.SET_SCENE,Nt),ur.removeEventListener(cr.ADD_CAMERA,je),ur.removeEventListener(cr.REMOVE_CAMERA,Cn),ur.removeEventListener(cr.SET_OBJECT,ln)}},[]),ut.useEffect(()=>{if(Te===null)return;let it=window.innerWidth,bt=window.innerHeight,Nt=Math.floor(it/2),je=Math.floor(bt/2),Cn=-1;const ln=()=>{it=window.innerWidth-300,bt=window.innerHeight,Nt=Math.floor(it/2),je=Math.floor(bt/2),t.three.resize(it,bt),t.onSceneResize!==void 0&&wH&&t.onSceneResize(fu,it,bt);let Ze=it,Et=bt;switch(W){case"Side by Side":Ze=Nt,Et=bt;break;case"Stacked":Ze=it,Et=je;break;case"Quad":Ze=Nt,Et=je;break}n.forEach(Ct=>{var Dt;Ct instanceof Fb?(Ct.left=Ze/-2,Ct.right=Ze/2,Ct.top=Et/2,Ct.bottom=Et/-2,Ct.name==="UI"&&(Ct.position.x=it/2,Ct.position.y=bt/-2,Ct.position.z=100),Ct.updateProjectionMatrix()):Ct instanceof Ds&&(Ct.aspect=Ze/Et,Ct.updateProjectionMatrix(),(Dt=i.get(Ct.name))==null||Dt.update())})};function rn(Ze){switch(Ze){case"Depth":return S;case"Normals":return T;case"Renderer":return null;case"UVs":return R;case"Wireframe":return G}return null}const Ot=()=>{const Ze=rn(c4);u.overrideMaterial=Ze,Te.setViewport(0,0,it,bt),Te.setScissor(0,0,it,bt),Te.render(u,Li)},dn=()=>{const Ze=rn(c4),Et=rn(Nk);if(u.overrideMaterial=Ze,W==="Side by Side")Te.setViewport(0,0,Nt,bt),Te.setScissor(0,0,Nt,bt),Te.render(u,Li),u.overrideMaterial=Et,Te.setViewport(Nt,0,Nt,bt),Te.setScissor(Nt,0,Nt,bt),Te.render(u,Mo);else{const Ct=bt-je;Te.setViewport(0,Ct,it,je),Te.setScissor(0,Ct,it,je),Te.render(u,Li),u.overrideMaterial=Et,Te.setViewport(0,0,it,je),Te.setScissor(0,0,it,je),Te.render(u,Mo)}},Pe=()=>{const Ze=rn(c4),Et=rn(Nk),Ct=rn(pge),Dt=rn(fge);let hn=0,Rt=0;Rt=bt-je,hn=0,u.overrideMaterial=Ze,Te.setViewport(hn,Rt,Nt,je),Te.setScissor(hn,Rt,Nt,je),Te.render(u,Li),hn=Nt,u.overrideMaterial=Et,Te.setViewport(hn,Rt,Nt,je),Te.setScissor(hn,Rt,Nt,je),Te.render(u,Mo),Rt=0,hn=0,u.overrideMaterial=Ct,Te.setViewport(hn,Rt,Nt,je),Te.setScissor(hn,Rt,Nt,je),Te.render(u,pf),hn=Nt,u.overrideMaterial=Dt,Te.setViewport(hn,Rt,Nt,je),Te.setScissor(hn,Rt,Nt,je),Te.render(u,ff)},de=()=>{switch(r.forEach(Ze=>{Ze.update()}),i.forEach(Ze=>{Ze.update()}),o.forEach(Ze=>{Ze.update!==void 0&&Ze.update()}),t.onSceneUpdate!==void 0&&wH&&t.onSceneUpdate(fu),Te.clear(),W){case"Single":Ot();break;case"Side by Side":case"Stacked":dn();break;case"Quad":Pe();break}Cn=requestAnimationFrame(de)};return Xt(),window.addEventListener("resize",ln),ln(),de(),()=>{window.removeEventListener("resize",ln),cancelAnimationFrame(Cn),Cn=-1}},[W,Te]),ut.useEffect(()=>{if(Te!==null){const it=new cVe,bt=new nn,Nt=(rn,Ot,dn,Pe)=>{switch(W){case"Quad":rn<dn?Ot<Pe?it.setFromCamera(bt,Li):it.setFromCamera(bt,pf):Ot<Pe?it.setFromCamera(bt,Mo):it.setFromCamera(bt,ff);break;case"Side by Side":rn<dn?it.setFromCamera(bt,Li):it.setFromCamera(bt,Mo);break;case"Single":it.setFromCamera(bt,Li);break;case"Stacked":Ot<Pe?it.setFromCamera(bt,Li):it.setFromCamera(bt,Mo);break}},je=rn=>{if(At==="Orbit")return;const Ot=new nn;Te.getSize(Ot);const dn=Math.min(rn.clientX,Ot.x),Pe=Math.min(rn.clientY,Ot.y);bt.x=u4(dn,0,Ot.x,-1,1),bt.y=u4(Pe,0,Ot.y,1,-1);const de=Ot.x/2,Ze=Ot.y/2,Et=()=>{dn<de?bt.x=u4(dn,0,de,-1,1):bt.x=u4(dn,de,Ot.x,-1,1)},Ct=()=>{Pe<Ze?bt.y=u4(Pe,0,Ze,1,-1):bt.y=u4(Pe,Ze,Ot.y,1,-1)};switch(W){case"Quad":Et(),Ct();break;case"Side by Side":Et();break;case"Stacked":Ct(),Ct();break}Nt(dn,Pe,de,Ze);const Dt=it.intersectObjects(fu.children);Dt.length>0&&x.position.copy(Dt[0].point)},Cn=rn=>{if(At==="Orbit")return;const Ot=new nn;if(Te.getSize(Ot),rn.clientX>=Ot.x)return;je(rn);const dn=it.intersectObjects(fu.children);dn.length>0&&(t.three.getObject(dn[0].object.uuid),x.visible=!1,Ne("Orbit"),tn(Date.now()))},ln=C.current;return ln.addEventListener("mousemove",je,!1),ln.addEventListener("click",Cn,!1),()=>{ln.removeEventListener("mousemove",je),ln.removeEventListener("click",Cn)}}},[W,Te,At]);const Ut=[];return n.forEach((it,bt)=>{Ut.push(bt)}),Ve.jsxs("div",{className:"multiview",children:[Ve.jsx("canvas",{ref:z}),Te!==null&&Ve.jsxs(Ve.Fragment,{children:[Ve.jsxs("div",{className:`cameras ${W==="Single"||W==="Stacked"?"single":""}`,ref:C,children:[W==="Single"&&Ve.jsx(Ve.Fragment,{children:Ve.jsx(o2,{camera:Li,options:Ut,ref:V,onSelectCamera:it=>{var Nt;(Nt=r.get(Li.name))==null||Nt.dispose();const bt=n.get(it);bt!==void 0&&(ft(Li),Li=bt,ae.setItem(`${e}_tlCam`,bt.name),pn(bt,V.current))},onSelectRenderMode:it=>{c4=it,ae.setItem(`${e}_tlRender`,it)}})}),(W==="Side by Side"||W==="Stacked")&&Ve.jsxs(Ve.Fragment,{children:[Ve.jsx(o2,{camera:Li,options:Ut,ref:V,onSelectCamera:it=>{var Nt;(Nt=r.get(Li.name))==null||Nt.dispose();const bt=n.get(it);bt!==void 0&&(ft(Li),Li=bt,ae.setItem(`${e}_tlCam`,bt.name),pn(bt,V.current))},onSelectRenderMode:it=>{c4=it,ae.setItem(`${e}_tlRender`,it)}}),Ve.jsx(o2,{camera:Mo,options:Ut,ref:Y,onSelectCamera:it=>{var Nt;(Nt=r.get(Mo.name))==null||Nt.dispose();const bt=n.get(it);bt!==void 0&&(ft(Mo),Mo=bt,ae.setItem(`${e}_trCam`,bt.name),pn(bt,Y.current))},onSelectRenderMode:it=>{Nk=it,ae.setItem(`${e}_trRender`,it)}})]}),W==="Quad"&&Ve.jsxs(Ve.Fragment,{children:[Ve.jsx(o2,{camera:Li,options:Ut,ref:V,onSelectCamera:it=>{var Nt;(Nt=r.get(Li.name))==null||Nt.dispose();const bt=n.get(it);bt!==void 0&&(ft(Li),Li=bt,ae.setItem(`${e}_tlCam`,bt.name),pn(bt,V.current))},onSelectRenderMode:it=>{c4=it,ae.setItem(`${e}_tlRender`,it)}}),Ve.jsx(o2,{camera:Mo,options:Ut,ref:Y,onSelectCamera:it=>{var Nt;(Nt=r.get(Mo.name))==null||Nt.dispose();const bt=n.get(it);bt!==void 0&&(ft(Mo),Mo=bt,ae.setItem(`${e}_trCam`,bt.name),pn(bt,Y.current))},onSelectRenderMode:it=>{Nk=it,ae.setItem(`${e}_trRender`,it)}}),Ve.jsx(o2,{camera:pf,options:Ut,ref:me,onSelectCamera:it=>{var Nt;(Nt=r.get(pf.name))==null||Nt.dispose();const bt=n.get(it);bt!==void 0&&(ft(pf),pf=bt,ae.setItem(`${e}_blCam`,bt.name),pn(bt,me.current))},onSelectRenderMode:it=>{pge=it,ae.setItem(`${e}_blRender`,it)}}),Ve.jsx(o2,{camera:ff,options:Ut,ref:q,onSelectCamera:it=>{var Nt;(Nt=r.get(ff.name))==null||Nt.dispose();const bt=n.get(it);bt!==void 0&&(ft(ff),ff=bt,ae.setItem(`${e}_brCam`,bt.name),pn(bt,q.current))},onSelectRenderMode:it=>{fge=it,ae.setItem(`${e}_brRender`,it)}})]})]}),Ve.jsxs("div",{className:"settings",children:[Ve.jsx(aI,{index:B.indexOf(W),options:B,onSelect:it=>{it!==W&&(kt(),se(it))},open:He,onToggle:it=>{xe(it),gt&&ze(!1),ht&&pt(!1)}}),Ve.jsx(aI,{index:At==="Orbit"?0:1,options:["Orbit Mode","Selection Mode"],onSelect:it=>{x.visible=it==="Selection Mode",Ne(x.visible?"Selection":"Orbit")},open:ht,onToggle:it=>{He&&xe(!1),gt&&ze(!1),pt(it)}})]},It)]})]})}/**
 * postprocessing v6.35.3 build Sat Mar 30 2024
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2024 Raoul van Rschen
 * @license Zlib
 */var xH=1/1e3,att=1e3,ltt=class{constructor(){this.startTime=performance.now(),this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(t){typeof document<"u"&&document.hidden!==void 0&&(t?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=t)}get delta(){return this._delta*xH}get fixedDelta(){return this._fixedDelta*xH}set fixedDelta(t){this._fixedDelta=t*att}get elapsed(){return this._elapsed*xH}update(t){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=(t!==void 0?t:performance.now())-this.startTime,this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()-this.startTime}getDelta(){return this.delta}getElapsed(){return this.elapsed}handleEvent(t){document.hidden||(this.currentTime=performance.now()-this.startTime)}dispose(){this.autoReset=!1}},utt=new AI,mf=null;function ctt(){if(mf===null){const t=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),e=new Float32Array([0,0,2,0,0,2]);mf=new zi,mf.setAttribute!==void 0?(mf.setAttribute("position",new Pa(t,3)),mf.setAttribute("uv",new Pa(e,2))):(mf.addAttribute("position",new Pa(t,3)),mf.addAttribute("uv",new Pa(e,2)))}return mf}var s1=class m_e{constructor(e="Pass",n=new Bb,r=utt){this.name=e,this.renderer=null,this.scene=n,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){const n=this.fullscreenMaterial;n!==null&&(n.needsUpdate=!0),this.rtt=!e}}set mainScene(e){}set mainCamera(e){}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let n=this.screen;n!==null?n.material=e:(n=new hi(ctt(),e),n.frustumCulled=!1,this.scene===null&&(this.scene=new Bb),this.scene.add(n),this.screen=n)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,n=h_){}render(e,n,r,i,o){throw new Error("Render method not implemented!")}setSize(e,n){}initialize(e,n,r){}dispose(){for(const e of Object.keys(this)){const n=this[e];(n instanceof Aa||n instanceof I0||n instanceof Ji||n instanceof m_e)&&this[e].dispose()}}},dtt=class extends s1{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(t,e,n,r,i){const o=t.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},htt=Number(d_.replace(/\D+/g,""));function oR(t){return htt<154?t.replace("colorspace_fragment","encodings_fragment"):t}var ptt=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <colorspace_fragment>
#include <dithering_fragment>
}`,ftt="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",g_e=class extends Ia{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Ai(null),opacity:new Ai(1)},blending:bl,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:ptt,vertexShader:ftt}),this.fragmentShader=oR(this.fragmentShader)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}getOpacity(t){return this.uniforms.opacity.value}setOpacity(t){this.uniforms.opacity.value=t}},mtt=class extends s1{constructor(t,e=!0){super("CopyPass"),this.fullscreenMaterial=new g_e,this.needsSwap=!1,this.renderTarget=t,t===void 0&&(this.renderTarget=new Aa(1,1,{minFilter:Hs,magFilter:Hs,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=e}get resize(){return this.autoResize}set resize(t){this.autoResize=t}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(t){this.autoResize=t}render(t,e,n,r,i){this.fullscreenMaterial.inputBuffer=e.texture,t.setRenderTarget(this.renderToScreen?null:this.renderTarget),t.render(this.scene,this.camera)}setSize(t,e){this.autoResize&&this.renderTarget.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTarget.texture.type=n,n!==E0?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":t!==null&&t.outputColorSpace===ri&&(this.renderTarget.texture.colorSpace=ri))}},mge=new cn,v_e=class extends s1{constructor(t=!0,e=!0,n=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=t,this.depth=e,this.stencil=n,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(t,e,n){this.color=t,this.depth=e,this.stencil=n}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(t){this.overrideClearColor=t}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(t){this.overrideClearAlpha=t}render(t,e,n,r,i){const o=this.overrideClearColor,u=this.overrideClearAlpha,d=t.getClearAlpha(),m=o!==null,v=u>=0;m?(t.getClearColor(mge),t.setClearColor(o,v?u:d)):v&&t.setClearAlpha(u),t.setRenderTarget(this.renderToScreen?null:e),t.clear(this.color,this.depth,this.stencil),m?t.setClearColor(mge,d):v&&t.setClearAlpha(d)}},gtt=class extends s1{constructor(t,e){super("MaskPass",t,e),this.needsSwap=!1,this.clearPass=new v_e(!1,!1,!0),this.inverse=!1}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get inverted(){return this.inverse}set inverted(t){this.inverse=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(t){this.inverted=t}render(t,e,n,r,i){const o=t.getContext(),u=t.state.buffers,d=this.scene,m=this.camera,v=this.clearPass,x=this.inverted?0:1,S=1-x;u.color.setMask(!1),u.depth.setMask(!1),u.color.setLocked(!0),u.depth.setLocked(!0),u.stencil.setTest(!0),u.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),u.stencil.setFunc(o.ALWAYS,x,4294967295),u.stencil.setClear(S),u.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?v.render(t,null):(v.render(t,e),v.render(t,n))),this.renderToScreen?(t.setRenderTarget(null),t.render(d,m)):(t.setRenderTarget(e),t.render(d,m),t.setRenderTarget(n),t.render(d,m)),u.color.setLocked(!1),u.depth.setLocked(!1),u.stencil.setLocked(!1),u.stencil.setFunc(o.EQUAL,1,4294967295),u.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),u.stencil.setLocked(!0)}},vtt=class{constructor(t=null,{depthBuffer:e=!0,stencilBuffer:n=!1,multisampling:r=0,frameBufferType:i}={}){this.renderer=null,this.inputBuffer=this.createBuffer(e,n,i,r),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new mtt,this.depthTexture=null,this.passes=[],this.timer=new ltt,this.autoRenderToScreen=!0,this.setRenderer(t)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(t){const e=this.inputBuffer,n=this.multisampling;n>0&&t>0?(this.inputBuffer.samples=t,this.outputBuffer.samples=t,this.inputBuffer.dispose(),this.outputBuffer.dispose()):n!==t&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(e.depthBuffer,e.stencilBuffer,e.texture.type,t),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(t){if(this.renderer=t,t!==null){const e=t.getSize(new nn),n=t.getContext().getContextAttributes().alpha,r=this.inputBuffer.texture.type;r===E0&&t.outputColorSpace===ri&&(this.inputBuffer.texture.colorSpace=ri,this.outputBuffer.texture.colorSpace=ri,this.inputBuffer.dispose(),this.outputBuffer.dispose()),t.autoClear=!1,this.setSize(e.width,e.height);for(const i of this.passes)i.initialize(t,n,r)}}replaceRenderer(t,e=!0){const n=this.renderer,r=n.domElement.parentNode;return this.setRenderer(t),e&&r!==null&&(r.removeChild(n.domElement),r.appendChild(t.domElement)),n}createDepthTexture(){const t=this.depthTexture=new TW;return this.inputBuffer.depthTexture=t,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(t.format=sg,t.type=yg):t.type=I2,t}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const t of this.passes)t.setDepthTexture(null)}}createBuffer(t,e,n,r){const i=this.renderer,o=i===null?new nn:i.getDrawingBufferSize(new nn),u={minFilter:Hs,magFilter:Hs,stencilBuffer:e,depthBuffer:t,type:n},d=new Aa(o.width,o.height,u);return r>0&&(d.ignoreDepthForMultisampleCopy=!1,d.samples=r),n===E0&&i!==null&&i.outputColorSpace===ri&&(d.texture.colorSpace=ri),d.texture.name="EffectComposer.Buffer",d.texture.generateMipmaps=!1,d}setMainScene(t){for(const e of this.passes)e.mainScene=t}setMainCamera(t){for(const e of this.passes)e.mainCamera=t}addPass(t,e){const n=this.passes,r=this.renderer,i=r.getDrawingBufferSize(new nn),o=r.getContext().getContextAttributes().alpha,u=this.inputBuffer.texture.type;if(t.setRenderer(r),t.setSize(i.width,i.height),t.initialize(r,o,u),this.autoRenderToScreen&&(n.length>0&&(n[n.length-1].renderToScreen=!1),t.renderToScreen&&(this.autoRenderToScreen=!1)),e!==void 0?n.splice(e,0,t):n.push(t),this.autoRenderToScreen&&(n[n.length-1].renderToScreen=!0),t.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const d=this.createDepthTexture();for(t of n)t.setDepthTexture(d)}else t.setDepthTexture(this.depthTexture)}removePass(t){const e=this.passes,n=e.indexOf(t);if(n!==-1&&e.splice(n,1).length>0){if(this.depthTexture!==null){const o=(d,m)=>d||m.needsDepthTexture;e.reduce(o,!1)||(t.getDepthTexture()===this.depthTexture&&t.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&n===e.length&&(t.renderToScreen=!1,e.length>0&&(e[e.length-1].renderToScreen=!0))}}removeAllPasses(){const t=this.passes;this.deleteDepthTexture(),t.length>0&&(this.autoRenderToScreen&&(t[t.length-1].renderToScreen=!1),this.passes=[])}render(t){const e=this.renderer,n=this.copyPass;let r=this.inputBuffer,i=this.outputBuffer,o=!1,u,d,m;t===void 0&&(this.timer.update(),t=this.timer.getDelta());for(const v of this.passes)v.enabled&&(v.render(e,r,i,t,o),v.needsSwap&&(o&&(n.renderToScreen=v.renderToScreen,u=e.getContext(),d=e.state.buffers.stencil,d.setFunc(u.NOTEQUAL,1,4294967295),n.render(e,r,i,t,o),d.setFunc(u.EQUAL,1,4294967295)),m=r,r=i,i=m),v instanceof gtt?o=!0:v instanceof dtt&&(o=!1))}setSize(t,e,n){const r=this.renderer,i=r.getSize(new nn);(t===void 0||e===void 0)&&(t=i.width,e=i.height),(i.width!==t||i.height!==e)&&r.setSize(t,e,n);const o=r.getDrawingBufferSize(new nn);this.inputBuffer.setSize(o.width,o.height),this.outputBuffer.setSize(o.width,o.height);for(const u of this.passes)u.setSize(o.width,o.height)}reset(){this.dispose(),this.autoRenderToScreen=!0}dispose(){for(const t of this.passes)t.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},C2={NONE:0,DEPTH:1,CONVOLUTION:2},Gr={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},ytt=class{constructor(){this.shaderParts=new Map([[Gr.FRAGMENT_HEAD,null],[Gr.FRAGMENT_MAIN_UV,null],[Gr.FRAGMENT_MAIN_IMAGE,null],[Gr.VERTEX_HEAD,null],[Gr.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=C2.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=Fc}},SH=!1,gge=class{constructor(t=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(t),this.meshCount=0,this.replaceMaterial=e=>{if(e.isMesh){let n;if(e.material.flatShading)switch(e.material.side){case Sa:n=this.materialsFlatShadedDoubleSide;break;case Ss:n=this.materialsFlatShadedBackSide;break;default:n=this.materialsFlatShaded;break}else switch(e.material.side){case Sa:n=this.materialsDoubleSide;break;case Ss:n=this.materialsBackSide;break;default:n=this.materials;break}this.originalMaterials.set(e,e.material),e.isSkinnedMesh?e.material=n[2]:e.isInstancedMesh?e.material=n[1]:e.material=n[0],++this.meshCount}}}cloneMaterial(t){if(!(t instanceof Ia))return t.clone();const e=t.uniforms,n=new Map;for(const i in e){const o=e[i].value;o.isRenderTargetTexture&&(e[i].value=null,n.set(i,o))}const r=t.clone();for(const i of n)e[i[0]].value=i[1],r.uniforms[i[0]].value=i[1];return r}setMaterial(t){if(this.disposeMaterials(),this.material=t,t!==null){const e=this.materials=[this.cloneMaterial(t),this.cloneMaterial(t),this.cloneMaterial(t)];for(const n of e)n.uniforms=Object.assign({},t.uniforms),n.side=Rc;e[2].skinning=!0,this.materialsBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=Ss,r}),this.materialsDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.side=Sa,r}),this.materialsFlatShaded=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r}),this.materialsFlatShadedBackSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Ss,r}),this.materialsFlatShadedDoubleSide=e.map(n=>{const r=this.cloneMaterial(n);return r.uniforms=Object.assign({},t.uniforms),r.flatShading=!0,r.side=Sa,r})}}render(t,e,n){const r=t.shadowMap.enabled;if(t.shadowMap.enabled=!1,SH){const i=this.originalMaterials;this.meshCount=0,e.traverse(this.replaceMaterial),t.render(e,n);for(const o of i)o[0].material=o[1];this.meshCount!==i.size&&i.clear()}else{const i=e.overrideMaterial;e.overrideMaterial=this.material,t.render(e,n),e.overrideMaterial=i}t.shadowMap.enabled=r}disposeMaterials(){if(this.material!==null){const t=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const e of t)e.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return SH}static set workaroundEnabled(t){SH=t}},gf=-1,sh=class extends A0{constructor(t,e=gf,n=gf,r=1){super(),this.resizable=t,this.baseSize=new nn(1,1),this.preferredSize=new nn(e,n),this.target=this.preferredSize,this.s=r,this.effectiveSize=new nn,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const t=this.baseSize,e=this.preferredSize,n=this.effectiveSize,r=this.scale;e.width!==gf?n.width=e.width:e.height!==gf?n.width=Math.round(e.height*(t.width/Math.max(t.height,1))):n.width=Math.round(t.width*r),e.height!==gf?n.height=e.height:e.width!==gf?n.height=Math.round(e.width/Math.max(t.width/Math.max(t.height,1),1)):n.height=Math.round(t.height*r)}get width(){return this.effectiveSize.width}set width(t){this.preferredWidth=t}get height(){return this.effectiveSize.height}set height(t){this.preferredHeight=t}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(t){this.s!==t&&(this.s=t,this.preferredSize.setScalar(gf),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(t){this.scale=t}get baseWidth(){return this.baseSize.width}set baseWidth(t){this.baseSize.width!==t&&(this.baseSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(t){this.baseWidth=t}get baseHeight(){return this.baseSize.height}set baseHeight(t){this.baseSize.height!==t&&(this.baseSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(t){this.baseHeight=t}setBaseSize(t,e){(this.baseSize.width!==t||this.baseSize.height!==e)&&(this.baseSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(t){this.preferredSize.width!==t&&(this.preferredSize.width=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(t){this.preferredWidth=t}get preferredHeight(){return this.preferredSize.height}set preferredHeight(t){this.preferredSize.height!==t&&(this.preferredSize.height=t,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(t){this.preferredHeight=t}setPreferredSize(t,e){(this.preferredSize.width!==t||this.preferredSize.height!==e)&&(this.preferredSize.set(t,e),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(t){this.s=t.scale,this.baseSize.set(t.baseWidth,t.baseHeight),this.preferredSize.set(t.preferredWidth,t.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return gf}},yr={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},btt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",_tt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",wtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",xtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Stt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",Ett="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",Ctt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",Ptt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",Mtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",Ttt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",ktt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",Att="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",Itt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",Rtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",Dtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",Ott="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",Ltt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",Ntt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",Ftt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",Btt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Utt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",ztt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",Vtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",jtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",Htt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",Gtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",$tt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",Wtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",Ktt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",Xtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",qtt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",Ytt="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",Ztt=new Map([[yr.ADD,btt],[yr.ALPHA,_tt],[yr.AVERAGE,wtt],[yr.COLOR,xtt],[yr.COLOR_BURN,Stt],[yr.COLOR_DODGE,Ett],[yr.DARKEN,Ctt],[yr.DIFFERENCE,Ptt],[yr.DIVIDE,Mtt],[yr.DST,null],[yr.EXCLUSION,Ttt],[yr.HARD_LIGHT,ktt],[yr.HARD_MIX,Att],[yr.HUE,Itt],[yr.INVERT,Rtt],[yr.INVERT_RGB,Dtt],[yr.LIGHTEN,Ott],[yr.LINEAR_BURN,Ltt],[yr.LINEAR_DODGE,Ntt],[yr.LINEAR_LIGHT,Ftt],[yr.LUMINOSITY,Btt],[yr.MULTIPLY,Utt],[yr.NEGATION,ztt],[yr.NORMAL,Vtt],[yr.OVERLAY,jtt],[yr.PIN_LIGHT,Htt],[yr.REFLECT,Gtt],[yr.SATURATION,$tt],[yr.SCREEN,Wtt],[yr.SOFT_LIGHT,Ktt],[yr.SRC,Xtt],[yr.SUBTRACT,qtt],[yr.VIVID_LIGHT,Ytt]]),Qtt=class extends A0{constructor(t,e=1){super(),this._blendFunction=t,this.opacity=new Ai(e)}getOpacity(){return this.opacity.value}setOpacity(t){this.opacity.value=t}get blendFunction(){return this._blendFunction}set blendFunction(t){this._blendFunction=t,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(t){this.blendFunction=t}getShaderCode(){return Ztt.get(this.blendFunction)}},D_={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},Jtt=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,ent="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",tnt=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],y_e=class extends Ia{constructor(t=new kr){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Ai(null),texelSize:new Ai(new kr),scale:new Ai(1),kernel:new Ai(0)},blending:bl,toneMapped:!1,depthWrite:!1,depthTest:!1,fragmentShader:Jtt,vertexShader:ent}),this.fragmentShader=oR(this.fragmentShader),this.setTexelSize(t.x,t.y),this.kernelSize=D_.MEDIUM}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.inputBuffer=t}get kernelSequence(){return tnt[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(t){this.uniforms.scale.value=t}getScale(){return this.uniforms.scale.value}setScale(t){this.uniforms.scale.value=t}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(t){this.uniforms.kernel.value=t}setKernel(t){this.kernel=t}setTexelSize(t,e){this.uniforms.texelSize.value.set(t,e,t*.5,e*.5)}setSize(t,e){const n=1/t,r=1/e;this.uniforms.texelSize.value.set(n,r,n*.5,r*.5)}},nnt=class extends s1{constructor({kernelSize:t=D_.MEDIUM,resolutionScale:e=.5,width:n=sh.AUTO_SIZE,height:r=sh.AUTO_SIZE,resolutionX:i=n,resolutionY:o=r}={}){super("KawaseBlurPass"),this.renderTargetA=new Aa(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const u=this.resolution=new sh(this,i,o,e);u.addEventListener("change",d=>this.setSize(u.baseWidth,u.baseHeight)),this._blurMaterial=new y_e,this._blurMaterial.kernelSize=t,this.copyMaterial=new g_e}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(t){this._blurMaterial=t}get dithering(){return this.copyMaterial.dithering}set dithering(t){this.copyMaterial.dithering=t}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(t){this.blurMaterial.kernelSize=t}get width(){return this.resolution.width}set width(t){this.resolution.preferredWidth=t}get height(){return this.resolution.height}set height(t){this.resolution.preferredHeight=t}get scale(){return this.blurMaterial.scale}set scale(t){this.blurMaterial.scale=t}getScale(){return this.blurMaterial.scale}setScale(t){this.blurMaterial.scale=t}getKernelSize(){return this.kernelSize}setKernelSize(t){this.kernelSize=t}getResolutionScale(){return this.resolution.scale}setResolutionScale(t){this.resolution.scale=t}render(t,e,n,r,i){const o=this.scene,u=this.camera,d=this.renderTargetA,m=this.renderTargetB,v=this.blurMaterial,x=v.kernelSequence;let S=e;this.fullscreenMaterial=v;for(let T=0,R=x.length;T<R;++T){const G=T&1?m:d;v.kernel=x[T],v.inputBuffer=S.texture,t.setRenderTarget(G),t.render(o,u),S=G}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=S.texture,t.setRenderTarget(this.renderToScreen?null:n),t.render(o,u)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e);const r=n.width,i=n.height;this.renderTargetA.setSize(r,i),this.renderTargetB.setSize(r,i),this.blurMaterial.setSize(t,e)}initialize(t,e,n){n!==void 0&&(this.renderTargetA.texture.type=n,this.renderTargetB.texture.type=n,n!==E0?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):t!==null&&t.outputColorSpace===ri&&(this.renderTargetA.texture.colorSpace=ri,this.renderTargetB.texture.colorSpace=ri))}static get AUTO_SIZE(){return sh.AUTO_SIZE}},aR=class extends A0{constructor(t,e,{attributes:n=C2.NONE,blendFunction:r=yr.NORMAL,defines:i=new Map,uniforms:o=new Map,extensions:u=null,vertexShader:d=null}={}){super(),this.name=t,this.renderer=null,this.attributes=n,this.fragmentShader=e,this.vertexShader=d,this.defines=i,this.uniforms=o,this.extensions=u,this.blendMode=new Qtt(r),this.blendMode.addEventListener("change",m=>this.setChanged()),this._inputColorSpace=Fc,this._outputColorSpace=Pc}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(t){this._inputColorSpace=t,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t,this.setChanged()}set mainScene(t){}set mainCamera(t){}getName(){return this.name}setRenderer(t){this.renderer=t}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(t){this.attributes=t,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(t){this.fragmentShader=t,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(t){this.vertexShader=t,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(t,e=h_){}update(t,e,n){}setSize(t,e){}initialize(t,e,n){}dispose(){for(const t of Object.keys(this)){const e=this[t];(e instanceof Aa||e instanceof I0||e instanceof Ji||e instanceof s1)&&this[t].dispose()}}},rnt=`#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))
#define ONE_OVER_TWELVE 0.08333333333333333
varying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;vec4 fxaa(const in vec4 inputColor,const in vec2 uv){float lumaCenter=luminance(inputColor.rgb);float lumaDown=luminance(texture2D(inputBuffer,vUvDown).rgb);float lumaUp=luminance(texture2D(inputBuffer,vUvUp).rgb);float lumaLeft=luminance(texture2D(inputBuffer,vUvLeft).rgb);float lumaRight=luminance(texture2D(inputBuffer,vUvRight).rgb);float lumaMin=min(lumaCenter,min(min(lumaDown,lumaUp),min(lumaLeft,lumaRight)));float lumaMax=max(lumaCenter,max(max(lumaDown,lumaUp),max(lumaLeft,lumaRight)));float lumaRange=lumaMax-lumaMin;if(lumaRange<max(EDGE_THRESHOLD_MIN,lumaMax*EDGE_THRESHOLD_MAX)){return inputColor;}float lumaDownLeft=luminance(texture2D(inputBuffer,vUvDownLeft).rgb);float lumaUpRight=luminance(texture2D(inputBuffer,vUvUpRight).rgb);float lumaUpLeft=luminance(texture2D(inputBuffer,vUvUpLeft).rgb);float lumaDownRight=luminance(texture2D(inputBuffer,vUvDownRight).rgb);float lumaDownUp=lumaDown+lumaUp;float lumaLeftRight=lumaLeft+lumaRight;float lumaLeftCorners=lumaDownLeft+lumaUpLeft;float lumaDownCorners=lumaDownLeft+lumaDownRight;float lumaRightCorners=lumaDownRight+lumaUpRight;float lumaUpCorners=lumaUpRight+lumaUpLeft;float edgeHorizontal=(abs(-2.0*lumaLeft+lumaLeftCorners)+abs(-2.0*lumaCenter+lumaDownUp)*2.0+abs(-2.0*lumaRight+lumaRightCorners));float edgeVertical=(abs(-2.0*lumaUp+lumaUpCorners)+abs(-2.0*lumaCenter+lumaLeftRight)*2.0+abs(-2.0*lumaDown+lumaDownCorners));bool isHorizontal=(edgeHorizontal>=edgeVertical);float stepLength=isHorizontal?texelSize.y:texelSize.x;float luma1=isHorizontal?lumaDown:lumaLeft;float luma2=isHorizontal?lumaUp:lumaRight;float gradient1=abs(luma1-lumaCenter);float gradient2=abs(luma2-lumaCenter);bool is1Steepest=gradient1>=gradient2;float gradientScaled=0.25*max(gradient1,gradient2);float lumaLocalAverage=0.0;if(is1Steepest){stepLength=-stepLength;lumaLocalAverage=0.5*(luma1+lumaCenter);}else{lumaLocalAverage=0.5*(luma2+lumaCenter);}vec2 currentUv=uv;if(isHorizontal){currentUv.y+=stepLength*0.5;}else{currentUv.x+=stepLength*0.5;}vec2 offset=isHorizontal?vec2(texelSize.x,0.0):vec2(0.0,texelSize.y);vec2 uv1=currentUv-offset*QUALITY(0);vec2 uv2=currentUv+offset*QUALITY(0);float lumaEnd1=luminance(texture2D(inputBuffer,uv1).rgb);float lumaEnd2=luminance(texture2D(inputBuffer,uv2).rgb);lumaEnd1-=lumaLocalAverage;lumaEnd2-=lumaLocalAverage;bool reached1=abs(lumaEnd1)>=gradientScaled;bool reached2=abs(lumaEnd2)>=gradientScaled;bool reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(1);}if(!reached2){uv2+=offset*QUALITY(1);}if(!reachedBoth){for(int i=2;i<SAMPLES;++i){if(!reached1){lumaEnd1=luminance(texture2D(inputBuffer,uv1).rgb);lumaEnd1=lumaEnd1-lumaLocalAverage;}if(!reached2){lumaEnd2=luminance(texture2D(inputBuffer,uv2).rgb);lumaEnd2=lumaEnd2-lumaLocalAverage;}reached1=abs(lumaEnd1)>=gradientScaled;reached2=abs(lumaEnd2)>=gradientScaled;reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(i);}if(!reached2){uv2+=offset*QUALITY(i);}if(reachedBoth){break;}}}float distance1=isHorizontal?(uv.x-uv1.x):(uv.y-uv1.y);float distance2=isHorizontal?(uv2.x-uv.x):(uv2.y-uv.y);bool isDirection1=distance1<distance2;float distanceFinal=min(distance1,distance2);float edgeThickness=(distance1+distance2);bool isLumaCenterSmaller=lumaCenter<lumaLocalAverage;bool correctVariation1=(lumaEnd1<0.0)!=isLumaCenterSmaller;bool correctVariation2=(lumaEnd2<0.0)!=isLumaCenterSmaller;bool correctVariation=isDirection1?correctVariation1:correctVariation2;float pixelOffset=-distanceFinal/edgeThickness+0.5;float finalOffset=correctVariation?pixelOffset:0.0;float lumaAverage=ONE_OVER_TWELVE*(2.0*(lumaDownUp+lumaLeftRight)+lumaLeftCorners+lumaRightCorners);float subPixelOffset1=clamp(abs(lumaAverage-lumaCenter)/lumaRange,0.0,1.0);float subPixelOffset2=(-2.0*subPixelOffset1+3.0)*subPixelOffset1*subPixelOffset1;float subPixelOffsetFinal=subPixelOffset2*subPixelOffset2*SUBPIXEL_QUALITY;finalOffset=max(finalOffset,subPixelOffsetFinal);vec2 finalUv=uv;if(isHorizontal){finalUv.y+=finalOffset*stepLength;}else{finalUv.x+=finalOffset*stepLength;}return texture2D(inputBuffer,finalUv);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=fxaa(inputColor,uv);}`,int="varying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;void mainSupport(const in vec2 uv){vUvDown=uv+vec2(0.0,-1.0)*texelSize;vUvUp=uv+vec2(0.0,1.0)*texelSize;vUvRight=uv+vec2(1.0,0.0)*texelSize;vUvLeft=uv+vec2(-1.0,0.0)*texelSize;vUvDownLeft=uv+vec2(-1.0,-1.0)*texelSize;vUvUpRight=uv+vec2(1.0,1.0)*texelSize;vUvUpLeft=uv+vec2(-1.0,1.0)*texelSize;vUvDownRight=uv+vec2(1.0,-1.0)*texelSize;}",snt=class extends aR{constructor({blendFunction:t=yr.SRC}={}){super("FXAAEffect",rnt,{vertexShader:int,blendFunction:t,defines:new Map([["EDGE_THRESHOLD_MIN","0.0312"],["EDGE_THRESHOLD_MAX","0.125"],["SUBPIXEL_QUALITY","0.75"],["SAMPLES","12"]])})}get minEdgeThreshold(){return Number(this.defines.get("EDGE_THRESHOLD_MIN"))}set minEdgeThreshold(t){this.defines.set("EDGE_THRESHOLD_MIN",t.toFixed(12)),this.setChanged()}get maxEdgeThreshold(){return Number(this.defines.get("EDGE_THRESHOLD_MAX"))}set maxEdgeThreshold(t){this.defines.set("EDGE_THRESHOLD_MAX",t.toFixed(12)),this.setChanged()}get subpixelQuality(){return Number(this.defines.get("SUBPIXEL_QUALITY"))}set subpixelQuality(t){this.defines.set("SUBPIXEL_QUALITY",t.toFixed(12)),this.setChanged()}get samples(){return Number(this.defines.get("SAMPLES"))}set samples(t){this.defines.set("SAMPLES",t.toFixed(0)),this.setChanged()}},ont=class extends s1{constructor(t,e,n=null){super("RenderPass",t,e),this.needsSwap=!1,this.clearPass=new v_e,this.overrideMaterialManager=n===null?null:new gge(n),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(t){this.scene=t}set mainCamera(t){this.camera=t}get renderToScreen(){return super.renderToScreen}set renderToScreen(t){super.renderToScreen=t,this.clearPass.renderToScreen=t}get overrideMaterial(){const t=this.overrideMaterialManager;return t!==null?t.material:null}set overrideMaterial(t){const e=this.overrideMaterialManager;t!==null?e!==null?e.setMaterial(t):this.overrideMaterialManager=new gge(t):e!==null&&(e.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(t){this.overrideMaterial=t}get clear(){return this.clearPass.enabled}set clear(t){this.clearPass.enabled=t}getSelection(){return this.selection}setSelection(t){this.selection=t}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(t){this.ignoreBackground=t}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(t){this.skipShadowMapUpdate=t}getClearPass(){return this.clearPass}render(t,e,n,r,i){const o=this.scene,u=this.camera,d=this.selection,m=u.layers.mask,v=o.background,x=t.shadowMap.autoUpdate,S=this.renderToScreen?null:e;d!==null&&u.layers.set(d.getLayer()),this.skipShadowMapUpdate&&(t.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(t,e),t.setRenderTarget(S),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(t,o,u):t.render(o,u),u.layers.mask=m,o.background=v,t.shadowMap.autoUpdate=x}},Hy={DEFAULT:0,ESKIL:1},ant=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*(1.0+time)));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,lnt=class extends aR{constructor({blendFunction:t=yr.SCREEN,premultiply:e=!1}={}){super("NoiseEffect",ant,{blendFunction:t}),this.premultiply=e}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(t){this.premultiply!==t&&(t?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(t){this.premultiply=t}},unt=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;
#include <colorspace_fragment>
}`,cnt="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",dnt=class extends y_e{constructor({kernelSize:t=D_.MEDIUM,offset:e=0,rotation:n=0,focusArea:r=.4,feather:i=.3}={}){super(),this.fragmentShader=unt,this.vertexShader=cnt,this.kernelSize=t,this.fragmentShader=oR(this.fragmentShader),this.uniforms.aspect=new Ai(1),this.uniforms.rotation=new Ai(new nn),this.uniforms.maskParams=new Ai(new kr),this._offset=e,this._focusArea=r,this._feather=i,this.rotation=n,this.updateParams()}updateParams(){const t=this.uniforms.maskParams.value,e=Math.max(this.focusArea,0),n=Math.max(e-this.feather,0);t.set(this.offset-e,this.offset-n,this.offset+e,this.offset+n)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(t){this.uniforms.rotation.value.set(Math.cos(t),Math.sin(t))}get offset(){return this._offset}set offset(t){this._offset=t,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(t){this._focusArea=t,this.updateParams()}get feather(){return this._feather}set feather(t){this._feather=t,this.updateParams()}setSize(t,e){super.setSize(t,e),this.uniforms.aspect.value=t/e}},hnt=class extends nnt{constructor({offset:t=0,rotation:e=0,focusArea:n=.4,feather:r=.3,kernelSize:i=D_.MEDIUM,resolutionScale:o=.5,resolutionX:u=sh.AUTO_SIZE,resolutionY:d=sh.AUTO_SIZE}={}){super({kernelSize:i,resolutionScale:o,resolutionX:u,resolutionY:d}),this.blurMaterial=new dnt({kernelSize:i,offset:t,rotation:e,focusArea:n,feather:r})}},pnt=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform vec2 maskParams;varying vec2 vUv2;float linearGradientMask(const in float x){return step(maskParams.x,x)-step(maskParams.y,x);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float mask=linearGradientMask(vUv2.y);vec4 texel=texture2D(map,uv);outputColor=mix(texel,inputColor,mask);}`,fnt="uniform vec2 rotation;varying vec2 vUv2;void mainSupport(const in vec2 uv){vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));}",mnt=class extends aR{constructor({blendFunction:t,offset:e=0,rotation:n=0,focusArea:r=.4,feather:i=.3,kernelSize:o=D_.MEDIUM,resolutionScale:u=.5,resolutionX:d=sh.AUTO_SIZE,resolutionY:m=sh.AUTO_SIZE}={}){super("TiltShiftEffect",pnt,{vertexShader:fnt,blendFunction:t,uniforms:new Map([["rotation",new Ai(new nn)],["maskParams",new Ai(new nn)],["map",new Ai(null)]])}),this._offset=e,this._focusArea=r,this._feather=i,this.renderTarget=new Aa(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="TiltShift.Target",this.uniforms.get("map").value=this.renderTarget.texture,this.blurPass=new hnt({kernelSize:o,resolutionScale:u,resolutionX:d,resolutionY:m,offset:e,rotation:n,focusArea:r,feather:i});const v=this.resolution=new sh(this,d,m,u);v.addEventListener("change",x=>this.setSize(v.baseWidth,v.baseHeight)),this.rotation=n,this.updateParams()}updateParams(){const t=this.uniforms.get("maskParams").value,e=Math.max(this.focusArea-this.feather,0);t.set(this.offset-e,this.offset+e)}get rotation(){return Math.acos(this.uniforms.get("rotation").value.x)}set rotation(t){this.uniforms.get("rotation").value.set(Math.cos(t),Math.sin(t)),this.blurPass.blurMaterial.rotation=t}get offset(){return this._offset}set offset(t){this._offset=t,this.blurPass.blurMaterial.offset=t,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(t){this._focusArea=t,this.blurPass.blurMaterial.focusArea=t,this.updateParams()}get feather(){return this._feather}set feather(t){this._feather=t,this.blurPass.blurMaterial.feather=t,this.updateParams()}get bias(){return 0}set bias(t){}update(t,e,n){this.blurPass.render(t,e,this.renderTarget)}setSize(t,e){const n=this.resolution;n.setBaseSize(t,e),this.renderTarget.setSize(n.width,n.height),this.blurPass.resolution.copy(n)}initialize(t,e,n){this.blurPass.initialize(t,e,n),n!==void 0&&(this.renderTarget.texture.type=n,t!==null&&t.outputColorSpace===ri&&(this.renderTarget.texture.colorSpace=ri))}},gnt=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,vnt=class extends aR{constructor({blendFunction:t,eskil:e=!1,technique:n=e?Hy.ESKIL:Hy.DEFAULT,offset:r=.5,darkness:i=.5}={}){super("VignetteEffect",gnt,{blendFunction:t,defines:new Map([["VIGNETTE_TECHNIQUE",n.toFixed(0)]]),uniforms:new Map([["offset",new Ai(r)],["darkness",new Ai(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(t){this.technique!==t&&(this.defines.set("VIGNETTE_TECHNIQUE",t.toFixed(0)),this.setChanged())}get eskil(){return this.technique===Hy.ESKIL}set eskil(t){this.technique=t?Hy.ESKIL:Hy.DEFAULT}getTechnique(){return this.technique}setTechnique(t){this.technique=t}get offset(){return this.uniforms.get("offset").value}set offset(t){this.uniforms.get("offset").value=t}getOffset(){return this.offset}setOffset(t){this.offset=t}get darkness(){return this.uniforms.get("darkness").value}set darkness(t){this.uniforms.get("darkness").value=t}getDarkness(){return this.darkness}setDarkness(t){this.darkness=t}},ynt=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEAD void main(){FRAGMENT_MAIN_UV vec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGE color0.a=clamp(color0.a,0.0,1.0);gl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <colorspace_fragment>
#endif
#include <dithering_fragment>
}`,bnt="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEAD void main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORT gl_Position=vec4(position.xy,1.0,1.0);}",_nt=class extends Ia{constructor(t,e,n,r,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:d_.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Ai(null),depthBuffer:new Ai(null),resolution:new Ai(new nn),texelSize:new Ai(new nn),cameraNear:new Ai(.3),cameraFar:new Ai(1e3),aspect:new Ai(1),time:new Ai(0)},blending:bl,toneMapped:!1,depthWrite:!1,depthTest:!1,dithering:i}),t&&this.setShaderParts(t),e&&this.setDefines(e),n&&this.setUniforms(n),this.copyCameraSettings(r)}set inputBuffer(t){this.uniforms.inputBuffer.value=t}setInputBuffer(t){this.uniforms.inputBuffer.value=t}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(t){this.uniforms.depthBuffer.value=t}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(t){this.defines.DEPTH_PACKING=t.toFixed(0),this.needsUpdate=!0}setDepthBuffer(t,e=h_){this.depthBuffer=t,this.depthPacking=e}setShaderData(t){this.setShaderParts(t.shaderParts),this.setDefines(t.defines),this.setUniforms(t.uniforms),this.setExtensions(t.extensions)}setShaderParts(t){return this.fragmentShader=ynt.replace(Gr.FRAGMENT_HEAD,t.get(Gr.FRAGMENT_HEAD)||"").replace(Gr.FRAGMENT_MAIN_UV,t.get(Gr.FRAGMENT_MAIN_UV)||"").replace(Gr.FRAGMENT_MAIN_IMAGE,t.get(Gr.FRAGMENT_MAIN_IMAGE)||""),this.vertexShader=bnt.replace(Gr.VERTEX_HEAD,t.get(Gr.VERTEX_HEAD)||"").replace(Gr.VERTEX_MAIN_SUPPORT,t.get(Gr.VERTEX_MAIN_SUPPORT)||""),this.fragmentShader=oR(this.fragmentShader),this.needsUpdate=!0,this}setDefines(t){for(const e of t.entries())this.defines[e[0]]=e[1];return this.needsUpdate=!0,this}setUniforms(t){for(const e of t.entries())this.uniforms[e[0]]=e[1];return this}setExtensions(t){this.extensions={};for(const e of t)this.extensions[e]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(t){this.encodeOutput!==t&&(t?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(t){return this.encodeOutput}setOutputEncodingEnabled(t){this.encodeOutput=t}get time(){return this.uniforms.time.value}set time(t){this.uniforms.time.value=t}setDeltaTime(t){this.uniforms.time.value+=t}adoptCameraSettings(t){this.copyCameraSettings(t)}copyCameraSettings(t){t&&(this.uniforms.cameraNear.value=t.near,this.uniforms.cameraFar.value=t.far,t instanceof Ds?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(t,e){const n=this.uniforms;n.resolution.value.set(t,e),n.texelSize.value.set(1/t,1/e),n.aspect.value=t/e}static get Section(){return Gr}};function vge(t,e,n){for(const r of e){const i="$1"+t+r.charAt(0).toUpperCase()+r.slice(1),o=new RegExp("([^\\.])(\\b"+r+"\\b)","g");for(const u of n.entries())u[1]!==null&&n.set(u[0],u[1].replace(o,i))}}function wnt(t,e,n){let r=e.getFragmentShader(),i=e.getVertexShader();const o=r!==void 0&&/mainImage/.test(r),u=r!==void 0&&/mainUv/.test(r);if(n.attributes|=e.getAttributes(),r===void 0)throw new Error(`Missing fragment shader (${e.name})`);if(u&&n.attributes&C2.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${e.name})`);if(!o&&!u)throw new Error(`Could not find mainImage or mainUv function (${e.name})`);{const d=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,m=n.shaderParts;let v=m.get(Gr.FRAGMENT_HEAD)||"",x=m.get(Gr.FRAGMENT_MAIN_UV)||"",S=m.get(Gr.FRAGMENT_MAIN_IMAGE)||"",T=m.get(Gr.VERTEX_HEAD)||"",R=m.get(Gr.VERTEX_MAIN_SUPPORT)||"";const G=new Set,L=new Set;if(u&&(x+=`	${t}MainUv(UV);
`,n.uvTransformation=!0),i!==null&&/mainSupport/.test(i)){const C=/mainSupport *\([\w\s]*?uv\s*?\)/.test(i);R+=`	${t}MainSupport(`,R+=C?`vUv);
`:`);
`;for(const V of i.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const Y of V[1].split(/\s*,\s*/))n.varyings.add(Y),G.add(Y),L.add(Y);for(const V of i.matchAll(d))L.add(V[1])}for(const C of r.matchAll(d))L.add(C[1]);for(const C of e.defines.keys())L.add(C.replace(/\([\w\s,]*\)/g,""));for(const C of e.uniforms.keys())L.add(C);L.delete("while"),L.delete("for"),L.delete("if"),e.uniforms.forEach((C,V)=>n.uniforms.set(t+V.charAt(0).toUpperCase()+V.slice(1),C)),e.defines.forEach((C,V)=>n.defines.set(t+V.charAt(0).toUpperCase()+V.slice(1),C));const B=new Map([["fragment",r],["vertex",i]]);vge(t,L,n.defines),vge(t,L,B),r=B.get("fragment"),i=B.get("vertex");const z=e.blendMode;if(n.blendModes.set(z.blendFunction,z),o){e.inputColorSpace!==null&&e.inputColorSpace!==n.colorSpace&&(S+=e.inputColorSpace===ri?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),e.outputColorSpace!==Pc?n.colorSpace=e.outputColorSpace:e.inputColorSpace!==null&&(n.colorSpace=e.inputColorSpace);const C=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;S+=`${t}MainImage(color0, UV, `,n.attributes&C2.DEPTH&&C.test(r)&&(S+="depth, ",n.readDepth=!0),S+=`color1);
	`;const V=t+"BlendOpacity";n.uniforms.set(V,z.opacity),S+=`color0 = blend${z.blendFunction}(color0, color1, ${V});

	`,v+=`uniform float ${V};

`}if(v+=r+`
`,i!==null&&(T+=i+`
`),m.set(Gr.FRAGMENT_HEAD,v),m.set(Gr.FRAGMENT_MAIN_UV,x),m.set(Gr.FRAGMENT_MAIN_IMAGE,S),m.set(Gr.VERTEX_HEAD,T),m.set(Gr.VERTEX_MAIN_SUPPORT,R),e.extensions!==null)for(const C of e.extensions)n.extensions.add(C)}}var EH=class extends s1{constructor(t,...e){super("EffectPass"),this.fullscreenMaterial=new _nt(null,null,null,t),this.listener=n=>this.handleEvent(n),this.effects=[],this.setEffects(e),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(t){for(const e of this.effects)e.mainScene=t}set mainCamera(t){this.fullscreenMaterial.copyCameraSettings(t);for(const e of this.effects)e.mainCamera=t}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(t){this.fullscreenMaterial.encodeOutput=t}get dithering(){return this.fullscreenMaterial.dithering}set dithering(t){const e=this.fullscreenMaterial;e.dithering=t,e.needsUpdate=!0}setEffects(t){for(const e of this.effects)e.removeEventListener("change",this.listener);this.effects=t.sort((e,n)=>n.attributes-e.attributes);for(const e of this.effects)e.addEventListener("change",this.listener)}updateMaterial(){const t=new ytt;let e=0;for(const u of this.effects)if(u.blendMode.blendFunction===yr.DST)t.attributes|=u.getAttributes()&C2.DEPTH;else{if(t.attributes&u.getAttributes()&C2.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${u.name})`);wnt("e"+e++,u,t)}let n=t.shaderParts.get(Gr.FRAGMENT_HEAD),r=t.shaderParts.get(Gr.FRAGMENT_MAIN_IMAGE),i=t.shaderParts.get(Gr.FRAGMENT_MAIN_UV);const o=/\bblend\b/g;for(const u of t.blendModes.values())n+=u.getShaderCode().replace(o,`blend${u.blendFunction}`)+`
`;t.attributes&C2.DEPTH?(t.readDepth&&(r=`float depth = readDepth(UV);

	`+r),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,t.colorSpace===ri&&(r+=`color0 = sRGBToLinear(color0);
	`),t.uvTransformation?(i=`vec2 transformedUv = vUv;
`+i,t.defines.set("UV","transformedUv")):t.defines.set("UV","vUv"),t.shaderParts.set(Gr.FRAGMENT_HEAD,n),t.shaderParts.set(Gr.FRAGMENT_MAIN_IMAGE,r),t.shaderParts.set(Gr.FRAGMENT_MAIN_UV,i);for(const[u,d]of t.shaderParts)d!==null&&t.shaderParts.set(u,d.trim().replace(/^#/,`
#`));this.skipRendering=e===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(t)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(t,e=h_){this.fullscreenMaterial.depthBuffer=t,this.fullscreenMaterial.depthPacking=e;for(const n of this.effects)n.setDepthTexture(t,e)}render(t,e,n,r,i){for(const o of this.effects)o.update(t,e,r);if(!this.skipRendering||this.renderToScreen){const o=this.fullscreenMaterial;o.inputBuffer=e.texture,o.time+=r*this.timeScale,t.setRenderTarget(this.renderToScreen?null:n),t.render(this.scene,this.camera)}}setSize(t,e){this.fullscreenMaterial.setSize(t,e);for(const n of this.effects)n.setSize(t,e)}initialize(t,e,n){this.renderer=t;for(const r of this.effects)r.initialize(t,e,n);this.updateMaterial(),n!==void 0&&n!==E0&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const t of this.effects)t.removeEventListener("change",this.listener),t.dispose()}handleEvent(t){switch(t.type){case"change":this.recompile();break}}};const xnt=`varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,Snt=`struct Light {
  float intensity;
  vec3 position;
  vec3 color;
};

uniform float time;
uniform float opacity;
uniform vec2 resolution;
uniform vec3 diffuse;
uniform vec3 mouse;
uniform sampler2D map;
uniform Light light;
uniform Light lights[3];
varying vec2 vUv;

#define MIN_ALPHA 2.0 / 255.0

void main() {
  if (opacity < MIN_ALPHA) discard;
  vec2 imageUV = vUv * 10.0;
  vec3 image = texture2D(map, imageUV).rgb;
  vec3 col = image * diffuse;
  col += (sin(time * 0.1) * 0.5 + 0.5) * 0.2;
  col += vec3(resolution, 0.0);
  col += mouse;
  gl_FragColor = vec4(col, opacity);
}`,Ent="data:image/png;base64,R0lGODlhCAAIAIAAAP///wAAACH/C1hNUCBEYXRhWE1QPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuMTQ2Mjg5OTc3NywgMjAyMy8wNi8yNS0yMzo1NzoxNCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjIgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjVENjQyODM4QTYzMTFFRUJFQTBFOTJFNjA1OTQ5N0YiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjVENjQyODQ4QTYzMTFFRUJFQTBFOTJFNjA1OTQ5N0YiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2NUQ2NDI4MThBNjMxMUVFQkVBMEU5MkU2MDU5NDk3RiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2NUQ2NDI4MjhBNjMxMUVFQkVBMEU5MkU2MDU5NDk3RiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAAAAAAALAAAAAAIAAgAAAIOjH8AprzRkHyspqSoNAUAOw==";class b_e extends Ia{constructor(){super({vertexShader:xnt,fragmentShader:Snt,name:"ExampleScene/SimpleShader",transparent:!0,uniforms:{diffuse:{value:new cn(16777215)},opacity:{value:1},time:{value:0},map:{value:null},resolution:{value:new nn},mouse:{value:new Re},testM3:{value:new lr},testM4:{value:new In},light:{value:{position:new nn(5,10),intensity:1,color:new cn(16711935)}},lights:{value:[{position:new nn(1,1),intensity:1,color:new cn(16711680)},{position:new nn(2,2),intensity:2,color:new cn(65280)},{position:new nn(3,3),intensity:3,color:new cn(255)}]}}}),zW(Ent).then(e=>{this.uniforms.map.value=e})}update(e){this.uniforms.opacity.value=this.opacity,this.uniforms.time.value+=e}}function Cnt(t){const e=new Map,n=new Map,r=t.clone();return __e(t,r,function(i,o){e.set(o,i),n.set(i,o)}),r.traverse(function(i){if(!i.isSkinnedMesh)return;const o=i,u=e.get(i),d=u.skeleton.bones;o.skeleton=u.skeleton.clone(),o.bindMatrix.copy(u.bindMatrix),o.skeleton.bones=d.map(function(m){return n.get(m)}),o.bind(o.skeleton,o.bindMatrix)}),r}function __e(t,e,n){n(t,e);for(let r=0;r<t.children.length;r++)__e(t.children[r],e.children[r],n)}/*!
fflate - fast JavaScript compression/decompression
<https://101arrowz.github.io/fflate>
Licensed under MIT. https://github.com/101arrowz/fflate/blob/master/LICENSE
version 0.8.2
*/var fl=Uint8Array,L4=Uint16Array,Pnt=Int32Array,w_e=new fl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x_e=new fl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mnt=new fl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S_e=function(t,e){for(var n=new L4(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Pnt(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},E_e=S_e(w_e,2),C_e=E_e.b,Tnt=E_e.r;C_e[28]=258,Tnt[258]=28;var knt=S_e(x_e,0),Ant=knt.b,f$=new L4(32768);for(var Ii=0;Ii<32768;++Ii){var vf=(Ii&43690)>>1|(Ii&21845)<<1;vf=(vf&52428)>>2|(vf&13107)<<2,vf=(vf&61680)>>4|(vf&3855)<<4,f$[Ii]=((vf&65280)>>8|(vf&255)<<8)>>1}var gb=function(t,e,n){for(var r=t.length,i=0,o=new L4(e);i<r;++i)t[i]&&++o[t[i]-1];var u=new L4(e);for(i=1;i<e;++i)u[i]=u[i-1]+o[i-1]<<1;var d;if(n){d=new L4(1<<e);var m=15-e;for(i=0;i<r;++i)if(t[i])for(var v=i<<4|t[i],x=e-t[i],S=u[t[i]-1]++<<x,T=S|(1<<x)-1;S<=T;++S)d[f$[S]>>m]=v}else for(d=new L4(r),i=0;i<r;++i)t[i]&&(d[i]=f$[u[t[i]-1]++]>>15-t[i]);return d},O_=new fl(288);for(var Ii=0;Ii<144;++Ii)O_[Ii]=8;for(var Ii=144;Ii<256;++Ii)O_[Ii]=9;for(var Ii=256;Ii<280;++Ii)O_[Ii]=7;for(var Ii=280;Ii<288;++Ii)O_[Ii]=8;var P_e=new fl(32);for(var Ii=0;Ii<32;++Ii)P_e[Ii]=5;var Int=gb(O_,9,1),Rnt=gb(P_e,5,1),CH=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},mu=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},PH=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Dnt=function(t){return(t+7)/8|0},Ont=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new fl(t.subarray(e,n))},Lnt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],yu=function(t,e,n){var r=new Error(e||Lnt[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,yu),!n)throw r;return r},Nnt=function(t,e,n,r){var i=t.length,o=r?r.length:0;if(!i||e.f&&!e.l)return n||new fl(0);var u=!n,d=u||e.i!=2,m=e.i;u&&(n=new fl(i*3));var v=function(je){var Cn=n.length;if(je>Cn){var ln=new fl(Math.max(Cn*2,je));ln.set(n),n=ln}},x=e.f||0,S=e.p||0,T=e.b||0,R=e.l,G=e.d,L=e.m,B=e.n,z=i*8;do{if(!R){x=mu(t,S,1);var C=mu(t,S+1,3);if(S+=3,C)if(C==1)R=Int,G=Rnt,L=9,B=5;else if(C==2){var q=mu(t,S,31)+257,ae=mu(t,S+10,15)+4,ve=q+mu(t,S+5,31)+1;S+=14;for(var W=new fl(ve),se=new fl(19),Te=0;Te<ae;++Te)se[Mnt[Te]]=mu(t,S+Te*3,7);S+=ae*3;for(var dt=CH(se),He=(1<<dt)-1,xe=gb(se,dt,1),Te=0;Te<ve;){var gt=xe[mu(t,S,He)];S+=gt&15;var V=gt>>4;if(V<16)W[Te++]=V;else{var ze=0,At=0;for(V==16?(At=3+mu(t,S,3),S+=2,ze=W[Te-1]):V==17?(At=3+mu(t,S,7),S+=3):V==18&&(At=11+mu(t,S,127),S+=7);At--;)W[Te++]=ze}}var Ne=W.subarray(0,q),ht=W.subarray(q);L=CH(Ne),B=CH(ht),R=gb(Ne,L,1),G=gb(ht,B,1)}else yu(1);else{var V=Dnt(S)+4,Y=t[V-4]|t[V-3]<<8,me=V+Y;if(me>i){m&&yu(0);break}d&&v(T+Y),n.set(t.subarray(V,me),T),e.b=T+=Y,e.p=S=me*8,e.f=x;continue}if(S>z){m&&yu(0);break}}d&&v(T+131072);for(var pt=(1<<L)-1,It=(1<<B)-1,tn=S;;tn=S){var ze=R[PH(t,S)&pt],pn=ze>>4;if(S+=ze&15,S>z){m&&yu(0);break}if(ze||yu(2),pn<256)n[T++]=pn;else if(pn==256){tn=S,R=null;break}else{var ft=pn-254;if(pn>264){var Te=pn-257,kt=w_e[Te];ft=mu(t,S,(1<<kt)-1)+C_e[Te],S+=kt}var Xt=G[PH(t,S)&It],Ut=Xt>>4;Xt||yu(3),S+=Xt&15;var ht=Ant[Ut];if(Ut>3){var kt=x_e[Ut];ht+=PH(t,S)&(1<<kt)-1,S+=kt}if(S>z){m&&yu(0);break}d&&v(T+131072);var it=T+ft;if(T<ht){var bt=o-ht,Nt=Math.min(ht,it);for(bt+T<0&&yu(3);T<Nt;++T)n[T]=r[bt+T]}for(;T<it;++T)n[T]=n[T-ht]}}e.l=R,e.p=tn,e.b=T,e.f=x,R&&(x=1,e.m=L,e.d=G,e.n=B)}while(!x);return T!=n.length&&u?Ont(n,0,T):n.subarray(0,T)},Fnt=new fl(0),Bnt=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&yu(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&yu(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function Unt(t,e){return Nnt(t.subarray(Bnt(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var znt=typeof TextDecoder<"u"&&new TextDecoder,Vnt=0;try{znt.decode(Fnt,{stream:!0}),Vnt=1}catch{}function M_e(t,e,n){const r=n.length-t-1;if(e>=n[r])return r-1;if(e<=n[t])return t;let i=t,o=r,u=Math.floor((i+o)/2);for(;e<n[u]||e>=n[u+1];)e<n[u]?o=u:i=u,u=Math.floor((i+o)/2);return u}function jnt(t,e,n,r){const i=[],o=[],u=[];i[0]=1;for(let d=1;d<=n;++d){o[d]=e-r[t+1-d],u[d]=r[t+d]-e;let m=0;for(let v=0;v<d;++v){const x=u[v+1],S=o[d-v],T=i[v]/(x+S);i[v]=m+x*T,m=S*T}i[d]=m}return i}function Hnt(t,e,n,r){const i=M_e(t,r,e),o=jnt(i,r,t,e),u=new kr(0,0,0,0);for(let d=0;d<=t;++d){const m=n[i-t+d],v=o[d],x=m.w*v;u.x+=m.x*x,u.y+=m.y*x,u.z+=m.z*x,u.w+=m.w*v}return u}function Gnt(t,e,n,r,i){const o=[];for(let S=0;S<=n;++S)o[S]=0;const u=[];for(let S=0;S<=r;++S)u[S]=o.slice(0);const d=[];for(let S=0;S<=n;++S)d[S]=o.slice(0);d[0][0]=1;const m=o.slice(0),v=o.slice(0);for(let S=1;S<=n;++S){m[S]=e-i[t+1-S],v[S]=i[t+S]-e;let T=0;for(let R=0;R<S;++R){const G=v[R+1],L=m[S-R];d[S][R]=G+L;const B=d[R][S-1]/d[S][R];d[R][S]=T+G*B,T=L*B}d[S][S]=T}for(let S=0;S<=n;++S)u[0][S]=d[S][n];for(let S=0;S<=n;++S){let T=0,R=1;const G=[];for(let L=0;L<=n;++L)G[L]=o.slice(0);G[0][0]=1;for(let L=1;L<=r;++L){let B=0;const z=S-L,C=n-L;S>=L&&(G[R][0]=G[T][0]/d[C+1][z],B=G[R][0]*d[z][C]);const V=z>=-1?1:-z,Y=S-1<=C?L-1:n-S;for(let q=V;q<=Y;++q)G[R][q]=(G[T][q]-G[T][q-1])/d[C+1][z+q],B+=G[R][q]*d[z+q][C];S<=C&&(G[R][L]=-G[T][L-1]/d[C+1][S],B+=G[R][L]*d[S][C]),u[L][S]=B;const me=T;T=R,R=me}}let x=n;for(let S=1;S<=r;++S){for(let T=0;T<=n;++T)u[S][T]*=x;x*=n-S}return u}function $nt(t,e,n,r,i){const o=i<t?i:t,u=[],d=M_e(t,r,e),m=Gnt(d,r,t,o,e),v=[];for(let x=0;x<n.length;++x){const S=n[x].clone(),T=S.w;S.x*=T,S.y*=T,S.z*=T,v[x]=S}for(let x=0;x<=o;++x){const S=v[d-t].clone().multiplyScalar(m[x][0]);for(let T=1;T<=t;++T)S.add(v[d-t+T].clone().multiplyScalar(m[x][T]));u[x]=S}for(let x=o+1;x<=i+1;++x)u[x]=new kr(0,0,0);return u}function Wnt(t,e){let n=1;for(let i=2;i<=t;++i)n*=i;let r=1;for(let i=2;i<=e;++i)r*=i;for(let i=2;i<=t-e;++i)r*=i;return n/r}function Knt(t){const e=t.length,n=[],r=[];for(let o=0;o<e;++o){const u=t[o];n[o]=new Re(u.x,u.y,u.z),r[o]=u.w}const i=[];for(let o=0;o<e;++o){const u=n[o].clone();for(let d=1;d<=o;++d)u.sub(i[o-d].clone().multiplyScalar(Wnt(o,d)*r[d]));i[o]=u.divideScalar(r[0])}return i}function Xnt(t,e,n,r,i){const o=$nt(t,e,n,r,i);return Knt(o)}class qnt extends cze{constructor(e,n,r,i,o){super(),this.degree=e,this.knots=n,this.controlPoints=[],this.startKnot=i||0,this.endKnot=o||this.knots.length-1;for(let u=0;u<r.length;++u){const d=r[u];this.controlPoints[u]=new kr(d.x,d.y,d.z,d.w)}}getPoint(e,n=new Re){const r=n,i=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),o=Hnt(this.degree,this.knots,this.controlPoints,i);return o.w!==1&&o.divideScalar(o.w),r.set(o.x,o.y,o.z)}getTangent(e,n=new Re){const r=n,i=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),o=Xnt(this.degree,this.knots,this.controlPoints,i,1);return r.copy(o[1]).normalize(),r}}let mr,_s,_a;class Ynt extends Wf{constructor(e){super(e)}load(e,n,r,i){const o=this,u=o.path===""?qze.extractUrlBase(e):o.path,d=new Vze(this.manager);d.setPath(o.path),d.setResponseType("arraybuffer"),d.setRequestHeader(o.requestHeader),d.setWithCredentials(o.withCredentials),d.load(e,function(m){try{n(o.parse(m,u))}catch(v){i?i(v):console.error(v),o.manager.itemError(e)}},r,i)}parse(e,n){if(nrt(e))mr=new trt().parse(e);else{const i=I_e(e);if(!rrt(i))throw new Error("THREE.FBXLoader: Unknown format.");if(bge(i)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+bge(i));mr=new ert().parse(i)}const r=new E6e(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin);return new Znt(r,this.manager).parse(mr)}}class Znt{constructor(e,n){this.textureLoader=e,this.manager=n}parse(){_s=this.parseConnections();const e=this.parseImages(),n=this.parseTextures(e),r=this.parseMaterials(n),i=this.parseDeformers(),o=new Qnt().parse(i);return this.parseScene(i,o,r),_a}parseConnections(){const e=new Map;return"Connections"in mr&&mr.Connections.connections.forEach(function(r){const i=r[0],o=r[1],u=r[2];e.has(i)||e.set(i,{parents:[],children:[]});const d={ID:o,relationship:u};e.get(i).parents.push(d),e.has(o)||e.set(o,{parents:[],children:[]});const m={ID:i,relationship:u};e.get(o).children.push(m)}),e}parseImages(){const e={},n={};if("Video"in mr.Objects){const r=mr.Objects.Video;for(const i in r){const o=r[i],u=parseInt(i);if(e[u]=o.RelativeFilename||o.Filename,"Content"in o){const d=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,m=typeof o.Content=="string"&&o.Content!=="";if(d||m){const v=this.parseImage(r[i]);n[o.RelativeFilename||o.Filename]=v}}}}for(const r in e){const i=e[r];n[i]!==void 0?e[r]=n[i]:e[r]=e[r].split("\\").pop()}return e}parseImage(e){const n=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();let o;switch(i){case"bmp":o="image/bmp";break;case"jpg":case"jpeg":o="image/jpeg";break;case"png":o="image/png";break;case"tif":o="image/tiff";break;case"tga":this.manager.getHandler(".tga")===null&&console.warn("FBXLoader: TGA loader not found, skipping ",r),o="image/tga";break;default:console.warn('FBXLoader: Image type "'+i+'" is not supported.');return}if(typeof n=="string")return"data:"+o+";base64,"+n;{const u=new Uint8Array(n);return window.URL.createObjectURL(new Blob([u],{type:o}))}}parseTextures(e){const n=new Map;if("Texture"in mr.Objects){const r=mr.Objects.Texture;for(const i in r){const o=this.parseTexture(r[i],e);n.set(parseInt(i),o)}}return n}parseTexture(e,n){const r=this.loadTexture(e,n);r.ID=e.id,r.name=e.attrName;const i=e.WrapModeU,o=e.WrapModeV,u=i!==void 0?i.value:0,d=o!==void 0?o.value:0;if(r.wrapS=u===0?fh:ko,r.wrapT=d===0?fh:ko,"Scaling"in e){const m=e.Scaling.value;r.repeat.x=m[0],r.repeat.y=m[1]}if("Translation"in e){const m=e.Translation.value;r.offset.x=m[0],r.offset.y=m[1]}return r}loadTexture(e,n){let r;const i=this.textureLoader.path,o=_s.get(e.id).children;o!==void 0&&o.length>0&&n[o[0].ID]!==void 0&&(r=n[o[0].ID],(r.indexOf("blob:")===0||r.indexOf("data:")===0)&&this.textureLoader.setPath(void 0));let u;const d=e.FileName.slice(-3).toLowerCase();if(d==="tga"){const m=this.manager.getHandler(".tga");m===null?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),u=new Ji):(m.setPath(this.textureLoader.path),u=m.load(r))}else if(d==="dds"){const m=this.manager.getHandler(".dds");m===null?(console.warn("FBXLoader: DDS loader not found, creating placeholder texture for",e.RelativeFilename),u=new Ji):(m.setPath(this.textureLoader.path),u=m.load(r))}else d==="psd"?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),u=new Ji):u=this.textureLoader.load(r);return this.textureLoader.setPath(i),u}parseMaterials(e){const n=new Map;if("Material"in mr.Objects){const r=mr.Objects.Material;for(const i in r){const o=this.parseMaterial(r[i],e);o!==null&&n.set(parseInt(i),o)}}return n}parseMaterial(e,n){const r=e.id,i=e.attrName;let o=e.ShadingModel;if(typeof o=="object"&&(o=o.value),!_s.has(r))return null;const u=this.parseParameters(e,n,r);let d;switch(o.toLowerCase()){case"phong":d=new G4;break;case"lambert":d=new Aze;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),d=new G4;break}return d.setValues(u),d.name=i,d}parseParameters(e,n,r){const i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=new cn().fromArray(e.Diffuse.value).convertSRGBToLinear():e.DiffuseColor&&(e.DiffuseColor.type==="Color"||e.DiffuseColor.type==="ColorRGB")&&(i.color=new cn().fromArray(e.DiffuseColor.value).convertSRGBToLinear()),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=new cn().fromArray(e.Emissive.value).convertSRGBToLinear():e.EmissiveColor&&(e.EmissiveColor.type==="Color"||e.EmissiveColor.type==="ColorRGB")&&(i.emissive=new cn().fromArray(e.EmissiveColor.value).convertSRGBToLinear()),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=new cn().fromArray(e.Specular.value).convertSRGBToLinear():e.SpecularColor&&e.SpecularColor.type==="Color"&&(i.specular=new cn().fromArray(e.SpecularColor.value).convertSRGBToLinear());const o=this;return _s.get(r).children.forEach(function(u){const d=u.relationship;switch(d){case"Bump":i.bumpMap=o.getTexture(n,u.ID);break;case"Maya|TEX_ao_map":i.aoMap=o.getTexture(n,u.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=o.getTexture(n,u.ID),i.map!==void 0&&(i.map.colorSpace=ri);break;case"DisplacementColor":i.displacementMap=o.getTexture(n,u.ID);break;case"EmissiveColor":i.emissiveMap=o.getTexture(n,u.ID),i.emissiveMap!==void 0&&(i.emissiveMap.colorSpace=ri);break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=o.getTexture(n,u.ID);break;case"ReflectionColor":i.envMap=o.getTexture(n,u.ID),i.envMap!==void 0&&(i.envMap.mapping=DA,i.envMap.colorSpace=ri);break;case"SpecularColor":i.specularMap=o.getTexture(n,u.ID),i.specularMap!==void 0&&(i.specularMap.colorSpace=ri);break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=o.getTexture(n,u.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",d);break}}),i}getTexture(e,n){return"LayeredTexture"in mr.Objects&&n in mr.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),n=_s.get(n).children[0].ID),e.get(n)}parseDeformers(){const e={},n={};if("Deformer"in mr.Objects){const r=mr.Objects.Deformer;for(const i in r){const o=r[i],u=_s.get(parseInt(i));if(o.attrType==="Skin"){const d=this.parseSkeleton(u,r);d.ID=i,u.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),d.geometryID=u.parents[0].ID,e[i]=d}else if(o.attrType==="BlendShape"){const d={id:i};d.rawTargets=this.parseMorphTargets(u,r),d.id=i,u.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),n[i]=d}}}return{skeletons:e,morphTargets:n}}parseSkeleton(e,n){const r=[];return e.children.forEach(function(i){const o=n[i.ID];if(o.attrType!=="Cluster")return;const u={ID:i.ID,indices:[],weights:[],transformLink:new In().fromArray(o.TransformLink.a)};"Indexes"in o&&(u.indices=o.Indexes.a,u.weights=o.Weights.a),r.push(u)}),{rawBones:r,bones:[]}}parseMorphTargets(e,n){const r=[];for(let i=0;i<e.children.length;i++){const o=e.children[i],u=n[o.ID],d={name:u.attrName,initialWeight:u.DeformPercent,id:u.id,fullWeights:u.FullWeights.a};if(u.attrType!=="BlendShapeChannel")return;d.geoID=_s.get(parseInt(o.ID)).children.filter(function(m){return m.relationship===void 0})[0].ID,r.push(d)}return r}parseScene(e,n,r){_a=new y2;const i=this.parseModels(e.skeletons,n,r),o=mr.Objects.Model,u=this;i.forEach(function(m){const v=o[m.ID];u.setLookAtProperties(m,v),_s.get(m.ID).parents.forEach(function(S){const T=i.get(S.ID);T!==void 0&&T.add(m)}),m.parent===null&&_a.add(m)}),this.bindSkeleton(e.skeletons,n,i),this.addGlobalSceneSettings(),_a.traverse(function(m){if(m.userData.transformData){m.parent&&(m.userData.transformData.parentMatrix=m.parent.matrix,m.userData.transformData.parentMatrixWorld=m.parent.matrixWorld);const v=k_e(m.userData.transformData);m.applyMatrix4(v),m.updateWorldMatrix()}});const d=new Jnt().parse();_a.children.length===1&&_a.children[0].isGroup&&(_a.children[0].animations=d,_a=_a.children[0]),_a.animations=d}parseModels(e,n,r){const i=new Map,o=mr.Objects.Model;for(const u in o){const d=parseInt(u),m=o[u],v=_s.get(d);let x=this.buildSkeleton(v,e,d,m.attrName);if(!x){switch(m.attrType){case"Camera":x=this.createCamera(v);break;case"Light":x=this.createLight(v);break;case"Mesh":x=this.createMesh(v,n,r);break;case"NurbsCurve":x=this.createCurve(v,n);break;case"LimbNode":case"Root":x=new IG;break;case"Null":default:x=new y2;break}x.name=m.attrName?Fr.sanitizeNodeName(m.attrName):"",x.userData.originalName=m.attrName,x.ID=d}this.getTransformData(x,m),i.set(d,x)}return i}buildSkeleton(e,n,r,i){let o=null;return e.parents.forEach(function(u){for(const d in n){const m=n[d];m.rawBones.forEach(function(v,x){if(v.ID===u.ID){const S=o;o=new IG,o.matrixWorld.copy(v.transformLink),o.name=i?Fr.sanitizeNodeName(i):"",o.userData.originalName=i,o.ID=r,m.bones[x]=o,S!==null&&o.add(S)}})}}),o}createCamera(e){let n,r;if(e.children.forEach(function(i){const o=mr.Objects.NodeAttribute[i.ID];o!==void 0&&(r=o)}),r===void 0)n=new Ar;else{let i=0;r.CameraProjectionType!==void 0&&r.CameraProjectionType.value===1&&(i=1);let o=1;r.NearPlane!==void 0&&(o=r.NearPlane.value/1e3);let u=1e3;r.FarPlane!==void 0&&(u=r.FarPlane.value/1e3);let d=window.innerWidth,m=window.innerHeight;r.AspectWidth!==void 0&&r.AspectHeight!==void 0&&(d=r.AspectWidth.value,m=r.AspectHeight.value);const v=d/m;let x=45;r.FieldOfView!==void 0&&(x=r.FieldOfView.value);const S=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:n=new Ds(x,v,o,u),S!==null&&n.setFocalLength(S);break;case 1:n=new Fb(-d/2,d/2,m/2,-m/2,o,u);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),n=new Ar;break}}return n}createLight(e){let n,r;if(e.children.forEach(function(i){const o=mr.Objects.NodeAttribute[i.ID];o!==void 0&&(r=o)}),r===void 0)n=new Ar;else{let i;r.LightType===void 0?i=0:i=r.LightType.value;let o=16777215;r.Color!==void 0&&(o=new cn().fromArray(r.Color.value).convertSRGBToLinear());let u=r.Intensity===void 0?1:r.Intensity.value/100;r.CastLightOnObject!==void 0&&r.CastLightOnObject.value===0&&(u=0);let d=0;r.FarAttenuationEnd!==void 0&&(r.EnableFarAttenuation!==void 0&&r.EnableFarAttenuation.value===0?d=0:d=r.FarAttenuationEnd.value);const m=1;switch(i){case 0:n=new R3e(o,u,d,m);break;case 1:n=new NW(o,u);break;case 2:let v=Math.PI/3;r.InnerAngle!==void 0&&(v=qo.degToRad(r.InnerAngle.value));let x=0;r.OuterAngle!==void 0&&(x=qo.degToRad(r.OuterAngle.value),x=Math.max(x,1)),n=new LW(o,u,d,v,x,m);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new R3e(o,u);break}r.CastShadows!==void 0&&r.CastShadows.value===1&&(n.castShadow=!0)}return n}createMesh(e,n,r){let i,o=null,u=null;const d=[];return e.children.forEach(function(m){n.has(m.ID)&&(o=n.get(m.ID)),r.has(m.ID)&&d.push(r.get(m.ID))}),d.length>1?u=d:d.length>0?u=d[0]:(u=new G4({name:Wf.DEFAULT_MATERIAL_NAME,color:13421772}),d.push(u)),"color"in o.attributes&&d.forEach(function(m){m.vertexColors=!0}),o.FBX_Deformer?(i=new p6e(o,u),i.normalizeSkinWeights()):i=new hi(o,u),i}createCurve(e,n){const r=e.children.reduce(function(o,u){return n.has(u.ID)&&(o=n.get(u.ID)),o},null),i=new t1({name:Wf.DEFAULT_MATERIAL_NAME,color:3342591,linewidth:1});return new Ub(r,i)}getTransformData(e,n){const r={};"InheritType"in n&&(r.inheritType=parseInt(n.InheritType.value)),"RotationOrder"in n?r.eulerOrder=A_e(n.RotationOrder.value):r.eulerOrder="ZYX","Lcl_Translation"in n&&(r.translation=n.Lcl_Translation.value),"PreRotation"in n&&(r.preRotation=n.PreRotation.value),"Lcl_Rotation"in n&&(r.rotation=n.Lcl_Rotation.value),"PostRotation"in n&&(r.postRotation=n.PostRotation.value),"Lcl_Scaling"in n&&(r.scale=n.Lcl_Scaling.value),"ScalingOffset"in n&&(r.scalingOffset=n.ScalingOffset.value),"ScalingPivot"in n&&(r.scalingPivot=n.ScalingPivot.value),"RotationOffset"in n&&(r.rotationOffset=n.RotationOffset.value),"RotationPivot"in n&&(r.rotationPivot=n.RotationPivot.value),e.userData.transformData=r}setLookAtProperties(e,n){"LookAtProperty"in n&&_s.get(e.ID).children.forEach(function(i){if(i.relationship==="LookAtProperty"){const o=mr.Objects.Model[i.ID];if("Lcl_Translation"in o){const u=o.Lcl_Translation.value;e.target!==void 0?(e.target.position.fromArray(u),_a.add(e.target)):e.lookAt(new Re().fromArray(u))}}})}bindSkeleton(e,n,r){const i=this.parsePoseNodes();for(const o in e){const u=e[o];_s.get(parseInt(u.ID)).parents.forEach(function(m){if(n.has(m.ID)){const v=m.ID;_s.get(v).parents.forEach(function(S){r.has(S.ID)&&r.get(S.ID).bind(new kW(u.bones),i[S.ID])})}})}}parsePoseNodes(){const e={};if("Pose"in mr.Objects){const n=mr.Objects.Pose;for(const r in n)if(n[r].attrType==="BindPose"&&n[r].NbPoseNodes>0){const i=n[r].PoseNode;Array.isArray(i)?i.forEach(function(o){e[o.Node]=new In().fromArray(o.Matrix.a)}):e[i.Node]=new In().fromArray(i.Matrix.a)}}return e}addGlobalSceneSettings(){if("GlobalSettings"in mr){if("AmbientColor"in mr.GlobalSettings){const e=mr.GlobalSettings.AmbientColor.value,n=e[0],r=e[1],i=e[2];if(n!==0||r!==0||i!==0){const o=new cn(n,r,i).convertSRGBToLinear();_a.add(new Kze(o,1))}}"UnitScaleFactor"in mr.GlobalSettings&&(_a.userData.unitScaleFactor=mr.GlobalSettings.UnitScaleFactor.value)}}}class Qnt{constructor(){this.negativeMaterialIndices=!1}parse(e){const n=new Map;if("Geometry"in mr.Objects){const r=mr.Objects.Geometry;for(const i in r){const o=_s.get(parseInt(i)),u=this.parseGeometry(o,r[i],e);n.set(parseInt(i),u)}}return this.negativeMaterialIndices===!0&&console.warn("THREE.FBXLoader: The FBX file contains invalid (negative) material indices. The asset might not render as expected."),n}parseGeometry(e,n,r){switch(n.attrType){case"Mesh":return this.parseMeshGeometry(e,n,r);case"NurbsCurve":return this.parseNurbsGeometry(n)}}parseMeshGeometry(e,n,r){const i=r.skeletons,o=[],u=e.parents.map(function(S){return mr.Objects.Model[S.ID]});if(u.length===0)return;const d=e.children.reduce(function(S,T){return i[T.ID]!==void 0&&(S=i[T.ID]),S},null);e.children.forEach(function(S){r.morphTargets[S.ID]!==void 0&&o.push(r.morphTargets[S.ID])});const m=u[0],v={};"RotationOrder"in m&&(v.eulerOrder=A_e(m.RotationOrder.value)),"InheritType"in m&&(v.inheritType=parseInt(m.InheritType.value)),"GeometricTranslation"in m&&(v.translation=m.GeometricTranslation.value),"GeometricRotation"in m&&(v.rotation=m.GeometricRotation.value),"GeometricScaling"in m&&(v.scale=m.GeometricScaling.value);const x=k_e(v);return this.genGeometry(n,d,o,x)}genGeometry(e,n,r,i){const o=new zi;e.attrName&&(o.name=e.attrName);const u=this.parseGeoNode(e,n),d=this.genBuffers(u),m=new Sr(d.vertex,3);if(m.applyMatrix4(i),o.setAttribute("position",m),d.colors.length>0&&o.setAttribute("color",new Sr(d.colors,3)),n&&(o.setAttribute("skinIndex",new CW(d.weightsIndices,4)),o.setAttribute("skinWeight",new Sr(d.vertexWeights,4)),o.FBX_Deformer=n),d.normal.length>0){const v=new lr().getNormalMatrix(i),x=new Sr(d.normal,3);x.applyNormalMatrix(v),o.setAttribute("normal",x)}if(d.uvs.forEach(function(v,x){const S=x===0?"uv":`uv${x}`;o.setAttribute(S,new Sr(d.uvs[x],2))}),u.material&&u.material.mappingType!=="AllSame"){let v=d.materialIndex[0],x=0;if(d.materialIndex.forEach(function(S,T){S!==v&&(o.addGroup(x,T-x,v),v=S,x=T)}),o.groups.length>0){const S=o.groups[o.groups.length-1],T=S.start+S.count;T!==d.materialIndex.length&&o.addGroup(T,d.materialIndex.length-T,v)}o.groups.length===0&&o.addGroup(0,d.materialIndex.length,d.materialIndex[0])}return this.addMorphTargets(o,e,r,i),o}parseGeoNode(e,n){const r={};if(r.vertexPositions=e.Vertices!==void 0?e.Vertices.a:[],r.vertexIndices=e.PolygonVertexIndex!==void 0?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(r.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(r.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(r.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){r.uv=[];let i=0;for(;e.LayerElementUV[i];)e.LayerElementUV[i].UV&&r.uv.push(this.parseUVs(e.LayerElementUV[i])),i++}return r.weightTable={},n!==null&&(r.skeleton=n,n.rawBones.forEach(function(i,o){i.indices.forEach(function(u,d){r.weightTable[u]===void 0&&(r.weightTable[u]=[]),r.weightTable[u].push({id:o,weight:i.weights[d]})})})),r}genBuffers(e){const n={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]};let r=0,i=0,o=!1,u=[],d=[],m=[],v=[],x=[],S=[];const T=this;return e.vertexIndices.forEach(function(R,G){let L,B=!1;R<0&&(R=R^-1,B=!0);let z=[],C=[];if(u.push(R*3,R*3+1,R*3+2),e.color){const V=Fk(G,r,R,e.color);m.push(V[0],V[1],V[2])}if(e.skeleton){if(e.weightTable[R]!==void 0&&e.weightTable[R].forEach(function(V){C.push(V.weight),z.push(V.id)}),C.length>4){o||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),o=!0);const V=[0,0,0,0],Y=[0,0,0,0];C.forEach(function(me,q){let ae=me,ve=z[q];Y.forEach(function(W,se,Te){if(ae>W){Te[se]=ae,ae=W;const dt=V[se];V[se]=ve,ve=dt}})}),z=V,C=Y}for(;C.length<4;)C.push(0),z.push(0);for(let V=0;V<4;++V)x.push(C[V]),S.push(z[V])}if(e.normal){const V=Fk(G,r,R,e.normal);d.push(V[0],V[1],V[2])}e.material&&e.material.mappingType!=="AllSame"&&(L=Fk(G,r,R,e.material)[0],L<0&&(T.negativeMaterialIndices=!0,L=0)),e.uv&&e.uv.forEach(function(V,Y){const me=Fk(G,r,R,V);v[Y]===void 0&&(v[Y]=[]),v[Y].push(me[0]),v[Y].push(me[1])}),i++,B&&(T.genFace(n,e,u,L,d,m,v,x,S,i),r++,i=0,u=[],d=[],m=[],v=[],x=[],S=[])}),n}getNormalNewell(e){const n=new Re(0,0,0);for(let r=0;r<e.length;r++){const i=e[r],o=e[(r+1)%e.length];n.x+=(i.y-o.y)*(i.z+o.z),n.y+=(i.z-o.z)*(i.x+o.x),n.z+=(i.x-o.x)*(i.y+o.y)}return n.normalize(),n}getNormalTangentAndBitangent(e){const n=this.getNormalNewell(e),i=(Math.abs(n.z)>.5?new Re(0,1,0):new Re(0,0,1)).cross(n).normalize(),o=n.clone().cross(i).normalize();return{normal:n,tangent:i,bitangent:o}}flattenVertex(e,n,r){return new nn(e.dot(n),e.dot(r))}genFace(e,n,r,i,o,u,d,m,v,x){let S;if(x>3){const T=[];for(let B=0;B<r.length;B+=3)T.push(new Re(n.vertexPositions[r[B]],n.vertexPositions[r[B+1]],n.vertexPositions[r[B+2]]));const{tangent:R,bitangent:G}=this.getNormalTangentAndBitangent(T),L=[];for(const B of T)L.push(this.flattenVertex(B,R,G));S=IW.triangulateShape(L,[])}else S=[[0,1,2]];for(const[T,R,G]of S)e.vertex.push(n.vertexPositions[r[T*3]]),e.vertex.push(n.vertexPositions[r[T*3+1]]),e.vertex.push(n.vertexPositions[r[T*3+2]]),e.vertex.push(n.vertexPositions[r[R*3]]),e.vertex.push(n.vertexPositions[r[R*3+1]]),e.vertex.push(n.vertexPositions[r[R*3+2]]),e.vertex.push(n.vertexPositions[r[G*3]]),e.vertex.push(n.vertexPositions[r[G*3+1]]),e.vertex.push(n.vertexPositions[r[G*3+2]]),n.skeleton&&(e.vertexWeights.push(m[T*4]),e.vertexWeights.push(m[T*4+1]),e.vertexWeights.push(m[T*4+2]),e.vertexWeights.push(m[T*4+3]),e.vertexWeights.push(m[R*4]),e.vertexWeights.push(m[R*4+1]),e.vertexWeights.push(m[R*4+2]),e.vertexWeights.push(m[R*4+3]),e.vertexWeights.push(m[G*4]),e.vertexWeights.push(m[G*4+1]),e.vertexWeights.push(m[G*4+2]),e.vertexWeights.push(m[G*4+3]),e.weightsIndices.push(v[T*4]),e.weightsIndices.push(v[T*4+1]),e.weightsIndices.push(v[T*4+2]),e.weightsIndices.push(v[T*4+3]),e.weightsIndices.push(v[R*4]),e.weightsIndices.push(v[R*4+1]),e.weightsIndices.push(v[R*4+2]),e.weightsIndices.push(v[R*4+3]),e.weightsIndices.push(v[G*4]),e.weightsIndices.push(v[G*4+1]),e.weightsIndices.push(v[G*4+2]),e.weightsIndices.push(v[G*4+3])),n.color&&(e.colors.push(u[T*3]),e.colors.push(u[T*3+1]),e.colors.push(u[T*3+2]),e.colors.push(u[R*3]),e.colors.push(u[R*3+1]),e.colors.push(u[R*3+2]),e.colors.push(u[G*3]),e.colors.push(u[G*3+1]),e.colors.push(u[G*3+2])),n.material&&n.material.mappingType!=="AllSame"&&(e.materialIndex.push(i),e.materialIndex.push(i),e.materialIndex.push(i)),n.normal&&(e.normal.push(o[T*3]),e.normal.push(o[T*3+1]),e.normal.push(o[T*3+2]),e.normal.push(o[R*3]),e.normal.push(o[R*3+1]),e.normal.push(o[R*3+2]),e.normal.push(o[G*3]),e.normal.push(o[G*3+1]),e.normal.push(o[G*3+2])),n.uv&&n.uv.forEach(function(L,B){e.uvs[B]===void 0&&(e.uvs[B]=[]),e.uvs[B].push(d[B][T*2]),e.uvs[B].push(d[B][T*2+1]),e.uvs[B].push(d[B][R*2]),e.uvs[B].push(d[B][R*2+1]),e.uvs[B].push(d[B][G*2]),e.uvs[B].push(d[B][G*2+1])})}addMorphTargets(e,n,r,i){if(r.length===0)return;e.morphTargetsRelative=!0,e.morphAttributes.position=[];const o=this;r.forEach(function(u){u.rawTargets.forEach(function(d){const m=mr.Objects.Geometry[d.geoID];m!==void 0&&o.genMorphGeometry(e,n,m,i,d.name)})})}genMorphGeometry(e,n,r,i,o){const u=n.PolygonVertexIndex!==void 0?n.PolygonVertexIndex.a:[],d=r.Vertices!==void 0?r.Vertices.a:[],m=r.Indexes!==void 0?r.Indexes.a:[],v=e.attributes.position.count*3,x=new Float32Array(v);for(let G=0;G<m.length;G++){const L=m[G]*3;x[L]=d[G*3],x[L+1]=d[G*3+1],x[L+2]=d[G*3+2]}const S={vertexIndices:u,vertexPositions:x},T=this.genBuffers(S),R=new Sr(T.vertex,3);R.name=o||r.attrName,R.applyMatrix4(i),e.morphAttributes.position.push(R)}parseNormals(e){const n=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Normals.a;let o=[];return r==="IndexToDirect"&&("NormalIndex"in e?o=e.NormalIndex.a:"NormalsIndex"in e&&(o=e.NormalsIndex.a)),{dataSize:3,buffer:i,indices:o,mappingType:n,referenceType:r}}parseUVs(e){const n=e.MappingInformationType,r=e.ReferenceInformationType,i=e.UV.a;let o=[];return r==="IndexToDirect"&&(o=e.UVIndex.a),{dataSize:2,buffer:i,indices:o,mappingType:n,referenceType:r}}parseVertexColors(e){const n=e.MappingInformationType,r=e.ReferenceInformationType,i=e.Colors.a;let o=[];r==="IndexToDirect"&&(o=e.ColorIndex.a);for(let u=0,d=new cn;u<i.length;u+=4)d.fromArray(i,u).convertSRGBToLinear().toArray(i,u);return{dataSize:4,buffer:i,indices:o,mappingType:n,referenceType:r}}parseMaterialIndices(e){const n=e.MappingInformationType,r=e.ReferenceInformationType;if(n==="NoMappingInformation")return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:r};const i=e.Materials.a,o=[];for(let u=0;u<i.length;++u)o.push(u);return{dataSize:1,buffer:i,indices:o,mappingType:n,referenceType:r}}parseNurbsGeometry(e){const n=parseInt(e.Order);if(isNaN(n))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new zi;const r=n-1,i=e.KnotVector.a,o=[],u=e.Points.a;for(let S=0,T=u.length;S<T;S+=4)o.push(new kr().fromArray(u,S));let d,m;if(e.Form==="Closed")o.push(o[0]);else if(e.Form==="Periodic"){d=r,m=i.length-1-d;for(let S=0;S<r;++S)o.push(o[S])}const x=new qnt(r,i,o,d,m).getPoints(o.length*12);return new zi().setFromPoints(x)}}class Jnt{parse(){const e=[],n=this.parseClips();if(n!==void 0)for(const r in n){const i=n[r],o=this.addClip(i);e.push(o)}return e}parseClips(){if(mr.Objects.AnimationCurve===void 0)return;const e=this.parseAnimationCurveNodes();this.parseAnimationCurves(e);const n=this.parseAnimationLayers(e);return this.parseAnimStacks(n)}parseAnimationCurveNodes(){const e=mr.Objects.AnimationCurveNode,n=new Map;for(const r in e){const i=e[r];if(i.attrName.match(/S|R|T|DeformPercent/)!==null){const o={id:i.id,attr:i.attrName,curves:{}};n.set(o.id,o)}}return n}parseAnimationCurves(e){const n=mr.Objects.AnimationCurve;for(const r in n){const i={id:n[r].id,times:n[r].KeyTime.a.map(irt),values:n[r].KeyValueFloat.a},o=_s.get(i.id);if(o!==void 0){const u=o.parents[0].ID,d=o.parents[0].relationship;d.match(/X/)?e.get(u).curves.x=i:d.match(/Y/)?e.get(u).curves.y=i:d.match(/Z/)?e.get(u).curves.z=i:d.match(/DeformPercent/)&&e.has(u)&&(e.get(u).curves.morph=i)}}}parseAnimationLayers(e){const n=mr.Objects.AnimationLayer,r=new Map;for(const i in n){const o=[],u=_s.get(parseInt(i));u!==void 0&&(u.children.forEach(function(m,v){if(e.has(m.ID)){const x=e.get(m.ID);if(x.curves.x!==void 0||x.curves.y!==void 0||x.curves.z!==void 0){if(o[v]===void 0){const S=_s.get(m.ID).parents.filter(function(T){return T.relationship!==void 0})[0].ID;if(S!==void 0){const T=mr.Objects.Model[S.toString()];if(T===void 0){console.warn("THREE.FBXLoader: Encountered a unused curve.",m);return}const R={modelName:T.attrName?Fr.sanitizeNodeName(T.attrName):"",ID:T.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};_a.traverse(function(G){G.ID===T.id&&(R.transform=G.matrix,G.userData.transformData&&(R.eulerOrder=G.userData.transformData.eulerOrder))}),R.transform||(R.transform=new In),"PreRotation"in T&&(R.preRotation=T.PreRotation.value),"PostRotation"in T&&(R.postRotation=T.PostRotation.value),o[v]=R}}o[v]&&(o[v][x.attr]=x)}else if(x.curves.morph!==void 0){if(o[v]===void 0){const S=_s.get(m.ID).parents.filter(function(z){return z.relationship!==void 0})[0].ID,T=_s.get(S).parents[0].ID,R=_s.get(T).parents[0].ID,G=_s.get(R).parents[0].ID,L=mr.Objects.Model[G],B={modelName:L.attrName?Fr.sanitizeNodeName(L.attrName):"",morphName:mr.Objects.Deformer[S].attrName};o[v]=B}o[v][x.attr]=x}}}),r.set(parseInt(i),o))}return r}parseAnimStacks(e){const n=mr.Objects.AnimationStack,r={};for(const i in n){const o=_s.get(parseInt(i)).children;o.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");const u=e.get(o[0].ID);r[i]={name:n[i].attrName,layer:u}}return r}addClip(e){let n=[];const r=this;return e.layer.forEach(function(i){n=n.concat(r.generateTracks(i))}),new LG(e.name,-1,n)}generateTracks(e){const n=[];let r=new Re,i=new Re;if(e.transform&&e.transform.decompose(r,new js,i),r=r.toArray(),i=i.toArray(),e.T!==void 0&&Object.keys(e.T.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.T.curves,r,"position");o!==void 0&&n.push(o)}if(e.R!==void 0&&Object.keys(e.R.curves).length>0){const o=this.generateRotationTrack(e.modelName,e.R.curves,e.preRotation,e.postRotation,e.eulerOrder);o!==void 0&&n.push(o)}if(e.S!==void 0&&Object.keys(e.S.curves).length>0){const o=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");o!==void 0&&n.push(o)}if(e.DeformPercent!==void 0){const o=this.generateMorphTrack(e);o!==void 0&&n.push(o)}return n}generateVectorTrack(e,n,r,i){const o=this.getTimesForAllAxes(n),u=this.getKeyframeTrackValues(o,n,r);return new Gb(e+"."+i,o,u)}generateRotationTrack(e,n,r,i,o){let u,d;if(n.x!==void 0&&n.y!==void 0&&n.z!==void 0){const S=this.interpolateRotations(n.x,n.y,n.z,o);u=S[0],d=S[1]}r!==void 0&&(r=r.map(qo.degToRad),r.push(o),r=new qi().fromArray(r),r=new js().setFromEuler(r)),i!==void 0&&(i=i.map(qo.degToRad),i.push(o),i=new qi().fromArray(i),i=new js().setFromEuler(i).invert());const m=new js,v=new qi,x=[];if(!d||!u)return new L2(e+".quaternion",[0],[0]);for(let S=0;S<d.length;S+=3)v.set(d[S],d[S+1],d[S+2],o),m.setFromEuler(v),r!==void 0&&m.premultiply(r),i!==void 0&&m.multiply(i),S>2&&new js().fromArray(x,(S-3)/3*4).dot(m)<0&&m.set(-m.x,-m.y,-m.z,-m.w),m.toArray(x,S/3*4);return new L2(e+".quaternion",u,x)}generateMorphTrack(e){const n=e.DeformPercent.curves.morph,r=n.values.map(function(o){return o/100}),i=_a.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Hb(e.modelName+".morphTargetInfluences["+i+"]",n.times,r)}getTimesForAllAxes(e){let n=[];if(e.x!==void 0&&(n=n.concat(e.x.times)),e.y!==void 0&&(n=n.concat(e.y.times)),e.z!==void 0&&(n=n.concat(e.z.times)),n=n.sort(function(r,i){return r-i}),n.length>1){let r=1,i=n[0];for(let o=1;o<n.length;o++){const u=n[o];u!==i&&(n[r]=u,i=u,r++)}n=n.slice(0,r)}return n}getKeyframeTrackValues(e,n,r){const i=r,o=[];let u=-1,d=-1,m=-1;return e.forEach(function(v){if(n.x&&(u=n.x.times.indexOf(v)),n.y&&(d=n.y.times.indexOf(v)),n.z&&(m=n.z.times.indexOf(v)),u!==-1){const x=n.x.values[u];o.push(x),i[0]=x}else o.push(i[0]);if(d!==-1){const x=n.y.values[d];o.push(x),i[1]=x}else o.push(i[1]);if(m!==-1){const x=n.z.values[m];o.push(x),i[2]=x}else o.push(i[2])}),o}interpolateRotations(e,n,r,i){const o=[],u=[];o.push(e.times[0]),u.push(qo.degToRad(e.values[0])),u.push(qo.degToRad(n.values[0])),u.push(qo.degToRad(r.values[0]));for(let d=1;d<e.values.length;d++){const m=[e.values[d-1],n.values[d-1],r.values[d-1]];if(isNaN(m[0])||isNaN(m[1])||isNaN(m[2]))continue;const v=m.map(qo.degToRad),x=[e.values[d],n.values[d],r.values[d]];if(isNaN(x[0])||isNaN(x[1])||isNaN(x[2]))continue;const S=x.map(qo.degToRad),T=[x[0]-m[0],x[1]-m[1],x[2]-m[2]],R=[Math.abs(T[0]),Math.abs(T[1]),Math.abs(T[2])];if(R[0]>=180||R[1]>=180||R[2]>=180){const L=Math.max(...R)/180,B=new qi(...v,i),z=new qi(...S,i),C=new js().setFromEuler(B),V=new js().setFromEuler(z);C.dot(V)&&V.set(-V.x,-V.y,-V.z,-V.w);const Y=e.times[d-1],me=e.times[d]-Y,q=new js,ae=new qi;for(let ve=0;ve<1;ve+=1/L)q.copy(C.clone().slerp(V.clone(),ve)),o.push(Y+ve*me),ae.setFromQuaternion(q,i),u.push(ae.x),u.push(ae.y),u.push(ae.z)}else o.push(e.times[d]),u.push(qo.degToRad(e.values[d])),u.push(qo.degToRad(n.values[d])),u.push(qo.degToRad(r.values[d]))}return[o,u]}}class ert{getPrevNode(){return this.nodeStack[this.currentIndent-2]}getCurrentNode(){return this.nodeStack[this.currentIndent-1]}getCurrentProp(){return this.currentProp}pushStack(e){this.nodeStack.push(e),this.currentIndent+=1}popStack(){this.nodeStack.pop(),this.currentIndent-=1}setCurrentProp(e,n){this.currentProp=e,this.currentPropName=n}parse(e){this.currentIndent=0,this.allNodes=new T_e,this.nodeStack=[],this.currentProp=[],this.currentPropName="";const n=this,r=e.split(/[\r\n]+/);return r.forEach(function(i,o){const u=i.match(/^[\s\t]*;/),d=i.match(/^[\s\t]*$/);if(u||d)return;const m=i.match("^\\t{"+n.currentIndent+"}(\\w+):(.*){",""),v=i.match("^\\t{"+n.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),x=i.match("^\\t{"+(n.currentIndent-1)+"}}");m?n.parseNodeBegin(i,m):v?n.parseNodeProperty(i,v,r[++o]):x?n.popStack():i.match(/^[^\s\t}]/)&&n.parseNodePropertyContinued(i)}),this.allNodes}parseNodeBegin(e,n){const r=n[1].trim().replace(/^"/,"").replace(/"$/,""),i=n[2].split(",").map(function(m){return m.trim().replace(/^"/,"").replace(/"$/,"")}),o={name:r},u=this.parseNodeAttr(i),d=this.getCurrentNode();this.currentIndent===0?this.allNodes.add(r,o):r in d?(r==="PoseNode"?d.PoseNode.push(o):d[r].id!==void 0&&(d[r]={},d[r][d[r].id]=d[r]),u.id!==""&&(d[r][u.id]=o)):typeof u.id=="number"?(d[r]={},d[r][u.id]=o):r!=="Properties70"&&(r==="PoseNode"?d[r]=[o]:d[r]=o),typeof u.id=="number"&&(o.id=u.id),u.name!==""&&(o.attrName=u.name),u.type!==""&&(o.attrType=u.type),this.pushStack(o)}parseNodeAttr(e){let n=e[0];e[0]!==""&&(n=parseInt(e[0]),isNaN(n)&&(n=e[0]));let r="",i="";return e.length>1&&(r=e[1].replace(/^(\w+)::/,""),i=e[2]),{id:n,name:r,type:i}}parseNodeProperty(e,n,r){let i=n[1].replace(/^"/,"").replace(/"$/,"").trim(),o=n[2].replace(/^"/,"").replace(/"$/,"").trim();i==="Content"&&o===","&&(o=r.replace(/"/g,"").replace(/,$/,"").trim());const u=this.getCurrentNode();if(u.name==="Properties70"){this.parseNodeSpecialProperty(e,i,o);return}if(i==="C"){const m=o.split(",").slice(1),v=parseInt(m[0]),x=parseInt(m[1]);let S=o.split(",").slice(3);S=S.map(function(T){return T.trim().replace(/^"/,"")}),i="connections",o=[v,x],ort(o,S),u[i]===void 0&&(u[i]=[])}i==="Node"&&(u.id=o),i in u&&Array.isArray(u[i])?u[i].push(o):i!=="a"?u[i]=o:u.a=o,this.setCurrentProp(u,i),i==="a"&&o.slice(-1)!==","&&(u.a=TH(o))}parseNodePropertyContinued(e){const n=this.getCurrentNode();n.a+=e,e.slice(-1)!==","&&(n.a=TH(n.a))}parseNodeSpecialProperty(e,n,r){const i=r.split('",').map(function(x){return x.trim().replace(/^\"/,"").replace(/\s/,"_")}),o=i[0],u=i[1],d=i[2],m=i[3];let v=i[4];switch(u){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":v=parseFloat(v);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":v=TH(v);break}this.getPrevNode()[o]={type:u,type2:d,flag:m,value:v},this.setCurrentProp(this.getPrevNode(),o)}}class trt{parse(e){const n=new yge(e);n.skip(23);const r=n.getUint32();if(r<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+r);const i=new T_e;for(;!this.endOfContent(n);){const o=this.parseNode(n,r);o!==null&&i.add(o.name,o)}return i}endOfContent(e){return e.size()%16===0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()}parseNode(e,n){const r={},i=n>=7500?e.getUint64():e.getUint32(),o=n>=7500?e.getUint64():e.getUint32();n>=7500?e.getUint64():e.getUint32();const u=e.getUint8(),d=e.getString(u);if(i===0)return null;const m=[];for(let T=0;T<o;T++)m.push(this.parseProperty(e));const v=m.length>0?m[0]:"",x=m.length>1?m[1]:"",S=m.length>2?m[2]:"";for(r.singleProperty=o===1&&e.getOffset()===i;i>e.getOffset();){const T=this.parseNode(e,n);T!==null&&this.parseSubNode(d,r,T)}return r.propertyList=m,typeof v=="number"&&(r.id=v),x!==""&&(r.attrName=x),S!==""&&(r.attrType=S),d!==""&&(r.name=d),r}parseSubNode(e,n,r){if(r.singleProperty===!0){const i=r.propertyList[0];Array.isArray(i)?(n[r.name]=r,r.a=i):n[r.name]=i}else if(e==="Connections"&&r.name==="C"){const i=[];r.propertyList.forEach(function(o,u){u!==0&&i.push(o)}),n.connections===void 0&&(n.connections=[]),n.connections.push(i)}else if(r.name==="Properties70")Object.keys(r).forEach(function(o){n[o]=r[o]});else if(e==="Properties70"&&r.name==="P"){let i=r.propertyList[0],o=r.propertyList[1];const u=r.propertyList[2],d=r.propertyList[3];let m;i.indexOf("Lcl ")===0&&(i=i.replace("Lcl ","Lcl_")),o.indexOf("Lcl ")===0&&(o=o.replace("Lcl ","Lcl_")),o==="Color"||o==="ColorRGB"||o==="Vector"||o==="Vector3D"||o.indexOf("Lcl_")===0?m=[r.propertyList[4],r.propertyList[5],r.propertyList[6]]:m=r.propertyList[4],n[i]={type:o,type2:u,flag:d,value:m}}else n[r.name]===void 0?typeof r.id=="number"?(n[r.name]={},n[r.name][r.id]=r):n[r.name]=r:r.name==="PoseNode"?(Array.isArray(n[r.name])||(n[r.name]=[n[r.name]]),n[r.name].push(r)):n[r.name][r.id]===void 0&&(n[r.name][r.id]=r)}parseProperty(e){const n=e.getString(1);let r;switch(n){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":return r=e.getUint32(),e.getArrayBuffer(r);case"S":return r=e.getUint32(),e.getString(r);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":const i=e.getUint32(),o=e.getUint32(),u=e.getUint32();if(o===0)switch(n){case"b":case"c":return e.getBooleanArray(i);case"d":return e.getFloat64Array(i);case"f":return e.getFloat32Array(i);case"i":return e.getInt32Array(i);case"l":return e.getInt64Array(i)}const d=Unt(new Uint8Array(e.getArrayBuffer(u))),m=new yge(d.buffer);switch(n){case"b":case"c":return m.getBooleanArray(i);case"d":return m.getFloat64Array(i);case"f":return m.getFloat32Array(i);case"i":return m.getInt32Array(i);case"l":return m.getInt64Array(i)}break;default:throw new Error("THREE.FBXLoader: Unknown property type "+n)}}}class yge{constructor(e,n){this.dv=new DataView(e),this.offset=0,this.littleEndian=n!==void 0?n:!0,this._textDecoder=new TextDecoder}getOffset(){return this.offset}size(){return this.dv.buffer.byteLength}skip(e){this.offset+=e}getBoolean(){return(this.getUint8()&1)===1}getBooleanArray(e){const n=[];for(let r=0;r<e;r++)n.push(this.getBoolean());return n}getUint8(){const e=this.dv.getUint8(this.offset);return this.offset+=1,e}getInt16(){const e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}getInt32(){const e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}getInt32Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getInt32());return n}getUint32(){const e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}getInt64(){let e,n;return this.littleEndian?(e=this.getUint32(),n=this.getUint32()):(n=this.getUint32(),e=this.getUint32()),n&2147483648?(n=~n&4294967295,e=~e&4294967295,e===4294967295&&(n=n+1&4294967295),e=e+1&4294967295,-(n*4294967296+e)):n*4294967296+e}getInt64Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getInt64());return n}getUint64(){let e,n;return this.littleEndian?(e=this.getUint32(),n=this.getUint32()):(n=this.getUint32(),e=this.getUint32()),n*4294967296+e}getFloat32(){const e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}getFloat32Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getFloat32());return n}getFloat64(){const e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}getFloat64Array(e){const n=[];for(let r=0;r<e;r++)n.push(this.getFloat64());return n}getArrayBuffer(e){const n=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}getString(e){const n=this.offset;let r=new Uint8Array(this.dv.buffer,n,e);this.skip(e);const i=r.indexOf(0);return i>=0&&(r=new Uint8Array(this.dv.buffer,n,i)),this._textDecoder.decode(r)}}class T_e{add(e,n){this[e]=n}}function nrt(t){const e="Kaydara FBX Binary  \0";return t.byteLength>=e.length&&e===I_e(t,0,e.length)}function rrt(t){const e=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];let n=0;function r(i){const o=t[i-1];return t=t.slice(n+i),n++,o}for(let i=0;i<e.length;++i)if(r(1)===e[i])return!1;return!0}function bge(t){const e=/FBXVersion: (\d+)/,n=t.match(e);if(n)return parseInt(n[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function irt(t){return t/46186158e3}const srt=[];function Fk(t,e,n,r){let i;switch(r.mappingType){case"ByPolygonVertex":i=t;break;case"ByPolygon":i=e;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}r.referenceType==="IndexToDirect"&&(i=r.indices[i]);const o=i*r.dataSize,u=o+r.dataSize;return art(srt,r.buffer,o,u)}const MH=new qi,d4=new Re;function k_e(t){const e=new In,n=new In,r=new In,i=new In,o=new In,u=new In,d=new In,m=new In,v=new In,x=new In,S=new In,T=new In,R=t.inheritType?t.inheritType:0;if(t.translation&&e.setPosition(d4.fromArray(t.translation)),t.preRotation){const se=t.preRotation.map(qo.degToRad);se.push(t.eulerOrder||qi.DEFAULT_ORDER),n.makeRotationFromEuler(MH.fromArray(se))}if(t.rotation){const se=t.rotation.map(qo.degToRad);se.push(t.eulerOrder||qi.DEFAULT_ORDER),r.makeRotationFromEuler(MH.fromArray(se))}if(t.postRotation){const se=t.postRotation.map(qo.degToRad);se.push(t.eulerOrder||qi.DEFAULT_ORDER),i.makeRotationFromEuler(MH.fromArray(se)),i.invert()}t.scale&&o.scale(d4.fromArray(t.scale)),t.scalingOffset&&d.setPosition(d4.fromArray(t.scalingOffset)),t.scalingPivot&&u.setPosition(d4.fromArray(t.scalingPivot)),t.rotationOffset&&m.setPosition(d4.fromArray(t.rotationOffset)),t.rotationPivot&&v.setPosition(d4.fromArray(t.rotationPivot)),t.parentMatrixWorld&&(S.copy(t.parentMatrix),x.copy(t.parentMatrixWorld));const G=n.clone().multiply(r).multiply(i),L=new In;L.extractRotation(x);const B=new In;B.copyPosition(x);const z=B.clone().invert().multiply(x),C=L.clone().invert().multiply(z),V=o,Y=new In;if(R===0)Y.copy(L).multiply(G).multiply(C).multiply(V);else if(R===1)Y.copy(L).multiply(C).multiply(G).multiply(V);else{const Te=new In().scale(new Re().setFromMatrixScale(S)).clone().invert(),dt=C.clone().multiply(Te);Y.copy(L).multiply(G).multiply(dt).multiply(V)}const me=v.clone().invert(),q=u.clone().invert();let ae=e.clone().multiply(m).multiply(v).multiply(n).multiply(r).multiply(i).multiply(me).multiply(d).multiply(u).multiply(o).multiply(q);const ve=new In().copyPosition(ae),W=x.clone().multiply(ve);return T.copyPosition(W),ae=T.clone().multiply(Y),ae.premultiply(x.invert()),ae}function A_e(t){t=t||0;const e=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return t===6?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),e[0]):e[t]}function TH(t){return t.split(",").map(function(n){return parseFloat(n)})}function I_e(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=t.byteLength),new TextDecoder().decode(new Uint8Array(t,e,n))}function ort(t,e){for(let n=0,r=t.length,i=e.length;n<i;n++,r++)t[r]=e[n]}function art(t,e,n,r){for(let i=n,o=0;i<r;i++,o++)t[o]=e[i];return t}const bX=new Map,R_e=new Map,D_e=new Map,_X=new Map;function lrt(t,e){return new Promise((n,r)=>{new jze().setPath("images/milkyWay/").load(e,i=>{bX.set(t,i),n(i)},void 0,()=>{r()})})}function urt(t,e){return new Promise((n,r)=>{new Ynt().setPath("./models/").loadAsync(e).then(i=>{i.traverse(o=>{o.isMesh&&(o.castShadow=!0,o.receiveShadow=!0)}),D_e.set(t,i),n(i)}).catch(i=>{console.log("Couldn't load:",e),console.log(i),r()})})}function crt(t,e){return new Promise((n,r)=>{new E6e().load(e,i=>{i.wrapS=fh,i.wrapT=fh,i.needsUpdate=!0,_X.set(t,i),n(i)},void 0,()=>{r()})})}function drt(t,e){return new Promise((n,r)=>{fetch(e).then(i=>{if(!i.ok)throw new Error(`Network response was not ok: ${i.status}`);return i.json()}).then(i=>{R_e.set(t,i),n(i)}).catch(()=>{console.log(`Couldn't load: ${e}`),r()})})}function hrt(){return new Promise((t,e)=>{const n=[()=>lrt("environment",["dark-s_px.jpg","dark-s_nx.jpg","dark-s_py.jpg","dark-s_ny.jpg","dark-s_pz.jpg","dark-s_nz.jpg"]),()=>crt("uv_grid","images/uv_grid_opengl.jpg"),()=>urt("Flair","Flair.fbx"),()=>drt("animation","json/animation.json")];Promise.all(n.map(r=>r())).then(()=>{t_.dispatchEvent({type:n_.LOAD_COMPLETE}),t()}).catch(()=>{e()})})}class O_e extends Ar{constructor(n){super();tr(this,"mixer");this.name=n,this.scale.setScalar(.5);const r=D_e.get(n),i=Cnt(r);this.add(i),this.mixer=new uVe(i),i.mixer=this.mixer,this.mixer.clipAction(i.animations[0]).play()}update(n){this.mixer.update(n)}}class L_e extends Bb{constructor(n){super();tr(this,"camera");tr(this,"renderer");tr(this,"clock");this.renderer=n,this.clock=new Yze,this.clock.start();const r=new Ar;r.name="cameras",this.add(r),this.camera=new Ds(90,1,10,1e3),this.camera.name="Main",this.camera.position.set(0,100,125),this.camera.lookAt(0,50,0),r.add(this.camera)}dispose(){br.components.get("theatre").clearSheetObjects(this.name)}resize(n,r){this.camera.aspect=n/r,this.camera.updateProjectionMatrix()}update(){}draw(){this.renderer.clear(),this.renderer.render(this,this.camera)}}class N_e extends L_e{constructor(n){super(n);tr(this,"dance");tr(this,"customMat");tr(this,"post");this.name="Scene1";const r=bX.get("environment");if(this.background=r,br.editor){const o=new hi(new O2,new mh({envMap:r,side:Ss}));o.name="bg",o.scale.setScalar(1e3),this.add(o)}this.createLights(),this.createWorld(),br.editor||this.createPost(),this.createAnimation(),lg(this);const i=br.components.get("three");i.addScene(this),i.setScene(this),i.addCamera(this.camera)}createLights(){const n=new Ar;n.name="lights",this.add(n);const r=new NW(16777215,.25);r.name="sun",r.castShadow=!0,r.position.set(0,50,50);const i=256;r.shadow.camera.top=i,r.shadow.camera.bottom=-i,r.shadow.camera.left=-i,r.shadow.camera.right=i,r.shadow.mapSize.width=1024,r.shadow.mapSize.height=1024,r.shadow.camera.near=10,r.shadow.camera.far=1e3,r.shadow.bias=1e-4,n.add(r);const o=new Hze(7320802,12872999,.5);o.name="hemi",n.add(o);const u=new LW(16777215,3);u.angle=5.8,u.decay=0,u.distance=1e3,u.penumbra=Math.PI,u.name="spotlight",u.castShadow=!0,u.position.set(-50,200,200),u.lookAt(0,50,0),n.add(u)}createWorld(){const n=new Ar;n.name="world",this.add(n);const r=_X.get("uv_grid");r.repeat.setScalar(10),r.needsUpdate=!0;const i=new G4({map:r}),o=new hi(new OI(500,36),i);o.name="floor",o.receiveShadow=!0,o.rotateX(-Math.PI/2),n.add(o),this.dance=new O_e("Flair"),this.dance.position.set(0,0,0),n.add(this.dance),this.createTestMaterials(n)}createTestMaterials(n){const r=new O2(20),i=[],o=new hi(r,new mh({name:"BasicMaterial",transparent:!0}));o.name="Basic",n.add(o),i.push(o);const u=new hi(r,new b6e({transparent:!0}));u.name="Matcap",n.add(u),i.push(u);const d=new hi(r,new G4({name:"PhongMaterial",transparent:!0}));d.name="Phong",n.add(d),i.push(d);const m=new hi(r,new y6e({name:"PhysicalMaterial",transparent:!0}));m.name="Physical",n.add(m),i.push(m),this.customMat=new b_e;const v=new hi(r,this.customMat);v.name="Shader",n.add(v),i.push(v);const x=50,S=i.length,T=(S-1)/2*x;for(let R=0;R<S;R++){const G=R*x-T;i[R].position.set(G,100,-150),i[R].castShadow=!0}}createPost(){this.post=new vtt(this.renderer),this.post.addPass(new ont(this,this.camera));const n=new snt;n.minEdgeThreshold=.01,this.post.addPass(new EH(this.camera,n));const r=new mnt({focusArea:.6});this.post.addPass(new EH(this.camera,r));const i=new lnt({});i.blendMode.opacity.value=.33,i.blendMode.blendFunction=yr.MULTIPLY;const o=new vnt({});this.post.addPass(new EH(this.camera,i,o))}createAnimation(){const n=br.components.get("theatre");n.sheet(this.name),n.sheetObject(this.name,"Camera",{position:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z},rotation:{x:this.camera.rotation.x,y:this.camera.rotation.y,z:this.camera.rotation.z}},r=>{this.camera.position.set(r.position.x,r.position.y,r.position.z),this.camera.rotation.set(r.rotation.x,r.rotation.y,r.rotation.z)}),n.sheetObject(this.name,"Break Dancer",{position:{x:this.dance.position.x,y:this.dance.position.y,z:this.dance.position.z},rotation:{x:this.dance.rotation.x,y:this.dance.rotation.y,z:this.dance.rotation.z}},r=>{this.dance.position.set(r.position.x,r.position.y,r.position.z),this.dance.rotation.set(r.rotation.x,r.rotation.y,r.rotation.z)}),n.playSheet(this.name,{iterationCount:1/0})}update(){const n=this.clock.getDelta();this.customMat.update(n),this.dance.update(n)}draw(){br.editor,this.post.render()}resize(n,r){super.resize(n,r),br.editor||this.post.setSize(n,r)}}class prt{static init(){const e=[1,0,0,2e-5,1,0,0,503905e-9,1,0,0,.00201562,1,0,0,.00453516,1,0,0,.00806253,1,0,0,.0125978,1,0,0,.018141,1,0,0,.0246924,1,0,0,.0322525,1,0,0,.0408213,1,0,0,.0503999,1,0,0,.0609894,1,0,0,.0725906,1,0,0,.0852058,1,0,0,.0988363,1,0,0,.113484,1,0,0,.129153,1,0,0,.145839,1,0,0,.163548,1,0,0,.182266,1,0,0,.201942,1,0,0,.222314,1,0,0,.241906,1,0,0,.262314,1,0,0,.285754,1,0,0,.310159,1,0,0,.335426,1,0,0,.361341,1,0,0,.387445,1,0,0,.412784,1,0,0,.438197,1,0,0,.466966,1,0,0,.49559,1,0,0,.523448,1,0,0,.549938,1,0,0,.57979,1,0,0,.608746,1,0,0,.636185,1,0,0,.664748,1,0,0,.69313,1,0,0,.71966,1,0,0,.747662,1,0,0,.774023,1,0,0,.799775,1,0,0,.825274,1,0,0,.849156,1,0,0,.873248,1,0,0,.89532,1,0,0,.917565,1,0,0,.937863,1,0,0,.958139,1,0,0,.976563,1,0,0,.994658,1,0,0,1.0112,1,0,0,1.02712,1,0,0,1.04189,1,0,0,1.05568,1,0,0,1.06877,1,0,0,1.08058,1,0,0,1.09194,1,0,0,1.10191,1,0,0,1.11161,1,0,0,1.1199,1,0,0,1.12813,.999547,-448815e-12,.0224417,199902e-10,.999495,-113079e-10,.0224406,503651e-9,.999496,-452317e-10,.0224406,.00201461,.999496,-101772e-9,.0224406,.00453287,.999495,-180928e-9,.0224406,.00805845,.999497,-282702e-9,.0224406,.0125914,.999496,-407096e-9,.0224406,.0181319,.999498,-554114e-9,.0224406,.02468,.999499,-723768e-9,.0224406,.0322363,.999495,-916058e-9,.0224405,.0408009,.999499,-.00113101,.0224408,.050375,.999494,-.00136863,.0224405,.0609586,.999489,-.00162896,.0224401,.0725537,.999489,-.00191201,.0224414,.0851619,.999498,-.00221787,.0224413,.0987867,.999492,-.00254642,.0224409,.113426,.999507,-.00289779,.0224417,.129088,.999494,-.0032716,.0224386,.145767,.999546,-.0036673,.0224424,.163472,.999543,-.00408166,.0224387,.182182,.999499,-.00450056,.0224338,.201843,.999503,-.00483661,.0224203,.222198,.999546,-.00452928,.022315,.241714,.999508,-.00587403,.0224329,.262184,.999509,-.00638806,.0224271,.285609,.999501,-.00691028,.0224166,.309998,.999539,-.00741979,.0223989,.335262,.999454,-.00786282,.0223675,.361154,.999529,-.00811928,.0222828,.387224,.999503,-.00799941,.0221063,.41252,.999561,-.00952753,.0223057,.438006,.999557,-.0099134,.0222065,.466735,.999541,-.0100935,.0220402,.495332,.999562,-.00996821,.0218067,.523197,.999556,-.0105031,.0217096,.550223,.999561,-.0114191,.0217215,.579498,.999588,-.0111818,.0213357,.608416,.999633,-.0107725,.0208689,.635965,.999527,-.0121671,.0210149,.664476,.999508,-.0116005,.020431,.692786,.999568,-.0115604,.0199791,.719709,.999671,-.0121117,.0197415,.74737,.999688,-.0110769,.0188846,.773692,.99962,-.0122368,.0188452,.799534,.999823,-.0110325,.0178001,.825046,.999599,-.0114923,.0174221,.849075,.999619,-.0105923,.0164345,.872999,.999613,-.0105988,.0158227,.895371,.99964,-.00979861,.0148131,.917364,.99977,-.00967238,.0140721,.938002,.999726,-.00869175,.0129543,.957917,.99973,-.00866872,.0122329,.976557,.999773,-.00731956,.0108958,.994459,.999811,-.00756027,.0102715,1.01118,.999862,-.00583732,.00878781,1.02701,.999835,-.00631438,.00827529,1.04186,.999871,-.00450785,.00674583,1.05569,.999867,-.00486079,.00621041,1.06861,.999939,-.00322072,.00478301,1.08064,.999918,-.00318199,.00406395,1.09181,1.00003,-.00193348,.00280682,1.10207,.999928,-.00153729,.00198741,1.11152,.999933,-623666e-9,917714e-9,1.12009,1,-102387e-11,907581e-12,1.12813,.997866,-896716e-12,.0448334,199584e-10,.997987,-225945e-10,.0448389,502891e-9,.997987,-903781e-10,.0448388,.00201156,.997985,-203351e-9,.0448388,.00452602,.997986,-361514e-9,.0448388,.00804629,.997987,-56487e-8,.0448389,.0125724,.997988,-813423e-9,.0448389,.0181045,.997984,-.00110718,.0448387,.0246427,.997985,-.00144616,.0448388,.0321875,.997987,-.00183038,.044839,.0407392,.997983,-.00225987,.0448387,.0502986,.997991,-.00273467,.0448389,.0608667,.997984,-.00325481,.0448384,.0724444,.998002,-.00382043,.044839,.0850348,.997997,-.00443145,.0448396,.0986372,.998007,-.00508796,.0448397,.113255,.998008,-.00578985,.04484,.128891,.998003,-.00653683,.0448384,.145548,.997983,-.00732713,.0448358,.163221,.997985,-.00815454,.0448358,.181899,.998005,-.00898985,.0448286,.201533,.998026,-.00964404,.0447934,.221821,.998055,-.00922677,.044611,.241282,.99804,-.0117361,.0448245,.261791,.998048,-.0127628,.0448159,.285181,.998088,-.0138055,.0447996,.30954,.998058,-.0148206,.0447669,.334751,.998099,-.0156998,.044697,.36061,.998116,-.0161976,.0445122,.386603,.998195,-.015945,.0441711,.411844,.998168,-.0183947,.0444255,.43773,.998184,-.0197913,.0443809,.466009,.998251,-.0201426,.0440689,.494574,.998305,-.0198847,.0435632,.522405,.998273,-.0210577,.043414,.549967,.998254,-.0227901,.0433943,.578655,.998349,-.0223108,.0426529,.60758,.99843,-.0223088,.042,.635524,.998373,-.0241141,.0418987,.663621,.998425,-.0231446,.0408118,.691906,.998504,-.0233684,.0400565,.719339,.998443,-.0241652,.0394634,.74643,.99848,-.0228715,.0380002,.773086,.998569,-.023519,.0372322,.798988,.998619,-.0223108,.0356468,.824249,.998594,-.0223105,.034523,.848808,.998622,-.0213426,.0328887,.87227,.998669,-.0207912,.0314374,.895157,.998705,-.0198416,.0296925,.916769,.998786,-.0189168,.0279634,.937773,.998888,-.0178811,.0261597,.957431,.99906,-.0166845,.0242159,.976495,.999038,-.0155464,.0222638,.994169,.999237,-.0141349,.0201967,1.01112,.999378,-.0129324,.0181744,1.02692,.999433,-.0113192,.0159898,1.04174,.999439,-.0101244,.0140385,1.05559,.999614,-.00837456,.0117826,1.06852,.999722,-.00721769,.00983745,1.08069,.999817,-.00554067,.00769002,1.09176,.99983,-.00426961,.005782,1.10211,.999964,-.00273904,.00374503,1.11152,1.00001,-.00136739,.00187176,1.12031,.999946,393227e-10,-28919e-9,1.12804,.995847,-13435e-10,.0671785,19916e-9,.995464,-338387e-10,.0671527,501622e-9,.99547,-135355e-9,.0671531,.00200649,.995471,-30455e-8,.0671532,.00451461,.99547,-541423e-9,.0671531,.008026,.995471,-84598e-8,.0671531,.0125407,.99547,-.00121823,.0671531,.0180589,.99547,-.00165817,.0671531,.0245806,.995463,-.00216583,.0671526,.0321062,.995468,-.00274127,.0671527,.0406366,.995474,-.00338447,.0671534,.0501717,.995473,-.00409554,.0671533,.0607131,.995478,-.00487451,.0671531,.0722618,.995476,-.00572148,.0671532,.0848191,.995477,-.00663658,.0671539,.0983882,.995498,-.00761986,.0671541,.112972,.995509,-.00867094,.0671542,.128568,.995509,-.00978951,.0671531,.145183,.995503,-.0109725,.0671491,.162808,.995501,-.012211,.0671465,.181441,.99553,-.0134565,.0671371,.201015,.99555,-.014391,.0670831,.221206,.99558,-.014351,.0668883,.240813,.995577,-.0173997,.0671055,.261257,.995602,-.0191111,.0671178,.284467,.995623,-.0206705,.0670946,.308765,.995658,-.022184,.0670472,.333905,.995705,-.0234832,.0669417,.359677,.995719,-.0241933,.0666714,.385554,.995786,-.0243539,.066266,.410951,.995887,-.0271866,.0664367,.437163,.995944,-.0296012,.0664931,.464842,.996004,-.0301045,.0660105,.49332,.996128,-.0298311,.0652694,.521131,.996253,-.0316426,.0650739,.549167,.996244,-.0339043,.0649433,.57737,.996309,-.033329,.0638926,.606073,.996417,-.0338935,.0630849,.634527,.996372,-.0353104,.0625083,.66256,.996542,-.0348942,.0611986,.690516,.996568,-.0351614,.060069,.718317,.996711,-.0354317,.0588522,.74528,.996671,-.0349513,.0571902,.772061,.996865,-.0345622,.0555321,.798089,.996802,-.0342566,.0537816,.823178,.996992,-.0330862,.0516095,.847949,.996944,-.0324666,.0495537,.871431,.997146,-.0309544,.0470302,.894357,.997189,-.0299372,.0446043,.916142,.997471,-.0281389,.0418812,.937193,.997515,-.0268702,.0391823,.957,.997812,-.0247166,.0361338,.975936,.998027,-.0233525,.0333945,.99391,.998233,-.0209839,.0301917,1.01075,.998481,-.0194309,.027271,1.02669,.998859,-.0169728,.0240162,1.04173,.99894,-.0152322,.0210517,1.05551,.999132,-.0127497,.0178632,1.06856,.999369,-.0108282,.014787,1.08054,.999549,-.00845886,.0116185,1.09185,.999805,-.0063937,.00867209,1.10207,.99985,-.00414582,.00566823,1.1117,.999912,-.00207443,.00277562,1.12022,1.00001,870226e-10,-53766e-9,1.12832,.991943,-178672e-11,.0893382,198384e-10,.991952,-450183e-10,.089339,499849e-9,.991956,-180074e-9,.0893394,.0019994,.991955,-405167e-9,.0893393,.00449867,.991953,-720298e-9,.0893391,.00799764,.991955,-.00112548,.0893393,.0124964,.991957,-.0016207,.0893395,.0179951,.991958,-.00220601,.0893396,.0244939,.991947,-.00288137,.0893385,.0319929,.991962,-.00364693,.0893399,.0404933,.991965,-.00450264,.0893399,.049995,.99198,-.00544862,.0893411,.0604995,.99197,-.00648491,.0893397,.0720074,.991976,-.00761164,.089341,.0845207,.99198,-.00882891,.0893405,.0980413,.991982,-.0101367,.0893396,.112571,.992008,-.011535,.0893415,.128115,.992026,-.0130228,.0893414,.144672,.992064,-.0145966,.0893418,.162241,.992041,-.0162421,.0893359,.180801,.992086,-.0178888,.0893214,.200302,.992157,-.0190368,.0892401,.220332,.992181,-.0195584,.0890525,.240144,.992175,-.0227257,.0892153,.260728,.99221,-.0254195,.089304,.283473,.99222,-.0274883,.0892703,.307673,.992317,-.0294905,.0892027,.332729,.992374,-.0311861,.0890577,.358387,.992505,-.0320656,.0886994,.384102,.992568,-.0329715,.0883198,.409767,.992675,-.036006,.0883602,.436145,.992746,-.0392897,.0884591,.463217,.992873,-.0399337,.0878287,.491557,.992934,-.040231,.0870108,.519516,.993091,-.0422013,.0865857,.547741,.993259,-.0443503,.0861937,.575792,.993455,-.0446368,.0851187,.604233,.993497,-.0454299,.0840576,.632925,.993694,-.0463296,.0829671,.660985,.993718,-.0470619,.0817185,.688714,.993973,-.0468838,.0800294,.716743,.994207,-.046705,.0781286,.74377,.994168,-.0469698,.0763337,.77042,.9945,-.0456816,.0738184,.796659,.994356,-.0455518,.0715545,.821868,.994747,-.0439488,.0686085,.846572,.994937,-.0430056,.065869,.870435,.995142,-.0413414,.0626446,.893272,.995451,-.0396521,.05929,.915376,.995445,-.0378453,.0558503,.936196,.995967,-.0355219,.0520949,.956376,.996094,-.0335146,.048377,.975327,.996622,-.030682,.0442575,.993471,.996938,-.0285504,.0404693,1.01052,.997383,-.0253399,.0360903,1.02637,.997714,-.0231651,.0322176,1.04139,.998249,-.0198138,.0278433,1.05542,.998596,-.0174337,.0238759,1.06846,.998946,-.0141349,.0195944,1.08056,.99928,-.0115603,.0156279,1.09181,.999507,-.00839065,.0114607,1.10213,.999697,-.005666,.00763325,1.11169,.999869,-.00269902,.00364946,1.12042,1.00001,623836e-10,-319288e-10,1.12832,.987221,-222675e-11,.111332,197456e-10,.98739,-561116e-10,.111351,497563e-9,.987448,-224453e-9,.111357,.00199031,.987441,-505019e-9,.111357,.0044782,.987442,-897816e-9,.111357,.00796129,.987442,-.00140284,.111357,.0124396,.987444,-.00202012,.111357,.0179132,.987442,-.00274964,.111357,.0243824,.987446,-.00359147,.111357,.0318474,.987435,-.00454562,.111356,.0403086,.987461,-.00561225,.111358,.0497678,.987458,-.00679125,.111358,.0602239,.987443,-.0080828,.111356,.0716792,.987476,-.0094872,.111358,.0841364,.98749,-.0110044,.111361,.097597,.987508,-.0126344,.111362,.112062,.987494,-.0143767,.111357,.127533,.987526,-.0162307,.111359,.144015,.987558,-.0181912,.111361,.161502,.987602,-.0202393,.111355,.179979,.987692,-.022273,.111346,.199386,.987702,-.0235306,.111215,.219183,.987789,-.0247628,.111061,.239202,.987776,-.0280668,.111171,.259957,.987856,-.0316751,.111327,.282198,.987912,-.0342468,.111282,.306294,.988,-.0367205,.111198,.331219,.988055,-.0387766,.110994,.356708,.988241,-.0397722,.110547,.382234,.988399,-.0416076,.110198,.408227,.988539,-.0448192,.110137,.434662,.988661,-.0483793,.110143,.461442,.988967,-.0495895,.109453,.489318,.989073,-.0506797,.108628,.517516,.989274,-.0526953,.108003,.545844,.989528,-.054578,.107255,.573823,.989709,-.0561503,.106294,.601944,.989991,-.056866,.104896,.630855,.990392,-.0572914,.103336,.658925,.990374,-.0586224,.10189,.686661,.990747,-.0584764,.099783,.714548,.991041,-.0582662,.0974309,.74186,.991236,-.0584118,.0951678,.768422,.991585,-.0573055,.0921581,.794817,.991984,-.0564241,.0891167,.820336,.9921,-.0553608,.085805,.84493,.992749,-.0533816,.0820354,.868961,.99288,-.0518661,.0782181,.891931,.993511,-.0492492,.0738935,.914186,.993617,-.0471956,.0696402,.93532,.99411,-.044216,.0649659,.95543,.994595,-.0416654,.0603177,.974685,.994976,-.0384314,.0553493,.992807,.995579,-.0353491,.0503942,1.00996,.996069,-.0319787,.0452123,1.02606,.996718,-.028472,.0400112,1.04114,.997173,-.0250789,.0349456,1.05517,.997818,-.0213326,.029653,1.0683,.998318,-.0178509,.024549,1.0805,.998853,-.0141118,.0194197,1.09177,.999218,-.0105914,.0143869,1.1022,.999594,-.00693474,.00943517,1.11175,.99975,-.00340478,.00464051,1.12056,1.00001,109172e-9,-112821e-9,1.12853,.983383,-266524e-11,.133358,196534e-10,.981942,-671009e-10,.133162,494804e-9,.981946,-268405e-9,.133163,.00197923,.981944,-603912e-9,.133163,.00445326,.981941,-.00107362,.133162,.00791693,.981946,-.00167755,.133163,.0123703,.981944,-.00241569,.133162,.0178135,.981945,-.00328807,.133163,.0242466,.981945,-.00429472,.133162,.03167,.981955,-.00543573,.133164,.0400846,.981951,-.00671105,.133163,.0494901,.981968,-.00812092,.133165,.0598886,.981979,-.00966541,.133166,.0712811,.981996,-.0113446,.133168,.083669,.982014,-.0131585,.133169,.0970533,.982011,-.0151073,.133167,.111438,.982062,-.0171906,.133172,.126826,.9821,-.0194067,.133175,.143215,.982149,-.0217502,.133176,.160609,.982163,-.0241945,.133173,.178981,.982247,-.0265907,.133148,.198249,.982291,-.027916,.132974,.217795,.982396,-.0299663,.132868,.238042,.982456,-.0334544,.132934,.258901,.982499,-.0378636,.133137,.280639,.982617,-.0409274,.133085,.304604,.98274,-.0438523,.132985,.329376,.982944,-.0462288,.132728,.354697,.98308,-.0475995,.132228,.380102,.983391,-.0501901,.131924,.406256,.983514,-.0535899,.131737,.432735,.98373,-.0571858,.131567,.459359,.984056,-.0592353,.130932,.486637,.984234,-.0610488,.130092,.51509,.984748,-.0630758,.12923,.543461,.985073,-.0647398,.128174,.571376,.985195,-.0671941,.127133,.599414,.985734,-.0681345,.125576,.628134,.986241,-.0686089,.123639,.656399,.986356,-.0698511,.121834,.684258,.986894,-.0700931,.119454,.711818,.987382,-.0698321,.116718,.739511,.988109,-.0693975,.113699,.766267,.988363,-.0689584,.110454,.792456,.989112,-.0672353,.106602,.81813,.989241,-.0662034,.10267,.842889,.990333,-.0638938,.0981381,.867204,.990591,-.0618534,.0935388,.89038,.991106,-.0593117,.088553,.912576,.991919,-.0562676,.0832187,.934118,.992111,-.0534085,.0778302,.954254,.992997,-.0495459,.0720453,.973722,.993317,-.0463707,.0663458,.991949,.994133,-.0421245,.0601883,1.00936,.994705,-.0384977,.0542501,1.02559,.995495,-.0340956,.0479862,1.04083,.996206,-.030105,.041887,1.05497,.996971,-.0256095,.0355355,1.06824,.997796,-.0213932,.0293655,1.08056,.998272,-.0169612,.0232926,1.09182,.998857,-.0126756,.0172786,1.10219,.99939,-.00832486,.0113156,1.11192,.999752,-.00410826,.00557892,1.12075,1,150957e-9,-119101e-9,1.12885,.975169,-309397e-11,.154669,195073e-10,.975439,-779608e-10,.154712,491534e-9,.975464,-311847e-9,.154716,.00196617,.975464,-701656e-9,.154716,.00442387,.975462,-.0012474,.154715,.0078647,.975461,-.00194906,.154715,.0122886,.975464,-.00280667,.154715,.0176959,.975468,-.00382025,.154716,.0240867,.975471,-.00498985,.154716,.0314612,.975472,-.00631541,.154717,.0398199,.975486,-.00779719,.154718,.0491639,.975489,-.00943505,.154718,.0594932,.975509,-.0112295,.154721,.0708113,.97554,-.0131802,.154724,.0831176,.975557,-.0152876,.154726,.096415,.975585,-.0175512,.154728,.110705,.975605,-.0199713,.154729,.125992,.975645,-.0225447,.154729,.142272,.975711,-.0252649,.154735,.159549,.975788,-.0280986,.154736,.177805,.975872,-.0308232,.154704,.196911,.975968,-.0324841,.154525,.216324,.976063,-.0351281,.154432,.236628,.976157,-.0388618,.15446,.257539,.976204,-.0437704,.154665,.278975,.976358,-.047514,.154652,.302606,.976571,-.0508638,.154535,.327204,.976725,-.0534995,.154221,.352276,.977013,-.0555547,.153737,.377696,.977294,-.0586728,.153403,.403855,.977602,-.0622715,.15312,.430333,.977932,-.0658166,.152755,.456855,.978241,-.0689877,.152233,.483668,.978602,-.0712805,.15132,.512097,.979234,-.0732775,.150235,.540455,.97977,-.075163,.148978,.568486,.979995,-.0778026,.147755,.596524,.98078,-.0791854,.146019,.624825,.981628,-.0799666,.143906,.653403,.982067,-.0808532,.141561,.681445,.98271,-.0816024,.139025,.708918,.983734,-.0812511,.135764,.736594,.98431,-.0806201,.132152,.763576,.985071,-.0801605,.12846,.789797,.98618,-.0784208,.124084,.815804,.986886,-.0766643,.1193,.840869,.987485,-.0747744,.114236,.864952,.988431,-.0716701,.108654,.888431,.988886,-.0691609,.102994,.910963,.990024,-.0654048,.0967278,.932629,.990401,-.0619765,.090384,.95313,.991093,-.0579296,.0837885,.972587,.992018,-.0536576,.0770171,.991184,.992536,-.0493719,.0701486,1.00863,.993421,-.0444813,.062953,1.02494,.993928,-.040008,.0560455,1.04017,.994994,-.0347982,.04856,1.05463,.995866,-.0301017,.0416152,1.06807,.996916,-.0248225,.0342597,1.08039,.997766,-.0199229,.0271668,1.09177,.998479,-.0147422,.0201387,1.10235,.99921,-.00980173,.0131944,1.11206,.999652,-.0047426,.00640712,1.12104,.999998,891673e-10,-10379e-8,1.12906,.967868,-351885e-11,.175947,193569e-10,.968001,-886733e-10,.175972,487782e-9,.96801,-354697e-9,.175973,.00195115,.968012,-798063e-9,.175974,.00439006,.968011,-.00141879,.175973,.00780461,.968011,-.00221686,.175973,.0121948,.968016,-.00319231,.175974,.0175607,.968019,-.00434515,.175974,.0239027,.968018,-.00567538,.175974,.0312208,.968033,-.00718308,.175977,.0395158,.968049,-.00886836,.175979,.0487885,.968047,-.0107312,.175978,.0590394,.968072,-.0127719,.175981,.0702705,.968108,-.0149905,.175986,.0824836,.968112,-.0173866,.175985,.0956783,.968173,-.0199611,.175993,.109862,.96827,-.0227128,.176008,.125033,.968292,-.025639,.17601,.141193,.968339,-.0287299,.176007,.158336,.968389,-.0319399,.176001,.176441,.968501,-.034941,.175962,.195359,.968646,-.0370812,.175793,.214686,.968789,-.0402329,.175708,.234973,.96886,-.0442601,.1757,.255871,.969013,-.049398,.175876,.277238,.969242,-.0539932,.17594,.300326,.969419,-.0577299,.175781,.324702,.969763,-.0605643,.175432,.349527,.970093,-.0634488,.174992,.374976,.970361,-.0670589,.174611,.401097,.970825,-.0708246,.174226,.427496,.971214,-.0742871,.173684,.453858,.971622,-.0782608,.173186,.480637,.972175,-.0813151,.172288,.508655,.972944,-.0832678,.170979,.536973,.973595,-.0855964,.169573,.565138,.974345,-.0882163,.168152,.593222,.975233,-.0901671,.166314,.621201,.976239,-.0912111,.163931,.649919,.977289,-.0916959,.161106,.678011,.978076,-.0927061,.158272,.705717,.979533,-.0925562,.15475,.733228,.980335,-.0918159,.150638,.760454,.981808,-.0908508,.146201,.786918,.983061,-.0896172,.141386,.812953,.984148,-.0871588,.135837,.838281,.985047,-.0850624,.130135,.862594,.986219,-.0818541,.123882,.88633,.987043,-.0784523,.117126,.908952,.988107,-.0749601,.110341,.930744,.988955,-.0703548,.102885,.951728,.989426,-.0662798,.0954167,.971166,.990421,-.0610834,.0876331,.989984,.991032,-.0562936,.0797785,1.00765,.992041,-.0508154,.0718166,1.02434,.992794,-.0454045,.0637125,1.03976,.993691,-.0398194,.0555338,1.05418,.994778,-.0341482,.0473388,1.06772,.995915,-.028428,.0391016,1.08028,.997109,-.022642,.0309953,1.09185,.998095,-.0168738,.0230288,1.10247,.998985,-.0111274,.0150722,1.11229,.999581,-.00543881,.00740605,1.12131,1.00003,162239e-9,-105549e-9,1.12946,.959505,-393734e-11,.196876,191893e-10,.959599,-992157e-10,.196895,483544e-9,.959641,-396868e-9,.196903,.0019342,.959599,-892948e-9,.196895,.00435193,.959603,-.00158747,.196896,.0077368,.959604,-.00248042,.196896,.0120888,.959605,-.00357184,.196896,.0174082,.959605,-.00486169,.196896,.0236949,.959613,-.00635008,.196897,.0309497,.959619,-.00803696,.196898,.0391725,.959636,-.00992255,.196901,.0483649,.959634,-.0120067,.1969,.0585266,.959675,-.0142898,.196906,.0696609,.959712,-.0167717,.196911,.0817678,.959752,-.0194524,.196918,.0948494,.959807,-.0223321,.196925,.10891,.959828,-.0254091,.196924,.123947,.959906,-.0286815,.196934,.139968,.960005,-.0321371,.196944,.156968,.960071,-.0357114,.196936,.17491,.960237,-.0389064,.196882,.193597,.960367,-.041623,.196731,.21285,.960562,-.0452655,.196654,.233075,.960735,-.0496207,.196643,.253941,.960913,-.0549379,.196774,.275278,.961121,-.0603414,.196893,.297733,.96139,-.0644244,.196717,.321877,.961818,-.067556,.196314,.346476,.962175,-.0712709,.195917,.371907,.96255,-.0752848,.1955,.397916,.963164,-.0792073,.195026,.424229,.963782,-.0828225,.194424,.450637,.964306,-.0873119,.193831,.477288,.964923,-.0911051,.192973,.504716,.966048,-.093251,.19151,.533053,.967024,-.0958983,.190013,.561366,.968038,-.09835,.188253,.589464,.969152,-.100754,.186257,.617433,.970557,-.102239,.183775,.645801,.972104,-.102767,.180645,.674278,.973203,-.103492,.177242,.702004,.975123,-.103793,.17345,.729529,.97641,-.102839,.168886,.756712,.978313,-.101687,.163892,.783801,.980036,-.100314,.158439,.809671,.981339,-.097836,.152211,.835402,.982794,-.0950006,.145679,.860081,.984123,-.0920994,.138949,.883757,.984918,-.0878641,.131283,.90685,.985999,-.083939,.123464,.928786,.987151,-.0791234,.115324,.94983,.987827,-.0739332,.106854,.96962,.988806,-.0688088,.0982691,.98861,.989588,-.0628962,.0893456,1.00667,.990438,-.0573146,.0805392,1.02344,.991506,-.0509433,.0713725,1.03933,.992492,-.0448724,.0623732,1.05378,.993663,-.0383497,.0530838,1.06747,.994956,-.0319593,.0439512,1.08007,.99634,-.025401,.0347803,1.09182,.99761,-.0189687,.0257954,1.1025,.99863,-.0124441,.0169893,1.11247,.99947,-.00614003,.00829498,1.12151,1.00008,216624e-9,-146107e-9,1.12993,.950129,-434955e-11,.217413,190081e-10,.950264,-10957e-8,.217444,47884e-8,.9503,-438299e-9,.217451,.00191543,.950246,-986124e-9,.21744,.00430951,.950246,-.00175311,.21744,.00766137,.950245,-.00273923,.21744,.011971,.950253,-.00394453,.217441,.0172385,.950258,-.00536897,.217442,.0234641,.950267,-.00701262,.217444,.030648,.950277,-.00887551,.217446,.038791,.950284,-.0109576,.217446,.0478931,.950312,-.0132591,.217451,.0579568,.950334,-.01578,.217454,.0689821,.950378,-.0185204,.217462,.0809714,.950417,-.0214803,.217467,.0939265,.950488,-.0246594,.217479,.10785,.950534,-.0280565,.217483,.122743,.950633,-.0316685,.217498,.138611,.950698,-.0354787,.217499,.155442,.950844,-.0394003,.217507,.173208,.950999,-.0426812,.217419,.191605,.951221,-.0461302,.217317,.21084,.951412,-.0502131,.217238,.230945,.951623,-.0549183,.21722,.251745,.951867,-.0604493,.217306,.273001,.952069,-.0665189,.217466,.294874,.952459,-.0709179,.217266,.318732,.952996,-.0746112,.216891,.34318,.953425,-.0789252,.216503,.36849,.953885,-.0833293,.216042,.394373,.954617,-.087371,.215469,.420505,.955429,-.0914054,.214802,.446907,.956068,-.0961671,.214146,.473522,.957094,-.10048,.213286,.50052,.958372,-.103248,.211796,.528715,.959654,-.106033,.21016,.557065,.961305,-.108384,.208149,.585286,.962785,-.111122,.206024,.613334,.964848,-.112981,.203442,.641334,.966498,-.113717,.19996,.669955,.968678,-.114121,.196105,.698094,.970489,-.114524,.191906,.725643,.972903,-.113792,.186963,.752856,.974701,-.112406,.181343,.780013,.976718,-.110685,.175185,.806268,.978905,-.108468,.168535,.832073,.980267,-.105061,.161106,.857149,.981967,-.101675,.153387,.881145,.983063,-.0974492,.145199,.904255,.984432,-.0925815,.136527,.926686,.985734,-.0877983,.127584,.947901,.986228,-.081884,.118125,.968111,.98719,-.0761208,.108594,.98719,.988228,-.0698196,.0989996,1.00559,.989046,-.0632739,.0890074,1.02246,.990242,-.056522,.0790832,1.03841,.991252,-.0495272,.0689182,1.05347,.992542,-.0425373,.0588592,1.06724,.994096,-.0353198,.0486833,1.08009,.995593,-.028235,.0385977,1.09177,.99711,-.0209511,.0286457,1.10274,.998263,-.0139289,.0188497,1.11262,.999254,-.0067359,.009208,1.12191,.999967,141846e-9,-657764e-10,1.13024,.935608,-474692e-11,.236466,187817e-10,.93996,-11971e-8,.237568,473646e-9,.939959,-478845e-9,.237567,.0018946,.939954,-.0010774,.237566,.00426284,.939956,-.00191538,.237566,.00757842,.939954,-.00299277,.237566,.0118413,.93996,-.00430961,.237567,.0170518,.939969,-.00586589,.237569,.02321,.939982,-.00766166,.237572,.0303164,.939987,-.00969686,.237572,.0383711,.939997,-.0119715,.237574,.0473751,.940031,-.0144858,.237581,.0573298,.940073,-.0172399,.237589,.0682366,.94012,-.0202335,.237598,.080097,.940162,-.0234663,.237604,.0929116,.940237,-.0269387,.237615,.106686,.940328,-.0306489,.237632,.121421,.940419,-.0345917,.237645,.137115,.940522,-.0387481,.237654,.153766,.940702,-.0429906,.237661,.17133,.940871,-.0465089,.237561,.189502,.941103,-.050531,.23748,.208616,.941369,-.0550657,.237423,.228595,.941641,-.0601337,.237399,.249287,.941903,-.0658804,.237443,.270467,.942224,-.0722674,.237597,.292024,.942633,-.0771788,.237419,.315272,.943172,-.0815623,.237068,.339579,.943691,-.0863973,.236682,.364717,.944382,-.0911536,.236213,.390435,.945392,-.0952967,.235562,.416425,.946185,-.0998948,.234832,.442772,.947212,-.104796,.234114,.469347,.948778,-.10928,.233222,.496162,.950149,-.113081,.231845,.523978,.951989,-.115893,.230005,.552295,.953921,-.11846,.227862,.580569,.955624,-.12115,.225439,.608698,.958234,-.123373,.222635,.636696,.960593,-.124519,.219093,.665208,.963201,-.124736,.214749,.693557,.965642,-.125012,.210059,.721334,.968765,-.124661,.204935,.748613,.971753,-.122996,.198661,.776224,.973751,-.120998,.191823,.802461,.976709,-.118583,.184359,.828399,.977956,-.115102,.176437,.853693,.979672,-.111077,.167681,.877962,.981816,-.10688,.158872,.901564,.98238,-.101469,.149398,.924057,.983964,-.0960013,.139436,.945751,.984933,-.0899626,.12943,.966272,.985694,-.0832973,.11894,.985741,.986822,-.0767082,.108349,1.00407,.987725,-.0693614,.0976026,1.02154,.98877,-.06211,.086652,1.03757,.990129,-.0544143,.0756182,1.05296,.991337,-.046744,.0645753,1.06683,.992978,-.0387931,.0534683,1.0798,.994676,-.030973,.0424137,1.09181,.99645,-.0230311,.0314035,1.10286,.997967,-.0152065,.0206869,1.11291,.99922,-.00744837,.010155,1.12237,1.00002,240209e-9,-752767e-10,1.13089,.922948,-515351e-11,.255626,186069e-10,.928785,-129623e-9,.257244,468009e-9,.928761,-51849e-8,.257237,.00187202,.928751,-.0011666,.257235,.00421204,.928751,-.00207395,.257234,.0074881,.928754,-.00324055,.257235,.0117002,.92876,-.00466639,.257236,.0168486,.928763,-.00635149,.257237,.0229334,.928774,-.00829584,.257239,.029955,.928791,-.0104995,.257243,.0379139,.928804,-.0129623,.257245,.0468108,.928847,-.0156846,.257255,.0566473,.92889,-.0186661,.257263,.0674246,.928924,-.0219067,.257268,.0791433,.928989,-.0254066,.257282,.0918076,.92909,-.0291651,.257301,.105419,.92918,-.0331801,.257316,.119978,.92929,-.0374469,.257332,.135491,.929453,-.041939,.257357,.151948,.929586,-.0464612,.257347,.169275,.929858,-.0503426,.257269,.187257,.930125,-.0548409,.257199,.206204,.930403,-.0598063,.257149,.22601,.930726,-.0652437,.257122,.246561,.931098,-.0712376,.257153,.267618,.931396,-.0777506,.257237,.288993,.931947,-.0832374,.257124,.311527,.932579,-.0883955,.25683,.335697,.933194,-.0937037,.256444,.360634,.934013,-.0987292,.255939,.386126,.935307,-.103215,.255282,.412018,.936374,-.108234,.254538,.438292,.93776,-.113234,.253728,.464805,.939599,-.118013,.25275,.491464,.941036,-.122661,.251404,.518751,.94337,-.125477,.249435,.547133,.945318,-.128374,.247113,.575456,.947995,-.130996,.244441,.60372,.950818,-.133438,.241352,.63174,.954378,-.135004,.237849,.659971,.957151,-.135313,.233188,.688478,.960743,-.13521,.228001,.716767,.964352,-.135007,.222249,.744349,.967273,-.133523,.21542,.771786,.969767,-.131155,.208039,.798639,.973195,-.128492,.200076,.824774,.975557,-.125094,.191451,.850222,.977692,-.120578,.18184,.874761,.98026,-.115882,.172102,.898497,.981394,-.110372,.161859,.921636,.982386,-.10415,.15108,.943467,.983783,-.0978128,.140407,.964045,.98422,-.0906171,.129058,.98398,.985447,-.0832921,.117614,1.00276,.986682,-.0754412,.10585,1.02047,.987326,-.0673885,.0940943,1.03678,.988707,-.0592565,.0822093,1.05218,.990185,-.050717,.070192,1.06652,.991866,-.0423486,.0582081,1.07965,.993897,-.0336118,.0460985,1.09188,.995841,-.0252178,.0342737,1.10307,.997605,-.0164893,.0224829,1.11324,.999037,-.00817112,.0110647,1.12262,1.00003,291686e-9,-168673e-9,1.13139,.915304,-552675e-11,.275999,183285e-10,.91668,-139285e-9,.276414,461914e-9,.916664,-55713e-8,.276409,.00184763,.916653,-.00125354,.276406,.00415715,.916651,-.00222851,.276405,.00739053,.916655,-.00348205,.276406,.0115478,.916653,-.00501414,.276405,.0166291,.916667,-.00682478,.276409,.0226346,.91668,-.00891398,.276412,.0295648,.91669,-.0112817,.276413,.0374199,.916727,-.013928,.276422,.0462016,.916759,-.0168528,.276429,.0559101,.916793,-.0200558,.276436,.0665466,.916849,-.0235373,.276448,.0781139,.916964,-.0272973,.276474,.0906156,.917047,-.0313344,.276491,.104051,.917152,-.0356465,.276511,.118424,.917286,-.0402271,.276533,.133736,.917469,-.0450408,.276564,.149978,.917686,-.0497872,.276563,.167057,.917953,-.0540937,.276493,.184846,.918228,-.0590709,.276437,.203614,.918572,-.0644277,.276398,.223212,.918918,-.0702326,.276362,.243584,.919356,-.076484,.276383,.264465,.919842,-.0830808,.276434,.285701,.920451,-.0892972,.276407,.307559,.921113,-.095016,.276128,.331501,.921881,-.100771,.275754,.356207,.923027,-.106029,.275254,.381477,.924364,-.111029,.274595,.40722,.925818,-.116345,.273841,.433385,.92746,-.121424,.272913,.459848,.929167,-.12657,.271837,.486493,.931426,-.131581,.270575,.513432,.934001,-.135038,.268512,.541502,.936296,-.138039,.266135,.569658,.939985,-.140687,.263271,.598375,.943516,-.143247,.260058,.626563,.94782,-.145135,.256138,.654711,.951023,-.145733,.251154,.683285,.955338,-.145554,.245562,.711831,.959629,-.145008,.239265,.739573,.963123,-.144003,.232064,.767027,.966742,-.141289,.224036,.794359,.969991,-.138247,.215305,.820361,.973403,-.134786,.206051,.846548,.975317,-.129966,.195914,.871541,.977647,-.12471,.185184,.895313,.980137,-.119086,.174161,.918398,.981031,-.112297,.162792,.940679,.982037,-.105372,.150952,.961991,.983164,-.097821,.138921,.981913,.983757,-.0897245,.126611,1.00109,.985036,-.0815974,.114228,1.01902,.986289,-.0727725,.101389,1.03604,.987329,-.0639323,.0886476,1.05149,.989193,-.0548109,.0756837,1.06619,.990716,-.045687,.0627581,1.07948,.992769,-.0364315,.0498337,1.09172,.99524,-.0271761,.0370305,1.1033,.997154,-.0179609,.0243959,1.11353,.998845,-.00878063,.0119567,1.12319,1.00002,259038e-9,-108146e-9,1.13177,.903945,-591681e-11,.295126,181226e-10,.903668,-148672e-9,.295037,455367e-9,.903677,-594683e-9,.29504,.00182145,.903673,-.00133805,.295039,.00409831,.903666,-.00237872,.295036,.00728584,.903668,-.00371676,.295037,.0113842,.903679,-.00535212,.29504,.0163936,.903684,-.00728479,.295041,.0223141,.903698,-.00951473,.295044,.0291462,.903718,-.0120419,.295049,.0368904,.903754,-.0148664,.295058,.0455477,.903801,-.017988,.29507,.0551194,.903851,-.0214064,.295082,.0656058,.903921,-.0251219,.295097,.0770109,.904002,-.0291337,.295116,.0893354,.904111,-.033441,.29514,.102583,.904246,-.0380415,.295169,.116755,.904408,-.0429258,.295202,.131853,.904637,-.0480468,.295245,.147869,.904821,-.0529208,.295214,.164658,.905163,-.0577748,.295185,.182274,.905469,-.0631763,.295143,.200828,.905851,-.068917,.295112,.2202,.906322,-.0750861,.295104,.240372,.906761,-.0815855,.295086,.261082,.90735,-.0882138,.295095,.282123,.908087,-.095082,.295139,.303563,.908826,-.101488,.29492,.327028,.909832,-.107577,.294577,.351464,.911393,-.113033,.294115,.376497,.912804,-.118629,.293446,.402115,.914081,-.124232,.292581,.428111,.91637,-.129399,.29166,.454442,.91814,-.134892,.290422,.481024,.921179,-.140069,.289194,.507924,.924544,-.144431,.287421,.535557,.927995,-.147498,.284867,.563984,.931556,-.150197,.281722,.5923,.935777,-.152711,.278207,.620832,.940869,-.154836,.274148,.649069,.945994,-.155912,.269057,.677746,.949634,-.155641,.262799,.706293,.955032,-.154809,.256097,.734278,.95917,-.153678,.248618,.761751,.962931,-.151253,.239794,.789032,.966045,-.147625,.230281,.815422,.96971,-.143964,.220382,.841787,.972747,-.139464,.209846,.867446,.975545,-.133459,.198189,.892004,.978381,-.127424,.186362,.915458,.979935,-.120506,.173964,.937948,.980948,-.11282,.161429,.959732,.982234,-.104941,.148557,.980118,.982767,-.0962905,.135508,.999463,.983544,-.0873625,.122338,1.01756,.984965,-.0783447,.108669,1.03492,.986233,-.0684798,.0949911,1.05087,.987796,-.0590867,.0811386,1.0656,.989885,-.0489145,.0673099,1.0794,.991821,-.0391,.0535665,1.09174,.99448,-.029087,.0397529,1.10341,.996769,-.019114,.0261463,1.11383,.998641,-.00947007,.0128731,1.1237,.999978,446316e-9,-169093e-9,1.13253,.888362,-627064e-11,.312578,178215e-10,.889988,-157791e-9,.313148,448451e-9,.889825,-631076e-9,.313092,.00179356,.88984,-.00141994,.313097,.00403554,.889828,-.0025243,.313092,.00717429,.889831,-.00394421,.313093,.0112099,.889831,-.00567962,.313093,.0161425,.889844,-.00773051,.313096,.0219724,.889858,-.0100968,.3131,.0286999,.889882,-.0127786,.313106,.0363256,.889918,-.0157757,.313116,.0448509,.889967,-.0190878,.313129,.0542758,.89003,-.022715,.313145,.0646032,.890108,-.0266566,.313165,.0758339,.890218,-.0309131,.313193,.0879729,.890351,-.0354819,.313226,.101019,.89051,-.0403613,.313263,.114979,.890672,-.0455385,.313294,.129848,.890882,-.0509444,.313333,.145616,.891189,-.0559657,.313324,.162122,.891457,-.0613123,.313281,.179524,.891856,-.0671488,.313281,.197855,.892312,-.0732732,.313268,.216991,.892819,-.0797865,.313263,.236924,.893369,-.0865269,.313247,.257433,.894045,-.0931592,.313205,.278215,.894884,-.100532,.313276,.299467,.895832,-.107716,.313205,.322276,.897043,-.114099,.312873,.34642,.898515,-.119941,.312331,.371187,.900191,-.126044,.311731,.396656,.90188,-.131808,.310859,.422488,.904359,-.137289,.309857,.448744,.906923,-.142991,.308714,.475239,.910634,-.148253,.307465,.501983,.914502,-.153332,.305774,.529254,.919046,-.156646,.303156,.557709,.923194,-.159612,.299928,.586267,.928858,-.162027,.296245,.614925,.934464,-.164203,.291832,.643187,.939824,-.165602,.286565,.671601,.944582,-.165383,.280073,.700213,.949257,-.164439,.272891,.728432,.954389,-.162953,.264771,.756082,.958595,-.161007,.255927,.78369,.962138,-.157243,.245769,.810769,.966979,-.152872,.235127,.836999,.969566,-.148209,.22347,.862684,.972372,-.142211,.211147,.887847,.975916,-.135458,.198606,.911843,.978026,-.128398,.185498,.934795,.979686,-.120313,.17171,.956787,.980748,-.11166,.158159,.978046,.981622,-.103035,.144399,.997693,.982356,-.0930328,.13001,1.01642,.983308,-.0834627,.115778,1.03366,.985037,-.0732249,.101327,1.05014,.986493,-.0628145,.086554,1.06507,.988484,-.0526556,.0720413,1.07907,.991051,-.0415744,.0571151,1.09189,.993523,-.0314275,.0426643,1.10369,.99628,-.0203603,.0279325,1.11423,.998344,-.0102446,.0138182,1.12421,.999997,42612e-8,-193628e-9,1.1333,.871555,-660007e-11,.329176,174749e-10,.875255,-166579e-9,.330571,441051e-9,.875644,-666394e-9,.330718,.00176441,.875159,-.00149903,.330536,.00396899,.87516,-.00266493,.330536,.007056,.875158,-.00416393,.330535,.0110251,.87516,-.00599598,.330535,.0158764,.875163,-.00816108,.330536,.0216101,.875174,-.0106591,.330538,.0282266,.875199,-.0134899,.330545,.0357266,.875257,-.0166538,.330563,.0441117,.875304,-.0201501,.330575,.0533821,.875373,-.0239785,.330595,.0635395,.875464,-.0281389,.330619,.0745872,.875565,-.0326301,.330645,.0865255,.875691,-.0374516,.330676,.0993599,.875897,-.0425993,.330733,.113093,.876091,-.0480576,.330776,.127722,.876353,-.0537216,.330826,.143227,.876649,-.0589807,.330809,.159462,.877034,-.0647865,.330819,.176642,.877443,-.0709789,.330817,.194702,.877956,-.0774782,.330832,.213577,.878499,-.0843175,.330822,.233246,.879144,-.0912714,.330804,.253512,.879982,-.0980824,.330766,.274137,.88097,-.105823,.330864,.295209,.882051,-.113671,.330896,.317226,.883397,-.120303,.330545,.341068,.884987,-.12667,.330068,.365613,.886789,-.133118,.329418,.390807,.889311,-.139024,.328683,.416494,.891995,-.144971,.327729,.442618,.895106,-.150747,.326521,.469131,.899527,-.156283,.325229,.495921,.90504,-.161707,.32378,.523162,.909875,-.165661,.32122,.55092,.91561,-.168755,.317942,.579928,.921225,-.171193,.313983,.608539,.927308,-.17319,.309636,.636854,.933077,-.174819,.304262,.66523,.938766,-.175002,.297563,.693609,.943667,-.173946,.289613,.722157,.949033,-.172221,.281227,.750021,.953765,-.169869,.271545,.777466,.95804,-.166578,.261034,.804853,.962302,-.161761,.249434,.831569,.966544,-.156636,.237484,.857779,.969372,-.150784,.224395,.883051,.972486,-.143672,.210786,.907864,.975853,-.135772,.196556,.931223,.977975,-.127942,.182307,.954061,.979122,-.118347,.167607,.97531,.980719,-.109112,.152739,.995666,.981223,-.0991789,.137932,1.01475,.98216,-.0883553,.122692,1.03253,.983379,-.0780825,.107493,1.04917,.985434,-.0665646,.0917791,1.06464,.987332,-.0557714,.0764949,1.07896,.990004,-.0442805,.060721,1.09199,.992975,-.0331676,.0452284,1.10393,.995811,-.0219547,.0297934,1.11476,.9982,-.0107613,.0146415,1.12484,1.00002,248678e-9,-14555e-8,1.13413,.859519,-693595e-11,.347264,171673e-10,.859843,-17503e-8,.347394,433219e-9,.859656,-700076e-9,.347319,.00173277,.859671,-.00157517,.347325,.00389875,.859669,-.00280028,.347324,.00693112,.85967,-.0043754,.347324,.01083,.859665,-.00630049,.347321,.0155954,.859685,-.0085755,.347328,.0212278,.859694,-.0112003,.347329,.0277273,.859718,-.0141747,.347336,.0350946,.85976,-.0174988,.347348,.0433314,.85982,-.0211722,.347366,.0524384,.859892,-.0251941,.347387,.0624168,.860006,-.0295649,.347422,.0732708,.860122,-.0342825,.347453,.0849999,.860282,-.0393462,.347499,.0976102,.860482,-.0447513,.347554,.111104,.860719,-.0504775,.347614,.125479,.860998,-.0563577,.347666,.140703,.861322,-.0619473,.347662,.156681,.861724,-.0681277,.347684,.173597,.862198,-.0746567,.347709,.191371,.862733,-.0815234,.347727,.209976,.863371,-.0886643,.347744,.229351,.86414,-.0957908,.347734,.24934,.865138,-.102912,.34772,.269797,.866182,-.110924,.3478,.290654,.867436,-.119223,.347911,.312074,.869087,-.126197,.347649,.335438,.870859,-.133145,.347222,.359732,.872997,-.139869,.346645,.38467,.875939,-.146089,.345935,.41019,.879012,-.152334,.345012,.436218,.883353,-.15821,.343924,.462641,.888362,-.164097,.342636,.489449,.895026,-.169528,.341351,.516629,.900753,-.174408,.339115,.544109,.906814,-.17751,.335809,.572857,.912855,-.180101,.331597,.601554,.919438,-.182116,.32698,.630198,.925962,-.183494,.321449,.658404,.931734,-.184159,.314595,.686625,.93762,-.18304,.306462,.71531,.943858,-.181323,.297514,.744272,.948662,-.178683,.287447,.771462,.953299,-.175379,.276166,.798593,.957346,-.170395,.263758,.8256,.962565,-.165042,.251019,.852575,.966075,-.158655,.237011,.878316,.969048,-.151707,.222518,.90329,.972423,-.143271,.207848,.927745,.975833,-.134824,.192463,.950859,.977629,-.125444,.1768,.972947,.978995,-.114949,.161033,.993263,.980533,-.104936,.145523,1.01337,.980745,-.0935577,.129799,1.03128,.981814,-.0822956,.113486,1.04825,.983943,-.0710082,.0972925,1.06405,.986141,-.0587931,.0808138,1.0785,.988878,-.0472755,.0644915,1.09204,.992132,-.0349128,.0478128,1.10413,.9953,-.0232407,.031621,1.11527,.998117,-.0112713,.0154935,1.12551,1.00003,339743e-9,-195763e-9,1.13504,.845441,-729126e-11,.364305,169208e-10,.843588,-183164e-9,.363506,425067e-9,.843412,-73253e-8,.36343,.00169999,.843401,-.00164818,.363426,.00382495,.843399,-.00293008,.363425,.00679993,.843401,-.00457822,.363425,.010625,.843394,-.00659249,.363421,.0153002,.843398,-.00897282,.363421,.0208258,.843415,-.0117191,.363426,.0272024,.843438,-.0148312,.363432,.0344305,.843483,-.018309,.363447,.0425116,.84356,-.0221521,.363472,.0514471,.843646,-.0263597,.363499,.061238,.843743,-.0309315,.363527,.0718873,.84388,-.0358658,.363569,.0833969,.844079,-.0411624,.363631,.0957742,.844279,-.0468128,.363688,.109015,.844549,-.0527923,.363761,.123124,.844858,-.0588204,.363817,.138044,.84522,-.0647573,.36383,.153755,.845669,-.0713181,.363879,.170394,.846155,-.0781697,.363908,.187861,.846789,-.0853913,.363969,.206176,.847502,-.0928086,.363999,.225244,.8484,-.10005,.363997,.244926,.849461,-.107615,.364008,.265188,.850562,-.115814,.364055,.28587,.851962,-.124334,.364179,.306926,.854326,-.131995,.364233,.329605,.856295,-.139338,.363856,.35359,.858857,-.146346,.363347,.37831,.862428,-.152994,.362807,.403722,.866203,-.159463,.361963,.429537,.871629,-.165623,.36112,.456,.877365,-.171649,.359917,.482773,.883744,-.177151,.35848,.509705,.890693,-.182381,.356523,.537215,.897278,-.186076,.3533,.565493,.903958,-.188602,.349095,.594293,.910908,-.190755,.344215,.623165,.918117,-.192063,.338606,.651573,.924644,-.192758,.331544,.679869,.931054,-.192238,.323163,.708668,.937303,-.190035,.313529,.737201,.943387,-.187162,.303152,.764977,.948494,-.183876,.29146,.792683,.952546,-.178901,.277917,.819228,.958077,-.173173,.264753,.846559,.962462,-.16645,.25002,.872962,.966569,-.159452,.234873,.898729,.969108,-.15074,.218752,.923126,.973072,-.141523,.202673,.947278,.975452,-.132075,.186326,.969938,.977784,-.121257,.169396,.991325,.97899,-.110182,.153044,1.01123,.979777,-.0989634,.136485,1.0299,.980865,-.0865894,.119343,1.04727,.982432,-.0746115,.102452,1.06341,.984935,-.0621822,.0852423,1.07834,.987776,-.0495694,.0678546,1.092,.99103,-.0372386,.0506917,1.1043,.99474,-.0244353,.0333316,1.11576,.997768,-.0121448,.0164348,1.12617,1.00003,31774e-8,-169504e-9,1.13598,.825551,-756799e-11,.378425,165099e-10,.82664,-190922e-9,.378923,416504e-9,.826323,-763495e-9,.378779,.0016656,.826359,-.00171789,.378795,.00374768,.82636,-.00305402,.378795,.00666259,.826368,-.00477185,.378798,.0104104,.826364,-.00687131,.378795,.0149912,.826368,-.00935232,.378795,.0204054,.826376,-.0122146,.378797,.0266532,.826399,-.0154581,.378803,.0337355,.82646,-.0190825,.378824,.0416537,.826525,-.0230873,.378846,.0504091,.826614,-.0274719,.378876,.0600032,.82674,-.0322355,.378917,.0704393,.826888,-.0373766,.378964,.0817195,.827078,-.0428936,.379024,.0938492,.827318,-.0487778,.379099,.106828,.82764,-.0549935,.379199,.120659,.827926,-.0611058,.379227,.13526,.828325,-.0675054,.379275,.150713,.828801,-.0743455,.379332,.167034,.8294,-.0815523,.379415,.184209,.830094,-.0890779,.379495,.202203,.8309,-.096736,.379555,.220945,.831943,-.104135,.379577,.240306,.833037,-.112106,.379604,.260317,.834278,-.120554,.379668,.2808,.836192,-.129128,.3799,.301654,.838671,-.137541,.380109,.323502,.840939,-.14523,.379809,.347176,.844575,-.15248,.379593,.371706,.848379,-.159607,.37909,.39688,.853616,-.166267,.378617,.422702,.858921,-.172698,.377746,.448919,.865324,-.178823,.376749,.475661,.872207,-.184542,.375363,.502599,.880018,-.189836,.373657,.529914,.88694,-.194294,.370673,.557683,.894779,-.197022,.36662,.586848,.902242,-.199108,.36138,.615831,.909914,-.200398,.355434,.644478,.917088,-.20094,.348173,.672905,.923888,-.200671,.339482,.701327,.930495,-.198773,.32956,.730101,.937247,-.195394,.318363,.758383,.943108,-.191956,.306323,.786539,.948296,-.187227,.292576,.813637,.953472,-.181165,.278234,.840793,.958485,-.174119,.263054,.867712,.962714,-.166564,.246756,.893635,.966185,-.158181,.229945,.919028,.970146,-.148275,.212633,.943413,.973491,-.138157,.195229,.966627,.975741,-.127574,.178048,.988817,.977238,-.11554,.160312,1.00924,.978411,-.10364,.142857,1.02845,.979811,-.0913122,.125317,1.04648,.98116,-.0782558,.107627,1.06284,.983543,-.0655957,.0895862,1.07798,.986789,-.0520411,.0713756,1.092,.990292,-.0389727,.053228,1.10484,.994187,-.025808,.0351945,1.11642,.997499,-.0126071,.0173198,1.12703,.999999,275604e-9,-148602e-9,1.13674,.81075,-78735e-10,.394456,161829e-10,.808692,-198293e-9,.393453,407564e-9,.80846,-792877e-9,.39334,.00162965,.808595,-.00178416,.393407,.00366711,.808597,-.00317182,.393408,.00651934,.808598,-.00495589,.393408,.0101866,.808591,-.00713627,.393403,.0146689,.808592,-.00971285,.393402,.0199667,.80861,-.0126855,.393407,.0260803,.808633,-.0160538,.393413,.0330107,.80868,-.0198175,.393429,.0407589,.808748,-.0239758,.393453,.0493264,.808854,-.0285286,.39349,.0587161,.808992,-.0334748,.39354,.0689304,.809141,-.0388116,.393588,.0799707,.809352,-.0445375,.39366,.0918432,.809608,-.0506427,.393742,.104549,.809915,-.0570708,.393834,.118085,.810253,-.0633526,.393885,.132377,.810687,-.0700966,.393953,.147537,.811233,-.0772274,.394047,.163543,.811865,-.0847629,.394148,.180394,.812648,-.0925663,.394265,.198051,.813583,-.100416,.394363,.216443,.814683,-.108119,.394402,.235502,.815948,-.11644,.394489,.255242,.817278,-.125036,.394542,.275441,.819605,-.133655,.39486,.296094,.822256,-.142682,.395248,.317309,.825349,-.150756,.395241,.340516,.829605,-.158392,.395285,.364819,.83391,-.165801,.394922,.389736,.839808,-.172677,.394691,.415409,.845708,-.179448,.394006,.441546,.853025,-.185746,.393279,.46832,.859666,-.191684,.391655,.495302,.86789,-.197146,.390068,.52262,.875845,-.201904,.38727,.550336,.882634,-.205023,.382688,.578825,.891076,-.207098,.377543,.608103,.900589,-.208474,.371752,.63723,.90791,-.209068,.364016,.665769,.915971,-.208655,.355593,.694428,.923455,-.20729,.345439,.723224,.931514,-.203821,.334099,.751925,.937885,-.19986,.321069,.780249,.943136,-.194993,.306571,.8077,.948818,-.189132,.291556,.83497,.954433,-.181617,.275745,.86188,.959078,-.173595,.258695,.888562,.962705,-.164855,.240825,.914008,.966753,-.155129,.22268,.939145,.970704,-.144241,.204542,.963393,.973367,-.133188,.185927,.985983,.975984,-.121146,.167743,1.00704,.976994,-.108366,.149218,1.02715,.978485,-.0956746,.13131,1.0455,.980074,-.0820733,.112513,1.06221,.98225,-.0684061,.0938323,1.07782,.98553,-.0549503,.0749508,1.09199,.989529,-.0407857,.055848,1.10508,.993536,-.0271978,.0368581,1.11684,.997247,-.0132716,.0181845,1.12789,1,431817e-9,-198809e-9,1.13792,.785886,-812608e-11,.405036,157669e-10,.790388,-205278e-9,.407355,398297e-9,.790145,-820824e-9,.407231,.00159263,.790135,-.00184681,.407226,.00358336,.790119,-.00328316,.407218,.00637039,.790126,-.00512988,.40722,.0099539,.79013,-.00738684,.407221,.0143339,.790135,-.0100538,.407221,.0195107,.790134,-.0131306,.407217,.0254848,.79016,-.0166169,.407224,.0322572,.790197,-.020512,.407236,.0398284,.790273,-.0248157,.407263,.0482014,.790381,-.029527,.407304,.0573777,.790521,-.0346446,.407355,.0673602,.790704,-.0401665,.40742,.0781522,.790925,-.0460896,.407499,.0897582,.791195,-.0524017,.407589,.10218,.791522,-.0590121,.407691,.11541,.791878,-.0654876,.407748,.12939,.792361,-.0725207,.407849,.144237,.792942,-.0799844,.407963,.159924,.79362,-.0877896,.408087,.176425,.794529,-.0958451,.408259,.193733,.795521,-.103827,.408362,.211756,.796778,-.111937,.408482,.230524,.798027,-.120521,.408547,.249967,.799813,-.129242,.408721,.269926,.802387,-.138048,.409148,.290338,.805279,-.147301,.409641,.311193,.809251,-.155895,.410154,.333611,.813733,-.163942,.410297,.357615,.819081,-.171666,.410373,.382339,.825427,-.178905,.410348,.407828,.83172,-.185812,.409486,.434034,.83877,-.192318,.408776,.460493,.845817,-.198249,.407176,.487346,.854664,-.204034,.405719,.514832,.863495,-.208908,.403282,.542401,.871883,-.212765,.399293,.570683,.88065,-.214911,.393803,.599947,.89004,-.216214,.387536,.62932,.898476,-.216745,.379846,.658319,.906738,-.216387,.370625,.687138,.914844,-.215053,.360139,.71601,.923877,-.212007,.348849,.745124,.931925,-.207481,.335639,.773366,.938054,-.202418,.320798,.801636,.943895,-.196507,.304772,.829055,.949468,-.189009,.288033,.856097,.955152,-.180539,.270532,.88301,.959403,-.171437,.251639,.909296,.963309,-.161661,.232563,.934868,.967399,-.150425,.213231,.959662,.972009,-.138659,.194247,.98302,.97433,-.126595,.174718,1.00517,.975823,-.113205,.155518,1.02566,.976371,-.0996096,.136709,1.04418,.978705,-.0860754,.117571,1.06146,.981477,-.0714438,.0980046,1.07777,.984263,-.0572304,.0782181,1.09214,.988423,-.0428875,.0584052,1.10553,.993,-.0282442,.038522,1.11758,.99704,-.0140183,.0190148,1.12864,.999913,369494e-9,-145203e-9,1.13901,.777662,-84153e-10,.423844,154403e-10,.770458,-211714e-9,.419915,38845e-8,.770716,-846888e-9,.420055,.00155386,.770982,-.00190567,.420202,.00349653,.770981,-.00338782,.420201,.00621606,.77098,-.00529338,.4202,.00971274,.770983,-.00762223,.4202,.0139867,.770985,-.0103741,.420198,.0190381,.770996,-.0135489,.4202,.0248677,.771029,-.0171461,.420212,.0314764,.771052,-.0211647,.420215,.0388648,.771131,-.0256048,.420245,.047036,.771235,-.0304647,.420284,.0559911,.771383,-.0357436,.420341,.0657346,.771591,-.0414392,.420423,.0762694,.771819,-.0475462,.420506,.0875984,.772123,-.0540506,.420617,.099727,.772464,-.060797,.42072,.112637,.772855,-.0675393,.420799,.126313,.773317,-.0748323,.420893,.140824,.773981,-.0825681,.421058,.15617,.774746,-.0906307,.421226,.172322,.77566,-.0988982,.421397,.189253,.776837,-.106994,.421569,.206912,.778097,-.115528,.421704,.225359,.779588,-.124317,.421849,.24447,.781574,-.133139,.422097,.264156,.784451,-.142179,.422615,.284318,.787682,-.15165,.423269,.304902,.792433,-.160771,.424396,.3265,.797359,-.169166,.424772,.35014,.803986,-.177149,.425475,.374768,.809504,-.184745,.424996,.399928,.815885,-.19173,.424247,.425796,.823513,-.198525,.423515,.452287,.832549,-.204709,.422787,.479321,.841653,-.210447,.421187,.506718,.850401,-.215501,.418519,.53432,.859854,-.219752,.414715,.56242,.869364,-.222305,.409462,.591558,.878837,-.223744,.402926,.621074,.888636,-.224065,.395043,.650538,.898132,-.223742,.38564,.679538,.907181,-.222308,.375378,.708674,.915621,-.219837,.363212,.737714,.9239,-.215233,.349313,.767014,.931644,-.209592,.334162,.795133,.938887,-.203644,.317943,.823228,.945282,-.196349,.300581,.850822,.950758,-.18742,.282195,.877594,.956146,-.177879,.262481,.904564,.960355,-.167643,.242487,.930741,.965256,-.156671,.222668,.955868,.968029,-.144123,.201907,.979869,.97251,-.131305,.18202,1.00291,.974925,-.118335,.161909,1.02392,.975402,-.103714,.142129,1.0433,.976987,-.089415,.122447,1.06089,.979677,-.0748858,.102248,1.07713,.983184,-.0596086,.0814851,1.09218,.987466,-.0447671,.0609484,1.10585,.992348,-.0295217,.0401835,1.11829,.996674,-.0143917,.0198163,1.12966,1.00003,321364e-9,-149983e-9,1.1402,.757901,-869074e-11,.436176,151011e-10,.751195,-217848e-9,.432317,378533e-9,.751178,-871373e-9,.432307,.0015141,.751195,-.00196061,.432317,.0034068,.751198,-.00348552,.432318,.00605659,.751195,-.00544599,.432315,.00946353,.751207,-.00784203,.43232,.013628,.751213,-.0106732,.43232,.0185499,.751221,-.0139393,.432319,.0242302,.751244,-.0176398,.432325,.0306694,.7513,-.0217743,.432348,.0378698,.751358,-.0263412,.432367,.0458321,.751458,-.0313396,.432404,.0545587,.751608,-.0367682,.432464,.0640543,.7518,-.0426246,.43254,.0743222,.752065,-.0489031,.432645,.0853668,.752376,-.0555828,.432762,.0971911,.752715,-.0623861,.432859,.109768,.753137,-.069415,.432958,.123126,.753676,-.0770039,.433099,.137308,.754345,-.084971,.433272,.15229,.755235,-.0932681,.433504,.168075,.756186,-.10171,.433693,.184625,.757363,-.110019,.433857,.201897,.75884,-.11887,.434102,.220014,.760467,-.127881,.434306,.238778,.762969,-.136766,.434751,.258172,.765823,-.14612,.43529,.278062,.769676,-.15566,.436236,.298437,.774909,-.165177,.437754,.319532,.77994,-.17402,.438343,.342505,.785757,-.182201,.438609,.366693,.792487,-.190104,.438762,.391668,.80038,-.197438,.438795,.417494,.808494,-.204365,.438226,.443933,.817695,-.210714,.437283,.470929,.828111,-.216651,.436087,.498569,.837901,-.221804,.433717,.526165,.847813,-.226318,.430133,.554155,.858314,-.229297,.425213,.582822,.868891,-.230999,.418576,.612847,.878941,-.231155,.410405,.642445,.888809,-.230935,.400544,.672024,.898089,-.229343,.389613,.701366,.908081,-.226886,.377197,.730763,.916819,-.222676,.363397,.759642,.924968,-.216835,.347437,.788775,.932906,-.210245,.32995,.817135,.940025,-.202992,.312262,.844912,.946101,-.19436,.293313,.872164,.952835,-.184125,.273638,.899443,.957347,-.173657,.252385,.926389,.961434,-.162204,.231038,.951947,.965522,-.14979,.209834,.976751,.969412,-.136307,.188821,1.00022,.973902,-.122527,.168013,1.02229,.974045,-.108213,.147634,1.04199,.975775,-.0927397,.12705,1.06019,.978383,-.0778212,.106309,1.07711,.98211,-.0621216,.0849279,1.09245,.986517,-.0463847,.0633519,1.10651,.991696,-.0309353,.0419698,1.11903,.996349,-.0150914,.0206272,1.13073,1.00003,442449e-9,-231396e-9,1.14146,.727498,-885074e-11,.441528,145832e-10,.730897,-223525e-9,.443589,368298e-9,.730796,-893996e-9,.443528,.00147303,.730805,-.00201149,.443533,.00331433,.730814,-.00357596,.443538,.00589222,.730815,-.00558734,.443538,.00920678,.730822,-.00804544,.44354,.0132582,.730836,-.0109501,.443545,.0180468,.730848,-.0143008,.443546,.0235732,.730871,-.0180969,.443552,.0298382,.730915,-.022338,.443567,.0368438,.730982,-.0270225,.443591,.044591,.731076,-.0321491,.443627,.0530831,.731245,-.0377166,.443699,.0623243,.73144,-.0437216,.443777,.0723181,.7317,-.0501576,.443881,.0830691,.732034,-.0569942,.444014,.0945809,.732388,-.0638756,.444113,.106825,.732853,-.071203,.444247,.119859,.733473,-.0790076,.444442,.13369,.734195,-.0871937,.444645,.148304,.735069,-.095696,.444877,.163702,.736169,-.10426,.445133,.179861,.73747,-.112853,.44537,.196778,.738991,-.12199,.445651,.214496,.740865,-.131153,.445958,.232913,.743637,-.140245,.446548,.251977,.746797,-.149722,.447246,.271551,.751517,-.159341,.448656,.291774,.756156,-.169106,.449866,.312455,.761519,-.178436,.450919,.334552,.768295,-.186904,.451776,.358491,.776613,-.195117,.452832,.383446,.783966,-.202695,.45249,.408945,.793542,-.20985,.452587,.435364,.803192,-.216403,.451852,.462336,.813892,-.22251,.450708,.48987,.824968,-.227676,.4486,.517697,.835859,-.232443,.445156,.545975,.846825,-.235775,.440351,.574483,.858085,-.237897,.433641,.604246,.868825,-.238074,.425354,.634101,.879638,-.237661,.415383,.664201,.889966,-.236186,.404136,.693918,.899479,-.233599,.390917,.723481,.908769,-.229737,.376352,.75258,.917966,-.223836,.360372,.781764,.926304,-.217067,.342551,.811139,.934626,-.209309,.324238,.839585,.941841,-.20071,.304484,.867044,.94789,-.190602,.283607,.894579,.954196,-.179253,.262205,.921743,.958383,-.167646,.239847,.948026,.963119,-.155073,.218078,.973296,.966941,-.141426,.195899,.998135,.970836,-.126849,.174121,1.02021,.973301,-.112296,.153052,1.04085,.97448,-.0964965,.131733,1.05946,.977045,-.080489,.10997,1.07693,.980751,-.064844,.0881657,1.09254,.985475,-.0481938,.0657987,1.10697,.991089,-.0319185,.0435215,1.12004,.996122,-.0158088,.0214779,1.13173,1.00001,372455e-9,-200295e-9,1.14291,.708622,-907597e-11,.45304,141962e-10,.711162,-228911e-9,.454662,358052e-9,.709812,-914446e-9,.453797,.00143034,.709865,-.00205819,.453834,.00321935,.709864,-.00365894,.453833,.00572331,.709855,-.00571692,.453826,.00894278,.709862,-.00823201,.453828,.012878,.709875,-.011204,.453832,.0175295,.709896,-.0146323,.453839,.0228978,.709925,-.0185163,.453847,.0289839,.709974,-.0228551,.453866,.0357894,.710045,-.0276473,.453892,.0433161,.710133,-.032891,.453924,.0515665,.710292,-.0385851,.453992,.0605458,.710485,-.0447254,.45407,.0702574,.710769,-.0513051,.454192,.0807077,.711106,-.0582733,.454329,.091896,.711516,-.0652866,.45446,.103814,.712071,-.0728426,.454653,.116508,.712676,-.0808307,.45484,.129968,.713476,-.0892216,.455096,.144206,.714377,-.0979047,.455346,.159212,.715579,-.106531,.455647,.174973,.716977,-.115492,.455961,.191504,.71862,-.124821,.456315,.208835,.72084,-.134079,.4568,.226869,.723786,-.143427,.457521,.245582,.727464,-.153061,.458475,.264957,.732771,-.162768,.460239,.284948,.736515,-.172627,.460899,.30522,.743519,-.182487,.463225,.326717,.750041,-.191295,.464027,.350113,.758589,-.199746,.465227,.374782,.767703,-.207584,.465877,.400226,.777484,-.214973,.465996,.426442,.788792,-.221796,.466019,.453688,.800194,-.228038,.465083,.481246,.811234,-.233346,.462506,.509086,.822859,-.238073,.459257,.537338,.835082,-.241764,.454863,.566108,.846332,-.244241,.448163,.595126,.858355,-.244736,.439709,.625574,.87034,-.244278,.429837,.65617,.881027,-.24255,.418002,.686029,.891007,-.239912,.404325,.716039,.900874,-.236133,.389222,.745518,.911072,-.230672,.373269,.775026,.920359,-.22356,.355083,.804521,.928604,-.215591,.335533,.834045,.937175,-.206503,.315278,.861612,.942825,-.196684,.293653,.889131,.949805,-.185116,.271503,.916853,.955535,-.172703,.248821,.943541,.959843,-.159978,.225591,.970132,.964393,-.146375,.202719,.994709,.968008,-.131269,.179928,1.0186,.971013,-.11569,.158007,1.03928,.973334,-.1003,.13624,1.05887,.975775,-.0833352,.1138,1.07652,.979579,-.0668981,.0913141,1.09297,.984323,-.0500902,.0683051,1.10734,.990351,-.0332377,.0451771,1.12084,.995823,-.0161491,.0221705,1.13296,1.0001,234083e-9,-108712e-9,1.14441,.683895,-924677e-11,.46015,137429e-10,.68833,-233383e-9,.463134,346865e-9,.688368,-933547e-9,.463159,.00138748,.688367,-.00210049,.463159,.00312187,.688369,-.00373415,.463159,.00555004,.688377,-.00583449,.463163,.00867216,.688386,-.00840128,.463166,.0124884,.688398,-.0114343,.463169,.0169993,.688418,-.0149329,.463175,.0222054,.688453,-.0188964,.463188,.028108,.688515,-.0233239,.463214,.0347085,.68857,-.0282136,.463231,.0420091,.688679,-.033564,.463276,.0500132,.688854,-.0393733,.463356,.0587255,.689038,-.0456354,.46343,.0681476,.689321,-.0523433,.463553,.0782897,.689662,-.059412,.463693,.0891501,.690188,-.0665736,.4639,.100735,.690755,-.0743106,.464107,.113074,.691405,-.0824722,.464329,.126161,.692198,-.0910484,.464585,.140007,.693196,-.0998778,.464893,.154612,.69454,-.108651,.465285,.169984,.695921,-.117855,.465596,.186106,.697749,-.12734,.466056,.203034,.700375,-.136714,.466771,.220703,.703395,-.146386,.467579,.239062,.707904,-.156096,.469067,.258188,.711673,-.165904,.469851,.277759,.717489,-.175812,.471815,.297935,.724051,-.185931,.47389,.318916,.731965,-.195238,.47587,.341591,.741151,-.204021,.477523,.366062,.751416,-.212113,.478881,.391396,.761848,-.21979,.479226,.417599,.771886,-.2267,.478495,.444401,.783998,-.232991,.477622,.472084,.796523,-.238645,.475833,.500193,.808851,-.243396,.472568,.52865,.821191,-.247226,.467857,.557362,.834261,-.250102,.461871,.586768,.846762,-.251056,.453543,.617085,.859867,-.250604,.443494,.647659,.871948,-.248783,.431711,.678119,.882967,-.245855,.417911,.708399,.892826,-.242168,.401993,.738256,.90332,-.237062,.385371,.767999,.913633,-.22997,.366837,.798191,.922774,-.221687,.346372,.827756,.931371,-.212345,.325682,.856425,.938929,-.20206,.303665,.884299,.944821,-.190981,.280786,.912023,.951792,-.178065,.2573,.939669,.957712,-.164634,.233448,.96655,.961912,-.150863,.209504,.992366,.966382,-.13577,.18597,1.01633,.969588,-.119593,.162905,1.03843,.971777,-.103203,.14053,1.05841,.97433,-.0865888,.117909,1.07632,.978686,-.0690829,.0944101,1.09326,.983281,-.0516568,.0705671,1.10796,.989562,-.034558,.0468592,1.12182,.995465,-.0167808,.0229846,1.1342,.999991,373016e-9,-235606e-9,1.1459,.662251,-939016e-11,.468575,132714e-10,.666634,-237624e-9,.471675,335842e-9,.666411,-950385e-9,.471516,.00134321,.666399,-.00213833,.471509,.00302221,.666386,-.0038014,.471499,.00537283,.666405,-.00593958,.471511,.00839533,.666406,-.00855253,.471508,.0120898,.666428,-.0116401,.471519,.0164569,.666444,-.0152015,.471522,.0214971,.66649,-.0192362,.471543,.027212,.666537,-.0237428,.471558,.033603,.666617,-.0287198,.471591,.0406728,.666718,-.0341647,.471631,.0484238,.666889,-.0400759,.47171,.0568621,.667104,-.0464479,.471805,.0659915,.667374,-.0532677,.471923,.0758178,.667772,-.0603805,.472098,.0863425,.668371,-.0677392,.472363,.0975917,.668971,-.0756028,.472596,.109567,.669696,-.0839293,.472869,.122272,.670481,-.0926683,.473126,.135718,.6715,-.1016,.473442,.149914,.672911,-.110566,.47389,.164882,.674512,-.119984,.474354,.180602,.67651,-.129574,.474922,.19711,.679292,-.139106,.475764,.214371,.682798,-.148993,.476886,.232405,.686955,-.158737,.478179,.251153,.691406,-.168754,.479432,.270436,.697438,-.178703,.481481,.290374,.704761,-.188955,.484143,.311044,.713599,-.198814,.487007,.333003,.723194,-.207869,.488962,.357144,.732601,-.216189,.489815,.382169,.744193,-.22398,.490888,.408227,.754907,-.231156,.490355,.434928,.767403,-.23747,.489548,.462599,.78107,-.243503,.488274,.490908,.793893,-.248114,.484843,.519421,.807296,-.25222,.4803,.548561,.820529,-.255265,.474097,.577772,.833716,-.256741,.466041,.607782,.848403,-.25637,.456547,.638807,.860755,-.254804,.443946,.670058,.874012,-.251834,.430852,.700749,.885619,-.247867,.414903,.731446,.896069,-.242634,.397276,.761191,.906266,-.236093,.378535,.791053,.916759,-.227543,.358038,.821298,.92523,-.21783,.335705,.850747,.93436,-.207534,.313797,.879258,.941631,-.195983,.289671,.907734,.947564,-.183567,.265319,.935206,.953681,-.169345,.240815,.962739,.960008,-.154909,.216119,.989227,.964145,-.140161,.192096,1.01465,.968171,-.123411,.167855,1.03737,.969859,-.106525,.144817,1.05767,.972666,-.0891023,.12149,1.0761,.977055,-.0718094,.0975306,1.09336,.982527,-.0534213,.0730217,1.10878,.989001,-.0355579,.0483366,1.12285,.99512,-.0176383,.023938,1.13548,1.00007,368831e-9,-211581e-9,1.14744,.651047,-960845e-11,.484101,12922e-9,.644145,-241347e-9,.478968,324578e-9,.64396,-965142e-9,.478831,.00129798,.64396,-.00217154,.47883,.00292046,.643968,-.00386049,.478835,.00519202,.643974,-.00603186,.478838,.0081128,.643977,-.0086854,.478836,.011683,.643982,-.0118207,.478834,.0159031,.644024,-.0154374,.478856,.0207743,.644059,-.0195343,.478868,.0262975,.644122,-.0241103,.478896,.0324747,.644207,-.0291638,.478933,.039309,.64432,-.0346919,.478981,.0468029,.644481,-.0406919,.479053,.0549614,.644722,-.047159,.479169,.0637909,.645013,-.0540748,.479302,.0732974,.645503,-.0612001,.479541,.0834898,.646117,-.0687303,.479829,.0943873,.646707,-.0767846,.480061,.105991,.647431,-.0852465,.480343,.11831,.64831,-.0940719,.48066,.131348,.649486,-.103056,.481083,.14514,.650864,-.112261,.481528,.159676,.652604,-.121852,.482102,.174979,.654825,-.131505,.482813,.191079,.657876,-.141189,.483876,.207927,.661339,-.151239,.48499,.225586,.665463,-.161091,.486279,.243947,.670542,-.171235,.487968,.262957,.677361,-.181347,.49053,.282781,.685672,-.191679,.493862,.303311,.694551,-.201781,.49699,.324607,.703753,-.211164,.498884,.347916,.713703,-.219675,.500086,.372628,.725911,-.227836,.501554,.398694,.73862,-.23533,.502193,.425529,.752118,-.241786,.501811,.453209,.76579,-.247865,.500185,.481381,.779568,-.252696,.497159,.51011,.793991,-.256802,.492765,.539322,.808182,-.259942,.486827,.569078,.821698,-.261703,.478386,.598818,.836009,-.262006,.468772,.629762,.849824,-.260333,.456352,.661366,.863888,-.257398,.442533,.69295,.876585,-.253264,.426573,.723608,.888665,-.248026,.408964,.754378,.899537,-.241487,.389677,.784761,.9094,-.233463,.368516,.814688,.920166,-.223397,.346624,.845009,.928899,-.21255,.322717,.874431,.937156,-.200869,.298698,.902922,.943861,-.188387,.273491,.931356,.949557,-.174341,.247866,.958854,.955862,-.158994,.222496,.986098,.961721,-.143664,.197522,1.01229,.965976,-.127412,.17302,1.03571,.968652,-.109798,.148954,1.05699,.971084,-.0916787,.125044,1.07587,.975584,-.0739634,.100577,1.09372,.98122,-.055322,.0753666,1.10948,.988253,-.0366825,.0498899,1.12394,.99482,-.0180389,.024611,1.13694,1.00001,229839e-9,-188283e-9,1.14919,.613867,-964198e-11,.479449,123452e-10,.621485,-244534e-9,.485399,313091e-9,.621429,-978202e-9,.485353,.00125245,.62112,-.00220004,.485114,.00281687,.621119,-.0039111,.485112,.00500783,.621122,-.00611091,.485112,.00782498,.621133,-.00879922,.485117,.0112687,.621152,-.0119756,.485125,.0153394,.621183,-.0156396,.485139,.0200382,.621227,-.0197898,.485158,.0253663,.621298,-.0244253,.485192,.0313261,.621388,-.0295441,.485233,.0379204,.621507,-.0351432,.485286,.0451523,.621693,-.0412198,.485378,.0530277,.621933,-.0477673,.485495,.0615522,.622232,-.0547574,.485635,.0707316,.622809,-.0619417,.485943,.0805883,.623407,-.069625,.486232,.0911267,.62406,-.077796,.486516,.102354,.624835,-.0863731,.486838,.114279,.625758,-.095251,.487188,.126902,.627043,-.104299,.487695,.140285,.628438,-.113724,.488163,.154397,.630325,-.123417,.488858,.169267,.632801,-.133137,.489754,.184941,.635784,-.143052,.490815,.20136,.639406,-.153132,.492048,.218643,.643872,-.163143,.49363,.236615,.6499,-.17333,.496009,.255449,.657201,-.183622,.498994,.275006,.666221,-.194019,.502888,.295354,.674419,-.204192,.505459,.316244,.683729,-.21406,.507771,.33849,.695584,-.222854,.510245,.363166,.708583,-.231315,.512293,.389071,.721233,-.238911,.512747,.415737,.735134,-.245657,.512482,.443331,.750179,-.251879,.511526,.471891,.765073,-.256911,.508935,.500892,.779794,-.261144,.504341,.530294,.794801,-.264316,.498515,.560144,.810339,-.266276,.491015,.590213,.824818,-.266981,.481126,.620865,.839375,-.265778,.468685,.652687,.853043,-.262748,.453925,.684759,.867335,-.258474,.437912,.716209,.88037,-.253187,.419648,.747508,.891711,-.246476,.39982,.77797,.902896,-.238735,.37879,.808586,.913601,-.22885,.355891,.838843,.923019,-.217656,.331773,.869014,.933432,-.205539,.307356,.898512,.939691,-.192595,.281321,.9269,.946938,-.178945,.255441,.955297,.952372,-.163587,.229013,.983231,.95909,-.147214,.203179,1.00971,.963675,-.13064,.17792,1.03438,.968247,-.113121,.152898,1.05625,.97001,-.0945824,.128712,1.07598,.974458,-.0755648,.103349,1.094,.980168,-.0571998,.0776731,1.1104,.987295,-.0377994,.0514445,1.12491,.994432,-.0186417,.025429,1.13851,.999975,542714e-9,-282356e-9,1.15108,.592656,-980249e-11,.486018,119532e-10,.598467,-247275e-9,.490781,301531e-9,.597934,-988317e-9,.490343,.00120517,.597903,-.00222366,.490319,.0027116,.597913,-.00395315,.490327,.00482077,.597919,-.00617653,.490329,.00753264,.597936,-.00889375,.490339,.0108478,.597956,-.0121043,.490347,.0147668,.597992,-.0158073,.490365,.0192905,.598032,-.0200017,.490382,.0244204,.598109,-.0246865,.49042,.0301593,.598215,-.0298594,.490474,.03651,.59833,-.0355167,.490524,.0434757,.598525,-.0416559,.490624,.0510629,.598778,-.0482692,.490753,.0592781,.599135,-.0553114,.49094,.0681304,.599802,-.062542,.491328,.0776467,.600361,-.0703638,.491598,.0878184,.60101,-.0786256,.491882,.0986573,.601811,-.0872962,.492232,.11018,.602861,-.0962284,.492684,.1224,.604167,-.10538,.493213,.135354,.605693,-.114896,.493799,.149034,.607682,-.124654,.494576,.163469,.610672,-.13456,.4959,.178747,.613313,-.144581,.496713,.194723,.617603,-.154703,.498499,.211617,.622174,-.16489,.500188,.229183,.628855,-.175164,.503072,.247786,.636963,-.185565,.506798,.267116,.644866,-.195911,.509719,.28702,.653741,-.206104,.512776,.307763,.664942,-.216447,.516812,.329631,.67633,-.22552,.519181,.353515,.690012,-.234316,.521681,.379226,.704243,-.242032,.523129,.405901,.719396,-.249172,.523768,.433585,.734471,-.255543,.522541,.462085,.750539,-.260697,.520217,.491233,.766365,-.26501,.516293,.521094,.781677,-.268409,.509708,.551014,.797132,-.270399,.501944,.581463,.812655,-.271247,.492025,.612402,.828592,-.270708,.480424,.643798,.844044,-.268085,.465955,.67682,.857305,-.263459,.448425,.708496,.87114,-.258151,.430243,.74046,.884936,-.251171,.410578,.771583,.895772,-.243305,.38862,.802234,.906961,-.234037,.365214,.833179,.917775,-.222714,.34116,.86353,.927883,-.210175,.31572,.893557,.936617,-.196925,.289159,.922976,.943384,-.182788,.261996,.951606,.949713,-.167965,.235324,.979958,.955818,-.151109,.208408,1.00765,.961344,-.133834,.182591,1.03329,.965469,-.115987,.156958,1.0557,.968693,-.09746,.132239,1.07583,.973165,-.0778514,.106195,1.09451,.979387,-.0585067,.0797669,1.11137,.98671,-.0390409,.0530263,1.12643,.994093,-.019408,.0263163,1.14016,1.00002,540029e-9,-194487e-9,1.15299,.574483,-989066e-11,.494533,114896e-10,.574478,-249127e-9,.494528,289403e-9,.574607,-996811e-9,.494637,.00115797,.574396,-.00224241,.494458,.00260498,.574377,-.00398632,.49444,.00463102,.574386,-.00622836,.494445,.00723623,.574401,-.0089683,.494453,.010421,.574419,-.0122056,.49446,.0141859,.574459,-.0159396,.494481,.0185322,.574525,-.0201692,.49452,.0234617,.574587,-.0248924,.494547,.0289762,.574697,-.0301074,.494604,.0350797,.574853,-.0358114,.494688,.0417767,.575027,-.041999,.494772,.0490718,.575294,-.0486618,.494915,.0569728,.575733,-.0557148,.495173,.0654955,.576356,-.0630489,.495537,.0746612,.576944,-.0709285,.495836,.0844615,.57765,-.0792723,.496177,.0949142,.578491,-.0880167,.496563,.10603,.579639,-.0969462,.497096,.117841,.580989,-.10622,.497684,.130367,.582587,-.115861,.498337,.143609,.584951,-.125605,.499414,.157625,.587602,-.135608,.500518,.172413,.59076,-.145742,.501767,.187999,.594992,-.155934,.503542,.20445,.600656,-.166303,.506135,.221764,.607816,-.176681,.509542,.24002,.61522,-.187071,.51263,.258992,.623702,-.197465,.516021,.278773,.634192,-.207816,.520422,.299377,.644936,-.218183,.524073,.320802,.657888,-.2278,.528049,.34384,.670666,-.236747,.52986,.36916,.685626,-.24484,.531892,.395867,.701304,-.252071,.532727,.423488,.717727,-.258714,.532146,.452201,.733914,-.264211,.529883,.481579,.750529,-.26859,.5259,.511558,.76747,-.272046,.51999,.542042,.785189,-.274225,.513083,.572799,.800954,-.275189,.502936,.603816,.816962,-.274946,.490921,.635461,.83336,-.272695,.47684,.6676,.848143,-.268223,.459405,.70051,.861818,-.262768,.440319,.732902,.876828,-.255872,.420123,.765084,.889312,-.247703,.398379,.796391,.900412,-.238381,.374496,.827333,.912251,-.227783,.349874,.858385,.921792,-.214832,.323181,.888652,.931273,-.200949,.296624,.917763,.940295,-.186537,.269211,.947878,.946812,-.171538,.241447,.977016,.953588,-.155254,.213829,1.00501,.958841,-.137156,.186807,1.03179,.963746,-.118699,.160706,1.05502,.966468,-.0998358,.135504,1.07568,.971178,-.0805186,.109131,1.09479,.97831,-.0599348,.0818293,1.1123,.985886,-.0399661,.0545872,1.12771,.994021,-.0198682,.0269405,1.14186,1.00009,271022e-9,-12989e-8,1.15514,.538716,-990918e-11,.486732,109675e-10,.550656,-250642e-9,.497518,277412e-9,.55057,-.00100265,.497441,.00110974,.550903,-.00225672,.497733,.00249779,.550568,-.00401046,.497438,.00443906,.550574,-.00626613,.49744,.00693637,.550591,-.0090226,.497449,.00998921,.550623,-.0122795,.497469,.0135984,.550667,-.0160361,.497495,.0177654,.550724,-.0202908,.497526,.0224915,.550792,-.0250421,.497557,.0277795,.550918,-.0302878,.49763,.0336334,.551058,-.0360241,.497701,.0400573,.551276,-.0422473,.497824,.0470585,.551551,-.0489441,.497977,.0546433,.552074,-.0559596,.498312,.0628367,.552681,-.0633978,.498679,.071646,.553324,-.0713176,.499031,.0810746,.554011,-.0797268,.499365,.091129,.55488,-.0885238,.499779,.101837,.556171,-.0974417,.500444,.113239,.557498,-.106841,.501025,.125316,.559299,-.116533,.501864,.138128,.561647,-.126298,.502967,.151695,.564347,-.136388,.504129,.16604,.567863,-.146576,.505713,.181207,.572569,-.156832,.507953,.197259,.578919,-.167323,.511186,.214258,.585387,-.177712,.514042,.232038,.593134,-.188184,.517484,.250733,.603295,-.198717,.522345,.270454,.613854,-.209177,.526751,.290807,.626092,-.219644,.531595,.312202,.637868,-.229494,.534721,.334435,.652458,-.238718,.538304,.359184,.666985,-.247061,.539875,.385637,.683301,-.254652,.541042,.41328,.69998,-.261376,.540735,.441903,.717824,-.267085,.539139,.471609,.734617,-.271465,.534958,.501446,.753663,-.27528,.53032,.532571,.770512,-.277617,.522134,.563641,.787356,-.278525,.51206,.595067,.806252,-.278512,.50119,.627226,.822061,-.277023,.486791,.659402,.838959,-.273175,.470467,.692874,.85379,-.267238,.450688,.725702,.868268,-.260327,.429741,.75832,.881994,-.251946,.407223,.790189,.893885,-.242432,.383214,.821625,.905118,-.231904,.357297,.853011,.916045,-.219545,.330733,.883773,.927614,-.205378,.303916,.914435,.936005,-.190388,.275941,.944502,.944533,-.1749,.247493,.974439,.950758,-.158588,.218996,1.00286,.957078,-.141027,.191559,1.0304,.962448,-.121507,.164457,1.05466,.964993,-.102068,.138636,1.0761,.970017,-.0822598,.111861,1.09541,.97661,-.062033,.0843438,1.11317,.985073,-.0409832,.0558496,1.12911,.993515,-.020146,.0275331,1.1438,1.00006,27329e-8,-107883e-9,1.15736,.525324,-999341e-11,.498153,105385e-10,.526513,-251605e-9,.499277,265329e-9,.526517,-.00100641,.499282,.0010613,.526588,-.00226466,.499337,.00238823,.526539,-.0040255,.499302,.00424535,.526547,-.00628954,.499306,.00663364,.526561,-.00905628,.499313,.00955337,.526593,-.0123253,.499334,.0130054,.526642,-.0160957,.499365,.0169911,.5267,-.0203661,.499396,.0215122,.526792,-.0251347,.499451,.0265718,.526904,-.0303985,.499511,.0321732,.527079,-.0361554,.499617,.0383231,.527285,-.0423982,.499731,.045026,.527602,-.0491121,.499924,.0522936,.528166,-.0561127,.500306,.0601528,.52879,-.0635988,.5007,.0686059,.529421,-.071581,.501048,.0776518,.530144,-.0799854,.501421,.0873148,.531062,-.0888032,.501884,.0976084,.532374,-.0977643,.50259,.108588,.533828,-.107197,.50329,.120234,.53581,-.116887,.504312,.132602,.538063,-.126755,.505365,.145721,.5409,-.136819,.506668,.159617,.544882,-.147117,.508731,.174369,.550238,-.157446,.511601,.190028,.556038,-.167988,.514431,.206587,.563031,-.178364,.517808,.224046,.571543,-.189007,.521937,.242503,.582255,-.199546,.527415,.261977,.59272,-.210084,.531682,.282162,.605648,-.220448,.537123,.303426,.61785,-.230593,.540664,.325323,.632223,-.240238,.544467,.348993,.648819,-.24887,.547594,.375462,.665825,-.256657,.54912,.403024,.683389,-.263711,.549294,.431773,.701495,-.269666,.547649,.461494,.719197,-.274169,.543786,.491623,.737906,-.278124,.538644,.522994,.756652,-.280632,.531057,.554775,.775279,-.281741,.521972,.586441,.792688,-.281652,.509613,.618596,.811894,-.280345,.496497,.651462,.827938,-.277128,.47968,.684023,.844837,-.271646,.460688,.718024,.859239,-.264397,.438872,.751207,.874088,-.256144,.41577,.784232,.887693,-.246311,.391369,.816191,.899402,-.235497,.365872,.847828,.910973,-.223631,.338618,.87934,.92204,-.209874,.310803,.910325,.930987,-.194265,.281802,.940695,.94,-.178125,.252836,.970958,.948018,-.161479,.224239,1.00078,.955141,-.144038,.195857,1.0288,.960513,-.124915,.168487,1.05371,.963964,-.104284,.141495,1.07596,.968713,-.0838732,.114437,1.09628,.975524,-.0635579,.0863105,1.11448,.98431,-.042291,.0574774,1.13069,.992916,-.0209131,.0284343,1.14568,.999926,743097e-9,-379265e-9,1.15955,.501042,-998428e-11,.498726,100306e-10,.502992,-252112e-9,.500665,253283e-9,.502417,-.00100791,.500092,.00101259,.502965,-.00226919,.500621,.00227978,.502318,-.00403109,.499994,.00405011,.502333,-.00629832,.500005,.00632868,.502362,-.00906907,.500027,.00911446,.502369,-.0123423,.500023,.0124078,.50243,-.0161178,.500066,.016211,.502493,-.0203937,.500103,.0205256,.502592,-.0251684,.500166,.0253548,.502707,-.0304389,.50023,.0307029,.502881,-.0362015,.500335,.0365753,.503124,-.0424507,.500488,.0429798,.503443,-.0491582,.500686,.0499268,.504083,-.0561476,.501155,.0574541,.504668,-.0636846,.501524,.0655408,.505319,-.0716834,.501904,.0742072,.50609,-.0800925,.502321,.0834699,.507122,-.0888425,.502896,.0933603,.508414,-.097855,.503603,.10391,.509955,-.107304,.504416,.115113,.512061,-.116921,.505565,.127054,.514419,-.12689,.506732,.139709,.517529,-.136934,.508338,.153173,.522085,-.147327,.510987,.167528,.526986,-.157612,.513527,.182708,.533122,-.168213,.516717,.198881,.540807,-.178688,.520832,.215986,.550687,-.189511,.52632,.234335,.560567,-.199998,.531009,.253375,.571698,-.210652,.535839,.273499,.584364,-.220917,.541091,.294355,.599066,-.23137,.546875,.316525,.614148,-.241206,.551306,.339671,.631157,-.250379,.555187,.36531,.647919,-.258397,.556595,.392767,.666112,-.265528,.556949,.421397,.686158,-.271827,.556617,.451433,.704838,-.27674,.552975,.482131,.723957,-.280733,.547814,.513458,.74262,-.283359,.53997,.545446,.762009,-.284541,.530422,.57775,.781314,-.284507,.518546,.610434,.799116,-.283309,.504178,.643178,.817604,-.280378,.48843,.676248,.83459,-.275619,.469457,.709698,.850974,-.26856,.447698,.744245,.866747,-.260094,.424791,.777695,.881412,-.249929,.399913,.810392,.8936,-.239137,.37308,.842872,.905943,-.226818,.345705,.874677,.916408,-.213699,.31706,.906257,.927215,-.198428,.288444,.936881,.935625,-.181643,.258329,.96795,.944076,-.164386,.228488,.998216,.951229,-.146339,.199763,1.02689,.958793,-.127709,.172153,1.0535,.963219,-.107244,.144989,1.07646,.967562,-.0857764,.11685,1.09675,.974866,-.0645377,.0880571,1.11576,.983353,-.0431732,.0587352,1.13227,.992503,-.0218356,.0294181,1.1478,1.00003,605203e-9,-231013e-9,1.16207,.482935,-101177e-10,.504695,968142e-11,.477554,-251521e-9,.499071,240676e-9,.477904,-.00100683,.499436,96342e-8,.478368,-.00226636,.499899,.0021687,.477977,-.00402719,.499513,.00385384,.477993,-.00629226,.499525,.0060221,.478011,-.00906011,.499536,.00867289,.478051,-.0123305,.499566,.0118074,.478089,-.016102,.499587,.0154269,.478171,-.0203736,.499645,.0195341,.478254,-.025143,.499692,.0241318,.47839,-.0304071,.499779,.0292247,.478588,-.0361631,.499911,.0348196,.478812,-.0424023,.500046,.0409231,.479208,-.0490724,.500326,.047552,.479841,-.0560722,.500805,.0547377,.480392,-.0636125,.501152,.0624607,.481068,-.0716134,.501561,.0707473,.481898,-.0800062,.502054,.0796118,.483022,-.0886568,.502728,.0890974,.484332,-.0977553,.503479,.0992099,.486126,-.107173,.504546,.10999,.488066,-.11677,.50557,.121476,.490521,-.126725,.506849,.133672,.494232,-.136793,.50911,.146731,.498302,-.147116,.511345,.160577,.503565,-.157446,.514344,.175335,.510902,-.168121,.518824,.191207,.519263,-.178799,.523666,.208058,.528204,-.189407,.528296,.225875,.538854,-.200145,.533724,.244782,.551278,-.210701,.539833,.264753,.565222,-.221303,.546131,.285745,.579403,-.231688,.551496,.307592,.595469,-.241718,.556809,.330582,.610929,-.250992,.559641,.354995,.629433,-.259602,.562379,.382471,.648504,-.267038,.563676,.411126,.66756,-.273388,.562092,.440924,.689143,-.278788,.560807,.472118,.709056,-.282783,.555701,.503774,.729855,-.285836,.548698,.536364,.748954,-.287078,.538544,.56895,.768373,-.287133,.526711,.601991,.78827,-.285839,.512511,.635403,.807465,-.283238,.496323,.668797,.825194,-.27906,.477638,.702584,.842203,-.272286,.456253,.736393,.857749,-.263854,.432412,.77096,.874799,-.253943,.407806,.80489,.887497,-.24237,.38033,.83771,.89966,-.230278,.352446,.870376,.911753,-.21646,.323268,.902256,.923011,-.202071,.294314,.933306,.932375,-.185519,.264104,.965177,.940537,-.167604,.234035,.996303,.948904,-.149068,.20412,1.0261,.955263,-.129539,.175431,1.05304,.960303,-.109932,.148116,1.07617,.965512,-.0880572,.119693,1.09742,.973466,-.0660548,.0901619,1.11721,.98284,-.0439228,.0599875,1.13436,.992216,-.0219588,.0298975,1.15006,.999946,119402e-9,-208547e-10,1.16471,.447827,-100414e-10,.491543,914833e-11,.454778,-251257e-9,.499172,22891e-8,.453519,-.00100342,.497787,914184e-9,.45357,-.00225776,.497847,.00205701,.453578,-.00401371,.497855,.00365705,.45357,-.00627107,.497841,.00571453,.453598,-.00902968,.497864,.00823019,.453627,-.0122888,.497882,.0112049,.453684,-.0160475,.497923,.0146405,.453764,-.0203044,.49798,.0185394,.453866,-.0250576,.498049,.0229054,.453996,-.0303028,.49813,.0277424,.454196,-.0360379,.498267,.0330587,.454457,-.0422521,.498445,.0388613,.454926,-.0488393,.498812,.0451767,.455525,-.0558653,.499272,.0520153,.456074,-.0633772,.499625,.0593754,.456752,-.0713606,.500049,.0672751,.457648,-.07971,.500615,.0757447,.458849,-.0883032,.501399,.0848231,.46029,-.0974095,.502293,.0945135,.462,-.106729,.503301,.104848,.464121,-.116354,.504533,.115884,.466889,-.126214,.506172,.127652,.470744,-.136324,.508667,.14024,.47488,-.146595,.510995,.153673,.480845,-.157027,.514832,.168053,.488262,-.167658,.519506,.183508,.496547,-.178343,.524347,.199948,.506254,-.188916,.52983,.217503,.517961,-.199975,.536357,.236272,.531484,-.210624,.543641,.256096,.545496,-.221227,.550048,.277085,.559497,-.231568,.555076,.298615,.575752,-.241698,.560541,.321547,.591999,-.251172,.564156,.345602,.610654,-.260178,.567607,.371851,.630484,-.268094,.56923,.40076,.651807,-.274661,.569779,.430801,.67239,-.280331,.566791,.461939,.693024,-.284501,.562007,.493854,.715473,-.287852,.555791,.526992,.736323,-.28929,.546345,.560102,.755771,-.289405,.534,.593543,.775424,-.2881,.519114,.627256,.795447,-.285562,.502543,.661464,.815319,-.281416,.484773,.695206,.831769,-.275523,.463445,.729044,.849464,-.267516,.440269,.764069,.866775,-.257584,.415049,.799089,.881252,-.245817,.388049,.831948,.894209,-.233127,.35889,.865526,.906922,-.219579,.329915,.89818,.919686,-.204491,.300441,.930013,.929044,-.188962,.269445,.962061,.938393,-.171079,.238402,.994214,.94661,-.15199,.208204,1.02533,.953095,-.131953,.178653,1.0529,.958644,-.111233,.150684,1.0771,.963925,-.0903098,.122359,1.09855,.971995,-.0680505,.0923342,1.11874,.981658,-.0448512,.0614195,1.13635,.991649,-.0221931,.0303582,1.15238,.999985,393403e-9,-111086e-9,1.16772,.396806,-971563e-11,.457671,842355e-11,.429186,-249421e-9,.495017,21625e-8,.429324,-998052e-9,.495173,865322e-9,.429175,-.00224487,.494999,.00194637,.429129,-.00399041,.494952,.00346004,.429153,-.00623476,.494974,.00540684,.429168,-.0089773,.494983,.00778714,.429207,-.0122175,.495012,.0106022,.429257,-.0159542,.495047,.0138535,.429338,-.0201864,.495106,.0175443,.429431,-.0249104,.495165,.0216774,.429587,-.0301252,.495279,.0262594,.429796,-.0358249,.495432,.0312968,.430065,-.0419972,.495621,.0367985,.430588,-.0485144,.496061,.042798,.43113,-.0555028,.496472,.0492914,.431743,-.0629852,.496904,.0562907,.432448,-.0709256,.497369,.0638056,.433414,-.0791942,.498032,.071885,.434638,-.0877346,.498854,.0805517,.43611,-.0968056,.499812,.0898047,.437859,-.106002,.500891,.0997142,.440017,-.115648,.502198,.110289,.443236,-.125427,.504389,.121644,.44697,-.135492,.506809,.133769,.451689,-.145746,.509858,.146787,.45811,-.156219,.514247,.160793,.465305,-.166834,.518816,.175791,.474085,-.177546,.524331,.191906,.484808,-.188262,.53104,.209199,.49732,-.199346,.538511,.227825,.509693,-.209951,.544554,.247269,.524367,-.220533,.551616,.267978,.539228,-.231082,.557368,.289672,.55644,-.241342,.563782,.31268,.574204,-.250964,.568851,.33651,.593388,-.260306,.57312,.362219,.613358,-.268667,.574916,.390322,.634512,-.275591,.575053,.420478,.65563,-.281328,.572404,.451614,.678265,-.285948,.568893,.484112,.70011,-.289408,.561878,.517348,.723005,-.291328,.55359,.551355,.743744,-.291418,.541099,.585109,.763949,-.290252,.526489,.619487,.784186,-.287648,.509496,.65404,.804304,-.283782,.491484,.688649,.823629,-.278067,.470517,.723133,.84094,-.270588,.44705,.757163,.857852,-.261188,.421252,.792816,.874934,-.249313,.394191,.827248,.888709,-.236492,.365359,.861074,.902589,-.222185,.336016,.894417,.914201,-.207314,.30527,.926825,.925978,-.191146,.274532,.9595,.93512,-.174135,.243393,.991583,.943656,-.155231,.212414,1.02356,.951719,-.134403,.182005,1.05239,.957164,-.113023,.153043,1.07754,.962656,-.0914493,.124186,1.09984,.970695,-.0694179,.0941654,1.12,.980749,-.0466199,.0629671,1.13849,.991205,-.0227032,.0311146,1.15494,.999884,632388e-9,-254483e-9,1.1706,.379821,-957289e-11,.460637,789337e-11,.405188,-247483e-9,.491396,204064e-9,.404796,-989434e-9,.490914,815853e-9,.40483,-.00222607,.490949,.00183559,.40473,-.00395723,.49084,.00326332,.404731,-.00618287,.490836,.00509945,.404768,-.00890258,.490871,.00734463,.404791,-.0121156,.490883,.00999992,.404857,-.0158214,.490938,.0130676,.404943,-.0200178,.491004,.0165503,.405059,-.0247027,.491093,.0204521,.405213,-.0298729,.491205,.0247788,.405399,-.0355226,.491333,.0295373,.405731,-.0416352,.491604,.034741,.406303,-.0480807,.492116,.0404255,.406814,-.0550458,.492506,.0465732,.407404,-.0624652,.492926,.0532058,.408149,-.0702958,.493442,.0603442,.409128,-.0784623,.494136,.0680297,.410408,-.087007,.495054,.0762786,.411813,-.0959639,.495962,.0851046,.413735,-.105075,.497257,.0945878,.416137,-.114646,.498882,.104725,.41934,-.124394,.501132,.11563,.423326,-.134328,.503883,.127325,.428419,-.14458,.50747,.139911,.43484,-.154979,.511964,.153481,.442641,-.165628,.517328,.168114,.452511,-.176365,.524258,.183995,.463473,-.187298,.531248,.200953,.475564,-.198244,.538367,.219176,.488664,-.208938,.545175,.238514,.504073,-.219599,.553227,.259129,.520832,-.230378,.560653,.280997,.538455,-.240703,.567523,.303821,.55709,-.250548,.573287,.327948,.576646,-.259964,.577795,.353362,.596705,-.268721,.580077,.380336,.618053,-.276054,.58018,.4101,.640303,-.282176,.578747,.44161,.662365,-.286931,.574294,.474106,.684542,-.290521,.567035,.507549,.707984,-.292672,.558687,.541853,.730913,-.293189,.547606,.576581,.752948,-.292199,.533471,.61172,.773452,-.289508,.516395,.646339,.794715,-.285716,.497873,.682131,.814251,-.280051,.476845,.716396,.833057,-.272873,.453449,.751503,.84959,-.263982,.427857,.786085,.867022,-.252745,.400335,.821355,.882277,-.239655,.371304,.85646,.895375,-.225386,.340397,.890828,.909347,-.209587,.310005,.923532,.921885,-.193433,.2796,.956419,.932127,-.176135,.247276,.989445,.941869,-.157872,.216186,1.02221,.949735,-.137577,.185602,1.05195,.956617,-.115285,.155767,1.07822,.961974,-.0928418,.126103,1.10149,.96972,-.0700592,.0956758,1.12207,.98012,-.0474671,.0643269,1.1408,.990825,-.0238113,.0320863,1.1577,.999876,381574e-9,-812203e-10,1.17403,.367636,-961342e-11,.469176,753287e-11,.380377,-244772e-9,.485434,191797e-9,.380416,-978857e-9,.485475,767015e-9,.380376,-.00220165,.485435,.00172522,.380419,-.00391408,.485487,.00306734,.380438,-.00611549,.485505,.00479332,.380462,-.00880558,.485525,.00690391,.380496,-.0119837,.485551,.00940039,.38056,-.0156487,.485605,.0122848,.38064,-.0197988,.485666,.0155601,.380767,-.0244324,.48577,.0192313,.380909,-.0295444,.485871,.0233032,.381142,-.0351321,.48606,.0277861,.381472,-.0411535,.486336,.0326939,.382015,-.0475408,.486833,.0380565,.382523,-.0544395,.487231,.0438615,.383129,-.061784,.487683,.0501332,.383952,-.0695085,.488313,.0568996,.38498,-.0775819,.489077,.0641952,.386331,-.0860443,.490113,.0720324,.387788,-.0948406,.491099,.0804379,.389808,-.103899,.492566,.0894899,.39252,-.113313,.494601,.0992098,.395493,-.123007,.496619,.109641,.399826,-.132859,.499912,.120919,.405341,-.143077,.504061,.133107,.411932,-.153465,.508905,.146263,.420591,-.164108,.515482,.160544,.43101,-.174893,.523191,.176123,.441881,-.185839,.53026,.192757,.453919,-.196633,.537295,.210535,.468715,-.207611,.546156,.229886,.485182,-.218517,.555173,.250543,.501926,-.229249,.562728,.27221,.51785,-.239481,.567494,.294892,.536947,-.249395,.573889,.318987,.557115,-.259,.578831,.344348,.577966,-.268075,.582055,.371223,.599489,-.276115,.583307,.399834,.62479,-.282523,.583902,.431415,.647504,-.287663,.57953,.464301,.670601,-.291538,.573103,.498123,.693539,-.293842,.563731,.532662,.717385,-.294681,.553169,.567925,.741533,-.293717,.539908,.603502,.762142,-.291156,.521902,.639074,.783014,-.28719,.502815,.674439,.805158,-.281773,.482598,.710497,.823646,-.274682,.458949,.7456,.841879,-.266184,.433129,.781085,.859515,-.255682,.406064,.816,.875335,-.242849,.376509,.851074,.890147,-.228329,.345502,.886473,.903144,-.212491,.31428,.920751,.916618,-.195695,.282994,.954606,.927953,-.178267,.251091,.988402,.937414,-.159549,.219107,1.02141,.946823,-.140022,.18896,1.05167,.954651,-.118154,.158667,1.07819,.959955,-.0946636,.128808,1.1025,.96858,-.0711792,.0973787,1.12391,.97938,-.0475046,.0650965,1.14322,.990498,-.024059,.0326267,1.16077,.999844,-512408e-10,112444e-9,1.17727,.316912,-934977e-11,.425996,695559e-11,.356423,-241372e-9,.479108,179562e-9,.356272,-965292e-9,.478897,71811e-8,.356262,-.00217182,.478894,.00161574,.356265,-.00386092,.478895,.00287261,.356278,-.0060324,.478905,.00448907,.356293,-.00868565,.478914,.00646572,.356346,-.0118207,.478965,.00880438,.356395,-.0154355,.479001,.0115066,.356484,-.019529,.479075,.0145762,.356609,-.0240991,.47918,.018018,.356766,-.0291413,.479305,.0218379,.357009,-.0346498,.479512,.0260454,.357424,-.0405462,.479909,.0306657,.357899,-.0468825,.480337,.0357054,.358424,-.0536887,.480771,.0411728,.359041,-.0609416,.481242,.0470841,.359903,-.0685239,.481943,.0534831,.360932,-.0764883,.482741,.0603795,.362196,-.0848364,.483688,.0678028,.363847,-.0935002,.484947,.0758086,.365972,-.102471,.486588,.0844173,.368741,-.111751,.488787,.0937199,.372146,-.121334,.491405,.103732,.377114,-.131147,.495604,.114608,.38226,-.141213,.499436,.126345,.389609,-.151632,.505334,.139116,.397925,-.162073,.51168,.152995,.407824,-.172819,.518876,.168071,.420014,-.183929,.527639,.184495,.434266,-.195032,.537588,.20232,.447352,-.205792,.544379,.221189,.463726,-.216704,.553422,.241616,.481406,-.227531,.562074,.263298,.498707,-.238017,.568227,.286116,.518039,-.247936,.574473,.3101,.538277,-.257437,.579191,.335401,.561166,-.266829,.584807,.362246,.583189,-.275329,.586476,.390609,.606024,-.28234,.585578,.420998,.632419,-.287924,.584496,.454357,.656128,-.291972,.577766,.488233,.679953,-.29456,.56875,.523248,.704654,-.295816,.558388,.559168,.729016,-.295157,.544826,.595326,.752062,-.292779,.528273,.631864,.773138,-.288681,.508482,.667793,.794869,-.283358,.487341,.704035,.815101,-.27608,.46354,.739925,.834212,-.26767,.438672,.775539,.852368,-.257397,.411239,.810895,.870207,-.245689,.3829,.846472,.884063,-.231452,.351496,.881788,.898284,-.215561,.31895,.917438,.912964,-.198208,.287367,.952422,.924666,-.180426,.254487,.987551,.934429,-.161525,.222226,1.02142,.943485,-.141197,.191143,1.05218,.9521,-.120085,.161112,1.07937,.957876,-.0975881,.130982,1.10403,.966943,-.0726842,.0990553,1.12616,.978313,-.0483705,.0662818,1.14619,.990048,-.0239072,.0329243,1.16413,.999984,461885e-9,-772859e-10,1.18099,.321287,-935049e-11,.455413,659662e-11,.332595,-237513e-9,.471437,167562e-9,.332729,-949964e-9,.471618,670192e-9,.332305,-.00213618,.471028,.00150712,.332326,-.00379765,.471055,.00267959,.332344,-.00593353,.471072,.00418751,.332356,-.00854349,.471077,.00603172,.332403,-.0116268,.471121,.00821362,.332461,-.0151824,.47117,.0107357,.332552,-.0192088,.471251,.0136014,.332657,-.0237024,.47133,.0168152,.332835,-.0286615,.471487,.0203853,.333083,-.0340765,.471708,.0243212,.333547,-.0398563,.47219,.0286518,.333989,-.0460916,.472587,.0333763,.334532,-.0527897,.473054,.0385084,.335167,-.0599284,.473568,.0440638,.33608,-.0673514,.474362,.0500962,.337146,-.0752237,.475231,.0566022,.338462,-.083418,.476282,.0636272,.34014,-.0919382,.477615,.0712153,.342341,-.100741,.479404,.079417,.345088,-.109905,.481618,.0882631,.349049,-.119369,.485081,.0978851,.353939,-.129033,.489317,.108336,.359893,-.139038,.494309,.119698,.366945,-.149411,.499983,.132024,.375814,-.159843,.507185,.145558,.387112,-.170664,.516392,.160433,.40023,-.181897,.526519,.176648,.412555,-.192785,.53423,.193922,.427023,-.203663,.542741,.212662,.443685,-.214695,.552066,.232944,.461499,-.225561,.560762,.254495,.480975,-.236257,.569421,.277531,.501,-.24639,.576101,.301724,.521691,-.256101,.581493,.327112,.543478,-.265289,.585221,.353917,.566094,-.273938,.587614,.381941,.589578,-.281679,.587991,.41172,.614583,-.287655,.585928,.444148,.641813,-.292228,.582092,.478617,.666189,-.295172,.57398,.51397,.690475,-.29648,.561676,.550118,.715543,-.296203,.548758,.586933,.740405,-.293999,.532792,.62384,.762183,-.28998,.512735,.660723,.786069,-.28478,.492402,.69807,.806812,-.277568,.469058,.734422,.826987,-.268951,.443017,.770946,.844588,-.259049,.415501,.80699,.863725,-.2471,.387328,.842107,.879137,-.234157,.356108,.878078,.894634,-.218719,.324315,.914058,.909162,-.201293,.291813,.949922,.92072,-.18267,.258474,.985337,.93158,-.163212,.225593,1.0205,.941238,-.142771,.193986,1.05273,.949293,-.120956,.163392,1.08075,.956226,-.0985743,.132934,1.10559,.96546,-.075118,.101255,1.12823,.977403,-.0497921,.0675441,1.149,.989648,-.0241574,.0334681,1.16765,1.00001,5762e-7,-184807e-9,1.18519,.303474,-916603e-11,.4542,61243e-10,.308894,-232869e-9,.462306,155592e-9,.309426,-931661e-9,.463093,622499e-9,.308643,-.0020949,.461933,.00139979,.308651,-.0037242,.461941,.00248874,.308662,-.00581873,.46195,.00388933,.308687,-.00837818,.461974,.00560247,.308728,-.0114016,.462011,.00762948,.308789,-.0148884,.462067,.00997326,.308882,-.0188369,.462151,.0126375,.309007,-.0232436,.462263,.0156271,.30918,-.0281054,.462417,.0189498,.309442,-.0334065,.462667,.0226167,.309901,-.0390589,.463162,.0266614,.310331,-.0452042,.463555,.0310715,.310858,-.0517735,.464019,.0358698,.311576,-.0587359,.464669,.0410848,.312436,-.0660383,.465406,.0467453,.313526,-.0737266,.466339,.0528718,.314903,-.0817574,.467504,.0595039,.316814,-.090167,.469226,.0666888,.318965,-.0987555,.470981,.0744658,.322077,-.107792,.473814,.082912,.325947,-.117098,.477241,.0920846,.331008,-.126602,.48184,.102137,.337893,-.136619,.488334,.113135,.345106,-.146838,.494415,.12511,.355111,-.157357,.503275,.138356,.365095,-.167955,.510966,.152686,.378344,-.179157,.521508,.16856,.391599,-.190143,.530455,.18561,.407786,-.20123,.541275,.204308,.425294,-.212456,.551784,.224623,.444021,-.223568,.561493,.246172,.463418,-.234154,.569886,.268979,.484077,-.244546,.577116,.293411,.505513,-.254301,.582914,.318936,.527672,-.263564,.587208,.345856,.550565,-.272332,.589277,.374054,.573656,-.280011,.588426,.403276,.59827,-.286924,.587504,.43474,.624731,-.291994,.583401,.468767,.652396,-.295159,.576997,.504411,.67732,-.296954,.565863,.54114,.703147,-.296877,.552316,.57816,.728715,-.295147,.536773,.616124,.752448,-.291275,.51771,.653885,.775169,-.285905,.496087,.691537,.799307,-.279064,.474232,.729251,.819482,-.270294,.447676,.766267,.837659,-.260032,.419656,.802616,.856903,-.248497,.391328,.838583,.873325,-.235252,.360285,.874711,.889788,-.221126,.329215,.91077,.904486,-.204304,.296392,.94653,.917711,-.185562,.262159,.983828,.928969,-.165635,.229142,1.01955,.939707,-.14442,.19673,1.05317,.948167,-.122147,.165095,1.0823,.955222,-.099098,.13451,1.10791,.964401,-.0755332,.102476,1.1312,.976605,-.0513817,.0689667,1.15218,.989085,-.0258499,.034506,1.17129,.999908,617773e-9,-271268e-9,1.18961,.285803,-905752e-11,.452348,572272e-11,.284689,-22732e-8,.450581,143626e-9,.285263,-910214e-9,.451482,575099e-9,.285302,-.00204784,.451553,.00129395,.285318,-.00364057,.451574,.0023006,.28533,-.00568813,.451585,.00359547,.285361,-.00819001,.451618,.00517934,.285397,-.0111458,.45165,.007054,.285447,-.0145536,.451688,.00922167,.285527,-.0184127,.451758,.0116869,.285688,-.0227207,.451929,.0144555,.28584,-.0274712,.452055,.0175341,.286136,-.0326278,.452369,.0209406,.286574,-.0381792,.452853,.0246965,.287012,-.0441879,.453272,.0287996,.287542,-.0506096,.453752,.033268,.288299,-.0573634,.454488,.0381504,.289186,-.0645458,.455294,.0434447,.290302,-.0720405,.456301,.0491973,.291776,-.0799046,.457648,.0554453,.29372,-.088117,.459483,.0622311,.296052,-.0965328,.461571,.0695992,.299563,-.105409,.465085,.077658,.30335,-.114553,.468506,.0864176,.309167,-.123917,.474423,.0961078,.31529,-.13381,.47995,.106643,.324163,-.144021,.488592,.118322,.333272,-.154382,.496461,.131133,.344224,-.165015,.50562,.145208,.357733,-.176168,.516719,.16073,.373046,-.187468,.528513,.177807,.38788,-.198488,.537713,.196072,.405133,-.209545,.547999,.21605,.423845,-.220724,.55759,.237484,.443777,-.231518,.566246,.26039,.464824,-.242035,.574326,.284835,.486635,-.251898,.58037,.310518,.51012,-.261304,.58568,.337678,.535301,-.270384,.590197,.366242,.559193,-.27841,.590569,.395873,.583544,-.285325,.588161,.426857,.608834,-.291113,.584249,.459477,.635753,-.294882,.57763,.494734,.664367,-.297088,.569479,.532023,.689688,-.297364,.555064,.569629,.715732,-.295949,.539522,.608124,.741307,-.292259,.521613,.646231,.764949,-.287063,.49969,.684938,.788599,-.28012,.476747,.723548,.81048,-.27153,.45116,.761135,.831372,-.261289,.424101,.798916,.850092,-.249559,.39443,.835952,.867777,-.236348,.363849,.871606,.884632,-.221569,.332477,.907843,.90047,-.20618,.300667,.944187,.914524,-.188771,.266552,.981371,.926892,-.168362,.232349,1.01841,.937951,-.146761,.199359,1.05308,.947236,-.123813,.1675,1.0839,.954367,-.099984,.136166,1.11047,.963907,-.0759278,.103808,1.13414,.976218,-.0511367,.0697061,1.15575,.988772,-.0267415,.0352529,1.17531,.999888,-520778e-9,289926e-9,1.19389,.263546,-883274e-11,.441896,526783e-11,.262352,-221849e-9,.439889,132311e-9,.262325,-886683e-9,.439848,528824e-9,.26228,-.00199476,.439765,.00118975,.262372,-.00354671,.439922,.00211568,.26239,-.00554141,.439941,.00330652,.262412,-.00797888,.439961,.00476346,.262453,-.0108584,.440002,.00648818,.262528,-.0141788,.440085,.0084835,.262615,-.017938,.440166,.0107533,.262744,-.0221346,.440291,.0133044,.262939,-.026762,.440493,.0161445,.263277,-.0317573,.440889,.0192974,.26368,-.0371832,.441338,.0227699,.264106,-.0430371,.441753,.0265698,.264624,-.0493035,.442227,.0307178,.265378,-.0558669,.442985,.0352616,.266253,-.0628718,.443795,.0401968,.267478,-.0701569,.445008,.04559,.269062,-.077845,.446599,.0514539,.270926,-.0857941,.448349,.0578382,.273693,-.0940773,.451221,.0648363,.276746,-.102704,.454097,.0724389,.281693,-.111735,.459517,.0808744,.287335,-.121004,.46531,.0901551,.29448,-.130734,.472605,.100371,.30257,-.140777,.480251,.111644,.312465,-.15111,.489444,.124111,.324856,-.16189,.500919,.137979,.33774,-.172946,.511317,.153163,.35255,-.184152,.522684,.169817,.367786,-.19522,.53248,.187886,.385474,-.20632,.543326,.207634,.404976,-.217744,.554109,.229165,.425203,-.228691,.563395,.252068,.446704,-.239299,.571565,.276471,.468951,-.249348,.577935,.302323,.493487,-.258933,.584309,.329882,.517861,-.268009,.58773,.358525,.543309,-.276238,.589612,.388585,.569704,-.28356,.589294,.419787,.594871,-.289497,.585137,.452114,.622555,-.294452,.580356,.486466,.651167,-.296918,.57185,.523079,.677332,-.297647,.558428,.5611,.703718,-.296321,.542232,.599592,.730262,-.293339,.524541,.639138,.754304,-.288036,.502691,.677978,.778051,-.281018,.479212,.716537,.801557,-.272414,.454071,.75586,.822559,-.262419,.425952,.794477,.843051,-.250702,.397313,.832664,.86232,-.237264,.366534,.869876,.879044,-.222716,.334816,.906973,.896362,-.206827,.303143,.943558,.910342,-.189659,.269699,.979759,.924119,-.171108,.236411,1.01718,.935374,-.149579,.202224,1.05289,.944295,-.126295,.16989,1.08496,.952227,-.101511,.138089,1.11256,.962041,-.0766392,.105053,1.1375,.97528,-.0511967,.070329,1.15983,.988476,-.025463,.0351268,1.17987,.999962,286808e-10,145564e-10,1.19901,.227089,-841413e-11,.404216,472707e-11,.239725,-215083e-9,.426708,120833e-9,.239904,-860718e-9,.427028,483555e-9,.239911,-.00193661,.427039,.00108806,.239914,-.00344276,.42704,.00193457,.239933,-.00537907,.427064,.00302363,.239944,-.00774482,.427065,.00435604,.239993,-.01054,.427122,.00593398,.240052,-.0137626,.427179,.00775987,.240148,-.0174115,.427279,.00983854,.240278,-.021484,.42741,.0121763,.240472,-.0259729,.427618,.0147827,.240839,-.0308131,.428086,.0176837,.241201,-.0360893,.428482,.0208775,.241626,-.0417723,.428907,.0243821,.242207,-.0478337,.42952,.0282228,.24298,-.0542199,.430332,.0324333,.243881,-.0610015,.431222,.0370252,.245123,-.0680874,.432512,.0420535,.24667,-.0755482,.434088,.0475414,.248779,-.0832873,.436323,.0535542,.251665,-.0913546,.439509,.0601716,.255305,-.0998489,.443478,.0674282,.260049,-.108576,.448713,.0754673,.266192,-.117754,.455524,.084339,.273158,-.127294,.4627,.0941683,.282131,-.137311,.472068,.10515,.293332,-.147736,.483565,.117402,.304667,-.158357,.493702,.130824,.317785,-.169274,.504708,.145724,.333245,-.180595,.517107,.16215,.349843,-.191892,.528849,.180149,.367944,-.203168,.540301,.199746,.387579,-.214443,.551514,.221047,.408247,-.225624,.560906,.243981,.43014,-.236422,.56959,.268513,.452669,-.24654,.576098,.294409,.476196,-.256157,.580925,.322002,.501157,-.265289,.584839,.351052,.527632,-.273671,.587614,.3812,.555754,-.281254,.589119,.412994,.581682,-.287448,.585204,.445498,.608196,-.292614,.579006,.479505,.635661,-.296068,.571297,.514643,.664999,-.297395,.560855,.552213,.691039,-.296645,.544525,.591365,.7179,-.293785,.526535,.630883,.744059,-.289089,.50545,.670932,.76863,-.282239,.482514,.710904,.793273,-.273688,.457246,.750259,.814731,-.26328,.428872,.78948,.835603,-.251526,.399384,.828597,.85489,-.238339,.368811,.866892,.872828,-.223607,.336617,.90563,.889462,-.207538,.303997,.943538,.904929,-.190297,.270812,.980591,.919101,-.172034,.237453,1.01935,.930536,-.152058,.204431,1.05498,.941223,-.129515,.172495,1.08717,.94982,-.104263,.140175,1.11551,.960592,-.0781944,.106465,1.14098,.974629,-.051688,.0711592,1.16418,.98811,-.0253929,.0354432,1.18465,1.00004,804378e-9,-330876e-9,1.20462,.214668,-821282e-11,.406619,433582e-11,.218053,-208144e-9,.413025,109887e-9,.217987,-832212e-9,.412901,439362e-9,.217971,-.00187246,.412876,988623e-9,.217968,-.00332855,.41286,.00175772,.217985,-.00520055,.412882,.00274729,.218014,-.00748814,.412916,.00395842,.218054,-.0101901,.412957,.00539274,.218106,-.0133057,.413005,.00705348,.218217,-.0168342,.413139,.00894581,.218338,-.0207707,.413258,.0110754,.21855,-.0251001,.413509,.0134551,.218913,-.0297861,.413992,.0161081,.219265,-.0348956,.414383,.0190307,.219696,-.0403909,.414839,.0222458,.220329,-.0462003,.415567,.025792,.220989,-.0524208,.41621,.0296637,.222027,-.058948,.417385,.0339323,.223301,-.0658208,.418779,.0386055,.224988,-.0730347,.420665,.0437355,.227211,-.0805274,.423198,.0493844,.230131,-.088395,.426566,.0556135,.233908,-.0966208,.43091,.0624829,.239092,-.105223,.437148,.0701636,.245315,-.11424,.444302,.0786949,.253166,-.12368,.453262,.0882382,.262374,-.133569,.463211,.0988682,.273145,-.143836,.474271,.110727,.285512,-.154577,.4863,.123945,.299512,-.165501,.498817,.138581,.314287,-.176698,.510341,.154676,.331083,-.188066,.522583,.172459,.349615,-.199597,.534879,.191979,.369318,-.210843,.546083,.21309,.390377,-.222068,.5562,.235998,.412411,-.233059,.564704,.260518,.435715,-.24357,.572314,.286795,.461196,-.253356,.579395,.314559,.485587,-.262362,.581985,.343581,.511908,-.270895,.584347,.374367,.539798,-.278452,.58505,.406015,.567974,-.284877,.583344,.439168,.594303,-.290124,.577348,.473005,.622951,-.294183,.570751,.508534,.652404,-.296389,.561541,.544764,.679291,-.296605,.546426,.582927,.706437,-.294095,.528599,.622681,.734485,-.28978,.508676,.663567,.758841,-.283363,.484768,.704092,.78537,-.275015,.460434,.745101,.807315,-.264689,.432166,.784712,.8271,-.252597,.401807,.824241,.849191,-.239154,.371458,.863803,.867046,-.224451,.338873,.903063,.8852,-.208342,.306175,.942763,.901771,-.190684,.272759,.981559,.915958,-.172105,.239306,1.02048,.928046,-.152214,.206071,1.05765,.939961,-.130247,.17367,1.08999,.948711,-.10672,.142201,1.11829,.959305,-.0808688,.108454,1.14467,.973009,-.0539145,.0728109,1.16839,.987631,-.0262947,.0360625,1.19004,.999978,.00132758,-559424e-9,1.21058,.193925,-793421e-11,.391974,392537e-11,.196746,-200315e-9,.397675,991033e-10,.19667,-801099e-9,.397521,396342e-9,.196633,-.00180246,.397445,891829e-9,.196654,-.00320443,.397482,.00158582,.196659,-.00500647,.39748,.00247867,.196683,-.0072086,.397506,.00357167,.196728,-.00981001,.397562,.00486675,.196792,-.0128096,.397633,.00636707,.19689,-.0162055,.397746,.00807752,.197017,-.0199943,.397884,.0100052,.19729,-.024139,.39827,.0121691,.197583,-.0286671,.398639,.0145755,.197927,-.0335858,.399034,.0172355,.198383,-.0388806,.399554,.0201718,.199002,-.0444736,.400289,.0234194,.199739,-.0504583,.401111,.026984,.200784,-.056729,.402349,.0309217,.202075,-.0633643,.403841,.0352496,.203898,-.0703247,.406076,.0400313,.206199,-.0775565,.408841,.0453282,.209252,-.085184,.41259,.0511794,.213638,-.0931994,.418288,.0577459,.21881,-.101617,.424681,.0650508,.225642,-.11052,.433429,.0732759,.233717,-.119772,.442897,.0824683,.242823,-.129505,.452888,.0927484,.254772,-.139906,.466407,.104417,.266603,-.150402,.477413,.117211,.28073,-.161395,.490519,.131598,.295399,-.172465,.50201,.147407,.312705,-.183982,.515311,.165031,.331335,-.195532,.52786,.184336,.351037,-.206971,.5392,.205361,.372175,-.218117,.54941,.228043,.394548,-.229327,.558642,.25267,.419598,-.240052,.567861,.279071,.443922,-.249937,.573332,.306882,.471495,-.259407,.58013,.33661,.496769,-.267749,.580564,.367328,.524951,-.275524,.581696,.399753,.55318,-.282148,.579885,.433134,.581577,-.287533,.575471,.467534,.609231,-.291612,.567445,.502943,.637478,-.293911,.557657,.53871,.667795,-.295096,.546535,.576568,.694272,-.294073,.529561,.614929,.722937,-.290386,.510561,.655909,.749682,-.284481,.487846,.697663,.774754,-.276188,.462487,.738515,.799301,-.266215,.43481,.779802,.820762,-.254116,.404879,.820045,.843231,-.240393,.374559,.860294,.861857,-.225503,.341582,.900965,.880815,-.209382,.308778,.941727,.89766,-.19155,.275232,.980916,.912926,-.172346,.240938,1.02162,.926391,-.151799,.207223,1.0597,.938429,-.129968,.17484,1.09291,.947834,-.10651,.142984,1.12248,.958432,-.0824098,.109902,1.149,.972402,-.0565242,.0744454,1.1733,.987191,-.028427,.0373794,1.19538,.999975,385685e-10,-4203e-8,1.21676,.178114,-766075e-11,.385418,354027e-11,.176074,-191966e-9,.381002,887135e-10,.17601,-767549e-9,.380861,354715e-9,.17598,-.00172696,.380798,798168e-9,.175994,-.00307012,.380824,.00141928,.176017,-.00479684,.380858,.00221859,.176019,-.00690648,.380839,.00319714,.176072,-.00939888,.380913,.0043572,.176131,-.0122726,.380979,.005702,.176239,-.0155264,.38112,.00723689,.176371,-.0191551,.381272,.00896907,.176638,-.023117,.381669,.0109194,.176912,-.0274633,.382015,.0130903,.177279,-.032173,.382476,.0154949,.17774,-.0372219,.383041,.0181669,.178344,-.0426132,.38378,.0211209,.179153,-.0483309,.384773,.0243899,.180197,-.0543447,.386076,.0280062,.181581,-.0607122,.387809,.032004,.18344,-.0673855,.390205,.036453,.186139,-.0743989,.393944,.0414162,.189432,-.0817731,.39832,.0469394,.193795,-.0895464,.404188,.0531442,.199641,-.0978264,.4121,.0601374,.206679,-.106499,.421425,.0680078,.214865,-.115654,.431504,.076919,.224406,-.125268,.442526,.0868835,.235876,-.135475,.455465,.0981875,.248335,-.146023,.4681,.110759,.262868,-.157016,.482069,.124885,.278962,-.168245,.496182,.140645,.295082,-.17958,.507401,.157838,.313738,-.191227,.520252,.17695,.333573,-.202718,.531708,.197817,.356433,-.214424,.544509,.220785,.378853,-.225492,.55373,.245306,.402717,-.236236,.561348,.271593,.428375,-.246568,.568538,.299776,.454724,-.255941,.573462,.329433,.482291,-.264511,.576356,.360598,.509706,-.272129,.576446,.393204,.538805,-.278979,.575298,.427227,.568919,-.284528,.572154,.462157,.596804,-.288801,.564691,.497997,.625987,-.291334,.555134,.534467,.656414,-.292722,.545051,.571736,.683916,-.292185,.528813,.610158,.711809,-.290043,.51106,.649061,.739547,-.285246,.490103,.690081,.766914,-.277647,.465523,.732554,.791375,-.267603,.437718,.773982,.814772,-.256109,.40882,.81609,.836691,-.242281,.377823,.856849,.856984,-.227155,.34496,.898363,.876332,-.210395,.311335,.939471,.894988,-.192612,.277703,.980799,.911113,-.173236,.243019,1.02215,.924092,-.152258,.209037,1.06139,.936828,-.129575,.175909,1.09635,.946869,-.10594,.143852,1.12707,.958284,-.081318,.110289,1.15419,.972325,-.0556133,.0747232,1.17909,.986878,-.0297899,.0383149,1.20163,.999936,-.00197169,912402e-9,1.22338,.151174,-720365e-11,.351531,309789e-11,.155594,-18279e-8,.361806,78608e-9,.156099,-731569e-9,.362982,314615e-9,.156053,-.00164578,.362869,707845e-9,.156093,-.0029261,.362961,.00125884,.156099,-.00457155,.362959,.00196783,.15612,-.00658224,.362982,.00283622,.156168,-.00895774,.363048,.00386625,.156221,-.0116962,.363101,.00506109,.156324,-.0147973,.363241,.00642675,.156476,-.0182503,.363448,.00797175,.156731,-.0220266,.36384,.00971484,.156994,-.026176,.364179,.0116575,.157341,-.0306701,.36462,.0138207,.157867,-.0354591,.365364,.0162356,.15846,-.0406141,.366111,.0189092,.159308,-.0460519,.367248,.021885,.160426,-.0518096,.368767,.0252004,.161877,-.0578906,.370745,.0288825,.163995,-.0642812,.373831,.0330139,.16655,-.0710067,.377366,.0376283,.170237,-.0781522,.382799,.0428493,.175096,-.0857172,.389915,.0487324,.181069,-.0938025,.398487,.0554214,.188487,-.102363,.408799,.0630189,.197029,-.111343,.419991,.071634,.206684,-.120812,.431455,.0812797,.218698,-.131033,.445746,.0923651,.230726,-.141373,.457471,.104545,.245516,-.152387,.472388,.118449,.261551,-.163628,.486671,.133923,.277437,-.174814,.49762,.150849,.296662,-.186713,.51162,.169924,.31795,-.198513,.525435,.190848,.339422,-.210119,.536267,.213504,.362143,-.221354,.545982,.237947,.387198,-.23224,.555364,.264427,.412349,-.24257,.561489,.292519,.439274,-.252284,.566903,.322561,.466779,-.261023,.569614,.353952,.496011,-.26899,.571589,.387278,.524964,-.275498,.570325,.421356,.556518,-.281449,.568792,.457314,.584363,-.285526,.560268,.493199,.614214,-.28844,.55205,.530276,.645684,-.289777,.541906,.56855,.673446,-.289722,.526464,.606927,.701924,-.287792,.509872,.645945,.73037,-.284315,.490649,.685564,.757405,-.278804,.467964,.726511,.784025,-.269543,.441468,.768601,.808255,-.258117,.41216,.811321,.830739,-.244728,.380606,.853496,.851914,-.229428,.348111,.895374,.872586,-.212508,.314732,.937674,.891581,-.194025,.280338,.979869,.907641,-.174711,.245203,1.02253,.922233,-.153509,.21077,1.06371,.935878,-.130418,.177399,1.09972,.946338,-.105558,.144507,1.13124,.957265,-.080059,.110508,1.15973,.971668,-.0539766,.0742311,1.18515,.9866,-.0277101,.0375224,1.20858,1.00021,-515531e-9,135226e-9,1.23135,.137468,-686011e-11,.345041,273315e-11,.13703,-173378e-9,.343936,690761e-10,.136986,-693048e-9,.34383,276126e-9,.136964,-.00155931,.343761,621337e-9,.137003,-.00277211,.343863,.00110494,.137012,-.00433103,.343868,.00172744,.137043,-.00623606,.343916,.00249022,.13709,-.0084868,.343986,.00339559,.137145,-.0110814,.344045,.00444687,.137242,-.0140187,.344177,.00565007,.137431,-.0172713,.344491,.00701868,.137644,-.0208605,.344805,.00856042,.13791,-.024792,.345172,.0102863,.138295,-.0290461,.345734,.0122185,.138764,-.0335957,.346371,.0143771,.139415,-.038467,.347298,.0167894,.140272,-.0436176,.348527,.0194895,.141457,-.0491016,.350276,.0225043,.14303,-.0548764,.352646,.0258962,.145289,-.0610096,.356206,.0297168,.148502,-.0674777,.361488,.0340562,.152188,-.074345,.367103,.0389534,.157359,-.0817442,.375247,.0445541,.16379,-.0896334,.385064,.0509535,.171376,-.098005,.396082,.0582611,.179901,-.106817,.407418,.06654,.189892,-.116239,.420031,.075994,.201838,-.12627,.434321,.0867239,.214311,-.136701,.447631,.0987517,.228902,-.147616,.462046,.112353,.245107,-.158871,.476942,.127605,.262292,-.170261,.490285,.144469,.281215,-.182017,.503783,.163282,.301058,-.193729,.515505,.183873,.322752,-.205512,.52682,.206466,.347547,-.217214,.539473,.231194,.370969,-.227966,.546625,.257288,.397533,-.238555,.55472,.285789,.42398,-.248278,.559468,.315746,.452928,-.257422,.564095,.347724,.482121,-.265306,.565426,.380922,.510438,-.272043,.563205,.415639,.541188,-.277614,.561087,.451702,.571667,-.281927,.554922,.48845,.602432,-.285015,.546838,.526442,.634126,-.286512,.537415,.564896,.662816,-.286388,.522906,.604037,.692411,-.284734,.507003,.643795,.720946,-.281297,.488398,.68298,.748293,-.276262,.466353,.723466,.776931,-.269978,.443573,.764565,.801065,-.260305,.415279,.805838,.825843,-.247426,.384773,.849985,.84807,-.232437,.352555,.893174,.869122,-.215806,.318642,.936564,.888963,-.197307,.28381,.980253,.905547,-.177203,.247888,1.02463,.918554,-.155542,.212904,1.06714,.931395,-.131948,.1787,1.10451,.941749,-.106723,.145902,1.13694,.954551,-.0804939,.111193,1.1666,.970279,-.0534239,.0744697,1.19249,.986117,-.0257452,.0368788,1.21665,.999938,.00190634,-.0010291,1.23981,.118493,-647439e-11,.32272,23772e-10,.118765,-163023e-9,.323456,598573e-10,.118772,-65212e-8,.323477,239447e-9,.118843,-.00146741,.323657,538881e-9,.118804,-.00260846,.323553,95826e-8,.118826,-.00407576,.323595,.00149845,.118846,-.00586826,.323617,.00216047,.118886,-.00798578,.32367,.00294679,.118947,-.0104273,.323753,.00386124,.119055,-.0131909,.323922,.00490999,.119241,-.0162444,.324251,.00610804,.11944,-.0196339,.324544,.00745805,.119739,-.0233378,.325026,.00897805,.12011,-.0273179,.325586,.0106895,.120571,-.0316143,.326231,.0126073,.12124,-.0361939,.327264,.0147654,.122162,-.0410511,.328733,.0172001,.123378,-.0462233,.330659,.0199375,.125183,-.0517109,.333754,.0230498,.127832,-.0575652,.338507,.026597,.130909,-.0637441,.343666,.0306345,.135221,-.0704302,.351063,.035273,.14082,-.0776364,.360604,.0406137,.146781,-.0852293,.369638,.0466788,.155121,-.0935351,.3827,.0537628,.16398,-.102234,.39522,.0617985,.173926,-.111465,.40793,.07097,.185137,-.121296,.42105,.0813426,.19826,-.13169,.435735,.0931596,.212938,-.142614,.450932,.106547,.229046,-.153884,.465726,.121575,.246246,-.165382,.479461,.138286,.264637,-.176806,.492106,.15666,.284959,-.188793,.504774,.17728,.308157,-.200763,.518805,.19988,.330951,-.21239,.528231,.224293,.3549,-.223521,.536376,.250541,.381502,-.234169,.544846,.278902,.409529,-.244077,.551717,.309227,.437523,-.253363,.55517,.341426,.467624,-.261659,.557772,.37518,.497268,-.268498,.556442,.41007,.528294,-.274018,.553915,.446445,.559053,-.278169,.549153,.483779,.589329,-.281229,.539878,.522249,.622503,-.282902,.53162,.561754,.652382,-.282815,.518119,.601544,.681847,-.281247,.502187,.641574,.712285,-.277986,.484824,.682633,.740094,-.273017,.463483,.723426,.768478,-.266692,.441299,.763747,.794556,-.258358,.415238,.805565,.819408,-.248807,.386912,.847254,.843411,-.236214,.356165,.891091,.862397,-.219794,.320562,.936174,.883113,-.201768,.285322,.982562,.90023,-.181672,.249713,1.02862,.915192,-.159279,.214546,1.07163,.928458,-.134725,.180285,1.10995,.94069,-.10913,.147119,1.14354,.953409,-.0821315,.112492,1.17372,.969537,-.0542677,.0752014,1.20043,.985612,-.0259096,.0370361,1.22528,.999835,.00298198,-.00151801,1.24959,.10097,-602574e-11,.300277,202619e-11,.101577,-152164e-9,.302077,511662e-10,.101572,-608889e-9,.302066,204751e-9,.101566,-.00136997,.302047,460753e-9,.101592,-.00243557,.302114,819497e-9,.101608,-.0038053,.30214,.00128154,.101627,-.00547906,.30216,.0018483,.101669,-.00745647,.302224,.00252223,.101732,-.00973615,.302318,.00330716,.101844,-.0123097,.302513,.00421061,.102025,-.0151681,.30285,.00524481,.102224,-.0183334,.303166,.0064154,.102515,-.0217819,.303654,.00774063,.102886,-.0255067,.304243,.0092398,.103395,-.029514,.305089,.0109339,.104109,-.0337912,.306301,.0128561,.105074,-.0383565,.30798,.0150338,.10654,-.0432132,.310726,.0175228,.108478,-.0484244,.314351,.0203648,.111015,-.0539339,.319032,.0236325,.114682,-.0598885,.32605,.0274188,.11911,-.0663375,.334109,.0317905,.124736,-.0733011,.344013,.0368502,.131479,-.0807744,.355358,.0427104,.139283,-.0888204,.367614,.0494788,.148054,-.0973394,.380072,.0572367,.159037,-.10665,.395678,.0662704,.169794,-.116221,.40795,.0763192,.18314,-.126632,.423546,.087956,.197515,-.137383,.438213,.101042,.213514,-.148641,.453248,.115827,.23065,-.160117,.46688,.132283,.249148,-.171807,.479962,.150644,.270219,-.183695,.494618,.171073,.292338,-.195574,.506937,.193378,.314999,-.207205,.516463,.217585,.340991,-.218955,.528123,.24428,.367982,-.229917,.537025,.272784,.39432,-.239737,.541627,.302742,.423364,-.249048,.546466,.335112,.453751,-.257329,.549466,.369032,.48416,-.264623,.549503,.404577,.515262,-.270411,.547008,.441337,.547036,-.274581,.542249,.479162,.576614,-.277266,.533015,.517904,.611143,-.279144,.525512,.558508,.640989,-.279001,.51154,.598995,.671182,-.277324,.495641,.639935,.700848,-.273908,.477526,.681017,.729862,-.269063,.457955,.722764,.758273,-.262282,.434846,.764349,.784121,-.254281,.409203,.806206,.809798,-.24505,.382694,.848617,.834953,-.233861,.354034,.892445,.856817,-.221308,.321764,.936263,.877609,-.205996,.288118,.982401,.897489,-.186702,.253277,1.02975,.913792,-.164618,.217963,1.07488,.92785,-.140023,.183221,1.11487,.940378,-.11328,.149385,1.14947,.95273,-.0853958,.114152,1.1807,.969059,-.0568698,.0769845,1.20912,.985574,-.0276502,.0381186,1.23498,.999943,.00239052,-.00126861,1.25987,.0852715,-560067e-11,.279021,171162e-11,.0854143,-140871e-9,.279483,430516e-10,.0854191,-563385e-9,.2795,172184e-9,.0854188,-.00126753,.279493,387464e-9,.0854229,-.00225337,.279501,68918e-8,.0854443,-.00352086,.279549,.00107803,.0854697,-.00506962,.279591,.00155536,.0855093,-.00689873,.279652,.00212354,.0855724,-.00900821,.279752,.00278703,.0856991,-.0113799,.280011,.0035551,.085855,-.0140314,.280297,.00443449,.0860682,-.016963,.280682,.00543636,.086344,-.0201438,.281159,.0065788,.0867426,-.0235999,.281886,.00787977,.087239,-.0273069,.282745,.0093606,.0879815,-.031269,.284139,.011056,.0891258,-.035531,.28647,.0130065,.0906909,-.0400947,.289708,.0152495,.0927624,-.0449638,.293904,.0178454,.0958376,-.0502427,.300471,.0208915,.0995827,-.0559514,.30806,.0244247,.104526,-.0622152,.317874,.0285721,.110532,-.0690046,.329332,.0334227,.117385,-.0763068,.341217,.0390466,.12522,-.084184,.353968,.0455786,.134037,-.0925248,.366797,.0530773,.144014,-.101487,.380209,.0617424,.156013,-.111273,.395956,.071777,.168872,-.121431,.41053,.0830905,.183089,-.132105,.425073,.0959341,.198763,-.143286,.439833,.110448,.216159,-.154841,.454507,.126769,.234859,-.166588,.468368,.14495,.255879,-.178626,.482846,.165233,.27677,-.190218,.493489,.187217,.301184,-.202227,.506549,.211659,.325852,-.213764,.5158,.237922,.352824,-.22487,.525442,.26632,.380882,-.235246,.532487,.296691,.410137,-.244847,.537703,.329179,.439787,-.253122,.540361,.363135,.472291,-.260517,.542734,.399222,.501856,-.266519,.538826,.436352,.534816,-.270905,.535152,.474505,.565069,-.273826,.525979,.513988,.597154,-.275333,.516394,.554852,.630473,-.275314,.506206,.596592,.660574,-.273323,.489769,.638117,.692015,-.270008,.472578,.680457,.720647,-.265001,.452134,.723008,.750528,-.258311,.430344,.765954,.777568,-.250046,.405624,.809012,.80387,-.240114,.378339,.852425,.828439,-.228737,.349877,.895346,.851472,-.216632,.318968,.940695,.873906,-.202782,.287489,.987235,.89467,-.187059,.254394,1.03348,.912281,-.168818,.221294,1.07812,.927358,-.146494,.18675,1.11928,.940385,-.120009,.152322,1.15609,.952672,-.0917183,.117514,1.18875,.968496,-.0620321,.0797405,1.21821,.985236,-.0314945,.0402383,1.24523,.99998,-575153e-9,110644e-9,1.27133,.0702429,-512222e-11,.255273,140947e-11,.0702981,-128826e-9,.255469,354488e-10,.0703691,-515562e-9,.255727,141874e-9,.0703805,-.00116,.255754,31929e-8,.0703961,-.00206224,.255813,567999e-9,.0704102,-.00322223,.255839,88871e-8,.0704298,-.00463928,.255863,.00128272,.0704759,-.00631375,.255953,.00175283,.0705434,-.00824317,.256079,.00230342,.0706693,-.010412,.25636,.0029443,.0708189,-.0128439,.256647,.00368031,.0710364,-.0155177,.257084,.00452614,.0713223,-.0184374,.257637,.00549706,.0717182,-.0216002,.258416,.00661246,.072321,-.0249966,.259699,.00790147,.0731446,-.0286566,.261475,.0093884,.0743352,-.0325888,.264132,.0111186,.0760676,-.036843,.26815,.013145,.078454,-.0414292,.273636,.0155251,.0818618,-.0464634,.281653,.0183525,.0857382,-.0519478,.289992,.0216642,.0908131,-.0579836,.30066,.0255956,.0967512,-.0645124,.312204,.0301954,.103717,-.0716505,.325001,.0356017,.111596,-.0793232,.338129,.041896,.120933,-.087645,.352853,.0492447,.130787,-.096492,.366192,.0576749,.142311,-.105973,.380864,.0673969,.155344,-.116182,.396575,.0785899,.169535,-.126815,.411443,.0912377,.185173,-.138015,.426256,.105607,.201755,-.149325,.439607,.121551,.221334,-.161207,.455467,.139608,.241461,-.173162,.469096,.159591,.26294,-.18504,.481014,.18156,.286776,-.196881,.493291,.205781,.311596,-.208311,.503556,.231819,.338667,-.219671,.513268,.260274,.366021,-.230451,.519414,.290862,.395875,-.240131,.526766,.323196,.425564,-.248566,.52905,.357071,.457094,-.256195,.530796,.393262,.488286,-.262331,.528703,.430797,.522291,-.267141,.52727,.470231,.554172,-.270411,.519848,.510477,.586427,-.271986,.510307,.551594,.619638,-.27192,.499158,.593849,.650656,-.269817,.483852,.636314,.68284,-.266267,.467515,.679679,.714356,-.26113,.44931,.723884,.742717,-.254067,.425789,.767245,.770894,-.245652,.401144,.811819,.797358,-.235554,.374224,.856315,.823377,-.223896,.346167,.901077,.847456,-.210865,.316056,.946502,.870697,-.196574,.284503,.993711,.891068,-.180814,.251628,1.04134,.909267,-.163314,.219065,1.08609,.925653,-.143304,.186446,1.12702,.940017,-.121322,.153416,1.16371,.952398,-.0973872,.120334,1.19712,.967568,-.0698785,.08352,1.22791,.984772,-.0390031,.0439209,1.25672,1.00026,-.0070087,.00315668,1.28428,.0556653,-459654e-11,.227325,112556e-11,.0565238,-116382e-9,.230826,284985e-10,.0565717,-465666e-9,.231026,114036e-9,.0565859,-.00104773,.231079,256656e-9,.0565761,-.00186255,.231025,45663e-8,.0565913,-.00291002,.231058,714664e-9,.0566108,-.00418998,.231085,.00103224,.0566532,-.00570206,.231169,.00141202,.0567473,-.00743666,.231417,.00186018,.0568567,-.00940298,.231661,.00238264,.0569859,-.0115991,.231895,.00298699,.0572221,-.0140096,.232456,.00368957,.057519,-.0166508,.233096,.00450303,.0579534,-.01951,.234094,.00544945,.0585922,-.0225991,.235629,.00655564,.0595647,-.0259416,.238106,.00785724,.0609109,-.0295661,.241557,.00939127,.0628751,-.0335126,.246652,.0112198,.0656908,-.0378604,.254091,.0134168,.0691347,-.0426543,.262666,.0160374,.0732165,-.0478967,.272029,.0191514,.0782863,-.0536716,.283007,.0228597,.0843973,-.0600683,.295732,.0272829,.0913598,-.0670095,.308779,.032484,.0994407,-.0745516,.322886,.0385886,.108189,-.082712,.336408,.0457133,.118574,-.0914927,.351692,.0539832,.129989,-.100854,.366502,.0635162,.142722,-.110837,.381675,.0744386,.156654,-.121353,.3963,.0868483,.172151,-.132414,.411477,.100963,.188712,-.143809,.42508,.116795,.208093,-.155765,.441328,.134715,.227936,-.167608,.454328,.154396,.249495,-.179579,.467235,.176179,.27362,-.191488,.480248,.200193,.296371,-.202618,.487886,.225775,.324234,-.214133,.499632,.25441,.353049,-.225212,.509532,.285077,.381785,-.234875,.514265,.317047,.414038,-.244205,.521282,.351874,.445251,-.252145,.522931,.388279,.476819,-.258433,.520947,.425825,.509209,-.263411,.517669,.465104,.542759,-.266732,.512841,.505741,.574822,-.268263,.503317,.547611,.609324,-.268489,.493035,.590953,.641772,-.266941,.478816,.63488,.674049,-.263297,.462863,.679072,.705071,-.257618,.442931,.723487,.734709,-.250625,.421299,.768708,.763704,-.24179,.397085,.814375,.791818,-.231115,.370577,.859907,.817439,-.21922,.34232,.906715,.843202,-.205658,.312627,.953943,.866639,-.190563,.280933,1.00185,.888129,-.173978,.248393,1.05105,.907239,-.155485,.216007,1.09704,.923893,-.134782,.183233,1.13857,.938882,-.11249,.150376,1.17539,.952464,-.0890706,.117177,1.20924,.968529,-.0646523,.0813095,1.24055,.984763,-.038606,.0439378,1.27018,1.00053,-.01238,.00598668,1.29873,.0437928,-409594e-11,.204012,879224e-12,.0440166,-103395e-9,.205049,221946e-10,.0440529,-413633e-9,.205225,887981e-10,.0440493,-930594e-9,.2052,199858e-9,.0439884,-.00165352,.204901,355495e-9,.0440716,-.0025849,.205255,556983e-9,.0440968,-.00372222,.205311,805326e-9,.0441359,-.00506478,.205391,.00110333,.0442231,-.00660384,.205638,.00145768,.0443254,-.00835246,.205877,.00187275,.0444832,-.0102992,.20627,.00235938,.0447001,-.0124449,.206796,.0029299,.0450168,-.0147935,.207593,.0036005,.0454816,-.017336,.208819,.00439246,.0462446,-.0201156,.211036,.00533864,.0473694,-.0231568,.214388,.00646984,.0490191,-.0264941,.219357,.00783856,.0512776,-.030184,.226061,.00950182,.0541279,-.0342661,.234094,.0115156,.0578989,-.0388539,.244297,.0139687,.0620835,-.0438735,.254457,.0169015,.0673497,-.04951,.266706,.0204554,.0731759,-.0556263,.278753,.0246606,.0803937,-.0624585,.29309,.0297126,.0879287,-.0697556,.305856,.0355868,.0970669,-.0778795,.321059,.0425768,.106508,-.0863541,.333873,.05056,.11776,-.0955935,.349008,.0598972,.130081,-.105438,.363776,.0706314,.144454,-.115899,.380112,.0828822,.1596,-.126827,.394843,.0967611,.176097,-.138161,.409033,.112381,.194726,-.149904,.424257,.129952,.213944,-.161675,.436945,.149333,.235516,-.173659,.450176,.170892,.260564,-.185963,.466305,.194984,.285183,-.197582,.477328,.220805,.311095,-.208697,.486566,.248694,.338924,-.219519,.494811,.279015,.369757,-.229766,.504065,.311725,.3996,-.238879,.507909,.345844,.430484,-.246802,.509805,.381749,.46413,-.253924,.511436,.420251,.497077,-.259319,.508787,.459957,.530434,-.263297,.50394,.501356,.565725,-.265619,.49804,.544252,.599254,-.265842,.487346,.587856,.631251,-.263978,.472975,.631969,.663972,-.26043,.457135,.677471,.697724,-.255358,.439844,.723744,.727725,-.248308,.417872,.770653,.756417,-.239181,.39273,.817357,.785419,-.22814,.367839,.864221,.81266,-.215681,.339449,.912701,.839391,-.201623,.309279,.962419,.86366,-.185624,.278029,1.0122,.885028,-.16797,.245294,1.06186,.904639,-.148336,.212689,1.10934,.922048,-.12637,.179616,1.15063,.936952,-.102928,.146749,1.18885,.951895,-.0785268,.112733,1.22352,.967198,-.0530153,.0760056,1.25681,.984405,-.02649,.0383183,1.28762,1.00021,70019e-8,-20039e-8,1.31656,.0325964,-355447e-11,.176706,655682e-12,.0329333,-899174e-10,.178527,165869e-10,.0329181,-359637e-9,.178453,663498e-10,.0329085,-808991e-9,.178383,149332e-9,.0329181,-.00143826,.178394,265873e-9,.0329425,-.00224678,.178517,416597e-9,.0329511,-.00323575,.17849,603299e-9,.033011,-.00439875,.178695,829422e-9,.0330733,-.00574059,.178843,.00109908,.0331857,-.00725896,.179176,.00141933,.0333445,-.00895289,.179618,.0017999,.0335674,-.0108219,.180238,.00225316,.033939,-.0128687,.181417,.00279765,.0345239,-.015114,.183395,.0034564,.0354458,-.017596,.186616,.00425864,.0368313,-.0203524,.191547,.00524936,.0386115,-.0234105,.197508,.00647033,.0410303,-.0268509,.205395,.00798121,.0442245,-.0307481,.215365,.0098557,.0478659,-.0350863,.225595,.0121417,.0522416,-.0399506,.236946,.0149385,.0574513,-.045357,.249442,.0183189,.0631208,-.0512863,.261222,.0223644,.0701124,-.0579273,.275418,.0272418,.0777331,-.0650652,.288989,.0329458,.0862709,-.0728813,.302546,.0396819,.096103,-.081363,.317164,.04757,.106976,-.0904463,.331733,.0567012,.119175,-.100105,.34661,.067202,.132919,-.110375,.362249,.0792588,.147727,-.121115,.376978,.0928672,.163618,-.132299,.390681,.108228,.182234,-.143887,.406571,.125502,.201809,-.155827,.42042,.144836,.225041,-.168357,.438411,.166706,.247621,-.18004,.450368,.189909,.27097,-.191536,.460083,.215251,.296658,-.203024,.469765,.243164,.325892,-.214056,.481837,.273388,.35406,-.224104,.487474,.305344,.384372,-.233489,.492773,.339741,.41749,-.241874,.498451,.376287,.45013,-.248834,.499632,.414195,.481285,-.254658,.495233,.454077,.519183,-.259367,.496401,.496352,.551544,-.261818,.487686,.538798,.587349,-.262964,.479453,.583626,.621679,-.262128,.467709,.629451,.654991,-.258998,.452123,.67566,.686873,-.254119,.433495,.723248,.719801,-.246946,.413657,.771156,.750355,-.237709,.390366,.81989,.780033,-.226549,.364947,.868601,.809254,-.214186,.337256,.920034,.836576,-.199639,.307395,.971706,.861774,-.183169,.275431,1.02479,.885707,-.165111,.243431,1.07837,.904742,-.144363,.210921,1.12783,.915604,-.121305,.17647,1.17254,.930959,-.0962119,.143106,1.21012,.948404,-.069969,.108112,1.24474,.967012,-.0427586,.0708478,1.27718,.984183,-.0147043,.032335,1.3083,.999577,.0142165,-.00726867,1.3382,.0229227,-299799e-11,.148623,462391e-12,.0232194,-758796e-10,.15054,117033e-10,.0232315,-303636e-9,.15063,468397e-10,.0232354,-683189e-9,.150624,105472e-9,.0232092,-.0012136,.150445,187744e-9,.0232523,-.00189765,.150679,294847e-9,.0232828,-.00273247,.150789,428013e-9,.0233371,-.00371287,.150995,591134e-9,.0234015,-.00484794,.15118,787642e-9,.023514,-.00612877,.151562,.00102547,.023679,-.00756125,.152116,.00131351,.0239559,-.00914651,.153162,.00166594,.0244334,-.010904,.155133,.00210182,.025139,-.0128615,.158035,.00264406,.0262598,-.0150628,.162751,.00332923,.0277875,-.0175532,.168944,.00419773,.0298472,-.0203981,.176835,.00530034,.0325444,-.023655,.186686,.00669777,.0355581,-.0272982,.196248,.00842661,.0392841,-.0314457,.207352,.0105854,.0436815,-.0361157,.219279,.0132458,.0485272,-.0412932,.230728,.0164736,.0541574,-.0470337,.242994,.0203715,.0609479,-.0535002,.257042,.0250953,.0685228,-.0605409,.27102,.0306856,.0768042,-.0680553,.28406,.037193,.0864844,-.0765011,.299186,.0449795,.0969415,-.0852674,.3132,.0538316,.108478,-.0947333,.327138,.0641149,.121705,-.10481,.342345,.0759185,.136743,-.115474,.358472,.0894116,.152986,-.126536,.374067,.104562,.170397,-.138061,.388267,.121632,.191392,-.150203,.406467,.140996,.211566,-.161751,.418641,.161696,.233567,-.173407,.430418,.184557,.257769,-.185397,.44277,.210092,.28531,-.197048,.457191,.237827,.311726,-.20784,.464712,.267253,.340537,-.218345,.472539,.299332,.372921,-.228306,.482331,.333988,.402924,-.236665,.484378,.369722,.434475,-.244097,.484717,.407836,.469736,-.250547,.487093,.448465,.505045,-.25511,.485575,.490263,.540262,-.258444,.481225,.534495,.576347,-.259903,.473481,.579451,.608656,-.259572,.4603,.625604,.646679,-.257908,.450341,.674511,.679902,-.253663,.431561,.723269,.714159,-.247419,.412684,.773263,.745345,-.239122,.389388,.824182,.778248,-.228837,.365361,.876634,.807208,-.216197,.337667,.92945,.835019,-.201772,.307197,.985261,.860261,-.185291,.274205,1.04299,.877601,-.165809,.240178,1.09816,.898211,-.143897,.207571,1.14694,.915789,-.119513,.174904,1.19008,.931831,-.0932919,.141423,1.2297,.949244,-.0656528,.105603,1.26553,.967527,-.0370262,.0679551,1.29986,.984139,-.00730117,.0283133,1.33252,.999713,.0234648,-.0121785,1.36397,.0152135,-245447e-11,.122795,304092e-12,.0151652,-615778e-10,.122399,76292e-10,.0151181,-245948e-9,.122023,304802e-10,.0151203,-553394e-9,.12203,686634e-10,.015125,-983841e-9,.122037,122463e-9,.0151427,-.00153774,.12214,192706e-9,.0151708,-.0022103,.122237,281219e-9,.0152115,-.00300741,.12238,390804e-9,.0152877,-.00392494,.1227,526317e-9,.015412,-.00496597,.123244,69443e-8,.0156201,-.00613314,.124228,90547e-8,.0159658,-.00744113,.125945,.0011732,.0165674,-.00892546,.129098,.00151888,.017487,-.010627,.133865,.00197007,.018839,-.0126043,.140682,.0025637,.020554,-.0148814,.148534,.00333637,.0226727,-.0175123,.157381,.00433738,.0251879,-.0205266,.166685,.00561664,.0283635,-.0240319,.177796,.00725563,.0318694,-.0279432,.188251,.00928811,.0361044,-.0324313,.200038,.011835,.0406656,-.0373527,.210685,.0149146,.0463846,-.0430132,.224182,.0187254,.0525696,-.0491013,.23634,.0232283,.0598083,-.0559175,.250013,.0286521,.0679437,-.0633657,.263981,.0350634,.0771181,-.0714602,.278072,.0425882,.0881273,-.0803502,.29511,.0514487,.0996628,-.0896903,.309976,.0615766,.112702,-.099644,.325611,.0732139,.126488,-.109829,.339321,.0862324,.142625,-.120859,.35574,.101275,.15953,-.131956,.369845,.117892,.176991,-.143145,.38146,.136205,.199715,-.155292,.40052,.157252,.220787,-.167066,.412055,.179966,.243697,-.178396,.423133,.204418,.272106,-.190433,.439524,.232141,.297637,-.201265,.447041,.261109,.325273,-.211834,.454488,.292627,.357219,-.221889,.465004,.326669,.387362,-.230729,.468527,.362426,.423131,-.23924,.475836,.401533,.45543,-.246067,.475017,.441902,.493393,-.251557,.478017,.484239,.526253,-.255571,.4709,.528586,.560554,-.257752,.463167,.574346,.599306,-.258076,.456452,.621655,.634541,-.256471,.443725,.670492,.668907,-.253283,.428719,.721943,.705619,-.247562,.411348,.772477,.739034,-.240626,.388939,.8264,.771408,-.231493,.36425,.881702,.803312,-.220125,.337321,.9385,.828457,-.206645,.305364,.997437,.854819,-.190664,.273715,1.05693,.878666,-.171429,.242218,1.11251,.898404,-.149235,.209556,1.16398,.917416,-.12435,.176863,1.21014,.933133,-.0972703,.142775,1.25178,.95066,-.0683607,.106735,1.29028,.968589,-.0378724,.0681609,1.32703,.984776,-.00605712,.0273966,1.36158,.99994,.0263276,-.0138124,1.3943,.00867437,-186005e-11,.0928979,173682e-12,.00864003,-466389e-10,.0925237,435505e-11,.00864593,-186594e-9,.0925806,174322e-10,.00864095,-419639e-9,.0924903,392862e-10,.00863851,-746272e-9,.0924589,702598e-10,.00868531,-.00116456,.0929,111188e-9,.00869667,-.00167711,.0928529,163867e-9,.00874332,-.00228051,.0930914,23104e-8,.00882709,-.00297864,.0935679,31741e-8,.00898874,-.00377557,.0946165,430186e-9,.00929346,-.00469247,.0967406,580383e-9,.00978271,-.00575491,.100084,783529e-9,.0105746,-.00701514,.105447,.00106304,.0116949,-.00851797,.112494,.00144685,.0130419,-.0102757,.119876,.00196439,.0148375,-.012381,.129034,.00266433,.0168725,-.01482,.137812,.00358364,.0193689,-.0176563,.147696,.00478132,.0222691,-.0209211,.157795,.00631721,.0256891,-.0246655,.168431,.00826346,.0294686,-.0288597,.178587,.0106714,.0340412,-.0336441,.190251,.0136629,.0393918,-.039033,.202999,.0173272,.0453947,-.0450087,.215655,.0217448,.0521936,-.0515461,.228686,.0269941,.0600279,-.058817,.242838,.033272,.0692398,-.0667228,.258145,.0406457,.0793832,-.0752401,.273565,.0492239,.0902297,-.0841851,.287735,.0590105,.102014,-.0936479,.301161,.0702021,.116054,-.103967,.317438,.0832001,.13191,-.114622,.334166,.0977951,.148239,-.125452,.348192,.113985,.165809,-.136453,.361094,.131928,.184616,-.147648,.373534,.151811,.207491,-.159607,.39101,.174476,.230106,-.171119,.402504,.198798,.257036,-.182906,.418032,.225796,.281172,-.193605,.425468,.254027,.312034,-.204771,.440379,.285713,.340402,-.214988,.445406,.319196,.370231,-.224711,.44968,.35537,.407105,-.233516,.460747,.393838,.439037,-.240801,.460624,.433747,.47781,-.24762,.465957,.477234,.510655,-.251823,.460054,.52044,.550584,-.255552,.459172,.567853,.585872,-.257036,.450311,.615943,.620466,-.257535,.437763,.667693,.660496,-.255248,.426639,.718988,.695578,-.251141,.409185,.772503,.732176,-.244718,.39015,.827023,.760782,-.236782,.362594,.885651,.79422,-.225923,.33711,.943756,.824521,-.213855,.308272,1.00874,.854964,-.197723,.278529,1.06764,.878065,-.179209,.246208,1.12836,.899834,-.157569,.21329,1.18318,.918815,-.133206,.181038,1.23161,.934934,-.106545,.146993,1.27644,.952115,-.0780574,.111175,1.31842,.96906,-.0478279,.0728553,1.35839,.985178,-.0160014,.032579,1.39697,1.00039,.0173126,-.0095256,1.43312,.00384146,-124311e-11,.0613583,778271e-13,.00390023,-314043e-10,.0622919,196626e-11,.00389971,-125622e-9,.0622632,787379e-11,.00389491,-282352e-9,.0620659,1778e-8,.00391618,-502512e-9,.0624687,320918e-10,.00392662,-784458e-9,.0625113,515573e-10,.00396053,-.00112907,.0628175,778668e-10,.00401911,-.00153821,.0633286,113811e-9,.00414994,-.0020208,.0646443,16445e-8,.00441223,-.00260007,.0673886,237734e-9,.00484427,-.0033097,.0716528,345929e-9,.00549109,-.00418966,.0774998,505987e-9,.00636293,-.00527331,.0844758,739208e-9,.00746566,-.00660428,.0921325,.00107347,.00876625,-.00818826,.0997067,.00153691,.0103125,-.0100811,.107433,.00217153,.0123309,-.0123643,.117088,.00303427,.0146274,-.0150007,.126438,.00416018,.0172295,-.0180531,.135672,.00561513,.0204248,-.0215962,.146244,.007478,.0241597,-.0256234,.157481,.00981046,.0284693,-.0302209,.169125,.0127148,.033445,-.0353333,.181659,.0162453,.0391251,-.0410845,.1944,.0205417,.0454721,-.0473451,.207082,.0256333,.0530983,-.0542858,.221656,.0317036,.0615356,-.0618384,.236036,.0388319,.0703363,-.0697631,.248398,.046974,.0810391,-.0784757,.263611,.0565246,.0920144,-.0873488,.275857,.0671724,.105584,-.0973652,.292555,.0798105,.119506,-.107271,.306333,.0935945,.134434,-.117608,.318888,.109106,.153399,-.128938,.337552,.127074,.171258,-.139944,.349955,.14643,.191059,-.151288,.361545,.168,.215069,-.163018,.378421,.192082,.237838,-.174226,.38879,.217838,.266965,-.186063,.405857,.246931,.292827,-.196909,.414146,.277505,.324352,-.207473,.426955,.310711,.354427,-.217713,.433429,.346794,.389854,-.227183,.443966,.385237,.420749,-.235131,.44471,.424955,.459597,-.242786,.451729,.468446,.495316,-.248767,.45072,.513422,.534903,-.253351,.450924,.560618,.572369,-.256277,.445266,.609677,.612383,-.2576,.438798,.660995,.644037,-.256931,.421693,.713807,.686749,-.254036,.4109,.767616,.719814,-.249785,.390151,.82533,.754719,-.244283,.367847,.888311,.792022,-.235076,.345013,.948177,.822404,-.225061,.316193,1.01661,.853084,-.211113,.287013,1.08075,.879871,-.19449,.255424,1.14501,.901655,-.174023,.222879,1.20203,.919957,-.1509,.18989,1.25698,.938412,-.124923,.15606,1.30588,.953471,-.0968139,.120512,1.3529,.970451,-.066734,.0828515,1.3986,.985522,-.034734,.0424458,1.44148,1.00099,-.00102222,678929e-9,1.48398,965494e-9,-627338e-12,.0306409,197672e-13,99168e-8,-158573e-10,.0314638,499803e-12,991068e-9,-634012e-10,.031363,200682e-11,974567e-9,-14144e-8,.03036,457312e-11,998079e-9,-252812e-9,.031496,860131e-11,.00102243,-396506e-9,.0319955,148288e-10,.00107877,-577593e-9,.0331376,249141e-10,.00121622,-816816e-9,.0359396,423011e-10,.0014455,-.00113761,.0399652,724613e-10,.00178791,-.00156959,.0450556,123929e-9,.00225668,-.00214064,.0508025,208531e-9,.00285627,-.00287655,.0568443,341969e-9,.0035991,-.00380271,.0630892,544158e-9,.00455524,-.00496264,.0702204,842423e-9,.00569143,-.0063793,.0773426,.00126704,.00716928,-.00813531,.0860839,.00186642,.00885307,-.0101946,.0944079,.00267014,.0109316,-.0126386,.103951,.00374033,.0133704,-.0154876,.113786,.0051304,.0161525,-.0187317,.123477,.00688858,.0194267,-.0224652,.133986,.00910557,.0230967,-.0265976,.143979,.0118074,.0273627,-.0312848,.154645,.0151266,.0323898,-.0365949,.166765,.0191791,.0379225,-.0422914,.177932,.0239236,.0447501,-.0487469,.19167,.0296568,.0519391,-.0556398,.203224,.0362924,.0599464,-.0631646,.215652,.0440585,.0702427,-.0714308,.232089,.0531619,.0806902,-.0800605,.245258,.0634564,.0923194,-.0892815,.258609,.0752481,.106938,-.09931,.276654,.0888914,.121238,-.109575,.289847,.104055,.138817,-.120461,.307566,.121266,.15595,-.131209,.320117,.139944,.178418,-.143049,.339677,.161591,.197875,-.154074,.349886,.184303,.224368,-.166307,.369352,.210669,.252213,-.178051,.386242,.238895,.277321,-.189335,.395294,.269182,.310332,-.200683,.412148,.302508,.338809,-.210856,.418266,.337264,.372678,-.220655,.428723,.374881,.405632,-.230053,.433887,.415656,.442293,-.237993,.439911,.457982,.477256,-.244897,.440175,.502831,.515592,-.250657,.441079,.550277,.550969,-.255459,.435219,.601102,.592883,-.257696,.432882,.651785,.629092,-.259894,.421054,.708961,.672033,-.258592,.41177,.763806,.709147,-.256525,.395267,.824249,.745367,-.254677,.375013,.8951,.784715,-.247892,.353906,.959317,.818107,-.240162,.327801,1.03153,.847895,-.229741,.298821,1.10601,.879603,-.213084,.269115,1.164,.902605,-.195242,.236606,1.22854,.922788,-.174505,.203442,1.29017,.944831,-.150169,.169594,1.34157,.959656,-.124099,.135909,1.3956,.972399,-.0960626,.0990563,1.45128,.986549,-.0657097,.0602348,1.50312,1.00013,-.0333558,.0186694,1.55364,619747e-11,-1e-7,.00778326,796756e-16,237499e-13,-999999e-13,282592e-10,114596e-15,100292e-11,-166369e-11,250354e-9,677492e-14,350752e-11,-637769e-11,357289e-9,631655e-13,826445e-11,-174689e-10,516179e-9,31851e-11,242481e-10,-450868e-10,.0010223,130577e-11,455631e-10,-89044e-9,.00144302,374587e-11,971222e-10,-178311e-9,.00241912,102584e-10,171403e-9,-313976e-9,.00354938,236481e-10,292747e-9,-520026e-9,.00513765,496014e-10,789827e-9,-.00118187,.0238621,139056e-9,.00114093,-.00171827,.0286691,244093e-9,.00176119,-.00249667,.0368565,420623e-9,.0022233,-.00333742,.0400469,65673e-8,.00343382,-.00481976,.0535751,.00109323,.00427602,-.00600755,.057099,.00155268,.00461435,-.00737637,.0551084,.00215031,.00695698,-.00971401,.0715767,.00316529,.00867619,-.0120943,.0793314,.00436995,.0106694,-.0148202,.0869391,.0058959,.0140351,-.0183501,.101572,.00798757,.0168939,-.022006,.11018,.0104233,.020197,-.0261568,.119041,.0134167,.0254702,-.0312778,.135404,.0173009,.0298384,-.0362469,.1437,.0215428,.035159,-.042237,.15512,.0268882,.0427685,-.0488711,.17128,.033235,.0494848,-.0557997,.181813,.0404443,.0592394,-.0635578,.198745,.0490043,.0681463,-.071838,.210497,.0588239,.0804753,-.0809297,.228864,.0702835,.0942205,-.0906488,.247008,.0834012,.106777,-.100216,.258812,.0975952,.124471,-.110827,.278617,.114162,.138389,-.121193,.287049,.131983,.159543,-.13253,.307151,.152541,.176432,-.143611,.31564,.174673,.201723,-.15548,.33538,.199842,.229721,-.167166,.355256,.227097,.250206,-.178238,.360047,.256014,.282118,-.189905,.378761,.28855,.312821,-.201033,.39181,.323348,.341482,-.211584,.397716,.360564,.377368,-.221314,.410141,.400004,.418229,-.230474,.423485,.442371,.444881,-.239443,.418874,.488796,.488899,-.245987,.427545,.535012,.520317,-.253948,.422147,.589678,.568566,-.256616,.42719,.637683,.599607,-.26376,.415114,.703363,.64222,-.268687,.408715,.771363,.685698,-.2694,.399722,.83574,.732327,-.266642,.388651,.897764,.769873,-.267712,.369198,.983312,.806733,-.263479,.346802,1.06222,.843466,-.254575,.321368,1.13477,.873008,-.242749,.29211,1.20712,.908438,-.22725,.262143,1.27465,.936321,-.207621,.228876,1.33203,.950353,-.187932,.19484,1.40439,.96442,-.165154,.163178,1.4732,.979856,-.139302,.127531,1.53574,.982561,-.11134,.0903457,1.59982,.996389,-.0808124,.0489007,1.6577],n=[1,0,0,0,1,791421e-36,0,0,1,104392e-29,0,0,1,349405e-26,0,0,1,109923e-23,0,0,1,947414e-22,0,0,1,359627e-20,0,0,1,772053e-19,0,0,1,108799e-17,0,0,1,110655e-16,0,0,1,865818e-16,0,0,.999998,545037e-15,0,0,.999994,285095e-14,0,0,.999989,126931e-13,0,0,.999973,489938e-13,0,0,.999947,166347e-12,0,0,.999894,502694e-12,0,0,.999798,136532e-11,0,0,.999617,335898e-11,0,0,.999234,752126e-11,0,0,.998258,152586e-10,0,0,.99504,266207e-10,0,0,.980816,236802e-10,0,0,.967553,207684e-11,0,0,.966877,403733e-11,0,0,.965752,741174e-11,0,0,.96382,127746e-10,0,0,.960306,202792e-10,0,0,.953619,280232e-10,0,0,.941103,278816e-10,0,0,.926619,160221e-10,0,0,.920983,235164e-10,0,0,.912293,311924e-10,0,.0158731,.899277,348118e-10,0,.0476191,.880884,26041e-9,0,.0793651,.870399,338726e-10,0,.111111,.856138,392906e-10,0,.142857,.837436,372874e-10,0,.174603,.820973,392558e-10,0,.206349,.803583,434658e-10,0,.238095,.782168,40256e-9,0,.269841,.764107,448159e-10,0,.301587,.743092,457627e-10,0,.333333,.721626,455314e-10,0,.365079,.700375,477335e-10,0,.396825,.677334,461072e-10,0,.428571,.655702,484393e-10,0,.460317,.632059,464583e-10,0,.492064,.610125,483923e-10,0,.52381,.58653,464342e-10,0,.555556,.564508,477033e-10,0,.587302,.541405,459263e-10,0,.619048,.519556,46412e-9,0,.650794,.497292,448913e-10,0,.68254,.475898,445789e-10,0,.714286,.454722,433496e-10,0,.746032,.434042,423054e-10,0,.777778,.414126,413737e-10,0,.809524,.394387,397265e-10,0,.84127,.375841,390709e-10,0,.873016,.357219,369938e-10,0,.904762,.340084,365618e-10,0,.936508,.322714,342533e-10,0,.968254,.306974,339596e-10,0,1,1,101524e-23,0,0,1,10292e-22,0,0,1,130908e-23,0,0,1,473331e-23,0,0,1,625319e-22,0,0,1,107932e-20,0,0,1,163779e-19,0,0,1,203198e-18,0,0,1,204717e-17,0,0,.999999,168995e-16,0,0,.999998,115855e-15,0,0,.999996,66947e-14,0,0,.999991,330863e-14,0,0,.999983,141737e-13,0,0,.999968,532626e-13,0,0,.99994,177431e-12,0,0,.999891,528835e-12,0,0,.999797,142169e-11,0,0,.999617,347057e-11,0,0,.999227,77231e-10,0,0,.998239,155753e-10,0,0,.994937,268495e-10,0,0,.980225,213742e-10,0,0,.967549,21631e-10,0,0,.966865,417989e-11,0,0,.965739,763341e-11,0,0,.963794,130892e-10,0,0,.960244,206456e-10,0,0,.953495,282016e-10,0,148105e-9,.940876,271581e-10,0,.002454,.926569,164159e-10,0,.00867491,.920905,239521e-10,0,.01956,.912169,315127e-10,0,.035433,.899095,346626e-10,0,.056294,.882209,290223e-10,0,.0818191,.870272,342992e-10,0,.111259,.855977,394164e-10,0,.142857,.837431,372343e-10,0,.174603,.820826,396691e-10,0,.206349,.803408,435395e-10,0,.238095,.782838,419579e-10,0,.269841,.763941,450953e-10,0,.301587,.742904,455847e-10,0,.333333,.721463,458833e-10,0,.365079,.700197,477159e-10,0,.396825,.677501,470641e-10,0,.428571,.655527,484732e-10,0,.460317,.6324,476834e-10,0,.492064,.609964,484213e-10,0,.52381,.586839,475541e-10,0,.555556,.564353,476951e-10,0,.587302,.541589,467611e-10,0,.619048,.519413,463493e-10,0,.650794,.497337,453994e-10,0,.68254,.475797,445308e-10,0,.714286,.454659,435787e-10,0,.746032,.434065,424839e-10,0,.777778,.414018,41436e-9,0,.809524,.39455,401902e-10,0,.84127,.375742,390813e-10,0,.873016,.357501,377116e-10,0,.904762,.339996,36535e-9,0,.936508,.323069,351265e-10,0,.968254,.306897,339112e-10,0,1,1,10396e-19,0,0,1,104326e-20,0,0,1,110153e-20,0,0,1,144668e-20,0,0,1,34528e-19,0,0,1,175958e-19,0,0,1,12627e-17,0,0,1,936074e-18,0,0,1,645742e-17,0,0,.999998,401228e-16,0,0,.999997,222338e-15,0,0,.999995,10967e-13,0,0,.999991,482132e-14,0,0,.999981,189434e-13,0,0,.999967,667716e-13,0,0,.999938,212066e-12,0,0,.999886,60977e-11,0,0,.999792,159504e-11,0,0,.999608,381191e-11,0,0,.999209,833727e-11,0,0,.998179,165288e-10,0,0,.994605,274387e-10,0,0,.979468,167316e-10,0,0,.967529,242877e-11,0,0,.966836,461696e-11,0,0,.96569,830977e-11,0,0,.963706,140427e-10,0,244659e-11,.960063,217353e-10,0,760774e-9,.953113,286606e-10,0,.00367261,.940192,247691e-10,0,.00940263,.927731,195814e-10,0,.018333,.920669,252531e-10,0,.0306825,.911799,324277e-10,0,.0465556,.89857,340982e-10,0,.0659521,.883283,319622e-10,0,.0887677,.86989,35548e-9,0,.114784,.855483,397143e-10,0,.143618,.837987,391665e-10,0,.174606,.820546,411306e-10,0,.206349,.802878,436753e-10,0,.238095,.783402,444e-7,0,.269841,.763439,458726e-10,0,.301587,.742925,467097e-10,0,.333333,.721633,478887e-10,0,.365079,.69985,481251e-10,0,.396825,.67783,491811e-10,0,.428571,.655126,488199e-10,0,.460318,.632697,496025e-10,0,.492064,.609613,48829e-9,0,.52381,.587098,492754e-10,0,.555556,.564119,482625e-10,0,.587302,.541813,482807e-10,0,.619048,.519342,471552e-10,0,.650794,.497514,466765e-10,0,.68254,.475879,455582e-10,0,.714286,.454789,446007e-10,0,.746032,.434217,435382e-10,0,.777778,.414086,421753e-10,0,.809524,.394744,412093e-10,0,.84127,.375782,396634e-10,0,.873016,.357707,386419e-10,0,.904762,.340038,370345e-10,0,.936508,.323284,359725e-10,0,.968254,.306954,3436e-8,0,1,1,599567e-19,0,0,1,600497e-19,0,0,1,614839e-19,0,0,1,686641e-19,0,0,1,972658e-19,0,0,1,221271e-18,0,0,1,833195e-18,0,0,1,403601e-17,0,0,.999999,206001e-16,0,0,.999998,101739e-15,0,0,.999997,470132e-15,0,0,.999993,200436e-14,0,0,.999988,783682e-14,0,0,.999979,280338e-13,0,0,.999962,917033e-13,0,0,.999933,274514e-12,0,0,.999881,753201e-12,0,0,.999783,189826e-11,0,0,.999594,440279e-11,0,0,.999178,93898e-10,0,0,.998073,181265e-10,0,0,.993993,280487e-10,0,0,.979982,149422e-10,0,0,.968145,378481e-11,0,0,.966786,53771e-10,0,0,.965611,947508e-11,0,388934e-10,.963557,156616e-10,0,9693e-7,.959752,235144e-10,0,.00370329,.952461,291568e-10,0,.00868428,.940193,240102e-10,0,.0161889,.929042,231235e-10,0,.0263948,.920266,273968e-10,0,.0394088,.911178,337915e-10,0,.0552818,.897873,333629e-10,0,.0740138,.884053,351405e-10,0,.0955539,.869455,378034e-10,0,.119795,.854655,399378e-10,0,.14656,.838347,419108e-10,0,.175573,.820693,440831e-10,0,.206388,.802277,445599e-10,0,.238095,.783634,472691e-10,0,.269841,.763159,476984e-10,0,.301587,.742914,491487e-10,0,.333333,.721662,502312e-10,0,.365079,.699668,502817e-10,0,.396825,.677839,51406e-9,0,.428571,.655091,511095e-10,0,.460317,.632665,516067e-10,0,.492064,.609734,512255e-10,0,.52381,.587043,510263e-10,0,.555556,.564298,50565e-9,0,.587302,.541769,497951e-10,0,.619048,.519529,492698e-10,0,.650794,.497574,482066e-10,0,.68254,.476028,473689e-10,0,.714286,.454961,461941e-10,0,.746032,.434341,450618e-10,0,.777778,.414364,438355e-10,0,.809524,.394832,424196e-10,0,.84127,.376109,412563e-10,0,.873016,.35779,396226e-10,0,.904762,.340379,384886e-10,0,.936508,.323385,368214e-10,0,.968254,.307295,356636e-10,0,1,1,106465e-17,0,0,1,106555e-17,0,0,1,107966e-17,0,0,1,114601e-17,0,0,1,137123e-17,0,0,1,21243e-16,0,0,.999999,489653e-17,0,0,.999999,160283e-16,0,0,.999998,62269e-15,0,0,.999997,251859e-15,0,0,.999996,996192e-15,0,0,.999992,374531e-14,0,0,.999986,132022e-13,0,0,.999975,433315e-13,0,0,.999959,131956e-12,0,0,.999927,372249e-12,0,0,.999871,972461e-12,0,0,.999771,235343e-11,0,0,.999572,52768e-10,0,0,.999133,109237e-10,0,0,.997912,203675e-10,0,0,.993008,279396e-10,0,0,.980645,139604e-10,0,0,.970057,646596e-11,0,0,.966717,65089e-10,0,474145e-10,.965497,111863e-10,0,89544e-8,.96334,179857e-10,0,.0032647,.959294,259045e-10,0,.0075144,.951519,292327e-10,0,.0138734,.940517,249769e-10,0,.0224952,.93014,26803e-9,0,.0334828,.91972,303656e-10,0,.0468973,.910294,353323e-10,0,.0627703,.897701,351002e-10,0,.0811019,.884522,388104e-10,0,.10186,.869489,412932e-10,0,.124985,.853983,415781e-10,0,.150372,.838425,454066e-10,0,.177868,.820656,471624e-10,0,.207245,.801875,475243e-10,0,.238143,.783521,505621e-10,0,.269841,.763131,50721e-9,0,.301587,.74261,523293e-10,0,.333333,.72148,528699e-10,0,.365079,.699696,538677e-10,0,.396825,.677592,539255e-10,0,.428571,.65525,546367e-10,0,.460317,.632452,541348e-10,0,.492064,.609903,544976e-10,0,.52381,.586928,536201e-10,0,.555556,.564464,535185e-10,0,.587302,.541801,524949e-10,0,.619048,.519681,51812e-9,0,.650794,.497685,507687e-10,0,.68254,.47622,496243e-10,0,.714286,.455135,485714e-10,0,.746032,.4346,471847e-10,0,.777778,.414564,459294e-10,0,.809524,.395165,444705e-10,0,.84127,.376333,430772e-10,0,.873016,.358197,416229e-10,0,.904762,.34064,401019e-10,0,.936508,.323816,386623e-10,0,.968254,.307581,370933e-10,0,1,1,991541e-17,0,0,1,992077e-17,0,0,1,100041e-16,0,0,1,10385e-15,0,0,1,115777e-16,0,0,1,150215e-16,0,0,.999999,254738e-16,0,0,.999999,598822e-16,0,0,.999998,179597e-15,0,0,.999997,602367e-15,0,0,.999994,206835e-14,0,0,.99999,694952e-14,0,0,.999984,223363e-13,0,0,.999972,678578e-13,0,0,.999952,193571e-12,0,0,.999919,516594e-12,0,0,.99986,128739e-11,0,0,.999753,299298e-11,0,0,.999546,648258e-11,0,0,.999074,129985e-10,0,0,.997671,232176e-10,0,0,.991504,256701e-10,0,0,.981148,131141e-10,0,0,.971965,869048e-11,0,280182e-10,.966624,808301e-11,0,695475e-9,.965344,135235e-10,0,.00265522,.963048,210592e-10,0,.00622975,.958673,287473e-10,0,.0116234,.950262,281379e-10,0,.018976,.940836,271089e-10,0,.0283844,.930996,30926e-9,0,.0399151,.919848,348359e-10,0,.0536063,.909136,366092e-10,0,.0694793,.897554,384162e-10,0,.0875342,.884691,430971e-10,0,.107749,.869414,447803e-10,0,.130087,.853462,452858e-10,0,.154481,.838187,495769e-10,0,.180833,.820381,502709e-10,0,.209005,.801844,522713e-10,0,.238791,.783061,541505e-10,0,.269869,.763205,553712e-10,0,.301587,.742362,564909e-10,0,.333333,.721393,572646e-10,0,.365079,.699676,581012e-10,0,.396825,.677395,58096e-9,0,.428571,.655208,585766e-10,0,.460317,.632451,583602e-10,0,.492064,.609839,580234e-10,0,.52381,.587093,577161e-10,0,.555556,.564467,568447e-10,0,.587302,.542043,563166e-10,0,.619048,.519826,55156e-9,0,.650794,.497952,541682e-10,0,.68254,.476477,528971e-10,0,.714286,.455412,514952e-10,0,.746032,.434926,502222e-10,0,.777778,.4149,485779e-10,0,.809524,.395552,472242e-10,0,.84127,.376712,454891e-10,0,.873016,.358622,440924e-10,0,.904762,.341048,422984e-10,0,.936508,.324262,408582e-10,0,.968254,.308013,390839e-10,0,1,1,613913e-16,0,0,1,614145e-16,0,0,1,617708e-16,0,0,1,633717e-16,0,0,1,681648e-16,0,0,1,808291e-16,0,0,1,114608e-15,0,0,.999998,210507e-15,0,0,.999997,499595e-15,0,0,.999995,139897e-14,0,0,.999994,419818e-14,0,0,.999988,127042e-13,0,0,.999979,375153e-13,0,0,.999965,106206e-12,0,0,.999945,285381e-12,0,0,.999908,723611e-12,0,0,.999846,17255e-10,0,0,.999733,386104e-11,0,0,.999511,808493e-11,0,0,.998993,156884e-10,0,0,.997326,265538e-10,0,0,.989706,206466e-10,0,0,.981713,130756e-10,0,70005e-10,.973636,106473e-10,0,464797e-9,.966509,10194e-9,0,.00201743,.965149,165881e-10,0,.00497549,.962669,249147e-10,0,.00953262,.95786,317449e-10,0,.0158211,.949334,281045e-10,0,.0239343,.941041,303263e-10,0,.0339372,.931575,356754e-10,0,.0458738,.920102,397075e-10,0,.059772,.908002,384886e-10,0,.075645,.897269,43027e-9,0,.0934929,.884559,479925e-10,0,.113302,.869161,48246e-9,0,.135045,.853342,509505e-10,0,.158678,.837633,542846e-10,0,.184136,.820252,554139e-10,0,.211325,.801872,581412e-10,0,.240113,.782418,585535e-10,0,.270306,.7631,610923e-10,0,.301594,.742183,613678e-10,0,.333333,.721098,627275e-10,0,.365079,.699512,629413e-10,0,.396825,.677372,636351e-10,0,.428571,.655059,633555e-10,0,.460317,.632567,636513e-10,0,.492064,.609784,628965e-10,0,.52381,.587237,625546e-10,0,.555556,.564525,615825e-10,0,.587302,.542181,605048e-10,0,.619048,.520017,596329e-10,0,.650794,.498204,581516e-10,0,.68254,.476742,569186e-10,0,.714286,.455803,553833e-10,0,.746032,.435251,537807e-10,0,.777778,.415374,522025e-10,0,.809524,.395921,503421e-10,0,.84127,.377253,488211e-10,0,.873016,.359021,468234e-10,0,.904762,.341637,453269e-10,0,.936508,.3247,433014e-10,0,.968254,.308625,418007e-10,0,1,1,286798e-15,0,0,1,286877e-15,0,0,1,288094e-15,0,0,1,293506e-15,0,0,1,309262e-15,0,0,.999999,348593e-15,0,0,.999999,444582e-15,0,0,.999998,688591e-15,0,0,.999996,134391e-14,0,0,.999993,317438e-14,0,0,.999989,835609e-14,0,0,.999983,228677e-13,0,0,.999974,623361e-13,0,0,.999959,165225e-12,0,0,.999936,419983e-12,0,0,.999896,101546e-11,0,0,.99983,232376e-11,0,0,.999709,50156e-10,0,0,.999469,10167e-9,0,0,.998886,190775e-10,0,0,.996819,300511e-10,0,0,.988837,185092e-10,0,168222e-12,.982178,134622e-10,0,259622e-9,.975017,125961e-10,0,.00142595,.967101,13507e-9,0,.00382273,.964905,205003e-10,0,.00764164,.96218,29546e-9,0,.0130121,.956821,343738e-10,0,.0200253,.948829,305063e-10,0,.0287452,.941092,346487e-10,0,.039218,.931883,412061e-10,0,.0514748,.920211,444651e-10,0,.0655351,.907307,431252e-10,0,.0814082,.89684,490382e-10,0,.0990939,.884119,53334e-9,0,.118583,.869148,54114e-9,0,.139856,.853377,578536e-10,0,.162882,.836753,592285e-10,0,.187615,.820063,622787e-10,0,.213991,.801694,645492e-10,0,.241918,.782116,65353e-9,0,.271267,.762673,674344e-10,0,.301847,.742133,682788e-10,0,.333333,.720779,691959e-10,0,.365079,.699386,696817e-10,0,.396826,.67732,699583e-10,0,.428572,.654888,698447e-10,0,.460318,.632499,694063e-10,0,.492064,.609825,691612e-10,0,.52381,.587287,681576e-10,0,.555556,.564743,674138e-10,0,.587302,.542409,661617e-10,0,.619048,.520282,647785e-10,0,.650794,.498506,633836e-10,0,.68254,.477102,615905e-10,0,.714286,.456167,601013e-10,0,.746032,.435728,581457e-10,0,.777778,.415809,564215e-10,0,.809524,.396517,544997e-10,0,.84127,.377737,525061e-10,0,.873016,.359698,506831e-10,0,.904762,.342164,48568e-9,0,.936508,.325417,467826e-10,0,.968254,.309186,446736e-10,0,1,1,109018e-14,0,0,1,10904e-13,0,0,1,109393e-14,0,0,1,11095e-13,0,0,1,1154e-12,0,0,1,126089e-14,0,0,.999999,15059e-13,0,0,.999997,207899e-14,0,0,.999994,348164e-14,0,0,.999993,705728e-14,0,0,.999987,163692e-13,0,0,.999981,406033e-13,0,0,.999969,10245e-11,0,0,.999953,255023e-12,0,0,.999925,61511e-11,0,0,.999881,142218e-11,0,0,.99981,313086e-11,0,0,.99968,653119e-11,0,0,.999418,12832e-9,0,0,.998748,232497e-10,0,0,.996066,329522e-10,0,0,.988379,179613e-10,0,108799e-9,.982567,143715e-10,0,921302e-9,.976097,148096e-10,0,.00280738,.968475,178905e-10,0,.00596622,.964606,253921e-10,0,.0105284,.961564,348623e-10,0,.0165848,.955517,357612e-10,0,.0242,.948381,343493e-10,0,.03342,.941095,405849e-10,0,.0442777,.931923,475394e-10,0,.0567958,.91996,484328e-10,0,.0709879,.907419,502146e-10,0,.086861,.89618,561654e-10,0,.104415,.88337,587612e-10,0,.123643,.869046,618057e-10,0,.144531,.853278,657392e-10,0,.167057,.836091,66303e-9,0,.191188,.819644,704445e-10,0,.216878,.801246,714071e-10,0,.244062,.782031,740093e-10,0,.272649,.762066,74685e-9,0,.302509,.741964,766647e-10,0,.333442,.720554,766328e-10,0,.365079,.699098,777857e-10,0,.396826,.677189,774633e-10,0,.428572,.65484,776235e-10,0,.460318,.632496,770316e-10,0,.492064,.609908,762669e-10,0,.52381,.587312,753972e-10,0,.555556,.564938,739994e-10,0,.587302,.542577,728382e-10,0,.619048,.52062,71112e-9,0,.650794,.498819,694004e-10,0,.68254,.477555,675575e-10,0,.714286,.456568,653449e-10,0,.746032,.436278,636068e-10,0,.777778,.41637,613466e-10,0,.809524,.397144,594177e-10,0,.84127,.378412,570987e-10,0,.873016,.360376,550419e-10,0,.904762,.342906,527422e-10,0,.936508,.326136,506544e-10,0,.968254,.30997,484307e-10,0,1,1,354014e-14,0,0,1,354073e-14,0,0,1,354972e-14,0,0,1,358929e-14,0,0,1,370093e-14,0,0,.999999,396194e-14,0,0,.999998,453352e-14,0,0,.999997,578828e-14,0,0,.999994,863812e-14,0,0,.999991,153622e-13,0,0,.999985,316356e-13,0,0,.999977,712781e-13,0,0,.999964,166725e-12,0,0,.999945,390501e-12,0,0,.999912,895622e-12,0,0,.999866,198428e-11,0,0,.999786,421038e-11,0,0,.999647,850239e-11,0,0,.999356,162059e-10,0,0,.998563,282652e-10,0,0,.994928,336309e-10,0,244244e-10,.987999,178458e-10,0,523891e-9,.982893,159162e-10,0,.00194729,.977044,178056e-10,0,.00451099,.969972,230624e-10,0,.00835132,.964237,313922e-10,0,.013561,.960791,406145e-10,0,.0202056,.954292,372796e-10,0,.0283321,.948052,403199e-10,0,.0379739,.940938,479537e-10,0,.0491551,.931689,545292e-10,0,.0618918,.91987,54038e-9,0,.0761941,.907665,589909e-10,0,.0920672,.895281,642651e-10,0,.109511,.882621,659707e-10,0,.12852,.86873,709973e-10,0,.149085,.853008,742221e-10,0,.171189,.835944,761754e-10,0,.194809,.818949,797052e-10,0,.21991,.800951,812434e-10,0,.246447,.781847,838075e-10,0,.274352,.761649,84501e-9,0,.303535,.74152,860258e-10,0,.333857,.720495,866233e-10,0,.365104,.698742,868326e-10,0,.396826,.677096,87133e-9,0,.428572,.654782,863497e-10,0,.460318,.632335,860206e-10,0,.492064,.610031,849337e-10,0,.52381,.587457,838279e-10,0,.555556,.56513,82309e-9,0,.587302,.542877,803542e-10,0,.619048,.5209,786928e-10,0,.650794,.499291,765171e-10,0,.68254,.477971,744753e-10,0,.714286,.457221,72209e-9,0,.746032,.436803,697448e-10,0,.777778,.417083,675333e-10,0,.809524,.397749,648058e-10,0,.84127,.379177,625759e-10,0,.873016,.361061,598584e-10,0,.904762,.343713,575797e-10,0,.936508,.326894,549999e-10,0,.968254,.310816,527482e-10,0,1,1,10153e-12,0,0,1,101544e-13,0,0,1,101751e-13,0,0,1,102662e-13,0,0,1,10521e-12,0,0,.999999,111049e-13,0,0,.999999,123408e-13,0,0,.999996,14924e-12,0,0,.999992,204471e-13,0,0,.999989,326539e-13,0,0,.99998,603559e-13,0,0,.999971,123936e-12,0,0,.999955,269058e-12,0,0,.999933,593604e-12,0,0,.999901,129633e-11,0,0,.999847,275621e-11,0,0,.999761,564494e-11,0,0,.999607,110485e-10,0,0,.999282,204388e-10,0,0,.99831,341084e-10,0,22038e-11,.993288,294949e-10,0,242388e-9,.987855,192736e-10,0,.0012503,.983167,182383e-10,0,.0032745,.977908,218633e-10,0,.00646321,.971194,290662e-10,0,.0109133,.963867,386401e-10,0,.0166927,.95982,462827e-10,0,.0238494,.953497,420705e-10,0,.0324178,.947621,477743e-10,0,.0424225,.940611,568258e-10,0,.0538808,.931174,618061e-10,0,.0668047,.919919,627098e-10,0,.0812014,.907856,694714e-10,0,.0970745,.894509,735008e-10,0,.114424,.881954,763369e-10,0,.133246,.868309,821896e-10,0,.153534,.852511,83769e-9,0,.175275,.835821,881615e-10,0,.198453,.817981,896368e-10,0,.223042,.800504,930906e-10,0,.249009,.78141,945056e-10,0,.276304,.761427,963605e-10,0,.304862,.74094,968088e-10,0,.334584,.720233,981481e-10,0,.365322,.698592,979122e-10,0,.396826,.676763,981057e-10,0,.428571,.654808,973956e-10,0,.460318,.632326,962619e-10,0,.492064,.610049,952996e-10,0,.52381,.58763,933334e-10,0,.555556,.565261,917573e-10,0,.587302,.543244,896636e-10,0,.619048,.521273,873304e-10,0,.650794,.499818,852648e-10,0,.68254,.478536,823961e-10,0,.714286,.457826,79939e-9,0,.746032,.437549,77126e-9,0,.777778,.41776,743043e-10,0,.809524,.39863,716426e-10,0,.84127,.379954,686456e-10,0,.873016,.362025,660514e-10,0,.904762,.344581,630755e-10,0,.936508,.327909,605439e-10,0,.968254,.311736,576345e-10,0,1,1,263344e-13,0,0,1,263373e-13,0,0,1,263815e-13,0,0,1,265753e-13,0,0,1,271132e-13,0,0,.999999,283279e-13,0,0,.999997,30833e-12,0,0,.999995,358711e-13,0,0,.999992,461266e-13,0,0,.999985,67574e-12,0,0,.999977,11358e-11,0,0,.999966,213657e-12,0,0,.999948,431151e-12,0,0,.999923,896656e-12,0,0,.999884,186603e-11,0,0,.999826,381115e-11,0,0,.999732,754184e-11,0,0,.999561,143192e-10,0,0,.999191,257061e-10,0,0,.997955,405724e-10,0,744132e-10,.992228,276537e-10,0,716477e-9,.987638,208885e-10,0,.0022524,.983395,215226e-10,0,.00484816,.978614,270795e-10,0,.00860962,.972389,365282e-10,0,.0136083,.964392,474747e-10,0,.0198941,.95861,509141e-10,0,.0275023,.952806,48963e-9,0,.0364584,.94712,571119e-10,0,.04678,.940104,671704e-10,0,.0584799,.930398,687586e-10,0,.0715665,.919866,738161e-10,0,.086045,.907853,813235e-10,0,.101918,.894078,834582e-10,0,.119186,.881177,892093e-10,0,.137845,.867575,944548e-10,0,.157891,.852107,969607e-10,0,.179316,.835502,101456e-9,0,.202106,.81756,103256e-9,0,.226243,.79984,106954e-9,0,.251704,.780998,108066e-9,0,.278451,.761132,110111e-9,0,.306436,.740429,110459e-9,0,.335586,.719836,111219e-9,0,.365796,.698467,11145e-8,0,.3969,.676446,110393e-9,0,.428571,.654635,110035e-9,0,.460318,.632411,108548e-9,0,.492064,.609986,106963e-9,0,.52381,.587872,105238e-9,0,.555556,.565528,102665e-9,0,.587302,.543563,100543e-9,0,.619048,.52176,976182e-10,0,.650794,.500188,947099e-10,0,.68254,.479204,919929e-10,0,.714286,.458413,886139e-10,0,.746032,.438314,857839e-10,0,.777778,.418573,82411e-9,0,.809524,.39947,792211e-10,0,.84127,.380892,759546e-10,0,.873016,.362953,727571e-10,0,.904762,.345601,695738e-10,0,.936508,.328895,664907e-10,0,.968254,.312808,634277e-10,0,1,1,628647e-13,0,0,1,628705e-13,0,0,1,629587e-13,0,0,1,633441e-13,0,0,.999999,644087e-13,0,0,.999998,667856e-13,0,0,.999997,715889e-13,0,0,.999995,809577e-13,0,0,.999989,992764e-13,0,0,.999983,135834e-12,0,0,.999974,210482e-12,0,0,.999959,365215e-12,0,0,.999939,686693e-12,0,0,.999911,13472e-10,0,0,.999868,26731e-10,0,0,.999804,524756e-11,0,0,.9997,100403e-10,0,0,.99951,185019e-10,0,0,.999078,322036e-10,0,620676e-11,.997428,470002e-10,0,341552e-9,.99162,287123e-10,0,.00143727,.987479,234706e-10,0,.00349201,.983582,260083e-10,0,.0066242,.979186,337927e-10,0,.0109113,.97325,454689e-10,0,.0164064,.965221,573759e-10,0,.0231463,.957262,544114e-10,0,.0311571,.952211,587006e-10,0,.0404572,.946631,692256e-10,0,.0510592,.939391,787819e-10,0,.0629723,.929795,792368e-10,0,.0762025,.91965,875075e-10,0,.090753,.907737,950903e-10,0,.106626,.893899,972963e-10,0,.123822,.880239,10459e-8,0,.142337,.866562,107689e-9,0,.16217,.85164,113081e-9,0,.183314,.835021,116636e-9,0,.20576,.817311,120074e-9,0,.229496,.798845,121921e-9,0,.254502,.780479,12475e-8,0,.280753,.760694,125255e-9,0,.308212,.740142,126719e-9,0,.336825,.719248,12636e-8,0,.366517,.698209,126712e-9,0,.397167,.676398,125769e-9,0,.428578,.654378,124432e-9,0,.460318,.632484,123272e-9,0,.492064,.610113,12085e-8,0,.52381,.587931,118411e-9,0,.555556,.565872,11569e-8,0,.587302,.543814,112521e-9,0,.619048,.522265,109737e-9,0,.650794,.500835,106228e-9,0,.68254,.479818,102591e-9,0,.714286,.459258,991288e-10,0,.746032,.439061,952325e-10,0,.777778,.419552,91895e-9,0,.809524,.400399,879051e-10,0,.84127,.381976,844775e-10,0,.873016,.364009,806316e-10,0,.904762,.346761,771848e-10,0,.936508,.330049,735429e-10,0,.968254,.314018,702103e-10,0,1,1,139968e-12,0,0,1,139979e-12,0,0,1,140145e-12,0,0,1,14087e-11,0,0,.999999,142865e-12,0,0,.999998,147279e-12,0,0,.999997,156057e-12,0,0,.999992,17276e-11,0,0,.999989,204352e-12,0,0,.99998,26494e-11,0,0,.999969,383435e-12,0,0,.999953,618641e-12,0,0,.999929,108755e-11,0,0,.999898,201497e-11,0,0,.999849,381346e-11,0,0,.999778,719815e-11,0,0,.999661,133215e-10,0,0,.999451,238313e-10,0,0,.998936,401343e-10,0,113724e-9,.99662,517346e-10,0,820171e-9,.991094,304323e-10,0,.00238143,.987487,281757e-10,0,.00493527,.983731,320048e-10,0,.00856859,.979647,423905e-10,0,.0133393,.973837,562935e-10,0,.0192863,.96584,677442e-10,0,.0264369,.956309,623073e-10,0,.03481,.951523,704131e-10,0,.0444184,.946003,836594e-10,0,.0552713,.938454,911736e-10,0,.0673749,.929279,938264e-10,0,.0807329,.919239,103754e-9,0,.0953479,.907293,109928e-9,0,.111221,.893936,115257e-9,0,.128352,.879674,122265e-9,0,.14674,.865668,125733e-9,0,.166382,.850998,132305e-9,0,.187276,.834498,134844e-9,0,.209413,.816903,139276e-9,0,.232786,.798235,140984e-9,0,.257382,.779724,14378e-8,0,.283181,.760251,144623e-9,0,.310156,.739808,145228e-9,0,.338269,.718762,14539e-8,0,.367461,.697815,144432e-9,0,.397646,.67631,143893e-9,0,.428685,.654278,141846e-9,0,.460318,.632347,13935e-8,0,.492064,.610296,137138e-9,0,.52381,.588039,133806e-9,0,.555556,.566218,130755e-9,0,.587302,.544346,127128e-9,0,.619048,.522701,123002e-9,0,.650794,.501542,119443e-9,0,.68254,.480508,115055e-9,0,.714286,.460092,111032e-9,0,.746032,.440021,106635e-9,0,.777778,.420446,102162e-9,0,.809524,.401512,98184e-9,0,.84127,.38299,936497e-10,0,.873016,.365232,89813e-9,0,.904762,.347865,853073e-10,0,.936508,.331342,817068e-10,0,.968254,.315202,773818e-10,0,1,1,29368e-11,0,0,1,2937e-10,0,0,1,293998e-12,0,0,1,295298e-12,0,0,.999999,298865e-12,0,0,.999998,3067e-10,0,0,.999995,322082e-12,0,0,.999992,350767e-12,0,0,.999986,403538e-12,0,0,.999976,501372e-12,0,0,.999964,68562e-11,0,0,.999945,10374e-10,0,0,.999919,171269e-11,0,0,.999882,300175e-11,0,0,.999829,542144e-11,0,0,.999749,984182e-11,0,0,.99962,176213e-10,0,0,.999382,305995e-10,0,138418e-10,.998751,496686e-10,0,389844e-9,.995344,510733e-10,0,.00150343,.990768,345829e-10,0,.00352451,.987464,342841e-10,0,.00655379,.983846,399072e-10,0,.0106554,.980007,533219e-10,0,.0158723,.974494,696992e-10,0,.0222333,.96622,776754e-10,0,.029758,.956273,747718e-10,0,.0384596,.950952,864611e-10,0,.0483473,.945215,100464e-9,0,.0594266,.937287,103729e-9,0,.0717019,.928649,111665e-9,0,.0851752,.918791,12353e-8,0,.0998479,.906685,127115e-9,0,.115721,.893706,13628e-8,0,.132794,.879248,142427e-9,0,.151067,.864685,148091e-9,0,.170538,.850032,153517e-9,0,.191204,.833853,157322e-9,0,.213063,.816353,161086e-9,0,.236107,.797834,164111e-9,0,.260329,.778831,165446e-9,0,.285714,.759756,167492e-9,0,.312243,.739419,166928e-9,0,.339887,.718491,167e-6,0,.368604,.697392,165674e-9,0,.398329,.676102,163815e-9,0,.428961,.654243,162003e-9,0,.460331,.632176,158831e-9,0,.492064,.610407,155463e-9,0,.52381,.588394,152062e-9,0,.555556,.56645,147665e-9,0,.587302,.5449,14375e-8,0,.619048,.523276,138905e-9,0,.650794,.502179,134189e-9,0,.68254,.481359,129392e-9,0,.714286,.46092,124556e-9,0,.746032,.441084,11957e-8,0,.777778,.421517,114652e-9,0,.809524,.402721,109688e-9,0,.84127,.384222,104667e-9,0,.873016,.366534,999633e-10,0,.904762,.349205,950177e-10,0,.936508,.332702,907301e-10,0,.968254,.316599,859769e-10,0,1,1,585473e-12,0,0,1,585507e-12,0,0,1,58602e-11,0,0,.999999,588259e-12,0,0,.999999,594381e-12,0,0,.999998,607754e-12,0,0,.999995,633729e-12,0,0,.99999,68137e-11,0,0,.999984,767003e-12,0,0,.999973,921212e-12,0,0,.999959,120218e-11,0,0,.999936,172024e-11,0,0,.999907,268088e-11,0,0,.999866,445512e-11,0,0,.999806,768481e-11,0,0,.999716,1342e-8,0,0,.999576,232473e-10,0,0,.9993,391694e-10,0,129917e-9,.998498,608429e-10,0,845035e-9,.994132,489743e-10,0,.00237616,.99031,384644e-10,0,.00484456,.987409,421768e-10,0,.00832472,.983981,504854e-10,0,.0128643,.980268,671028e-10,0,.0184947,.974875,852749e-10,0,.025237,.966063,85531e-9,0,.0331046,.956779,900588e-10,0,.0421067,.950259,10577e-8,0,.0522487,.944239,119458e-9,0,.0635343,.936341,122164e-9,0,.0759654,.928047,134929e-9,0,.0895434,.918065,145544e-9,0,.104269,.906267,150531e-9,0,.120142,.893419,161652e-9,0,.137163,.878758,16593e-8,0,.15533,.863699,174014e-9,0,.174645,.848876,177877e-9,0,.195106,.833032,184049e-9,0,.21671,.815557,186088e-9,0,.239454,.797323,19054e-8,0,.263332,.778124,191765e-9,0,.288336,.758929,192535e-9,0,.314451,.738979,192688e-9,0,.341658,.718213,191522e-9,0,.369924,.696947,190491e-9,0,.399202,.675807,187913e-9,0,.429416,.654147,184451e-9,0,.460447,.63229,181442e-9,0,.492064,.610499,177139e-9,0,.523809,.588747,172596e-9,0,.555555,.566783,167457e-9,0,.587301,.545359,162518e-9,0,.619048,.523984,156818e-9,0,.650794,.502917,151884e-9,0,.68254,.482294,145514e-9,0,.714286,.461945,140199e-9,0,.746032,.442133,134101e-9,0,.777778,.422705,128374e-9,0,.809524,.403916,122996e-9,0,.84127,.38554,116808e-9,0,.873016,.367909,111973e-9,0,.904762,.350651,105938e-9,0,.936508,.334208,101355e-9,0,.968254,.318123,957629e-10,0,1,1,111633e-11,0,0,1,111639e-11,0,0,1,111725e-11,0,0,1,112096e-11,0,0,.999999,11311e-10,0,0,.999997,115315e-11,0,0,.999995,11956e-10,0,0,.999989,127239e-11,0,0,.999981,140772e-11,0,0,.999969,164541e-11,0,0,.999952,206607e-11,0,0,.999928,281783e-11,0,0,.999895,416835e-11,0,0,.999848,658728e-11,0,0,.999781,108648e-10,0,0,.999682,182579e-10,0,0,.999523,306003e-10,0,159122e-10,.999205,499862e-10,0,391184e-9,.998131,73306e-9,0,.00147534,.993334,513229e-10,0,.0034227,.99016,467783e-10,0,.00632232,.987321,523413e-10,0,.0102295,.984099,64267e-9,0,.0151794,.980432,843042e-10,0,.0211947,.974976,102819e-9,0,.0282899,.966429,996234e-10,0,.0364739,.957633,111074e-9,0,.0457522,.949422,128644e-9,0,.0561278,.943045,140076e-9,0,.0676023,.935448,146349e-9,0,.0801762,.927225,161854e-9,0,.0938499,.917033,169135e-9,0,.108623,.905762,179987e-9,0,.124496,.892879,189832e-9,0,.141469,.878435,195881e-9,0,.159541,.863114,20466e-8,0,.178713,.84776,209473e-9,0,.198985,.832084,214861e-9,0,.220355,.814915,217695e-9,0,.242823,.796711,220313e-9,0,.266385,.777603,22313e-8,0,.291036,.757991,222471e-9,0,.316767,.738371,222869e-9,0,.343563,.717872,221243e-9,0,.371402,.696619,218089e-9,0,.400248,.675379,21562e-8,0,.430047,.65411,21169e-8,0,.460709,.63241,206947e-9,0,.492079,.61046,201709e-9,0,.52381,.58903,196753e-9,0,.555556,.567267,189637e-9,0,.587302,.545886,184735e-9,0,.619048,.524714,177257e-9,0,.650794,.503789,171424e-9,0,.68254,.483204,164688e-9,0,.714286,.462976,157172e-9,0,.746032,.443294,151341e-9,0,.777778,.423988,143737e-9,0,.809524,.405325,138098e-9,0,.84127,.386981,130698e-9,0,.873016,.369436,125276e-9,0,.904762,.35219,118349e-9,0,.936508,.335804,11312e-8,0,.968254,.319749,106687e-9,0,1,1,204685e-11,0,0,1,204694e-11,0,0,1,204831e-11,0,0,.999999,205428e-11,0,0,.999999,207056e-11,0,0,.999997,210581e-11,0,0,.999993,21732e-10,0,0,.999987,229365e-11,0,0,.999979,250243e-11,0,0,.999965,286127e-11,0,0,.999947,348028e-11,0,0,.999918,455588e-11,0,0,.999881,643303e-11,0,0,.999828,970064e-11,0,0,.999753,153233e-10,0,0,.999642,24793e-9,0,0,.999464,402032e-10,0,122947e-9,.999089,635852e-10,0,807414e-9,.997567,857026e-10,0,.00227206,.992903,594912e-10,0,.00462812,.990011,578515e-10,0,.00794162,.987192,65399e-9,0,.0122534,.98418,819675e-10,0,.0175888,.980491,105514e-9,0,.0239635,.974779,121532e-9,0,.031387,.96675,119144e-9,0,.0398644,.958248,136125e-9,0,.0493982,.948884,155408e-9,0,.0599896,.941673,162281e-9,0,.0716382,.934521,176754e-9,0,.0843437,.926205,192873e-9,0,.0981056,.916089,200038e-9,0,.112923,.904963,213624e-9,0,.128796,.892089,221834e-9,0,.145725,.878028,232619e-9,0,.163709,.86249,238632e-9,0,.182749,.846587,247002e-9,0,.202847,.830988,250702e-9,0,.224001,.814165,255562e-9,0,.246214,.796135,257505e-9,0,.269482,.777052,258625e-9,0,.293805,.757201,258398e-9,0,.319176,.737655,256714e-9,0,.345587,.717477,255187e-9,0,.373021,.696433,251792e-9,0,.401454,.675084,247223e-9,0,.430844,.653907,242213e-9,0,.461125,.632561,237397e-9,0,.492187,.610658,229313e-9,0,.52381,.589322,224402e-9,0,.555556,.567857,216116e-9,0,.587302,.54652,209124e-9,0,.619048,.525433,201601e-9,0,.650794,.504679,192957e-9,0,.68254,.484203,186052e-9,0,.714286,.464203,177672e-9,0,.746032,.444549,170005e-9,0,.777778,.425346,162401e-9,0,.809524,.406706,1544e-7,0,.84127,.388576,147437e-9,0,.873016,.37094,139493e-9,0,.904762,.353996,133219e-9,0,.936508,.337391,125573e-9,0,.968254,.321648,119867e-9,0,1,1,362511e-11,0,0,1,362525e-11,0,0,1,362739e-11,0,0,.999999,363673e-11,0,0,.999998,366214e-11,0,0,.999996,371698e-11,0,0,.999992,382116e-11,0,0,.999986,400554e-11,0,0,.999976,432058e-11,0,0,.999961,485194e-11,0,0,.999938,574808e-11,0,0,.999908,726643e-11,0,0,.999865,984707e-11,0,0,.999807,142217e-10,0,0,.999723,215581e-10,0,0,.999602,336114e-10,0,119113e-10,.999398,527353e-10,0,355813e-9,.998946,805809e-10,0,.00137768,.996647,942908e-10,0,.00322469,.992298,668733e-10,0,.00597897,.989802,716564e-10,0,.00968903,.987019,821355e-10,0,.0143845,.984219,104555e-9,0,.0200831,.980425,131245e-9,0,.0267948,.974241,139613e-9,0,.034525,.967006,145931e-9,0,.0432757,.95893,167153e-9,0,.0530471,.949157,188146e-9,0,.0638386,.94062,194625e-9,0,.0756487,.933509,213721e-9,0,.0884762,.925088,229616e-9,0,.10232,.915178,239638e-9,0,.117178,.904093,254814e-9,0,.133051,.891337,263685e-9,0,.149939,.877326,274789e-9,0,.167841,.861794,280534e-9,0,.18676,.845758,289534e-9,0,.206696,.829792,294446e-9,0,.22765,.813037,296877e-9,0,.249625,.795285,300217e-9,0,.27262,.776323,299826e-9,0,.296636,.756673,299787e-9,0,.321671,.736856,297867e-9,0,.347718,.716883,294052e-9,0,.374768,.696089,289462e-9,0,.402804,.67505,285212e-9,0,.431796,.653509,27653e-8,0,.461695,.63258,271759e-9,0,.49242,.61104,262811e-9,0,.523822,.589567,255151e-9,0,.555556,.568322,246434e-9,0,.587302,.547235,237061e-9,0,.619048,.52616,228343e-9,0,.650794,.505716,219236e-9,0,.68254,.485274,209595e-9,0,.714286,.465411,201011e-9,0,.746032,.445854,19109e-8,0,.777778,.426911,182897e-9,0,.809524,.408222,173569e-9,0,.84127,.390307,165496e-9,0,.873016,.372624,156799e-9,0,.904762,.355804,14917e-8,0,.936508,.33924,140907e-9,0,.968254,.323534,134062e-9,0,1,1,622487e-11,0,0,1,62251e-10,0,0,1,622837e-11,0,0,.999999,624259e-11,0,0,.999998,628127e-11,0,0,.999996,636451e-11,0,0,.999991,65218e-10,0,0,.999984,679782e-11,0,0,.999973,726361e-11,0,0,.999955,803644e-11,0,0,.999931,931397e-11,0,0,.999896,114299e-10,0,0,.999847,149402e-10,0,0,.999784,207461e-10,0,0,.999692,302493e-10,0,0,.999554,454957e-10,0,997275e-10,.999326,690762e-10,0,724813e-9,.998757,101605e-9,0,.0020972,.995367,958745e-10,0,.00432324,.99209,832808e-10,0,.00746347,.989517,887601e-10,0,.0115534,.987008,10564e-8,0,.0166134,.98421,133179e-9,0,.0226552,.98021,161746e-9,0,.0296838,.973676,161821e-9,0,.0377016,.967052,178635e-9,0,.0467079,.959385,206765e-9,0,.0567013,.949461,22476e-8,0,.0676796,.939578,23574e-8,0,.0796403,.932416,25893e-8,0,.0925812,.923759,271228e-9,0,.106501,.914223,289165e-9,0,.121397,.902942,301156e-9,0,.13727,.890419,313852e-9,0,.15412,.876639,324408e-9,0,.171946,.861316,33249e-8,0,.190751,.84496,338497e-9,0,.210537,.828427,345861e-9,0,.231305,.811871,347863e-9,0,.253057,.794397,350225e-9,0,.275797,.775726,349915e-9,0,.299525,.75617,347297e-9,0,.324242,.736091,344232e-9,0,.349947,.716213,340835e-9,0,.376633,.695736,332369e-9,0,.404289,.674961,327943e-9,0,.432895,.653518,318533e-9,0,.462415,.632574,310391e-9,0,.492788,.61134,300755e-9,0,.523909,.590017,290506e-9,0,.555556,.568752,280446e-9,0,.587302,.548061,269902e-9,0,.619048,.52711,258815e-9,0,.650794,.506682,248481e-9,0,.68254,.486524,237141e-9,0,.714286,.466812,226872e-9,0,.746032,.44732,216037e-9,0,.777778,.428473,205629e-9,0,.809524,.409921,195691e-9,0,.84127,.392028,185457e-9,0,.873016,.374606,176436e-9,0,.904762,.357601,166508e-9,0,.936508,.341348,158385e-9,0,.968254,.32542,149203e-9,0,1,1,103967e-10,0,0,1,10397e-9,0,0,1,104019e-10,0,0,.999999,104231e-10,0,0,.999998,104806e-10,0,0,.999995,106042e-10,0,0,.999991,108366e-10,0,0,.999982,112415e-10,0,0,.999968,119174e-10,0,0,.99995,130227e-10,0,0,.999922,148176e-10,0,0,.999884,177303e-10,0,0,.99983,224564e-10,0,0,.999758,300966e-10,0,0,.999654,423193e-10,0,549083e-11,.999503,614848e-10,0,296087e-9,.999237,903576e-10,0,.00123144,.998491,1271e-7,0,.00295954,.994594,107754e-9,0,.00555829,.99178,103025e-9,0,.00907209,.989265,11154e-8,0,.0135257,.986998,136296e-9,0,.0189327,.984137,169154e-9,0,.0252993,.979798,196671e-9,0,.0326272,.97337,196678e-9,0,.0409157,.967239,223121e-9,0,.0501623,.959543,253809e-9,0,.0603638,.949466,265972e-9,0,.0715171,.939074,288372e-9,0,.0836187,.931118,310983e-9,0,.0966657,.922525,325561e-9,0,.110656,.912983,345725e-9,0,.125588,.901617,3556e-7,0,.141461,.889487,374012e-9,0,.158275,.875787,383445e-9,0,.176031,.860654,393972e-9,0,.19473,.844417,400311e-9,0,.214374,.82741,405004e-9,0,.234967,.810545,407378e-9,0,.256512,.793312,407351e-9,0,.279011,.774847,406563e-9,0,.302468,.755621,404903e-9,0,.326887,.735511,397486e-9,0,.352266,.715435,39357e-8,0,.378605,.695403,384739e-9,0,.405897,.674681,376108e-9,0,.43413,.65359,365997e-9,0,.463277,.632471,354957e-9,0,.493295,.61151,343593e-9,0,.524106,.59064,331841e-9,0,.555561,.569386,318891e-9,0,.587302,.548785,3072e-7,0,.619048,.528146,29361e-8,0,.650794,.507872,281709e-9,0,.68254,.487805,268627e-9,0,.714286,.468196,255887e-9,0,.746032,.448922,243997e-9,0,.777778,.430093,231662e-9,0,.809524,.411845,220339e-9,0,.84127,.393808,208694e-9,0,.873016,.376615,198045e-9,0,.904762,.359655,187375e-9,0,.936508,.343452,177371e-9,0,.968254,.32765,167525e-9,0,1,1,169351e-10,0,0,1,169356e-10,0,0,1,169427e-10,0,0,.999999,169736e-10,0,0,.999998,170575e-10,0,0,.999995,172372e-10,0,0,.99999,175739e-10,0,0,.999979,181568e-10,0,0,.999966,191206e-10,0,0,.999944,20677e-9,0,0,.999912,231644e-10,0,0,.999869,271268e-10,0,0,.999811,334272e-10,0,0,.99973,433979e-10,0,0,.999617,590083e-10,0,680315e-10,.999445,829497e-10,0,612796e-9,.999138,118019e-9,0,.00187408,.998095,156712e-9,0,.00395791,.993919,125054e-9,0,.00692144,.991333,126091e-9,0,.0107962,.989226,144912e-9,0,.0155986,.986954,175737e-9,0,.0213364,.983982,213883e-9,0,.0280114,.979128,234526e-9,0,.0356226,.973327,243725e-9,0,.0441668,.967416,2773e-7,0,.0536399,.959729,308799e-9,0,.0640376,.949758,322447e-9,0,.0753554,.939173,350021e-9,0,.0875893,.9296,370089e-9,0,.100736,.921181,391365e-9,0,.114793,.91164,413636e-9,0,.129759,.900435,427068e-9,0,.145632,.888183,441046e-9,0,.162412,.874772,454968e-9,0,.180101,.859566,461882e-9,0,.1987,.843579,471556e-9,0,.218213,.826453,474335e-9,0,.238641,.809164,477078e-9,0,.259989,.792179,47755e-8,0,.282262,.773866,472573e-9,0,.305464,.754944,469765e-9,0,.329599,.735133,462371e-9,0,.35467,.714858,453674e-9,0,.380678,.694829,443888e-9,0,.407622,.674453,432052e-9,0,.435493,.653685,420315e-9,0,.464275,.632666,406829e-9,0,.493938,.611676,392234e-9,0,.524422,.591193,379208e-9,0,.555624,.570145,36319e-8,0,.587302,.549566,349111e-9,0,.619048,.529278,334166e-9,0,.650794,.509026,318456e-9,0,.68254,.489186,30449e-8,0,.714286,.469662,289051e-9,0,.746032,.450691,275494e-9,0,.777778,.431841,261437e-9,0,.809524,.413752,247846e-9,0,.84127,.395951,235085e-9,0,.873016,.378633,222245e-9,0,.904762,.36194,210533e-9,0,.936508,.345599,198494e-9,0,.968254,.329999,188133e-9,0,1,1,269663e-10,0,0,1,26967e-9,0,0,1,269772e-10,0,0,.999999,270214e-10,0,0,.999998,271415e-10,0,0,.999994,27398e-9,0,0,.999988,278771e-10,0,0,.999977,287019e-10,0,0,.999961,300544e-10,0,0,.999937,322138e-10,0,0,.999904,356163e-10,0,0,.999854,409465e-10,0,0,.99979,492651e-10,0,0,.999699,621722e-10,0,88288e-11,.999572,819715e-10,0,223369e-9,.999381,111689e-9,0,.00105414,.999016,153862e-9,0,.0026493,.997437,187667e-9,0,.00508608,.993545,155672e-9,0,.00840554,.991135,161455e-9,0,.012629,.989157,188241e-9,0,.0177661,.986874,226229e-9,0,.0238198,.983714,268668e-9,0,.0307887,.978301,277109e-9,0,.0386688,.973227,303446e-9,0,.0474554,.967317,341851e-9,0,.0571428,.959477,370885e-9,0,.0677256,.950012,392753e-9,0,.0791988,.939484,42781e-8,0,.0915576,.928135,443866e-9,0,.104798,.919819,472959e-9,0,.118918,.910049,491551e-9,0,.133915,.899181,512616e-9,0,.149788,.886881,523563e-9,0,.166537,.87359,540183e-9,0,.184164,.858613,547386e-9,0,.202669,.842809,554809e-9,0,.222056,.825727,558316e-9,0,.242329,.808086,557824e-9,0,.263492,.790728,556346e-9,0,.285551,.772987,552672e-9,0,.30851,.7541,543738e-9,0,.332376,.734669,536107e-9,0,.357153,.714411,523342e-9,0,.382845,.694196,512238e-9,0,.409454,.674252,497465e-9,0,.436977,.65357,481096e-9,0,.465404,.632999,467054e-9,0,.494713,.611994,448771e-9,0,.524864,.591604,431889e-9,0,.555779,.571134,415238e-9,0,.587302,.550528,396369e-9,0,.619048,.530292,379477e-9,0,.650794,.510364,361488e-9,0,.68254,.490749,343787e-9,0,.714286,.471266,327822e-9,0,.746032,.452462,310626e-9,0,.777778,.433907,295352e-9,0,.809524,.415659,279179e-9,0,.84127,.398138,264685e-9,0,.873016,.380833,249905e-9,0,.904762,.364247,236282e-9,0,.936508,.348041,222905e-9,0,.968254,.332389,210522e-9,0,1,1,420604e-10,0,0,1,420614e-10,0,0,1,420757e-10,0,0,.999999,42138e-9,0,0,.999997,423067e-10,0,0,.999993,426668e-10,0,0,.999986,433372e-10,0,0,.999974,444857e-10,0,0,.999956,463554e-10,0,0,.99993,493105e-10,0,0,.999892,539077e-10,0,0,.999838,610005e-10,0,0,.999767,718822e-10,0,0,.999666,884581e-10,0,365471e-10,.999525,113398e-9,0,485623e-9,.999311,150043e-9,0,.00162096,.998865,200063e-9,0,.00355319,.996278,211014e-9,0,.00633818,.992956,189672e-9,0,.0100043,.991017,210262e-9,0,.0145648,.989055,244292e-9,0,.0200237,.986741,290481e-9,0,.0263798,.983288,334303e-9,0,.033629,.977784,340307e-9,0,.0417652,.973037,377864e-9,0,.0507821,.967181,4239e-7,0,.060673,.958971,443854e-9,0,.0714314,.950093,483039e-9,0,.0830518,.939552,517934e-9,0,.0955288,.927678,539449e-9,0,.108859,.918278,568604e-9,0,.123038,.908449,588505e-9,0,.138065,.897713,612473e-9,0,.153938,.885533,625575e-9,0,.170657,.872131,63854e-8,0,.188224,.857517,647034e-9,0,.20664,.841796,65209e-8,0,.225909,.824726,6544e-7,0,.246035,.807297,655744e-9,0,.267022,.789058,646716e-9,0,.288878,.77189,643898e-9,0,.311607,.753082,629973e-9,0,.335216,.7341,621564e-9,0,.359713,.714094,605171e-9,0,.385103,.693839,588752e-9,0,.41139,.673891,573294e-9,0,.438576,.653565,552682e-9,0,.466656,.633326,533446e-9,0,.495617,.612582,514635e-9,0,.525431,.59205,49303e-8,0,.556041,.571918,471842e-9,0,.587338,.551572,451713e-9,0,.619048,.531553,430049e-9,0,.650794,.51175,410445e-9,0,.68254,.49238,390098e-9,0,.714286,.473143,370033e-9,0,.746032,.45423,351205e-9,0,.777778,.435963,332049e-9,0,.809524,.41787,315021e-9,0,.84127,.400387,297315e-9,0,.873016,.383332,281385e-9,0,.904762,.366665,265397e-9,0,.936508,.350633,250601e-9,0,.968254,.334964,23589e-8,0,1,1,643736e-10,0,0,1,64375e-9,0,0,1,643947e-10,0,0,.999999,64481e-9,0,0,.999997,647143e-10,0,0,.999994,652119e-10,0,0,.999985,661359e-10,0,0,.999972,677116e-10,0,0,.999952,702599e-10,0,0,.999922,742517e-10,0,0,.99988,803906e-10,0,0,.99982,897315e-10,0,0,.999741,103838e-9,0,0,.999629,12496e-8,0,149024e-9,.999474,156161e-9,0,861027e-9,.999229,201034e-9,0,.00231198,.998662,259069e-9,0,.00458147,.995299,245439e-9,0,.00770895,.992732,24498e-8,0,.0117126,.990847,273211e-9,0,.0165989,.988911,316492e-9,0,.0223674,.98654,37161e-8,0,.0290135,.982636,410352e-9,0,.0365309,.977346,421756e-9,0,.0449117,.972909,475578e-9,0,.0541481,.966821,522482e-9,0,.0642326,.958686,545008e-9,0,.075158,.949754,589286e-9,0,.0869181,.939184,619995e-9,0,.0995074,.927505,654266e-9,0,.112922,.916606,682362e-9,0,.127157,.906707,704286e-9,0,.142212,.895937,725909e-9,0,.158085,.883913,743939e-9,0,.174776,.870642,755157e-9,0,.192287,.856241,764387e-9,0,.210619,.84069,771032e-9,0,.229775,.823728,765906e-9,0,.249761,.806481,767604e-9,0,.270582,.787924,754385e-9,0,.292243,.770588,749668e-9,0,.314753,.751991,731613e-9,0,.338118,.733407,717655e-9,0,.362347,.713688,700604e-9,0,.387447,.693595,678765e-9,0,.413424,.673426,657042e-9,0,.440284,.65359,635892e-9,0,.468027,.633576,611569e-9,0,.496645,.613144,586011e-9,0,.526122,.592711,563111e-9,0,.556417,.572722,537699e-9,0,.587451,.552762,512556e-9,0,.619048,.532985,489757e-9,0,.650794,.513219,464139e-9,0,.68254,.493992,442193e-9,0,.714286,.47509,418629e-9,0,.746032,.456287,397045e-9,0,.777778,.438152,375504e-9,0,.809524,.420294,35492e-8,0,.84127,.402749,335327e-9,0,.873016,.385879,316422e-9,0,.904762,.369352,298333e-9,0,.936508,.353301,281417e-9,0,.968254,.337781,265203e-9,0,1,1,968267e-10,0,0,1,968284e-10,0,0,1,968556e-10,0,0,.999999,969733e-10,0,0,.999997,972913e-10,0,0,.999993,979688e-10,0,0,.999984,992239e-10,0,0,.999969,101356e-9,0,0,.999946,104784e-9,0,0,.999913,110111e-9,0,0,.999868,118217e-9,0,0,.999801,130396e-9,0,0,.999712,148523e-9,0,124907e-10,.999589,175233e-9,0,355405e-9,.999416,213999e-9,0,.0013528,.999136,268529e-9,0,.00312557,.998367,333088e-9,0,.00573045,.994701,304757e-9,0,.00919397,.992497,318031e-9,0,.0135261,.990608,353863e-9,0,.0187278,.988715,409044e-9,0,.0247947,.986241,472967e-9,0,.0317196,.981696,495104e-9,0,.039494,.977097,532873e-9,0,.0481087,.972583,594447e-9,0,.0575549,.966142,636867e-9,0,.0678242,.95823,669899e-9,0,.0789089,.949677,719499e-9,0,.0908023,.939226,750584e-9,0,.103499,.927501,793183e-9,0,.116993,.915199,81995e-8,0,.131282,.90498,847654e-9,0,.146364,.894243,868929e-9,0,.162237,.882154,884278e-9,0,.178902,.869161,898108e-9,0,.196358,.854751,901254e-9,0,.21461,.839368,90679e-8,0,.23366,.822874,901541e-9,0,.253512,.805514,897297e-9,0,.274174,.78716,881856e-9,0,.29565,.769061,870032e-9,0,.31795,.751,851719e-9,0,.341081,.732614,830671e-9,0,.365053,.713171,806569e-9,0,.389874,.693472,78338e-8,0,.415553,.673528,756404e-9,0,.442098,.653397,726872e-9,0,.469512,.633781,700494e-9,0,.497794,.613877,67105e-8,0,.526935,.593506,640361e-9,0,.556908,.573667,613502e-9,0,.587657,.553932,583177e-9,0,.61906,.534345,554375e-9,0,.650794,.515042,527811e-9,0,.68254,.495674,499367e-9,0,.714286,.477132,47429e-8,0,.746032,.458609,447726e-9,0,.777778,.440354,424205e-9,0,.809524,.422765,399549e-9,0,.84127,.405472,378315e-9,0,.873016,.388482,355327e-9,0,.904762,.372191,336122e-9,0,.936508,.356099,315247e-9,0,.968254,.340737,29794e-8,0,1,1,143327e-9,0,0,1,14333e-8,0,0,1,143366e-9,0,0,.999999,143524e-9,0,0,.999996,143952e-9,0,0,.999991,144862e-9,0,0,.999981,146544e-9,0,0,.999966,149391e-9,0,0,.999941,153946e-9,0,0,.999905,160971e-9,0,0,.999852,171562e-9,0,0,.99978,18729e-8,0,0,.999681,210386e-9,0,826239e-10,.999546,243906e-9,0,664807e-9,.999352,291739e-9,0,.00196192,.999027,357419e-9,0,.00405941,.997886,422349e-9,0,.00699664,.99419,385008e-9,0,.0107896,.99214,409775e-9,0,.0154415,.990274,456418e-9,0,.0209488,.988455,527008e-9,0,.0273037,.985804,597685e-9,0,.0344969,.98103,613124e-9,0,.0425183,.976674,668321e-9,0,.0513575,.972021,736985e-9,0,.0610046,.965274,773789e-9,0,.0714508,.958046,830852e-9,0,.0826877,.949333,875766e-9,0,.0947085,.939135,917088e-9,0,.107507,.927119,952244e-9,0,.121078,.91469,990626e-9,0,.135419,.903006,.00101304,0,.150526,.892368,.00103834,0,.166399,.880231,.00105002,0,.183038,.867432,.00106331,0,.200443,.853208,.00106783,0,.218618,.837956,.00106458,0,.237566,.821772,.00105945,0,.257291,.804328,.00104685,0,.2778,.786465,.00103178,0,.2991,.768004,.00101077,0,.321199,.74972,985504e-9,0,.344106,.731682,962893e-9,0,.36783,.712813,932146e-9,0,.392383,.693139,89871e-8,0,.417774,.673566,869678e-9,0,.444013,.653483,835525e-9,0,.471107,.633891,799853e-9,0,.49906,.614433,766838e-9,0,.527869,.594586,732227e-9,0,.557517,.574769,696442e-9,0,.587966,.555149,663935e-9,0,.61913,.535898,629826e-9,0,.650794,.516753,596486e-9,0,.68254,.497816,567078e-9,0,.714286,.479034,534399e-9,0,.746032,.460975,507013e-9,0,.777778,.442935,477421e-9,0,.809524,.425263,451101e-9,0,.84127,.408248,424964e-9,0,.873016,.391339,39993e-8,0,.904762,.37513,377619e-9,0,.936508,.359172,354418e-9,0,.968254,.343876,334823e-9,0,1,1,209042e-9,0,0,1,209045e-9,0,0,1,209093e-9,0,0,.999999,209304e-9,0,0,.999996,209871e-9,0,0,.999991,211078e-9,0,0,.999979,213304e-9,0,0,.999963,217061e-9,0,0,.999933,223042e-9,0,0,.999894,232206e-9,0,0,.999837,245901e-9,0,0,.999756,266023e-9,0,102927e-11,.999648,295204e-9,0,233468e-9,.999499,336958e-9,0,.00108237,.999283,395563e-9,0,.00268832,.998896,473785e-9,0,.00511138,.997006,520008e-9,0,.00837705,.993819,497261e-9,0,.0124928,.991632,523722e-9,0,.0174561,.989875,587258e-9,0,.0232596,.988109,676329e-9,0,.0298932,.985155,747701e-9,0,.0373453,.980479,768803e-9,0,.0456045,.976271,841054e-9,0,.0546593,.971347,911469e-9,0,.0644994,.964528,953057e-9,0,.0751152,.957632,.00102221,0,.0864981,.948681,.00106122,0,.0986407,.938716,.00111857,0,.111537,.926629,.00114762,0,.125182,.914025,.00118995,0,.139571,.901026,.00121228,0,.154703,.890358,.00123946,0,.170576,.878283,.0012527,0,.18719,.865459,.00125536,0,.204547,.851407,.00126134,0,.222648,.836276,.00124759,0,.241498,.820436,.00124443,0,.261101,.803253,.00122071,0,.281465,.785562,.00120107,0,.302595,.76718,.00117762,0,.324501,.748551,.00114289,0,.347192,.730564,.00110872,0,.370679,.712253,.00107636,0,.394973,.692867,.00103646,0,.420085,.673695,996793e-9,0,.446027,.653912,95675e-8,0,.47281,.634129,916739e-9,0,.500441,.615004,874401e-9,0,.528921,.595587,833411e-9,0,.558244,.575965,794556e-9,0,.588384,.5566,75196e-8,0,.619281,.537428,716381e-9,0,.650795,.518623,676558e-9,0,.68254,.499964,64074e-8,0,.714286,.481356,605984e-9,0,.746032,.463279,570256e-9,0,.777778,.445673,540138e-9,0,.809524,.428032,507299e-9,0,.84127,.411112,479553e-9,0,.873016,.394444,450737e-9,0,.904762,.378247,424269e-9,0,.936508,.362415,399111e-9,0,.968254,.347103,375274e-9,0,1,1,300729e-9,0,0,1,300733e-9,0,0,1,300797e-9,0,0,.999998,301072e-9,0,0,.999996,301817e-9,0,0,.999989,303398e-9,0,0,.999977,306309e-9,0,0,.999958,311209e-9,0,0,.999927,318975e-9,0,0,.999884,330804e-9,0,0,.99982,34834e-8,0,0,.999733,373854e-9,0,326995e-10,.999613,410424e-9,0,477174e-9,.999447,462047e-9,0,.00161099,.999204,533322e-9,0,.00353153,.998725,624964e-9,0,.00627965,.995871,631786e-9,0,.0098693,.993194,632017e-9,0,.0143011,.991541,68923e-8,0,.019568,.989773,766892e-9,0,.0256593,.987647,863668e-9,0,.0325625,.984193,922089e-9,0,.0402647,.980016,970749e-9,0,.0487532,.975859,.00106027,0,.058016,.970514,.00112239,0,.0680419,.963625,.00117212,0,.0788208,.956959,.00125211,0,.0903439,.947956,.00129411,0,.102604,.93809,.00135879,0,.115594,.92659,.00139309,0,.129309,.913829,.00143253,0,.143745,.90005,.00145809,0,.158901,.888129,.0014748,0,.174774,.87607,.00148756,0,.191365,.863461,.00148714,0,.208674,.849594,.00148892,0,.226705,.834531,.00146496,0,.245461,.81903,.0014579,0,.264947,.802122,.00143039,0,.28517,.78445,.00139717,0,.306137,.766434,.00136312,0,.327857,.747816,.00132597,0,.350341,.729519,.00128323,0,.373598,.711454,.00123803,0,.397642,.692699,.00119097,0,.422485,.673723,.00114565,0,.448139,.654386,.00109552,0,.474619,.634673,.00104553,0,.501933,.615554,99985e-8,0,.530089,.596462,948207e-9,0,.559087,.577385,902299e-9,0,.588913,.558257,856448e-9,0,.619525,.5392,810395e-9,0,.650826,.520543,768558e-9,0,.68254,.502206,7239e-7,0,.714286,.48402,685794e-9,0,.746032,.465779,64471e-8,0,.777778,.448455,609583e-9,0,.809524,.431091,57227e-8,0,.84127,.414147,54042e-8,0,.873016,.39765,506545e-9,0,.904762,.381576,477635e-9,0,.936508,.365881,448446e-9,0,.968254,.350582,421424e-9,0,1,1,427144e-9,0,0,1,427151e-9,0,0,1,427232e-9,0,0,.999998,42759e-8,0,0,.999995,428555e-9,0,0,.999988,430603e-9,0,0,.999976,434368e-9,0,0,.999952,440688e-9,0,0,.999919,450667e-9,0,0,.999871,46578e-8,0,0,.999801,488024e-9,0,0,.999704,520092e-9,0,129791e-9,.999572,565553e-9,0,821056e-9,.999389,628906e-9,0,.00225241,.999114,714911e-9,0,.00449109,.998488,819218e-9,0,.00756249,.995234,80415e-8,0,.0114716,.993021,830181e-9,0,.0162131,.991407,902645e-9,0,.021776,.989625,996934e-9,0,.0281471,.987064,.00109707,0,.0353118,.983265,.00114353,0,.0432562,.979535,.0012272,0,.0519665,.975224,.00132642,0,.0614298,.969574,.00138092,0,.0716348,.963021,.00145896,0,.0825709,.956046,.00152834,0,.094229,.947136,.00158217,0,.106602,.937313,.0016347,0,.119682,.926073,.00168383,0,.133465,.913121,.00171627,0,.147947,.899165,.00174229,0,.163125,.885891,.00176137,0,.178998,.873783,.00176406,0,.195566,.861331,.00176156,0,.21283,.847569,.00175346,0,.230793,.832785,.00172753,0,.249459,.817442,.00170204,0,.268832,.800613,.00166576,0,.28892,.783597,.00162909,0,.30973,.76571,.0015826,0,.331271,.747021,.00153106,0,.353554,.728593,.00148036,0,.37659,.710661,.00142808,0,.400391,.692426,.00136906,0,.424973,.673623,.00131066,0,.450347,.65494,.00125569,0,.476531,.635448,.00119517,0,.503535,.616221,.00113828,0,.531372,.597531,.0010816,0,.560047,.578795,.00102673,0,.589554,.559892,970985e-9,0,.619869,.541307,919773e-9,0,.650923,.522608,868479e-9,0,.68254,.504484,82137e-8,0,.714286,.486603,772916e-9,0,.746032,.468802,730353e-9,0,.777778,.451172,684955e-9,0,.809524,.434348,647565e-9,0,.84127,.417445,605863e-9,0,.873016,.401077,571885e-9,0,.904762,.385039,536034e-9,0,.936508,.369483,504227e-9,0,.968254,.354272,473165e-9,0,1,1,599525e-9,0,0,1,599533e-9,0,0,1,599639e-9,0,0,.999998,600097e-9,0,0,.999994,601336e-9,0,0,.999987,603958e-9,0,0,.999972,608775e-9,0,0,.999949,616842e-9,0,0,.999912,629534e-9,0,0,.999857,648658e-9,0,0,.999781,676615e-9,0,538873e-11,.999674,716574e-9,0,308602e-9,.999528,772641e-9,0,.00127003,.999326,849806e-9,0,.00300783,.999009,952682e-9,0,.00556637,.998112,.00106394,0,.00895889,.994496,.00102228,0,.0131827,.992806,.00108586,0,.0182277,.991211,.0011759,0,.0240795,.989415,.00128955,0,.030723,.986499,.00139038,0,.0381418,.982679,.00144539,0,.046321,.978839,.00153954,0,.0552459,.974295,.00164417,0,.0649034,.968784,.00171517,0,.0752814,.962324,.00180282,0,.0863693,.954956,.00186387,0,.0981578,.94624,.00193817,0,.110639,.936517,.00198156,0,.123806,.925186,.00203042,0,.137655,.91252,.0020664,0,.15218,.898441,.00207822,0,.16738,.884394,.0020992,0,.183253,.871273,.00208748,0,.199799,.859057,.00208686,0,.21702,.845243,.00205519,0,.234918,.830723,.00202868,0,.253496,.815801,.00199501,0,.272761,.79914,.00194193,0,.292719,.782372,.00188824,0,.313377,.76482,.00183695,0,.334745,.746586,.00177418,0,.356833,.7281,.00170628,0,.379654,.709842,.00164063,0,.403221,.692019,.00157355,0,.427548,.67364,.00150262,0,.452651,.655277,.00143473,0,.478545,.636438,.00136371,0,.505246,.617364,.00129911,0,.532768,.598603,.00123014,0,.561122,.580195,.00116587,0,.590309,.561786,.00110398,0,.620318,.543377,.00104148,0,.651102,.525093,983984e-9,0,.682545,.506791,92667e-8,0,.714286,.489291,874326e-9,0,.746032,.471811,821734e-9,0,.777778,.454435,774698e-9,0,.809524,.437493,727302e-9,0,.84127,.420977,684039e-9,0,.873016,.404729,64373e-8,0,.904762,.388756,60285e-8,0,.936508,.373344,56765e-8,0,.968254,.358191,531929e-9,0,1,1,832169e-9,0,0,1,832178e-9,0,0,1,83231e-8,0,0,.999998,832893e-9,0,0,.999995,834465e-9,0,0,.999985,837791e-9,0,0,.999969,843893e-9,0,0,.999944,854086e-9,0,0,.999903,870071e-9,0,0,.999843,894042e-9,0,0,.999759,928865e-9,0,531805e-10,.999643,978242e-9,0,579365e-9,.99948,.00104684,0,.00182774,.999255,.00114012,0,.00387804,.998885,.00126188,0,.00675709,.997405,.00135888,0,.010468,.99424,.00133626,0,.0150018,.992458,.00140905,0,.0203443,.990929,.00152305,0,.0264786,.989116,.00165882,0,.0333875,.985624,.00174128,0,.0410536,.982003,.00182108,0,.0494609,.978336,.00194498,0,.0585941,.973184,.00202708,0,.0684396,.9678,.00212166,0,.0789851,.961348,.00221366,0,.0902199,.953841,.00228219,0,.102134,.94534,.00235662,0,.114721,.935552,.00240572,0,.127972,.924064,.00244405,0,.141884,.911827,.00247557,0,.156451,.897731,.00248374,0,.171672,.883409,.00249863,0,.187545,.868625,.00246688,0,.20407,.856529,.00246523,0,.221249,.842999,.00242368,0,.239083,.828505,.00237354,0,.257578,.813825,.00232588,0,.276738,.797813,.00226731,0,.296569,.781097,.00219704,0,.31708,.764038,.00212394,0,.338281,.746067,.00204786,0,.360181,.727687,.00196728,0,.382794,.709571,.00188779,0,.406133,.691503,.00180532,0,.430213,.673673,.00171849,0,.45505,.655732,.00164147,0,.480662,.637399,.00155858,0,.507065,.618616,.00147641,0,.534278,.60005,.00140125,0,.562313,.581713,.00132441,0,.59118,.563546,.00125014,0,.620875,.545605,.00118249,0,.651373,.527559,.0011116,0,.682593,.509764,.00104979,0,.714286,.49193,985977e-9,0,.746032,.475011,928592e-9,0,.777778,.457878,873466e-9,0,.809524,.440979,819585e-9,0,.84127,.424613,772365e-9,0,.873016,.408549,722195e-9,0,.904762,.392771,680014e-9,0,.936508,.377317,636797e-9,0,.968254,.362352,598318e-9,0,1,1,.00114313,0,0,1,.00114314,0,0,.999999,.00114331,0,0,.999998,.00114404,0,0,.999994,.00114601,0,0,.999984,.00115019,0,0,.999967,.00115784,0,0,.999937,.0011706,0,0,.999894,.00119054,0,0,.999828,.00122031,0,0,.999735,.00126331,0,169263e-9,.999606,.00132382,0,949167e-9,.999426,.0014071,0,.00249668,.999173,.00151895,0,.00486392,.99873,.00166102,0,.00806323,.996243,.0017023,0,.0120895,.993779,.00172782,0,.0169288,.9919,.0018108,0,.0225633,.990524,.00196028,0,.028974,.98868,.00212014,0,.036142,.984663,.00217598,0,.044049,.981457,.00230563,0,.0526781,.977608,.00243966,0,.0620137,.972215,.00251336,0,.0720418,.966798,.0026285,0,.0827499,.960241,.00271409,0,.0941271,.952489,.00278381,0,.106164,.944127,.00285399,0,.118852,.934282,.00290994,0,.132185,.923271,.00294558,0,.146157,.910803,.00296269,0,.160766,.896705,.00296803,0,.176007,.88238,.00296637,0,.19188,.867116,.00293163,0,.208385,.853636,.00289418,0,.225523,.840469,.00284663,0,.243296,.82639,.00278594,0,.261709,.811759,.00271618,0,.280767,.796113,.00263187,0,.300476,.779518,.00254589,0,.320845,.763142,.00246003,0,.341883,.745464,.00236529,0,.363601,.727491,.00226536,0,.386011,.709414,.00216375,0,.409128,.691396,.00207127,0,.432967,.67368,.00197106,0,.457545,.656049,.00187022,0,.482881,.638188,.00177605,0,.508992,.620177,.00168482,0,.535899,.601506,.00158909,0,.563619,.58362,.00150583,0,.592165,.565496,.00141791,0,.621544,.54789,.00133693,0,.651743,.530323,.00126038,0,.682709,.512795,.00118556,0,.714286,.495199,.00111527,0,.746032,.478101,.0010489,0,.777778,.461511,984264e-9,0,.809524,.444879,92591e-8,0,.84127,.428424,866582e-9,0,.873016,.412495,814463e-9,0,.904762,.396975,764498e-9,0,.936508,.381614,715967e-9,0,.968254,.366732,672483e-9,0,1,1,.00155501,0,0,1,.00155503,0,0,1,.00155524,0,0,.999998,.00155615,0,0,.999994,.0015586,0,0,.999983,.00156379,0,0,.999963,.0015733,0,0,.999932,.00158911,0,0,.999882,.00161376,0,0,.99981,.00165041,0,100875e-10,.999708,.00170304,0,367658e-9,.999565,.00177658,0,.0014234,.999368,.00187688,0,.00327939,.999081,.00200989,0,.00596629,.99852,.00217177,0,.0094852,.99549,.0021745,0,.013824,.993252,.00222357,0,.0189642,.991727,.00235022,0,.0248856,.989951,.00250561,0,.0315669,.988029,.00268829,0,.0389882,.984029,.0027496,0,.0471302,.980683,.00289793,0,.0559754,.976554,.00303315,0,.0655081,.97139,.00313257,0,.0757138,.965544,.00323656,0,.08658,.95912,.00333432,0,.0980954,.951183,.0034039,0,.110251,.942974,.00347515,0,.123038,.932642,.00350381,0,.13645,.922158,.00354519,0,.150482,.909404,.00353851,0,.165129,.896071,.0035435,0,.18039,.881206,.00349936,0,.196263,.866077,.00347256,0,.212748,.85093,.003415,0,.229847,.837703,.00333367,0,.247561,.823878,.003249,0,.265895,.809449,.00316347,0,.284854,.794379,.00306351,0,.304445,.778138,.0029499,0,.324675,.761997,.00284099,0,.345555,.744938,.00272104,0,.367095,.727212,.00260715,0,.389309,.709549,.00248855,0,.41221,.691704,.00236783,0,.435814,.673689,.00225178,0,.460138,.656453,.00213765,0,.485203,.639128,.00202178,0,.511028,.621512,.00191443,0,.537634,.603598,.00180977,0,.565041,.58559,.00170456,0,.593268,.567852,.00160927,0,.622327,.5503,.00151395,0,.652217,.533033,.00142499,0,.682907,.515942,.00133955,0,.714296,.498814,.0012602,0,.746032,.481595,.00118188,0,.777778,.465117,.00111171,0,.809524,.448865,.00104091,0,.84127,.432711,976618e-9,0,.873016,.416822,91859e-8,0,.904762,.401272,857704e-9,0,.936508,.386226,807172e-9,0,.968254,.371321,75464e-8,0,1,1,.00209596,0,0,1,.00209598,0,0,1,.00209624,0,0,.999997,.00209736,0,0,.999991,.00210039,0,0,.999979,.00210678,0,0,.999959,.00211847,0,0,.999925,.0021379,0,0,.99987,.00216809,0,0,.999791,.00221281,0,681487e-10,.999677,.00227669,0,658161e-9,.999521,.00236533,0,.00200635,.999301,.00248514,0,.0041779,.998977,.00264185,0,.00718648,.998191,.00281695,0,.0110239,.994801,.00278518,0,.015672,.993091,.00288774,0,.0211091,.991571,.00303931,0,.0273123,.9897,.00321643,0,.034259,.987023,.00337332,0,.0419282,.983289,.00346146,0,.0502998,.979892,.00363704,0,.0593562,.975111,.00373601,0,.069081,.970351,.0038842,0,.0794598,.964131,.00397053,0,.0904798,.957747,.00408078,0,.10213,.949536,.00413533,0,.1144,.941372,.00420305,0,.127284,.931049,.00422815,0,.140772,.920647,.00425048,0,.154862,.908033,.0042281,0,.169548,.895028,.00422026,0,.184828,.879968,.00415042,0,.200701,.864875,.00408821,0,.217167,.84918,.00400909,0,.234227,.834934,.00391178,0,.251884,.821397,.00380066,0,.270141,.807135,.00367974,0,.289004,.792363,.00355172,0,.308479,.776661,.003411,0,.328575,.760705,.00328123,0,.349301,.744408,.00314003,0,.370668,.726994,.0029906,0,.392689,.709598,.00285034,0,.415379,.692112,.00271179,0,.438754,.674435,.00257185,0,.46283,.65676,.00243425,0,.48763,.639982,.00230351,0,.513173,.622983,.0021777,0,.539482,.605471,.00204991,0,.566579,.58796,.00193759,0,.594488,.570463,.00181976,0,.623226,.553058,.00171497,0,.6528,.535894,.00161109,0,.683198,.519089,.00151394,0,.714354,.502454,.00142122,0,.746032,.485681,.00133488,0,.777778,.468935,.00124975,0,.809524,.452951,.00117309,0,.84127,.437139,.00110155,0,.873016,.421446,.00103124,0,.904762,.405951,966387e-9,0,.936508,.391003,908119e-9,0,.968254,.376198,848057e-9,0,1,1,.00280076,0,0,1,.00280078,0,0,.999999,.00280109,0,0,.999997,.00280246,0,0,.999992,.00280616,0,0,.999979,.00281396,0,0,.999956,.00282822,0,0,.999916,.00285186,0,0,.999857,.0028885,0,0,.999768,.00294259,0,196026e-9,.999645,.00301946,0,.00104842,.99947,.00312541,0,.00270199,.999229,.00326733,0,.00519449,.998852,.00344992,0,.00852602,.997558,.00361052,0,.0126804,.994417,.0035898,0,.017635,.992824,.00372393,0,.023365,.991344,.00390695,0,.0298456,.989337,.00410392,0,.0370529,.985811,.00420987,0,.0449651,.982772,.00437488,0,.0535615,.979001,.00455069,0,.0628243,.974102,.00464462,0,.0727368,.969197,.00480577,0,.0832844,.962759,.00487818,0,.0944545,.956207,.00498176,0,.106236,.947909,.00503392,0,.118619,.939596,.00507474,0,.131595,.929642,.00509798,0,.145159,.918807,.00508476,0,.159305,.906921,.00505634,0,.174028,.893312,.00498845,0,.189327,.878933,.0049133,0,.2052,.863986,.0048259,0,.221647,.847936,.00470848,0,.23867,.832253,.00456889,0,.25627,.818619,.00442726,0,.274453,.804788,.00427677,0,.293222,.790241,.00411906,0,.312585,.775162,.00394833,0,.33255,.759463,.00377366,0,.353126,.743598,.00361026,0,.374324,.72697,.00343627,0,.396158,.709646,.00326422,0,.418641,.69277,.00309717,0,.44179,.675371,.0029356,0,.465624,.657863,.00277712,0,.490163,.640772,.00261738,0,.515429,.624441,.0024737,0,.541445,.607497,.00233125,0,.568236,.590438,.00218994,0,.595828,.573224,.0020664,0,.624242,.556168,.00193526,0,.653496,.539232,.00182463,0,.683588,.522352,.00170735,0,.714482,.506172,.00160555,0,.746032,.489842,.00150451,0,.777778,.473463,.00140938,0,.809524,.457266,.00132568,0,.84127,.441609,.0012376,0,.873016,.426348,.00116265,0,.904762,.411002,.00108935,0,.936508,.396045,.00101946,0,.968254,.381448,955665e-9,0,1,1,.0037121,0,0,1,.00371213,0,0,1,.00371251,0,0,.999997,.00371417,0,0,.99999,.00371863,0,0,.999977,.00372807,0,0,.99995,.00374529,0,0,.999908,.0037738,0,0,.999843,.00381789,0,123596e-10,.999745,.00388273,0,407442e-9,.999608,.00397443,0,.0015447,.999415,.00409998,0,.00351385,.999143,.00426662,0,.0063316,.9987,.00447625,0,.00998679,.996363,.00455323,0,.0144569,.994021,.00461052,0,.0197151,.992372,.00476359,0,.0257344,.991007,.00499101,0,.0324882,.988767,.0051972,0,.0399517,.984872,.00528407,0,.0481022,.982004,.00548926,0,.0569191,.977714,.00564385,0,.0663839,.973076,.0057693,0,.0764801,.967565,.0058924,0,.0871928,.961384,.00599629,0,.0985095,.954435,.00605998,0,.110419,.946303,.0061133,0,.122912,.937662,.00612028,0,.13598,.927867,.00612209,0,.149617,.916475,.00604813,0,.163817,.90541,.00603088,0,.178577,.891591,.00592218,0,.193894,.877573,.00578854,0,.209767,.862511,.00566648,0,.226196,.846861,.00551481,0,.243182,.83068,.00533754,0,.260728,.815725,.00515487,0,.278837,.802321,.0049655,0,.297515,.787826,.00475421,0,.316768,.773454,.00456002,0,.336605,.758224,.00434727,0,.357034,.74265,.00414444,0,.378067,.726729,.00393738,0,.399717,.710155,.00373575,0,.421998,.693312,.00353736,0,.444928,.67653,.00334368,0,.468523,.659444,.00315981,0,.492806,.642051,.00297809,0,.517798,.625758,.00280592,0,.543525,.609615,.00264254,0,.570012,.592919,.00248459,0,.597288,.576298,.00233327,0,.625379,.559489,.00219519,0,.654307,.542891,.00205441,0,.684084,.526255,.00193385,0,.714693,.509853,.00180745,0,.746044,.494131,.00169817,0,.777778,.478114,.0015913,0,.809524,.462274,.00148981,0,.84127,.446412,.00139537,0,.873016,.431274,.00130984,0,.904762,.41635,.00122403,0,.936508,.401476,.00114809,0,.968254,.386993,.00107563,0,1,1,.00488216,0,0,1,.0048822,0,0,1,.00488265,0,0,.999997,.00488463,0,0,.999988,.00488999,0,0,.999974,.00490129,0,0,.999946,.00492191,0,0,.999897,.00495598,0,0,.999825,.00500855,0,744791e-10,.999718,.00508559,0,712744e-9,.999565,.005194,0,.00215249,.999352,.00534147,0,.00444576,.999046,.00553523,0,.00759218,.998492,.00577016,0,.0115714,.995564,.00578487,0,.0163557,.993339,.00586414,0,.021915,.991834,.00606002,0,.0282201,.990496,.00633312,0,.0352433,.987826,.00651941,0,.042959,.98383,.00660842,0,.0513439,.98109,.00685523,0,.0603772,.976131,.00695778,0,.0700402,.971922,.00714236,0,.0803163,.965901,.00721437,0,.0911908,.959606,.00732017,0,.102651,.952504,.00735788,0,.114686,.944365,.00738493,0,.127286,.935652,.00737969,0,.140443,.925813,.00733612,0,.154151,.914397,.00723094,0,.168405,.903257,.00714002,0,.183201,.890015,.00700149,0,.198536,.876014,.00682813,0,.214409,.861436,.00665567,0,.23082,.845752,.00644526,0,.24777,.829169,.00621635,0,.265263,.813435,.00597789,0,.283301,.799701,.00575694,0,.301889,.785726,.00549866,0,.321035,.77152,.0052503,0,.340746,.75683,.00499619,0,.361032,.741951,.0047543,0,.381904,.726367,.0045084,0,.403374,.710537,.00426784,0,.425457,.693965,.00403487,0,.448169,.677724,.0038075,0,.47153,.66117,.00359431,0,.495561,.644274,.00338354,0,.520284,.627449,.00318163,0,.545725,.611645,.00299672,0,.571911,.595614,.00281016,0,.598873,.579426,.00264252,0,.62664,.563016,.00247509,0,.655239,.546728,.00232647,0,.684692,.530539,.00217803,0,.714999,.514164,.00204216,0,.746106,.498344,.00191403,0,.777778,.482957,.00179203,0,.809524,.467336,.00167695,0,.84127,.451994,.00157567,0,.873016,.436514,.00147113,0,.904762,.42178,.00138034,0,.936508,.407271,.00129219,0,.968254,.392822,.0012098,0,1,1,.00637427,0,0,1,.00637431,0,0,.999999,.00637485,0,0,.999996,.00637721,0,0,.999987,.00638357,0,0,.999971,.006397,0,0,.999939,.00642142,0,0,.999888,.00646177,0,0,.999807,.00652387,0,207916e-9,.999689,.00661454,0,.00112051,.99952,.00674155,0,.00287719,.999283,.00691313,0,.00550145,.998936,.00713598,0,.00897928,.998165,.00738501,0,.0132829,.994847,.00734388,0,.01838,.993182,.00749991,0,.0242381,.991665,.0077246,0,.030826,.989708,.00797579,0,.0381152,.986663,.00813011,0,.0460794,.983288,.00830365,0,.0546951,.980104,.00853496,0,.0639411,.974855,.00861045,0,.0737988,.97045,.00879133,0,.0842516,.964509,.00886377,0,.0952848,.957594,.00890346,0,.106886,.950546,.00893289,0,.119044,.942225,.00890074,0,.131749,.933365,.00886826,0,.144994,.923202,.0087316,0,.158772,.912605,.00863082,0,.173078,.901099,.00847403,0,.187908,.888177,.00825838,0,.203261,.873955,.00801834,0,.219134,.860091,.00779026,0,.235527,.84434,.00752478,0,.252443,.828517,.00724074,0,.269883,.81239,.00693769,0,.287851,.79721,.00664817,0,.306352,.783489,.00634763,0,.325393,.769514,.00604221,0,.344981,.755419,.00573568,0,.365126,.741083,.00544359,0,.385839,.726059,.00515515,0,.407132,.710809,.00487139,0,.42902,.695052,.00459846,0,.45152,.678886,.00433412,0,.474651,.663042,.00407981,0,.498433,.646634,.00384264,0,.52289,.630117,.00360897,0,.548048,.613804,.00338863,0,.573936,.598338,.00318486,0,.600584,.582687,.00298377,0,.628027,.566809,.00280082,0,.656295,.550817,.00262255,0,.685417,.534937,.00245835,0,.715406,.519151,.00230574,0,.74624,.503118,.0021549,0,.777778,.487723,.00202008,0,.809524,.472725,.00189355,0,.84127,.457599,.00177108,0,.873016,.442558,.00165843,0,.904762,.427624,.00155494,0,.936508,.413171,.00145273,0,.968254,.399122,.00136454,0,1,1,.00826496,0,0,1,.00826499,0,0,1,.00826564,0,0,.999996,.00826842,0,0,.999987,.00827589,0,0,.999967,.00829167,0,0,.999933,.00832037,0,0,.999876,.00836768,0,109338e-10,.999786,.00844031,0,427145e-9,.999655,.00854603,0,.0016384,.999468,.00869337,0,.00372392,.999203,.008891,0,.00668513,.998803,.00914387,0,.0104968,.99748,.00935838,0,.015125,.994446,.00933309,0,.0205338,.99292,.00953084,0,.0266884,.991414,.0097893,0,.0335565,.989049,.0100228,0,.0411086,.98582,.0101664,0,.0493181,.982441,.0103582,0,.0581613,.978595,.0105292,0,.0676169,.973495,.0106274,0,.0776661,.968405,.0107261,0,.0882926,.962717,.0108234,0,.0994817,.955478,.0108102,0,.111221,.948275,.0107914,0,.123499,.940006,.0107161,0,.136308,.930831,.0106309,0,.149639,.920648,.0104083,0,.163485,.910205,.0102312,0,.177843,.898445,.0100051,0,.192707,.885986,.00971928,0,.208077,.872204,.00940747,0,.22395,.858436,.0091085,0,.240326,.843454,.00876595,0,.257208,.827437,.00839794,0,.274596,.811488,.00803692,0,.292496,.796039,.00767352,0,.310911,.781083,.0073097,0,.329849,.767642,.00694032,0,.349316,.753901,.00657476,0,.369323,.740131,.00622699,0,.38988,.725845,.0058838,0,.410999,.710991,.00555586,0,.432696,.696002,.00523089,0,.454987,.680461,.00492494,0,.47789,.664875,.00463464,0,.501426,.649273,.00435422,0,.52562,.63302,.0040875,0,.550498,.61705,.00384075,0,.576089,.601154,.00359557,0,.602427,.586008,.00337636,0,.629544,.570699,.00316019,0,.657479,.555166,.00296033,0,.686264,.539645,.00277552,0,.715924,.524159,.00259499,0,.746459,.508682,.00243257,0,.777789,.493163,.00227851,0,.809524,.478004,.00213083,0,.84127,.46347,.00199502,0,.873016,.448778,.00186967,0,.904762,.434105,.00174732,0,.936508,.419576,.00163861,0,.968254,.405541,.00153341,0,1,1,.0106462,0,0,1,.0106462,0,0,.999999,.010647,0,0,.999995,.0106502,0,0,.999985,.0106589,0,0,.999964,.0106773,0,0,.999925,.0107106,0,0,.999861,.0107655,0,712986e-10,.999763,.0108497,0,743959e-9,.999616,.0109716,0,.00227361,.999408,.0111408,0,.0046983,.999112,.0113659,0,.00800158,.998637,.0116475,0,.0121493,.996223,.0117231,0,.0171023,.994006,.0118064,0,.0228218,.992444,.0120254,0,.0292711,.991028,.0123314,0,.036417,.98803,.0124954,0,.0442295,.984816,.0126538,0,.0526815,.981399,.0128537,0,.0617492,.977085,.0129694,0,.0714114,.972154,.013091,0,.0816495,.966617,.0131166,0,.0924472,.960628,.0131583,0,.10379,.953295,.0131094,0,.115665,.94575,.0129966,0,.128062,.937654,.0128796,0,.140972,.927716,.0126477,0,.154387,.917932,.0123889,0,.168301,.907719,.012131,0,.182709,.89584,.0118013,0,.197608,.883526,.0114145,0,.212994,.870301,.0110075,0,.228867,.856272,.0106019,0,.245227,.842251,.0101938,0,.262074,.826466,.00973254,0,.279412,.810859,.0092846,0,.297244,.795051,.00883304,0,.315575,.780053,.00840272,0,.334412,.76575,.00796438,0,.35376,.752298,.00752526,0,.373631,.739153,.00711486,0,.394034,.725514,.00670361,0,.414983,.711473,.00632656,0,.436491,.696936,.00595206,0,.458575,.682126,.00559191,0,.481253,.667027,.00525362,0,.504547,.651875,.00493805,0,.528481,.636463,.00462848,0,.553081,.620641,.00433936,0,.578377,.604931,.00407,0,.604404,.589549,.00380864,0,.631197,.574712,.00357049,0,.658795,.559775,.00334466,0,.687238,.544514,.00312505,0,.716559,.529555,.00293199,0,.746776,.514402,.00274204,0,.777849,.499302,.00256647,0,.809524,.484114,.00239901,0,.84127,.469308,.00225148,0,.873016,.455133,.00210178,0,.904762,.440939,.0019727,0,.936508,.426627,.00184382,0,.968254,.412509,.00172548,0,1,1,.013628,0,0,1,.0136281,0,0,.999999,.0136289,0,0,.999995,.0136327,0,0,.999983,.0136427,0,0,.99996,.0136638,0,0,.999917,.0137022,0,0,.999846,.0137652,0,204597e-9,.999736,.0138615,0,.00116837,.999573,.0140007,0,.00303325,.99934,.0141927,0,.00580613,.999004,.0144457,0,.00945626,.998407,.0147489,0,.0139421,.995464,.014731,0,.0192202,.993328,.0148283,0,.0252495,.991799,.0150797,0,.0319921,.990397,.0154316,0,.0394138,.986835,.0155005,0,.0474843,.983938,.0157308,0,.0561763,.980154,.0158753,0,.0654661,.975659,.0159581,0,.0753326,.970171,.0159832,0,.0857571,.964803,.0160084,0,.0967236,.958366,.0159484,0,.108218,.950613,.0158001,0,.120227,.942874,.0155845,0,.132741,.935005,.0154292,0,.145751,.924991,.0150742,0,.159249,.914814,.0146757,0,.17323,.904743,.0143097,0,.187687,.893216,.0138695,0,.202619,.880769,.0133706,0,.218021,.868136,.0128606,0,.233894,.85469,.0123403,0,.250238,.840593,.0118091,0,.267052,.825808,.011253,0,.284341,.81009,.0107099,0,.302106,.79504,.0101636,0,.320354,.779757,.00964041,0,.33909,.764697,.00911896,0,.358322,.750913,.00859533,0,.378059,.738175,.00811592,0,.398311,.725242,.00764504,0,.41909,.711864,.00718885,0,.440412,.698009,.00675843,0,.462292,.683841,.00634984,0,.484748,.669391,.00595502,0,.507802,.654731,.00558671,0,.531477,.639805,.00523578,0,.555802,.624789,.00490834,0,.580805,.609325,.00459448,0,.606522,.593975,.00430342,0,.63299,.578983,.00403019,0,.66025,.564442,.0037707,0,.688346,.549835,.0035316,0,.717319,.535039,.00330255,0,.7472,.520403,.00308932,0,.777982,.505687,.00289335,0,.809524,.490939,.00270818,0,.84127,.476233,.0025343,0,.873016,.461624,.00237097,0,.904762,.447833,.00222065,0,.936508,.433992,.00207561,0,.968254,.420147,.00194955,0,1,1,.0173415,0,0,1,.0173416,0,0,.999999,.0173426,0,0,.999995,.0173468,0,0,.999983,.0173582,0,0,.999954,.0173822,0,0,.999908,.0174258,0,669501e-11,.999828,.0174973,0,427399e-9,.999705,.0176063,0,.00171019,.999524,.0177631,0,.0039248,.999263,.0179781,0,.00705382,.998878,.018258,0,.0110552,.998012,.0185551,0,.0158812,.994614,.0184264,0,.0214852,.993132,.0186385,0,.0278239,.991563,.0189067,0,.0348585,.989298,.0191577,0,.0425544,.986036,.0192522,0,.050881,.982558,.0194063,0,.059811,.978531,.019486,0,.0693209,.974198,.0195847,0,.0793895,.968148,.0194749,0,.0899984,.962565,.0194277,0,.101132,.956041,.0192991,0,.112775,.947749,.0189893,0,.124917,.94018,.018704,0,.137547,.93165,.0183458,0,.150655,.921798,.0178775,0,.164236,.911573,.0173618,0,.178281,.901569,.0168482,0,.192788,.890341,.016265,0,.207752,.877835,.0156199,0,.223171,.865472,.0149516,0,.239044,.852905,.0143274,0,.255371,.838906,.0136643,0,.272153,.824888,.0129903,0,.289393,.809977,.0123218,0,.307093,.794697,.0116572,0,.325259,.780028,.0110307,0,.343896,.765124,.0104236,0,.363012,.750411,.0098219,0,.382617,.737264,.00924397,0,.402719,.724799,.00868719,0,.423332,.712253,.00816476,0,.444469,.699267,.00767262,0,.466146,.685618,.00719746,0,.488383,.671736,.00673916,0,.511199,.657777,.00631937,0,.534618,.643497,.00592411,0,.558668,.62889,.00553928,0,.58338,.614299,.0051934,0,.608787,.599197,.00485985,0,.634929,.584175,.00454357,0,.661849,.569541,.00425787,0,.689594,.555193,.00397905,0,.718211,.540947,.00372364,0,.747742,.526593,.00348599,0,.778205,.512335,.00326103,0,.80953,.498017,.00305137,0,.84127,.483609,.00285485,0,.873016,.469368,.00267472,0,.904762,.455037,.00249945,0,.936508,.441493,.00234792,0,.968254,.428147,.00219936,0,1,1,.0219422,0,0,1,.0219423,0,0,.999998,.0219434,0,0,.999993,.0219481,0,0,.999981,.021961,0,0,.999949,.0219879,0,0,.999896,.0220367,0,593194e-10,.999808,.0221167,0,75364e-8,.99967,.0222383,0,.00237884,.999466,.0224125,0,.00495612,.999174,.0226495,0,.00844887,.998725,.0229525,0,.0128058,.996979,.0231123,0,.0179742,.994317,.0230742,0,.0239047,.992781,.0232895,0,.0305526,.991191,.0235734,0,.0378786,.987787,.0236152,0,.0458475,.985092,.0237994,0,.0544287,.981121,.0238553,0,.0635952,.976924,.0238706,0,.0733233,.97218,.0238704,0,.0835922,.965956,.0236598,0,.0943839,.959998,.0234735,0,.105682,.953245,.0232277,0,.117474,.944445,.0226973,0,.129747,.937087,.0223527,0,.142491,.928341,.0218144,0,.155697,.9184,.0211516,0,.169358,.907959,.0204553,0,.183469,.89808,.0197673,0,.198024,.887047,.0189915,0,.21302,.875221,.0182082,0,.228455,.86269,.0173584,0,.244329,.850735,.0165718,0,.260639,.837545,.0157524,0,.277389,.823639,.0149482,0,.29458,.809699,.0141431,0,.312216,.794797,.0133527,0,.3303,.780578,.0126193,0,.34884,.766019,.0118914,0,.367842,.751447,.0111839,0,.387315,.737275,.010514,0,.40727,.724545,.00987277,0,.427717,.712644,.00926569,0,.448671,.700432,.00869029,0,.470149,.687664,.00814691,0,.492167,.674288,.00763012,0,.514746,.660966,.00714437,0,.537911,.647264,.00668457,0,.561688,.633431,.00626581,0,.586108,.619133,.00585593,0,.611206,.604935,.00548188,0,.637022,.590236,.00513288,0,.663599,.575473,.0047906,0,.690989,.561228,.00448895,0,.719242,.547054,.00420233,0,.748411,.533175,.00392869,0,.778531,.519163,.00367445,0,.809583,.505328,.00344097,0,.84127,.491446,.00322003,0,.873016,.477356,.00301283,0,.904762,.46356,.00282592,0,.936508,.449623,.00264956,0,.968254,.436068,.00246956,0,1,1,.0276135,0,0,1,.0276136,0,0,.999998,.0276148,0,0,.999993,.0276201,0,0,.999976,.0276342,0,0,.999945,.027664,0,0,.999884,.0277179,0,18679e-8,.999784,.027806,0,.00119607,.99963,.0279394,0,.00318407,.999401,.0281295,0,.00613601,.999066,.0283858,0,.00999963,.998524,.0287027,0,.0147164,.995702,.0286256,0,.0202295,.993593,.0286733,0,.0264876,.992067,.0288989,0,.0334452,.990548,.0292135,0,.0410621,.986775,.0291296,0,.0493032,.984054,.0293099,0,.0581381,.979481,.0291881,0,.0675397,.975297,.0291598,0,.0774848,.96981,.028954,0,.0879528,.963524,.028628,0,.0989258,.957398,.0283135,0,.110388,.950088,.0278469,0,.122327,.941538,.0271798,0,.134729,.933332,.0265388,0,.147587,.924392,.0257776,0,.160889,.914581,.024916,0,.174631,.904347,.0240242,0,.188806,.894324,.0231229,0,.203409,.883724,.022153,0,.218437,.872207,.0211355,0,.233888,.859927,.0201048,0,.249761,.848373,.0191263,0,.266056,.836023,.0181306,0,.282774,.82289,.0171718,0,.299917,.809324,.0162196,0,.317488,.795361,.0152622,0,.335493,.781253,.01439,0,.353936,.767338,.013533,0,.372825,.753156,.0127244,0,.392168,.739122,.0119454,0,.411976,.725358,.0112054,0,.432259,.712949,.010487,0,.453032,.701621,.00984032,0,.47431,.689703,.00921495,0,.496111,.677216,.00862492,0,.518456,.664217,.00806882,0,.541367,.65137,.00755922,0,.564872,.638,.00705705,0,.589001,.62453,.00661266,0,.613789,.610601,.00618432,0,.639277,.59676,.00578033,0,.66551,.582433,.00540927,0,.692539,.568026,.00506104,0,.720422,.55414,.0047353,0,.749216,.540178,.00442889,0,.778974,.526513,.00414363,0,.809711,.512954,.00388237,0,.84127,.499403,.00362875,0,.873016,.486026,.00340827,0,.904762,.472345,.00318598,0,.936508,.458828,.00297635,0,.968254,.445379,.00279447,0,1,1,.0345716,0,0,1,.0345717,0,0,.999999,.034573,0,0,.999991,.0345787,0,0,.999974,.0345941,0,0,.999937,.0346263,0,188589e-11,.999869,.0346847,0,409238e-9,.999757,.0347798,0,.0017674,.999582,.0349233,0,.00413658,.999322,.0351265,0,.00747408,.998939,.0353967,0,.0117157,.998219,.0357018,0,.0167966,.994974,.0354726,0,.0226572,.993201,.0355621,0,.0292445,.991573,.0357641,0,.0365123,.989301,.0359252,0,.0444203,.985712,.0358017,0,.0529334,.982411,.0358353,0,.0620214,.977827,.035617,0,.0716574,.973278,.0354398,0,.0818186,.967397,.0350483,0,.0924846,.960696,.0344795,0,.103638,.954349,.0339861,0,.115263,.946066,.0331323,0,.127348,.938012,.032359,0,.13988,.929413,.0314413,0,.152849,.920355,.0304103,0,.166248,.910586,.0292785,0,.18007,.900609,.0281391,0,.194308,.890093,.0269103,0,.208958,.880013,.0257269,0,.224018,.869001,.0244671,0,.239485,.85751,.0232252,0,.255359,.84582,.0220117,0,.271638,.834383,.0208274,0,.288324,.822158,.0196628,0,.305419,.809056,.0185306,0,.322927,.795832,.0174174,0,.340851,.782547,.0163758,0,.359199,.7689,.015391,0,.377975,.755526,.0144488,0,.397189,.741681,.0135372,0,.416851,.728178,.0126957,0,.436971,.714642,.0118812,0,.457564,.702756,.0111165,0,.478644,.69175,.0104145,0,.500229,.680159,.00974439,0,.522339,.668073,.00911926,0,.544997,.655405,.00851393,0,.56823,.642921,.00797637,0,.592068,.629993,.00745119,0,.616546,.616828,.00696972,0,.641705,.603305,.00652425,0,.66759,.589833,.00610188,0,.694255,.575945,.00570834,0,.72176,.561745,.00533384,0,.750168,.548277,.00500001,0,.779545,.534467,.00467582,0,.809933,.521032,.00438092,0,.841272,.507877,.00410348,0,.873016,.494654,.00383618,0,.904762,.481592,.00358699,0,.936508,.468509,.00337281,0,.968254,.455293,.00316196,0,1,1,.0430698,0,0,1,.0430699,0,0,.999998,.0430713,0,0,.999991,.0430773,0,0,.99997,.0430936,0,0,.999928,.0431277,0,406396e-10,.999852,.0431893,0,744376e-9,.999724,.0432895,0,.0024806,.999527,.0434397,0,.00524779,.99923,.0436507,0,.00898164,.998783,.0439255,0,.0136083,.997507,.0441104,0,.0190582,.994418,.0438225,0,.0252694,.992864,.0439396,0,.0321879,.991127,.0440962,0,.039767,.987331,.0438408,0,.0479667,.984819,.0438991,0,.056752,.980384,.0435906,0,.0660929,.975846,.0432543,0,.075963,.970748,.0428293,0,.0863398,.964303,.042153,0,.0972035,.95772,.0414111,0,.108537,.950747,.0405893,0,.120325,.942533,.0394887,0,.132554,.934045,.0383544,0,.145215,.924942,.037057,0,.158296,.915811,.0356993,0,.17179,.90612,.0342401,0,.185691,.896434,.0328078,0,.199993,.886021,.031288,0,.214691,.876081,.0297776,0,.229782,.865608,.0282334,0,.245265,.854924,.026749,0,.261138,.843607,.02526,0,.277401,.832456,.0238214,0,.294056,.821342,.0224682,0,.311104,.809303,.0211297,0,.328548,.796468,.0198387,0,.346394,.784046,.0186227,0,.364645,.771262,.0174561,0,.38331,.758118,.0163806,0,.402396,.745075,.0153287,0,.421912,.731926,.0143647,0,.44187,.71863,.0134363,0,.462283,.705414,.0125603,0,.483165,.693792,.0117508,0,.504535,.683108,.0110016,0,.52641,.67183,.0102757,0,.548816,.66015,.00962044,0,.571776,.647907,.00898031,0,.595323,.635734,.00840811,0,.619489,.623208,.00786211,0,.644317,.610438,.00734953,0,.669852,.597345,.00687688,0,.696148,.584138,.00643469,0,.723267,.5707,.00602236,0,.75128,.556966,.0056324,0,.780258,.543607,.00528277,0,.810268,.530213,.00493999,0,.841311,.516912,.00462265,0,.873016,.503916,.0043307,0,.904762,.491146,.00406858,0,.936508,.478439,.00381436,0,.968254,.465834,.00358003,0,1,1,.0534039,0,0,1,.053404,0,0,.999998,.0534055,0,0,.999989,.0534116,0,0,.999968,.0534283,0,0,.999918,.0534633,0,155895e-9,.99983,.0535262,0,.00120914,.999685,.0536281,0,.00334944,.999461,.0537799,0,.00653077,.999119,.0539902,0,.0106718,.998582,.0542524,0,.0156907,.995919,.0540318,0,.0215147,.993735,.0538914,0,.0280801,.992126,.0539557,0,.0353323,.990266,.0540401,0,.0432247,.986317,.0536064,0,.0517172,.983213,.0534425,0,.0607754,.978303,.0528622,0,.0703698,.973665,.0523363,0,.0804742,.968091,.0516165,0,.0910667,.961026,.0505434,0,.102128,.954333,.049523,0,.113641,.946372,.0481698,0,.125591,.938254,.0467674,0,.137965,.929516,.0452341,0,.150754,.920106,.0435083,0,.163947,.910899,.0417399,0,.177537,.901532,.0399389,0,.191516,.891919,.0380901,0,.205881,.882006,.0362341,0,.220626,.871965,.0343444,0,.235749,.862145,.0324832,0,.251248,.852058,.0306681,0,.267121,.84161,.0289097,0,.283368,.830806,.0272079,0,.299992,.820476,.0256089,0,.316992,.809514,.0240394,0,.334374,.797865,.0225379,0,.35214,.785621,.0211235,0,.370296,.773765,.0197908,0,.388849,.761629,.0185235,0,.407807,.748891,.0173358,0,.427178,.736437,.0162305,0,.446974,.723707,.0151778,0,.467207,.710606,.0141791,0,.487892,.698019,.0132592,0,.509046,.686203,.0123887,0,.530687,.675692,.0115976,0,.552839,.664826,.0108325,0,.575527,.65349,.0101348,0,.59878,.641774,.00947756,0,.622634,.629794,.00886058,0,.647128,.617647,.00828526,0,.672308,.60534,.00775312,0,.698231,.592718,.00726033,0,.724958,.579746,.00679731,0,.752563,.566763,.00636111,0,.781127,.553515,.00595228,0,.810733,.540118,.00556876,0,.841426,.527325,.00523051,0,.873016,.514265,.00490712,0,.904762,.501406,.00460297,0,.936508,.488922,.00431247,0,.968254,.476541,.0040472,0,1,1,.0659184,0,0,1,.0659185,0,0,.999998,.06592,0,0,.999988,.0659259,0,0,.999963,.0659423,0,0,.999907,.0659764,0,374198e-9,.999806,.0660376,0,.00182071,.999639,.0661361,0,.0043894,.999378,.0662814,0,.00800055,.998985,.0664779,0,.0125594,.998285,.0666914,0,.0179786,.995071,.0661989,0,.0241822,.993172,.0660454,0,.031106,.991438,.0660105,0,.0386952,.988428,.0656875,0,.0469032,.985218,.0652913,0,.0556905,.981128,.0647107,0,.065023,.976015,.0638491,0,.0748717,.97097,.062993,0,.0852112,.964582,.0617927,0,.0960199,.957383,.0603626,0,.107279,.949969,.0588128,0,.118971,.941843,.0570274,0,.131084,.933624,.0551885,0,.143604,.924543,.053122,0,.156521,.914919,.0508897,0,.169825,.905773,.0486418,0,.18351,.896434,.0463364,0,.197569,.887195,.0440623,0,.211997,.877706,.0417799,0,.226789,.867719,.03945,0,.241944,.858587,.037243,0,.257458,.849317,.0350956,0,.273331,.839585,.0329852,0,.289563,.829856,.0310028,0,.306154,.819589,.0290953,0,.323108,.809714,.0272738,0,.340426,.79934,.0255631,0,.358113,.788224,.0239175,0,.376175,.776619,.0223831,0,.394616,.76521,.0209298,0,.413445,.753716,.0195786,0,.432671,.741564,.0183001,0,.452305,.729413,.0171259,0,.472358,.717146,.0159933,0,.492845,.70436,.0149495,0,.513783,.69219,.0139681,0,.535189,.680289,.0130577,0,.557087,.669611,.0122198,0,.5795,.659113,.0114174,0,.602459,.648148,.0106729,0,.625997,.636905,.00998997,0,.650154,.625154,.00934313,0,.674976,.613481,.00874839,0,.700518,.60154,.00818265,0,.726845,.58943,.00766889,0,.754032,.576828,.00717153,0,.782167,.564194,.00672696,0,.811344,.551501,.00630863,0,.841644,.538635,.00592177,0,.873016,.525724,.00554888,0,.904762,.513209,.00520225,0,.936508,.500457,.00488231,0,.968254,.48799,.00457153,0,1,1,.0810131,0,0,1,.0810133,0,0,.999997,.0810145,0,0,.999985,.08102,0,0,.999956,.0810347,0,195026e-10,.999893,.0810656,0,719316e-9,.999777,.0811205,0,.00259774,.999583,.081208,0,.00561807,.999281,.0813343,0,.00967472,.998813,.0814969,0,.0146627,.997597,.0815217,0,.0204902,.994379,.0808502,0,.0270802,.992744,.0806792,0,.0343674,.990745,.0804589,0,.0422974,.986646,.0796107,0,.0508242,.983611,.0790913,0,.0599087,.978869,.0780746,0,.0695175,.973475,.0768218,0,.0796223,.967845,.0754926,0,.0901983,.960778,.0737063,0,.101224,.953333,.0718052,0,.112682,.945274,.0695946,0,.124555,.936955,.0672492,0,.136831,.928319,.0647732,0,.149496,.919075,.0620947,0,.162542,.909114,.0591816,0,.175958,.900137,.0563917,0,.189739,.891069,.0535392,0,.203877,.882262,.0507642,0,.218368,.873232,.0479793,0,.233208,.864042,.045226,0,.248393,.855002,.0425413,0,.263923,.846569,.0400126,0,.279796,.837714,.0375269,0,.296012,.828918,.0352027,0,.312573,.819783,.0330011,0,.329479,.810129,.0308908,0,.346734,.800866,.0289112,0,.364342,.79093,.0270255,0,.382307,.780593,.0252758,0,.400637,.769511,.0236178,0,.419337,.758558,.0220652,0,.438418,.747632,.0206289,0,.457889,.736146,.0192873,0,.477761,.724093,.0180333,0,.49805,.71234,.0168264,0,.51877,.700201,.015746,0,.53994,.687949,.0147027,0,.561581,.676163,.0137512,0,.583718,.665001,.0128655,0,.60638,.65472,.0120366,0,.629599,.644213,.0112604,0,.653415,.633382,.0105413,0,.677874,.62212,.00986498,0,.70303,.610631,.00923308,0,.728948,.599078,.00864206,0,.755706,.587519,.00811784,0,.783396,.575505,.00761237,0,.812121,.563148,.00713949,0,.841989,.550828,.00668379,0,.873035,.538458,.00627715,0,.904762,.525905,.00588336,0,.936508,.513517,.00552687,0,.968254,.501395,.00519681,0,1,1,.0991506,0,0,1,.0991504,0,0,.999996,.0991515,0,0,.999984,.0991558,0,0,.999947,.0991672,0,114389e-9,.999874,.0991912,0,.00121503,.999739,.0992331,0,.00356108,.999514,.0992983,0,.00705578,.999159,.0993877,0,.011574,.998586,.0994837,0,.017003,.995731,.0988425,0,.0232484,.993384,.098276,0,.0302318,.991615,.0979269,0,.0378884,.989029,.0973432,0,.0461641,.985373,.0963539,0,.0550136,.981278,.0952306,0,.0643988,.975777,.0936233,0,.0742868,.970526,.0920219,0,.0846501,.963755,.0898912,0,.0954644,.956676,.0876064,0,.106709,.948099,.0847751,0,.118367,.939718,.0818638,0,.130423,.931305,.078857,0,.142862,.922342,.0756127,0,.155674,.912842,.0721473,0,.168849,.903304,.0686195,0,.182378,.89411,.0650589,0,.196255,.885512,.0616022,0,.210473,.877193,.0582434,0,.225027,.86877,.0548979,0,.239915,.860267,.0516095,0,.255132,.851915,.048468,0,.270678,.843912,.0454447,0,.286551,.83604,.0425612,0,.302751,.828245,.0398752,0,.31928,.820159,.0373198,0,.336138,.81167,.034916,0,.35333,.802659,.0326402,0,.370858,.793921,.0304901,0,.388728,.784713,.0284857,0,.406944,.774946,.0266186,0,.425515,.76448,.0248593,0,.444449,.753793,.0232114,0,.463756,.743506,.0217039,0,.483447,.732555,.0202841,0,.503535,.720965,.0189648,0,.524036,.709422,.0177189,0,.544968,.697756,.0165626,0,.56635,.685565,.015483,0,.588208,.673987,.0144892,0,.610569,.66244,.0135607,0,.633466,.651675,.0126956,0,.656936,.641598,.0118788,0,.681025,.63121,.0111261,0,.705788,.620514,.010437,0,.731289,.609366,.00978747,0,.757606,.598137,.00917257,0,.784834,.586966,.00859778,0,.813085,.575549,.00806803,0,.842485,.563797,.00757294,0,.87313,.551758,.00710592,0,.904762,.539894,.0066841,0,.936508,.527901,.00627901,0,.968254,.515819,.00590506,0,1,1,.120864,0,0,1,.120864,0,0,.999996,.120864,0,0,.99998,.120867,0,0,.99994,.120872,0,323781e-9,.999852,.120884,0,.00188693,.999693,.120903,0,.00473489,.999426,.120929,0,.00872704,.999002,.120955,0,.0137237,.998235,.120918,0,.0196068,.994608,.119764,0,.0262803,.992997,.119265,0,.0336657,.990968,.11863,0,.0416987,.987002,.117261,0,.0503261,.983524,.116009,0,.0595035,.97875,.114252,0,.0691935,.972652,.11193,0,.0793645,.966613,.109555,0,.0899894,.959275,.106612,0,.101045,.951272,.103375,0,.112512,.942323,.0996594,0,.124372,.933679,.0958841,0,.136611,.924822,.0919265,0,.149216,.915742,.0878061,0,.162176,.906348,.0834894,0,.175482,.896883,.079085,0,.189125,.88774,.0746745,0,.203098,.87986,.0705773,0,.217396,.871998,.0665005,0,.232015,.864325,.0625413,0,.24695,.856685,.0586781,0,.2622,.84925,.0550063,0,.277761,.841719,.0514727,0,.293634,.834755,.0481398,0,.309819,.827853,.0450172,0,.326315,.820888,.0420969,0,.343126,.813616,.0393702,0,.360254,.805767,.0367771,0,.377701,.797338,.0343274,0,.395474,.789122,.0320529,0,.413577,.780601,.0299485,0,.432018,.771424,.0279812,0,.450804,.761502,.0261054,0,.469944,.751166,.0243942,0,.489451,.741276,.0228087,0,.509337,.730898,.0213265,0,.529617,.719878,.0199307,0,.550307,.708379,.0186574,0,.571428,.697165,.0174446,0,.593003,.685554,.0163144,0,.615059,.673631,.015276,0,.637628,.662385,.0143003,0,.660746,.651059,.0134112,0,.68446,.640451,.0125794,0,.70882,.630536,.011793,0,.733893,.620316,.0110547,0,.759756,.609722,.0103668,0,.786505,.598804,.00973009,0,.814259,.587871,.00912812,0,.843157,.577121,.00858916,0,.87334,.566019,.00807333,0,.904762,.554664,.00759687,0,.936508,.543101,.00714759,0,.968254,.531558,.00673418,0,1,1,.146767,0,0,1,.146767,0,0,.999997,.146767,0,0,.999977,.146765,0,320658e-11,.999929,.146762,0,682576e-9,.999823,.146753,0,.00276402,.999633,.146735,0,.00614771,.999314,.146699,0,.0106613,.998796,.14662,0,.0161546,.997124,.146107,0,.0225063,.994062,.144857,0,.0296198,.992154,.144011,0,.037417,.989186,.142712,0,.0458348,.985279,.140926,0,.0548211,.980826,.13885,0,.0643326,.975056,.136168,0,.074333,.969005,.133217,0,.0847917,.961554,.12959,0,.0956828,.954206,.125886,0,.106984,.945046,.121335,0,.118675,.935678,.116492,0,.130741,.926748,.111635,0,.143166,.917764,.106625,0,.155939,.908358,.101325,0,.169049,.899219,.0960249,0,.182487,.890089,.0906527,0,.196245,.881488,.0853905,0,.210317,.874031,.0804177,0,.224697,.866932,.0756005,0,.23938,.859976,.0709019,0,.254364,.853375,.0664391,0,.269646,.846971,.0622012,0,.285223,.840483,.058129,0,.301096,.833969,.0542762,0,.317265,.82806,.0507042,0,.333729,.822128,.047368,0,.350491,.815989,.044272,0,.367554,.809336,.0413444,0,.38492,.802177,.038601,0,.402594,.79441,.0360227,0,.420582,.786573,.0336383,0,.438891,.778619,.0314321,0,.457527,.77,.029362,0,.476499,.760698,.0274102,0,.49582,.750932,.0256146,0,.5155,.740993,.023974,0,.535555,.731159,.0224182,0,.556,.720836,.0209889,0,.576855,.709913,.0196411,0,.598143,.698415,.0183824,0,.619888,.68745,.0172222,0,.642123,.676154,.0161509,0,.664883,.664383,.0151397,0,.688211,.6533,.0141873,0,.71216,.642072,.0133105,0,.736792,.631412,.0124932,0,.762186,.621622,.0117408,0,.788439,.611681,.0110358,0,.815672,.60142,.0103775,0,.844034,.59083,.00975623,0,.873699,.580254,.00918084,0,.904765,.569841,.00864721,0,.936508,.559224,.00815731,0,.968254,.548315,.00767924,0,1,1,.177563,0,0,1,.177563,0,0,.999994,.177562,0,0,.999972,.177555,0,664171e-10,.999914,.177536,0,.0012276,.999787,.177496,0,.00388025,.999556,.17742,0,.00783463,.999165,.177285,0,.0128953,.9985,.177037,0,.0189053,.995388,.175634,0,.025742,.993102,.174375,0,.033309,.990992,.173121,0,.0415298,.986932,.170896,0,.0503425,.982786,.16847,0,.0596964,.977592,.165455,0,.0695498,.971075,.161676,0,.0798676,.963967,.157458,0,.0906201,.956397,.152836,0,.101783,.947489,.147467,0,.113333,.937564,.14145,0,.125254,.928182,.135383,0,.137529,.919027,.129212,0,.150144,.909618,.12276,0,.163088,.900492,.116273,0,.176351,.891671,.1098,0,.189924,.883146,.103362,0,.203799,.875151,.0970799,0,.21797,.868338,.0911732,0,.232433,.862033,.0854966,0,.247182,.856107,.0800691,0,.262216,.850644,.0749618,0,.27753,.845261,.070079,0,.293124,.839885,.0654321,0,.308997,.834609,.0610975,0,.325149,.829083,.0569741,0,.341581,.82404,.0531736,0,.358294,.818968,.049665,0,.37529,.813496,.0463856,0,.392573,.807533,.0433217,0,.410148,.80099,.0404402,0,.428019,.793891,.0377578,0,.446192,.786281,.0352616,0,.464676,.778773,.0329577,0,.483478,.770737,.030808,0,.502608,.762094,.0287964,0,.522079,.752898,.0269254,0,.541905,.743306,.0251926,0,.5621,.733416,.023595,0,.582684,.723742,.0221155,0,.603677,.713542,.0207435,0,.625106,.702755,.019434,0,.646998,.691484,.0182046,0,.66939,.680531,.0170771,0,.692324,.66953,.0160339,0,.715849,.658126,.0150677,0,.740028,.646933,.0141551,0,.764937,.636107,.0133179,0,.790673,.625271,.0125284,0,.817358,.615225,.0117937,0,.84515,.605678,.0111181,0,.874244,.59583,.0104759,0,.904828,.585704,.00986672,0,.936508,.575413,.00929712,0,.968254,.565373,.00876713,0,1,1,.214058,0,0,.999999,.214058,0,0,.999994,.214055,0,0,.999966,.214039,0,259642e-9,.999893,.213998,0,.00200075,.999737,.21391,0,.00527775,.999449,.213745,0,.00983959,.99896,.213458,0,.0154755,.9979,.212855,0,.0220249,.994278,.210779,0,.0293654,.992254,.20926,0,.0374021,.98881,.206908,0,.0460604,.984715,.204009,0,.0552802,.979738,.200471,0,.0650127,.972884,.195813,0,.0752175,.965996,.190856,0,.0858612,.957974,.185077,0,.0969155,.949155,.17868,0,.108356,.939288,.171513,0,.120163,.928996,.163838,0,.132319,.919563,.156246,0,.144808,.910004,.148359,0,.157618,.900791,.140417,0,.170737,.892135,.132569,0,.184155,.883803,.124741,0,.197866,.876034,.117091,0,.211861,.869219,.109835,0,.226134,.863062,.102859,0,.240682,.857795,.0962928,0,.255499,.853009,.0900725,0,.270583,.848603,.0842101,0,.285931,.844335,.0786527,0,.301542,.840208,.0734397,0,.317415,.836035,.0685334,0,.33355,.83172,.0639275,0,.349948,.827135,.0595909,0,.36661,.822797,.0556204,0,.383539,.818387,.0519394,0,.400738,.813565,.0485317,0,.41821,.808142,.0453138,0,.435961,.802212,.0423354,0,.453997,.79573,.0395553,0,.472324,.788741,.036988,0,.490951,.781093,.0345688,0,.509887,.773597,.0323297,0,.529144,.765622,.0302719,0,.548735,.757083,.0283477,0,.568674,.747992,.0265562,0,.588979,.738591,.0248844,0,.609671,.728719,.0233342,0,.630773,.719146,.0219081,0,.652314,.709165,.0205711,0,.674328,.69875,.0193248,0,.696854,.687884,.0181582,0,.719942,.676818,.0170746,0,.743651,.666247,.0160718,0,.768057,.655284,.0151262,0,.793253,.64401,.0142561,0,.819363,.633353,.0134327,0,.846547,.622674,.012653,0,.875017,.612265,.0119354,0,.905021,.602455,.0112533,0,.936508,.593147,.0106234,0,.968254,.583592,.0100213,0,1,1,.25717,0,0,1,.25717,0,0,.999992,.257164,0,0,.999958,.257135,0,641715e-9,.999864,.25706,0,.00305314,.999666,.256897,0,.00700975,.999302,.256596,0,.0122194,.998663,.25607,0,.0184622,.995607,.254123,0,.0255773,.993094,.252081,0,.0334439,.9907,.249867,0,.0419696,.98594,.246118,0,.0510823,.981214,.242049,0,.0607242,.974966,.236869,0,.0708486,.967589,.230724,0,.081417,.95915,.223635,0,.0923974,.950257,.21596,0,.103763,.940165,.207296,0,.115491,.929396,.197901,0,.127562,.919288,.188437,0,.13996,.909428,.178762,0,.15267,.900105,.169072,0,.165679,.891418,.159478,0,.178979,.883347,.15002,0,.192558,.875992,.140813,0,.20641,.869466,.13196,0,.220529,.863699,.123501,0,.234907,.858553,.115436,0,.249542,.854379,.107901,0,.264428,.850894,.10088,0,.279564,.847632,.0942296,0,.294947,.844571,.0879861,0,.310575,.84163,.0821534,0,.326448,.838542,.0766409,0,.342566,.835412,.0715322,0,.358929,.831899,.0666883,0,.37554,.828177,.0622175,0,.392399,.82416,.0580452,0,.409511,.820393,.054267,0,.426878,.816068,.0507172,0,.444506,.811201,.0474041,0,.4624,.805785,.0443174,0,.480566,.799878,.0414562,0,.499013,.793469,.0388147,0,.517749,.786473,.0363453,0,.536785,.778874,.0340225,0,.556134,.771277,.0318599,0,.575809,.763426,.0298859,0,.595827,.755044,.0280357,0,.616207,.746161,.0262979,0,.636973,.737124,.0247295,0,.65815,.72761,.0232514,0,.679772,.717822,.0218755,0,.701876,.708279,.0205942,0,.724509,.698333,.0193947,0,.74773,.68802,.0182717,0,.771609,.677321,.0172044,0,.79624,.666504,.0162122,0,.821743,.656184,.0152924,0,.84828,.64556,.0144326,0,.876069,.634636,.0136157,0,.905404,.624124,.0128612,0,.936508,.613914,.0121435,0,.968254,.603589,.0114887,0,1,1,.307946,0,0,.999999,.307945,0,0,.999988,.307934,0,204479e-10,.999944,.307886,0,.00127833,.999824,.307756,0,.00445047,.999565,.30748,0,.00914673,.999085,.306966,0,.0150498,.998103,.306004,0,.0219367,.994249,.303028,0,.0296485,.991807,.300435,0,.038068,.987773,.296554,0,.0471062,.982673,.2916,0,.0566942,.976623,.285641,0,.0667768,.968757,.27815,0,.0773099,.959849,.269529,0,.088257,.950663,.260248,0,.0995879,.940129,.249704,0,.111277,.92895,.238291,0,.123304,.917996,.226501,0,.13565,.907813,.214669,0,.148299,.898305,.202835,0,.161237,.889626,.191158,0,.174455,.88175,.179695,0,.187941,.874715,.168548,0,.201687,.868746,.15792,0,.215687,.863703,.147807,0,.229933,.859315,.138149,0,.24442,.855538,.128993,0,.259145,.852428,.120414,0,.274103,.850168,.112498,0,.289293,.848132,.105054,0,.304711,.846291,.0981087,0,.320357,.844431,.0915942,0,.33623,.842493,.0855056,0,.35233,.840368,.0798204,0,.368658,.83798,.0745097,0,.385214,.83523,.0695424,0,.402002,.832091,.0649092,0,.419023,.828667,.0606291,0,.436282,.824805,.0566523,0,.453782,.820988,.0530229,0,.471529,.816635,.0496364,0,.489528,.811725,.0464658,0,.507788,.806316,.0435082,0,.526317,.800469,.0407873,0,.545124,.794107,.038255,0,.564221,.787218,.0358825,0,.583621,.779872,.0336785,0,.603341,.772097,.0316379,0,.623397,.764484,.0297379,0,.643812,.756428,.0279581,0,.664611,.748022,.0263153,0,.685824,.739268,.0247799,0,.707488,.73024,.0233385,0,.729646,.720893,.0220035,0,.752354,.71119,.0207555,0,.77568,.701791,.0195843,0,.799715,.692184,.0184891,0,.824574,.682258,.0174541,0,.850417,.67206,.0164873,0,.877466,.661717,.0155959,0,.90604,.651462,.0147519,0,.936528,.641467,.0139727,0,.968254,.631229,.0132363,0,1,1,.367573,0,0,.999999,.367571,0,0,.999984,.367553,0,183382e-9,.999925,.367473,0,.00225254,.999759,.367259,0,.00628165,.99941,.366801,0,.0117858,.998739,.365946,0,.0184359,.995529,.363191,0,.0260114,.992875,.360171,0,.0343581,.989135,.355981,0,.0433637,.984166,.350401,0,.0529438,.977871,.343348,0,.0630334,.96951,.334341,0,.0735805,.959964,.323862,0,.0845437,.950162,.312521,0,.095889,.938882,.299577,0,.107588,.926992,.285573,0,.119617,.915589,.271212,0,.131957,.904791,.256611,0,.144591,.895177,.242224,0,.157503,.886403,.227952,0,.170682,.878957,.214192,0,.184117,.872418,.200795,0,.197799,.867029,.188015,0,.21172,.862835,.175975,0,.225873,.859411,.164526,0,.240253,.856655,.153693,0,.254854,.854519,.14352,0,.269673,.852828,.13397,0,.284707,.851412,.124984,0,.299953,.850609,.116748,0,.315408,.849855,.10905,0,.331073,.849017,.101839,0,.346946,.848079,.0951359,0,.363028,.846911,.0888774,0,.379318,.845445,.0830375,0,.395818,.84362,.0775844,0,.41253,.841411,.0725054,0,.429457,.838768,.0677691,0,.446602,.835801,.0634016,0,.463968,.832341,.0593095,0,.481561,.828424,.0555121,0,.499386,.824312,.052024,0,.51745,.819918,.0487865,0,.535761,.815072,.0457801,0,.554328,.809863,.0430184,0,.573162,.804164,.0404245,0,.592275,.798034,.0380146,0,.611681,.791436,.0357436,0,.631398,.784498,.0336475,0,.651445,.777125,.0316666,0,.671845,.769365,.0298122,0,.692628,.761579,.0281001,0,.713827,.753746,.0265049,0,.735484,.745573,.0250067,0,.75765,.737083,.0236026,0,.78039,.728545,.0223302,0,.803789,.719691,.0211243,0,.82796,.710569,.0199983,0,.853056,.701216,.0189569,0,.879298,.692094,.0179702,0,.907014,.682909,.0170418,0,.936691,.673509,.0161732,0,.968254,.663863,.0153406,0,1,1,.437395,0,0,.999998,.437394,0,0,.99998,.437363,0,616704e-9,.999891,.437232,0,.00367925,.999656,.436877,0,.00867446,.999148,.436121,0,.0150679,.997959,.434564,0,.022531,.993464,.430134,0,.0308507,.990606,.426077,0,.0398805,.985027,.419397,0,.0495148,.978491,.41118,0,.0596749,.969643,.40048,0,.0703001,.959189,.38769,0,.0813427,.948223,.373575,0,.0927641,.935955,.357622,0,.104533,.923237,.34043,0,.116624,.911074,.322735,0,.129015,.899724,.30479,0,.141687,.890189,.287392,0,.154626,.881796,.270248,0,.167818,.874781,.253659,0,.181252,.869166,.237786,0,.194918,.864725,.222618,0,.208807,.861565,.208356,0,.222913,.859284,.194867,0,.237229,.857677,.18212,0,.25175,.856714,.17018,0,.266473,.856155,.158969,0,.281392,.8558,.148413,0,.296505,.855672,.138578,0,.311811,.855538,.129345,0,.327306,.855689,.120861,0,.342991,.855767,.112969,0,.358864,.855618,.105593,0,.374925,.85525,.0987451,0,.391176,.854583,.0923727,0,.407616,.853534,.0864143,0,.424249,.852061,.0808338,0,.441076,.850253,.0756771,0,.4581,.848004,.0708612,0,.475324,.845333,.0663784,0,.492754,.842376,.0622631,0,.510394,.838956,.0584112,0,.528251,.835121,.0548328,0,.546331,.830842,.0514838,0,.564644,.826212,.048355,0,.583198,.821522,.0454714,0,.602005,.816551,.0428263,0,.621078,.811211,.0403612,0,.640434,.805479,.038039,0,.660089,.799409,.0358739,0,.680066,.79306,.0338727,0,.70039,.786395,.0319985,0,.721094,.779416,.030241,0,.742215,.77214,.0285951,0,.7638,.764636,.0270747,0,.785912,.756836,.0256354,0,.808628,.749315,.0243027,0,.832055,.741561,.0230497,0,.856338,.733589,.0218801,0,.88169,.725479,.020784,0,.908441,.717255,.0197702,0,.937125,.708829,.0188168,0,.968254,.700191,.0179113,0,1,1,.518937,0,0,.999998,.518933,0,0,.999967,.518883,0,.00147741,.999832,.51866,0,.00573221,.999466,.518057,0,.011826,.998644,.516752,0,.0192116,.994458,.512347,0,.027573,.991223,.507675,0,.0367099,.985515,.500188,0,.046487,.978308,.490408,0,.0568071,.968359,.477357,0,.0675984,.95682,.461752,0,.0788059,.943929,.443796,0,.090386,.930224,.423893,0,.102304,.916514,.402682,0,.114532,.903653,.380914,0,.127047,.892315,.359212,0,.139828,.882942,.338102,0,.152861,.875438,.31773,0,.16613,.869642,.298186,0,.179624,.865304,.279491,0,.193332,.862382,.261804,0,.207247,.860666,.245146,0,.22136,.859788,.229406,0,.235666,.859608,.214605,0,.250158,.859912,.200691,0,.264832,.86053,.187623,0,.279684,.861368,.17539,0,.294711,.862237,.163901,0,.309911,.863127,.153175,0,.32528,.863923,.143147,0,.340819,.864567,.133781,0,.356524,.865013,.125042,0,.372397,.86539,.116952,0,.388438,.865591,.109476,0,.404645,.865517,.102542,0,.421022,.865084,.0960688,0,.437569,.864309,.0900499,0,.454287,.863151,.0844328,0,.471181,.861649,.0792218,0,.488253,.859742,.0743482,0,.505507,.857446,.0697963,0,.522947,.854757,.0655364,0,.54058,.851783,.061608,0,.558412,.848516,.0579701,0,.576449,.844897,.0545742,0,.594701,.840956,.0514167,0,.613178,.836676,.0484598,0,.631892,.832075,.0456934,0,.650856,.827191,.0431178,0,.670088,.822295,.0407718,0,.689606,.817294,.0386032,0,.709434,.812013,.0365675,0,.7296,.806465,.0346547,0,.750138,.800691,.0328717,0,.771093,.794709,.031211,0,.792519,.788493,.0296504,0,.814488,.782049,.0281782,0,.837097,.775403,.0267965,0,.860481,.76857,.0255002,0,.884842,.761536,.0242759,0,.910494,.754303,.0231142,0,.937985,.74692,.0220305,0,.968254,.739745,.0210192,0,1,1,.613914,0,0,.999996,.613907,0,963597e-10,.999942,.613814,0,.00301247,.999704,.613407,0,.00870385,.999046,.612302,0,.0160714,.995516,.608266,0,.0245899,.991726,.602863,0,.0339681,.985157,.593956,0,.0440254,.97642,.581748,0,.0546409,.964404,.565183,0,.0657284,.950601,.545273,0,.0772246,.935158,.522129,0,.0890812,.919364,.496782,0,.10126,.904754,.470571,0,.113731,.89176,.444037,0,.126469,.881492,.418322,0,.139454,.873656,.393522,0,.15267,.868053,.369795,0,.166101,.864336,.347171,0,.179736,.862259,.325737,0,.193565,.861556,.305532,0,.207578,.861776,.286416,0,.221769,.862661,.268355,0,.23613,.864015,.251334,0,.250656,.865711,.235352,0,.265343,.867519,.220302,0,.280187,.869351,.206161,0,.295183,.871144,.192908,0,.31033,.872839,.180505,0,.325624,.874307,.168848,0,.341065,.875667,.158021,0,.35665,.876758,.147877,0,.37238,.87764,.138441,0,.388253,.878237,.129627,0,.404269,.878563,.121415,0,.42043,.878572,.113741,0,.436735,.87842,.106652,0,.453187,.878057,.100097,0,.469786,.877413,.0940128,0,.486536,.87646,.0883462,0,.503439,.875233,.0830924,0,.520498,.8737,.0781975,0,.537717,.871873,.07364,0,.555102,.86978,.0694103,0,.572657,.867405,.0654696,0,.59039,.864751,.0617914,0,.608307,.861818,.0583491,0,.626419,.858645,.0551443,0,.644733,.855307,.0521894,0,.663264,.851736,.0494334,0,.682025,.847927,.0468504,0,.701032,.843888,.0444261,0,.720308,.839629,.0421497,0,.739875,.835158,.0400082,0,.759764,.830509,.0380076,0,.780014,.825714,.0361488,0,.800673,.820729,.0343956,0,.821803,.815751,.0327781,0,.843492,.810752,.031275,0,.86586,.805587,.0298542,0,.889087,.800317,.0285397,0,.913466,.79489,.0272948,0,.93952,.789314,.0261139,0,.96835,.783593,.0249938,0,1,1,.724258,0,0,.999992,.724243,0,726889e-9,.99987,.724044,0,.00569574,.999336,.72317,0,.0131702,.996271,.719432,0,.0220738,.991159,.712576,0,.0319405,.982465,.700927,0,.0425202,.97049,.684297,0,.0536599,.953973,.661244,0,.065258,.935546,.633804,0,.0772427,.916596,.603071,0,.0895616,.899353,.57105,0,.102175,.885216,.539206,0,.11505,.875076,.508714,0,.128164,.868334,.479571,0,.141495,.864414,.451796,0,.155026,.862678,.425328,0,.168745,.862835,.400352,0,.182639,.864067,.376532,0,.196699,.866086,.35391,0,.210915,.868557,.332424,0,.225282,.871271,.312053,0,.239792,.874058,.292764,0,.25444,.8768,.27453,0,.269223,.87939,.257297,0,.284135,.8819,.24114,0,.299174,.884187,.225934,0,.314337,.886262,.211669,0,.329622,.888119,.198311,0,.345026,.889709,.185783,0,.360549,.891054,.174063,0,.376189,.892196,.163143,0,.391946,.893101,.152952,0,.407819,.893803,.143475,0,.423808,.894277,.134647,0,.439914,.894532,.126434,0,.456137,.894576,.1188,0,.472479,.894393,.111694,0,.48894,.893976,.105069,0,.505523,.893346,.0989077,0,.52223,.892502,.0931724,0,.539064,.891441,.0878276,0,.556028,.890276,.082903,0,.573125,.888972,.0783505,0,.590361,.887469,.0741083,0,.607741,.885785,.0701633,0,.62527,.883914,.0664835,0,.642957,.881872,.0630567,0,.660809,.879651,.0598527,0,.678836,.877267,.0568615,0,.69705,.874717,.05406,0,.715465,.872012,.0514378,0,.734098,.869157,.0489805,0,.752968,.866155,.0466727,0,.772101,.863014,.0445056,0,.791529,.859748,.0424733,0,.81129,.856416,.0405957,0,.831438,.852958,.0388273,0,.852044,.849382,.0371619,0,.87321,.845694,.0355959,0,.89509,.841893,.0341155,0,.917932,.837981,.0327141,0,.942204,.833963,.0313856,0,.968981,.829847,.0301275,0,1,1,.85214,0,0,.999969,.852095,0,.00279627,.999483,.851408,0,.0107635,.994545,.84579,0,.0206454,.986188,.835231,0,.0315756,.969847,.814687,0,.0432021,.945951,.783735,0,.0553396,.91917,.746074,0,.0678766,.895488,.706938,0,.0807395,.878232,.669534,0,.0938767,.868252,.635168,0,.10725,.863873,.603069,0,.120832,.863369,.572514,0,.134598,.86545,.543169,0,.148533,.868803,.514578,0,.16262,.872794,.486762,0,.176849,.87702,.459811,0,.19121,.881054,.433654,0,.205694,.884974,.408574,0,.220294,.888587,.384525,0,.235005,.891877,.36156,0,.24982,.894793,.339661,0,.264737,.89743,.318913,0,.279751,.899796,.299302,0,.294859,.901943,.280843,0,.310058,.903858,.263481,0,.325346,.905574,.247197,0,.340721,.907069,.231915,0,.356181,.908379,.217614,0,.371725,.90952,.20425,0,.387353,.910483,.191758,0,.403063,.91128,.180092,0,.418854,.911936,.169222,0,.434727,.912454,.159098,0,.450682,.912835,.149668,0,.466718,.913078,.140884,0,.482837,.913192,.132709,0,.499038,.913175,.125095,0,.515324,.91304,.118012,0,.531695,.912781,.111417,0,.548153,.91241,.105281,0,.5647,.911924,.0995691,0,.581338,.911331,.0942531,0,.59807,.910637,.0893076,0,.6149,.90984,.0846998,0,.63183,.908941,.0804044,0,.648865,.907944,.0763984,0,.666011,.906857,.0726638,0,.683273,.90568,.0691783,0,.700659,.904416,.0659222,0,.718176,.903067,.0628782,0,.735834,.901637,.0600307,0,.753646,.900128,.0573647,0,.771625,.898544,.0548668,0,.78979,.89689,.052527,0,.808162,.895165,.0503306,0,.826771,.893371,.0482668,0,.845654,.891572,.0463605,0,.864863,.889763,.0445998,0,.884472,.887894,.0429451,0,.904592,.885967,.0413884,0,.925407,.883984,.0399225,0,.947271,.881945,.0385405,0,.97105,.879854,.0372362,0,1,.999804,.995833,0,0,.938155,.933611,0,.0158731,.864755,.854311,0,.0317461,.888594,.865264,0,.0476191,.905575,.863922,0,.0634921,.915125,.850558,0,.0793651,.920665,.829254,0,.0952381,.924073,.802578,0,.111111,.926304,.772211,0,.126984,.927829,.739366,0,.142857,.928924,.705033,0,.15873,.92973,.670019,0,.174603,.930339,.634993,0,.190476,.930811,.600485,0,.206349,.931191,.566897,0,.222222,.93149,.534485,0,.238095,.931737,.503429,0,.253968,.931939,.473811,0,.269841,.932108,.445668,0,.285714,.93225,.418993,0,.301587,.932371,.393762,0,.31746,.932474,.369939,0,.333333,.932562,.347479,0,.349206,.932638,.326336,0,.365079,.932703,.306462,0,.380952,.93276,.287805,0,.396825,.932809,.270313,0,.412698,.932851,.253933,0,.428571,.932887,.23861,0,.444444,.932917,.224289,0,.460317,.932943,.210917,0,.47619,.932965,.19844,0,.492063,.932982,.186807,0,.507937,.932995,.175966,0,.52381,.933005,.165869,0,.539683,.933011,.156468,0,.555556,.933013,.147719,0,.571429,.933013,.139579,0,.587302,.93301,.132007,0,.603175,.933004,.124965,0,.619048,.932994,.118416,0,.634921,.932982,.112326,0,.650794,.932968,.106663,0,.666667,.93295,.101397,0,.68254,.932931,.0964993,0,.698413,.932908,.0919438,0,.714286,.932883,.0877057,0,.730159,.932856,.0837623,0,.746032,.932827,.0800921,0,.761905,.932796,.0766754,0,.777778,.932762,.0734936,0,.793651,.932727,.0705296,0,.809524,.932689,.0677676,0,.825397,.93265,.0651929,0,.84127,.932609,.0627917,0,.857143,.932565,.0605515,0,.873016,.932521,.0584606,0,.888889,.932474,.0565082,0,.904762,.932427,.0546841,0,.920635,.932377,.0529793,0,.936508,.932326,.0513851,0,.952381,.932274,.0498936,0,.968254,.93222,.0484975,0,.984127,.932164,.0471899,0,1],r=new Float32Array(e),i=new Float32Array(n);en.LTC_FLOAT_1=new Yy(r,64,64,Ca,wu,P4,ko,ko,Hs,so,1),en.LTC_FLOAT_2=new Yy(i,64,64,Ca,wu,P4,ko,ko,Hs,so,1),en.LTC_FLOAT_1.needsUpdate=!0,en.LTC_FLOAT_2.needsUpdate=!0;const o=new Uint16Array(e.length);e.forEach(function(d,m){o[m]=N9e.toHalfFloat(d)});const u=new Uint16Array(n.length);n.forEach(function(d,m){u[m]=N9e.toHalfFloat(d)}),en.LTC_HALF_1=new Yy(o,64,64,Ca,ig,P4,ko,ko,Hs,so,1),en.LTC_HALF_2=new Yy(u,64,64,Ca,ig,P4,ko,ko,Hs,so,1),en.LTC_HALF_1.needsUpdate=!0,en.LTC_HALF_2.needsUpdate=!0}}const _ge=new Re;class F_e extends Bb{constructor(){super();tr(this,"renderTarget");tr(this,"camera");tr(this,"mesh");this.name="RTTScene";const n=bX.get("environment");this.background=n,this.camera=new Ds(60,1,10,2e3),this.camera.position.set(0,0,100),this.camera.lookAt(_ge);const r=new NW(new cn(16751103),1);r.name="sun",this.add(r),this.mesh=new hi(new DW(10,3,100,6),new G4),this.mesh.name="normalMesh",this.add(this.mesh),this.renderTarget=new Aa(512,512,{depthBuffer:!1}),lg(this)}draw(n,r){const o=n*.05*Math.PI*2,u=Math.cos(o)*100,d=Math.sin(o)*100;this.camera.position.set(u,0,d),this.camera.lookAt(_ge),r.setRenderTarget(this.renderTarget),r.clear(),r.render(this,this.camera),r.setRenderTarget(null)}}class B_e extends L_e{constructor(n){super(n);tr(this,"dance");tr(this,"rttScene");this.name="Scene2",this.camera.position.set(0,100,125),this.camera.lookAt(0,50,0),this.createLights(),this.createWorld(),this.createAnimation(),lg(this);const r=br.components.get("three");r.addScene(this),r.setScene(this),r.addCamera(this.camera),r.renderer&&(this.renderer=r.renderer)}dispose(){br.components.get("three").removeScene(this.rttScene),super.dispose()}createLights(){prt.init();const n=new Ar;n.name="lights",this.add(n);const r=new LW(16777215,3);r.angle=5.8,r.decay=0,r.distance=1e3,r.penumbra=Math.PI,r.name="spotlight",r.position.set(-250,200,200),r.lookAt(0,50,0),n.add(r);const i=new Xze(16711680,1,300,100);i.name="rectLight",i.position.set(250,100,100),i.lookAt(0,50,0),n.add(i)}createWorld(){const n=new Ar;n.name="world",this.add(n);const r=_X.get("uv_grid");r.repeat.setScalar(10),r.needsUpdate=!0;const i=new y6e({map:r}),o=new hi(new OI(250,36),i);o.name="floor",o.receiveShadow=!0,o.rotateX(-Math.PI/2),n.add(o);const u=new uze(new O2(50),new f6e({size:.5}));u.name="points",u.position.set(-100,50,0),n.add(u);const d=new DI(new O2(50),new t1);d.name="lines",d.position.set(100,50,0),n.add(d),this.rttScene=new F_e,br.components.get("three").addScene(this.rttScene);const v=new mh;v.map=this.rttScene.renderTarget.texture;const x=new hi(new R2(100,100),v);x.name="rttExample",x.position.set(-120,50,-100),n.add(x);const S=new hi(new R2(100,100),new b_e);S.name="testShader",S.position.set(0,50,-100),n.add(S),this.dance=new O_e("Flair"),this.dance.name="flair",this.dance.traverse(T=>{if(T instanceof p6e){const R=T;R.material=new b6e}}),n.add(this.dance)}createAnimation(){const n=br.components.get("theatre");n.sheet(this.name),n.sheetObject(this.name,"Camera",{position:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z},rotation:{x:this.camera.rotation.x,y:this.camera.rotation.y,z:this.camera.rotation.z}},r=>{this.camera.position.set(r.position.x,r.position.y,r.position.z),this.camera.rotation.set(r.rotation.x,r.rotation.y,r.rotation.z)}),n.sheetObject(this.name,"Dancer",{position:{x:this.dance.position.x,y:this.dance.position.y,z:this.dance.position.z},rotation:{x:this.dance.rotation.x,y:this.dance.rotation.y,z:this.dance.rotation.z}},r=>{this.dance.position.set(r.position.x,r.position.y,r.position.z),this.dance.rotation.set(r.rotation.x,r.rotation.y,r.rotation.z)}),n.playSheet(this.name,{iterationCount:1/0})}update(){const n=this.clock.getDelta();this.dance.update(n),this.renderer&&this.rttScene.draw(this.clock.getElapsedTime(),this.renderer)}}const lR=new Map;lR.set("Scene1",N_e);lR.set("Scene2",B_e);lR.set("RTTScene",F_e);function frt(){const[t,e]=ut.useState(!1);ut.useEffect(()=>{const r=()=>{t_.removeEventListener(n_.LOAD_COMPLETE,r),e(!0)};t_.addEventListener(n_.LOAD_COMPLETE,r)},[]);const n=br.components.get("three");return Ve.jsx(Ve.Fragment,{children:t&&br.editor&&Ve.jsx(Zqe,{header:[Ve.jsx(d_e,{title:"Scenes",options:[{type:"option",title:"Scene 1",value:"scene1"},{type:"option",title:"Scene 2",value:"scene2"}],onSelect:r=>{br.send({target:"app",event:"selectComponent",data:{dropdown:"Scenes",value:r}})}},"Scenes")],children:Ve.jsxs(Ve.Fragment,{children:[Ve.jsx(ott,{three:n,scenes:lR,onSceneUpdate:r=>{r.update()}}),Ve.jsx(Zet,{three:n})]})})})}var lI={exports:{}};lI.exports;(function(t,e){var n=Object.create,r=Object.defineProperty,i=Object.defineProperties,o=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,v=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,T=(y,M,U)=>M in y?r(y,M,{enumerable:!0,configurable:!0,writable:!0,value:U}):y[M]=U,R=(y,M)=>{for(var U in M||(M={}))x.call(M,U)&&T(y,U,M[U]);if(m)for(var U of m(M))S.call(M,U)&&T(y,U,M[U]);return y},G=(y,M)=>i(y,u(M)),L=(y,M)=>function(){return M||(0,y[d(y)[0]])((M={exports:{}}).exports,M),M.exports},B=(y,M)=>{for(var U in M)r(y,U,{get:M[U],enumerable:!0})},z=(y,M,U,Z)=>{if(M&&typeof M=="object"||typeof M=="function")for(let oe of d(M))!x.call(y,oe)&&oe!==U&&r(y,oe,{get:()=>M[oe],enumerable:!(Z=o(M,oe))||Z.enumerable});return y},C=(y,M,U)=>(U=y!=null?n(v(y)):{},z(M||!y||!y.__esModule?r(U,"default",{value:y,enumerable:!0}):U,y)),V=y=>z(r({},"__esModule",{value:!0}),y),Y=(y,M,U)=>(T(y,typeof M!="symbol"?M+"":M,U),U),me=L({"../node_modules/timing-function/lib/UnitBezier.js"(y,M){M.exports=function(){function U(Z,oe,fe,Ie){this.set(Z,oe,fe,Ie)}return U.prototype.set=function(Z,oe,fe,Ie){this._cx=3*Z,this._bx=3*(fe-Z)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*oe,this._by=3*(Ie-oe)-this._cy,this._ay=1-this._cy-this._by},U.epsilon=1e-6,U.prototype._sampleCurveX=function(Z){return((this._ax*Z+this._bx)*Z+this._cx)*Z},U.prototype._sampleCurveY=function(Z){return((this._ay*Z+this._by)*Z+this._cy)*Z},U.prototype._sampleCurveDerivativeX=function(Z){return(3*this._ax*Z+2*this._bx)*Z+this._cx},U.prototype._solveCurveX=function(Z,oe){var fe,Ie,qe,Qe,xt,ue;for(qe=void 0,Qe=void 0,xt=void 0,ue=void 0,fe=void 0,Ie=void 0,xt=Z,Ie=0;Ie<8;){if(ue=this._sampleCurveX(xt)-Z,Math.abs(ue)<oe)return xt;if(fe=this._sampleCurveDerivativeX(xt),Math.abs(fe)<oe)break;xt=xt-ue/fe,Ie++}if(qe=0,Qe=1,xt=Z,xt<qe)return qe;if(xt>Qe)return Qe;for(;qe<Qe;){if(ue=this._sampleCurveX(xt),Math.abs(ue-Z)<oe)return xt;Z>ue?qe=xt:Qe=xt,xt=(Qe-qe)*.5+qe}return xt},U.prototype.solve=function(Z,oe){return this._sampleCurveY(this._solveCurveX(Z,oe))},U.prototype.solveSimple=function(Z){return this._sampleCurveY(this._solveCurveX(Z,1e-6))},U}()}}),q=L({"../node_modules/levenshtein-edit-distance/index.js"(y,M){var U,Z;U=[],Z=[];function oe(fe,Ie,qe){var Qe,xt,ue,Ue,Zt,kn,_n,ir;if(fe===Ie)return 0;if(Qe=fe.length,xt=Ie.length,Qe===0)return xt;if(xt===0)return Qe;for(qe&&(fe=fe.toLowerCase(),Ie=Ie.toLowerCase()),_n=0;_n<Qe;)Z[_n]=fe.charCodeAt(_n),U[_n]=++_n;for(ir=0;ir<xt;)for(ue=Ie.charCodeAt(ir),Ue=Zt=ir++,_n=-1;++_n<Qe;)kn=ue===Z[_n]?Zt:Zt+1,Zt=U[_n],U[_n]=Ue=Zt>Ue?kn>Ue?Ue+1:kn:kn>Zt?Zt+1:kn;return Ue}M.exports=oe}}),ae=L({"../node_modules/propose/propose.js"(y,M){var U=q();function Z(){var oe,fe,Ie,qe,Qe,xt=0,ue=arguments[0],Ue=arguments[1],Zt=Ue.length,kn=arguments[2];kn&&(qe=kn.threshold,Qe=kn.ignoreCase),qe===void 0&&(qe=0);for(var _n=0;_n<Zt;++_n)Qe?fe=U(ue,Ue[_n],!0):fe=U(ue,Ue[_n]),fe>ue.length?oe=1-fe/Ue[_n].length:oe=1-fe/ue.length,oe>xt&&(xt=oe,Ie=Ue[_n]);return xt>=qe?Ie:null}M.exports=Z}}),ve=L({"../node_modules/fast-deep-equal/index.js"(y,M){M.exports=function U(Z,oe){if(Z===oe)return!0;if(Z&&oe&&typeof Z=="object"&&typeof oe=="object"){if(Z.constructor!==oe.constructor)return!1;var fe,Ie,qe;if(Array.isArray(Z)){if(fe=Z.length,fe!=oe.length)return!1;for(Ie=fe;Ie--!==0;)if(!U(Z[Ie],oe[Ie]))return!1;return!0}if(Z.constructor===RegExp)return Z.source===oe.source&&Z.flags===oe.flags;if(Z.valueOf!==Object.prototype.valueOf)return Z.valueOf()===oe.valueOf();if(Z.toString!==Object.prototype.toString)return Z.toString()===oe.toString();if(qe=Object.keys(Z),fe=qe.length,fe!==Object.keys(oe).length)return!1;for(Ie=fe;Ie--!==0;)if(!Object.prototype.hasOwnProperty.call(oe,qe[Ie]))return!1;for(Ie=fe;Ie--!==0;){var Qe=qe[Ie];if(!U(Z[Qe],oe[Qe]))return!1}return!0}return Z!==Z&&oe!==oe}}}),W={};B(W,{createRafDriver:()=>Q9,getProject:()=>t6,notify:()=>Xh,onChange:()=>m3,types:()=>L8,val:()=>n6}),t.exports=V(W);var se={};B(se,{createRafDriver:()=>Q9,getProject:()=>t6,notify:()=>Xh,onChange:()=>m3,types:()=>L8,val:()=>n6});var Te=Vt,dt=class{constructor(){Y(this,"atom",new Te.Atom({projects:{}}))}add(y,M){this.atom.setByPointer(U=>U.projects[y],M)}get(y){return this.atom.get().projects[y]}has(y){return!!this.get(y)}},He=new dt,xe=He,gt=new WeakMap;function ze(y){return gt.get(y)}function At(y,M){gt.set(y,M)}var Ne=[],ht=Array.isArray,pt=ht,It=typeof Ki=="object"&&Ki&&Ki.Object===Object&&Ki,tn=It,pn=typeof self=="object"&&self&&self.Object===Object&&self,ft=tn||pn||Function("return this")(),kt=ft,Xt=kt.Symbol,Ut=Xt,it=Object.prototype,bt=it.hasOwnProperty,Nt=it.toString,je=Ut?Ut.toStringTag:void 0;function Cn(y){var M=bt.call(y,je),U=y[je];try{y[je]=void 0;var Z=!0}catch{}var oe=Nt.call(y);return Z&&(M?y[je]=U:delete y[je]),oe}var ln=Cn,rn=Object.prototype,Ot=rn.toString;function dn(y){return Ot.call(y)}var Pe=dn,de="[object Null]",Ze="[object Undefined]",Et=Ut?Ut.toStringTag:void 0;function Ct(y){return y==null?y===void 0?Ze:de:Et&&Et in Object(y)?ln(y):Pe(y)}var Dt=Ct;function hn(y){return y!=null&&typeof y=="object"}var Rt=hn,Pn="[object Symbol]";function On(y){return typeof y=="symbol"||Rt(y)&&Dt(y)==Pn}var Yt=On,an=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fn=/^\w*$/;function gn(y,M){if(pt(y))return!1;var U=typeof y;return U=="number"||U=="symbol"||U=="boolean"||y==null||Yt(y)?!0:Fn.test(y)||!an.test(y)||M!=null&&y in Object(M)}var fn=gn;function ar(y){var M=typeof y;return y!=null&&(M=="object"||M=="function")}var Bn=ar,gr="[object AsyncFunction]",hr="[object Function]",rr="[object GeneratorFunction]",vn="[object Proxy]";function ne(y){if(!Bn(y))return!1;var M=Dt(y);return M==hr||M==rr||M==gr||M==vn}var st=ne,Mt=kt["__core-js_shared__"],qt=Mt,on=function(){var y=/[^.]+$/.exec(qt&&qt.keys&&qt.keys.IE_PROTO||"");return y?"Symbol(src)_1."+y:""}();function Yn(y){return!!on&&on in y}var Zn=Yn,Kr=Function.prototype,Zr=Kr.toString;function wr(y){if(y!=null){try{return Zr.call(y)}catch{}try{return y+""}catch{}}return""}var Ir=wr,vr=/[\\^$.*+?()[\]{}|]/g,Qr=/^\[object .+?Constructor\]$/,Ns=Function.prototype,ea=Object.prototype,Na=Ns.toString,ta=ea.hasOwnProperty,Uc=RegExp("^"+Na.call(ta).replace(vr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ku(y){if(!Bn(y)||Zn(y))return!1;var M=st(y)?Uc:Qr;return M.test(Ir(y))}var i0=ku;function Au(y,M){return y==null?void 0:y[M]}var wh=Au;function o1(y,M){var U=wh(y,M);return i0(U)?U:void 0}var s0=o1,be=s0(Object,"create"),Ye=be;function vt(){this.__data__=Ye?Ye(null):{},this.size=0}var _t=vt;function ot(y){var M=this.has(y)&&delete this.__data__[y];return this.size-=M?1:0,M}var Jt=ot,Mn="__lodash_hash_undefined__",Dn=Object.prototype,Un=Dn.hasOwnProperty;function Wn(y){var M=this.__data__;if(Ye){var U=M[y];return U===Mn?void 0:U}return Un.call(M,y)?M[y]:void 0}var Hn=Wn,Kn=Object.prototype,Cr=Kn.hasOwnProperty;function si(y){var M=this.__data__;return Ye?M[y]!==void 0:Cr.call(M,y)}var Di=si,lo="__lodash_hash_undefined__";function Xr(y,M){var U=this.__data__;return this.size+=this.has(y)?0:1,U[y]=Ye&&M===void 0?lo:M,this}var Gn=Xr;function na(y){var M=-1,U=y==null?0:y.length;for(this.clear();++M<U;){var Z=y[M];this.set(Z[0],Z[1])}}na.prototype.clear=_t,na.prototype.delete=Jt,na.prototype.get=Hn,na.prototype.has=Di,na.prototype.set=Gn;var Wr=na;function uo(){this.__data__=[],this.size=0}var El=uo;function Fa(y,M){return y===M||y!==y&&M!==M}var ra=Fa;function _i(y,M){for(var U=y.length;U--;)if(ra(y[U][0],M))return U;return-1}var co=_i,Iu=Array.prototype,Fs=Iu.splice;function Ru(y){var M=this.__data__,U=co(M,y);if(U<0)return!1;var Z=M.length-1;return U==Z?M.pop():Fs.call(M,U,1),--this.size,!0}var xh=Ru;function Du(y){var M=this.__data__,U=co(M,y);return U<0?void 0:M[U][1]}var Cl=Du;function a1(y){return co(this.__data__,y)>-1}var Sh=a1;function l1(y,M){var U=this.__data__,Z=co(U,y);return Z<0?(++this.size,U.push([y,M])):U[Z][1]=M,this}var Og=l1;function O0(y){var M=-1,U=y==null?0:y.length;for(this.clear();++M<U;){var Z=y[M];this.set(Z[0],Z[1])}}O0.prototype.clear=El,O0.prototype.delete=xh,O0.prototype.get=Cl,O0.prototype.has=Sh,O0.prototype.set=Og;var zc=O0,Lg=s0(kt,"Map"),Vc=Lg;function e9(){this.size=0,this.__data__={hash:new Wr,map:new(Vc||zc),string:new Wr}}var t9=e9;function L0(y){var M=typeof y;return M=="string"||M=="number"||M=="symbol"||M=="boolean"?y!=="__proto__":y===null}var n9=L0;function Ng(y,M){var U=y.__data__;return n9(M)?U[typeof M=="string"?"string":"hash"]:U.map}var jc=Ng;function u1(y){var M=jc(this,y).delete(y);return this.size-=M?1:0,M}var c1=u1;function d1(y){return jc(this,y).get(y)}var r9=d1;function i9(y){return jc(this,y).has(y)}var s9=i9;function o9(y,M){var U=jc(this,y),Z=U.size;return U.set(y,M),this.size+=U.size==Z?0:1,this}var Fg=o9;function Ou(y){var M=-1,U=y==null?0:y.length;for(this.clear();++M<U;){var Z=y[M];this.set(Z[0],Z[1])}}Ou.prototype.clear=t9,Ou.prototype.delete=c1,Ou.prototype.get=r9,Ou.prototype.has=s9,Ou.prototype.set=Fg;var Hc=Ou,Bg="Expected a function";function h1(y,M){if(typeof y!="function"||M!=null&&typeof M!="function")throw new TypeError(Bg);var U=function(){var Z=arguments,oe=M?M.apply(this,Z):Z[0],fe=U.cache;if(fe.has(oe))return fe.get(oe);var Ie=y.apply(this,Z);return U.cache=fe.set(oe,Ie)||fe,Ie};return U.cache=new(h1.Cache||Hc),U}h1.Cache=Hc;var N0=h1,Pl=500;function a9(y){var M=N0(y,function(Z){return U.size===Pl&&U.clear(),Z}),U=M.cache;return M}var Eh=a9,Ug=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zg=/\\(\\)?/g,l9=Eh(function(y){var M=[];return y.charCodeAt(0)===46&&M.push(""),y.replace(Ug,function(U,Z,oe,fe){M.push(oe?fe.replace(zg,"$1"):Z||U)}),M}),Vg=l9;function jg(y,M){for(var U=-1,Z=y==null?0:y.length,oe=Array(Z);++U<Z;)oe[U]=M(y[U],U,y);return oe}var u9=jg,c9=1/0,d9=Ut?Ut.prototype:void 0,p1=d9?d9.toString:void 0;function h9(y){if(typeof y=="string")return y;if(pt(y))return u9(y,h9)+"";if(Yt(y))return p1?p1.call(y):"";var M=y+"";return M=="0"&&1/y==-c9?"-0":M}var p9=h9;function f9(y){return y==null?"":p9(y)}var f1=f9;function Ch(y,M){return pt(y)?y:fn(y,M)?[y]:Vg(f1(y))}var Lu=Ch,m9=1/0;function Hg(y){if(typeof y=="string"||Yt(y))return y;var M=y+"";return M=="0"&&1/y==-m9?"-0":M}var Ba=Hg;function Gc(y,M){M=Lu(M,y);for(var U=0,Z=M.length;y!=null&&U<Z;)y=y[Ba(M[U++])];return U&&U==Z?y:void 0}var $c=Gc;function Ml(y,M,U){var Z=y==null?void 0:$c(y,M);return Z===void 0?U:Z}var F0=Ml;function m1(y,M){return M.length===0?y:F0(y,M)}var Tl=class{constructor(){Y(this,"_values",{})}get(y,M){if(this.has(y))return this._values[y];{const U=M();return this._values[y]=U,U}}has(y){return this._values.hasOwnProperty(y)}},us=Vt,Wc=function(){try{var y=s0(Object,"defineProperty");return y({},"",{}),y}catch{}}(),Ph=Wc;function Gg(y,M,U){M=="__proto__"&&Ph?Ph(y,M,{configurable:!0,enumerable:!0,value:U,writable:!0}):y[M]=U}var kl=Gg,B0=Object.prototype,g1=B0.hasOwnProperty;function $g(y,M,U){var Z=y[M];(!(g1.call(y,M)&&ra(Z,U))||U===void 0&&!(M in y))&&kl(y,M,U)}var Mh=$g,Wg=9007199254740991,g9=/^(?:0|[1-9]\d*)$/;function v9(y,M){var U=typeof y;return M=M??Wg,!!M&&(U=="number"||U!="symbol"&&g9.test(y))&&y>-1&&y%1==0&&y<M}var v1=v9;function Kg(y,M,U,Z){if(!Bn(y))return y;M=Lu(M,y);for(var oe=-1,fe=M.length,Ie=fe-1,qe=y;qe!=null&&++oe<fe;){var Qe=Ba(M[oe]),xt=U;if(Qe==="__proto__"||Qe==="constructor"||Qe==="prototype")return y;if(oe!=Ie){var ue=qe[Qe];xt=Z?Z(ue,Qe,qe):void 0,xt===void 0&&(xt=Bn(ue)?ue:v1(M[oe+1])?[]:{})}Mh(qe,Qe,xt),qe=qe[Qe]}return y}var Th=Kg;function y1(y,M,U){return y==null?y:Th(y,M,U)}var kh=y1,cs=new WeakMap;function Xg(y){return b1(y)}function b1(y){if(cs.has(y))return cs.get(y);const M=y.type==="compound"?w1(y):y.type==="enum"?_1(y):y.default;return cs.set(y,M),M}function _1(y){const M={$case:y.defaultCase};for(const[U,Z]of Object.entries(y.cases))M[U]=b1(Z);return M}function w1(y){const M={};for(const[U,Z]of Object.entries(y.props))M[U]=b1(Z);return M}var ds=Vt,Ah=C(me());function qg(y,M,U){return(0,ds.prism)(()=>{const Z=(0,ds.val)(M);return ds.prism.memo("driver",()=>Z?Z.type==="BasicKeyframedTrack"?Ih(y,Z,U):(y.logger.error("Track type not yet supported."),(0,ds.prism)(()=>{})):(0,ds.prism)(()=>{}),[Z]).getValue()})}function Ih(y,M,U){return(0,ds.prism)(()=>{let Z=ds.prism.ref("state",{started:!1}),oe=Z.current;const fe=U.getValue();return(!oe.started||fe<oe.validFrom||oe.validTo<=fe)&&(Z.current=oe=Yg(y,U,M)),oe.der.getValue()})}var Rh=(0,ds.prism)(()=>{});function Yg(y,M,U){const Z=M.getValue();if(U.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:Rh};let oe=0;for(;;){const fe=U.keyframes[oe];if(!fe)return wi.error;const Ie=oe===U.keyframes.length-1;if(Z<fe.position)return oe===0?wi.beforeFirstKeyframe(fe):wi.error;if(fe.position===Z)return Ie?wi.lastKeyframe(fe):wi.between(fe,U.keyframes[oe+1],M);if(oe===U.keyframes.length-1)return wi.lastKeyframe(fe);{const qe=oe+1;if(U.keyframes[qe].position<=Z){oe=qe;continue}else return wi.between(fe,U.keyframes[oe+1],M)}}}var wi={beforeFirstKeyframe(y){return{started:!0,validFrom:-1/0,validTo:y.position,der:(0,ds.prism)(()=>({left:y.value,progression:0}))}},lastKeyframe(y){return{started:!0,validFrom:y.position,validTo:1/0,der:(0,ds.prism)(()=>({left:y.value,progression:0}))}},between(y,M,U){if(!y.connectedRight)return{started:!0,validFrom:y.position,validTo:M.position,der:(0,ds.prism)(()=>({left:y.value,progression:0}))};const Z=fe=>(fe-y.position)/(M.position-y.position);if(!y.type||y.type==="bezier"){const fe=new Ah.default(y.handles[2],y.handles[3],M.handles[0],M.handles[1]),Ie=(0,ds.prism)(()=>{const qe=Z(U.getValue()),Qe=fe.solveSimple(qe);return{left:y.value,right:M.value,progression:Qe}});return{started:!0,validFrom:y.position,validTo:M.position,der:Ie}}const oe=(0,ds.prism)(()=>{const fe=Z(U.getValue()),Ie=Math.floor(fe);return{left:y.value,right:M.value,progression:Ie}});return{started:!0,validFrom:y.position,validTo:M.position,der:oe}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Rh}};function U0(y,M,U){const oe=U.get(y);if(oe&&oe.override===M)return oe.merged;const fe=R({},y);for(const Ie of Object.keys(M)){const qe=M[Ie],Qe=y[Ie];fe[Ie]=typeof qe=="object"&&typeof Qe=="object"?U0(Qe,qe,U):qe===void 0?Qe:qe}return U.set(y,{override:M,merged:fe}),fe}function Kc(y,M){let U=y;for(const Z of M)U=U[Z];return U}var Nu=Vt,x1=(y,M)=>{const U=Nu.prism.memo(y,()=>new Nu.Atom(M),[]);return U.set(M),U},zr=Vt,S1=Vt,Zg=/\s/;function Dh(y){for(var M=y.length;M--&&Zg.test(y.charAt(M)););return M}var E1=Dh,y9=/^\s+/;function Qg(y){return y&&y.slice(0,E1(y)+1).replace(y9,"")}var Fu=Qg,Oh=0/0,Jg=/^[-+]0x[0-9a-f]+$/i,b9=/^0b[01]+$/i,Xc=/^0o[0-7]+$/i,C1=parseInt;function ev(y){if(typeof y=="number")return y;if(Yt(y))return Oh;if(Bn(y)){var M=typeof y.valueOf=="function"?y.valueOf():y;y=Bn(M)?M+"":M}if(typeof y!="string")return y===0?y:+y;y=Fu(y);var U=b9.test(y);return U||Xc.test(y)?C1(y.slice(2),U?2:8):Jg.test(y)?Oh:+y}var te=ev,_e=1/0,Be=17976931348623157e292;function wt(y){if(!y)return y===0?y:0;if(y=te(y),y===_e||y===-_e){var M=y<0?-1:1;return M*Be}return y===y?y:0}var zn=wt;function Mr(y){var M=zn(y),U=M%1;return M===M?U?M-U:M:0}var Cs=Mr;function ia(y){return y}var _9=ia,Bu=s0(kt,"WeakMap"),Uu=Bu,L_=Object.create,uR=function(){function y(){}return function(M){if(!Bn(M))return{};if(L_)return L_(M);y.prototype=M;var U=new y;return y.prototype=void 0,U}}(),N_=uR;function tv(y,M){var U=-1,Z=y.length;for(M||(M=Array(Z));++U<Z;)M[U]=y[U];return M}var cR=tv;function nv(y,M){for(var U=-1,Z=y==null?0:y.length;++U<Z&&M(y[U],U,y)!==!1;);return y}var F_=nv;function B_(y,M,U,Z){var oe=!U;U||(U={});for(var fe=-1,Ie=M.length;++fe<Ie;){var qe=M[fe],Qe=Z?Z(U[qe],y[qe],qe,U,y):void 0;Qe===void 0&&(Qe=y[qe]),oe?kl(U,qe,Qe):Mh(U,qe,Qe)}return U}var P1=B_,w9=9007199254740991;function rv(y){return typeof y=="number"&&y>-1&&y%1==0&&y<=w9}var iv=rv;function U_(y){return y!=null&&iv(y.length)&&!st(y)}var z_=U_,sv=Object.prototype;function ov(y){var M=y&&y.constructor,U=typeof M=="function"&&M.prototype||sv;return y===U}var x9=ov;function av(y,M){for(var U=-1,Z=Array(y);++U<y;)Z[U]=M(U);return Z}var V_=av,j_="[object Arguments]";function S9(y){return Rt(y)&&Dt(y)==j_}var lv=S9,H_=Object.prototype,G_=H_.hasOwnProperty,$_=H_.propertyIsEnumerable,W_=lv(function(){return arguments}())?lv:function(y){return Rt(y)&&G_.call(y,"callee")&&!$_.call(y,"callee")},uv=W_;function K_(){return!1}var X_=K_,cv=e&&!e.nodeType&&e,dv=cv&&!0&&t&&!t.nodeType&&t,q_=dv&&dv.exports===cv,hv=q_?kt.Buffer:void 0,Y_=hv?hv.isBuffer:void 0,Z_=Y_||X_,M1=Z_,Q_="[object Arguments]",J_="[object Array]",ew="[object Boolean]",tw="[object Date]",nw="[object Error]",rw="[object Function]",iw="[object Map]",sw="[object Number]",ow="[object Object]",aw="[object RegExp]",lw="[object Set]",oi="[object String]",uw="[object WeakMap]",dR="[object ArrayBuffer]",hR="[object DataView]",E9="[object Float32Array]",pv="[object Float64Array]",fv="[object Int8Array]",Lh="[object Int16Array]",cw="[object Int32Array]",C9="[object Uint8Array]",dw="[object Uint8ClampedArray]",mv="[object Uint16Array]",pR="[object Uint32Array]",Jr={};Jr[E9]=Jr[pv]=Jr[fv]=Jr[Lh]=Jr[cw]=Jr[C9]=Jr[dw]=Jr[mv]=Jr[pR]=!0,Jr[Q_]=Jr[J_]=Jr[dR]=Jr[ew]=Jr[hR]=Jr[tw]=Jr[nw]=Jr[rw]=Jr[iw]=Jr[sw]=Jr[ow]=Jr[aw]=Jr[lw]=Jr[oi]=Jr[uw]=!1;function hw(y){return Rt(y)&&iv(y.length)&&!!Jr[Dt(y)]}var gv=hw;function pw(y){return function(M){return y(M)}}var vv=pw,yv=e&&!e.nodeType&&e,Nh=yv&&!0&&t&&!t.nodeType&&t,fw=Nh&&Nh.exports===yv,bv=fw&&tn.process,fR=function(){try{var y=Nh&&Nh.require&&Nh.require("util").types;return y||bv&&bv.binding&&bv.binding("util")}catch{}}(),zu=fR,_v=zu&&zu.isTypedArray,mw=_v?vv(_v):gv,wv=mw,mR=Object.prototype,gR=mR.hasOwnProperty;function gw(y,M){var U=pt(y),Z=!U&&uv(y),oe=!U&&!Z&&M1(y),fe=!U&&!Z&&!oe&&wv(y),Ie=U||Z||oe||fe,qe=Ie?V_(y.length,String):[],Qe=qe.length;for(var xt in y)(M||gR.call(y,xt))&&!(Ie&&(xt=="length"||oe&&(xt=="offset"||xt=="parent")||fe&&(xt=="buffer"||xt=="byteLength"||xt=="byteOffset")||v1(xt,Qe)))&&qe.push(xt);return qe}var xv=gw;function vw(y,M){return function(U){return y(M(U))}}var yw=vw,vR=yw(Object.keys,Object),P9=vR,Sv=Object.prototype,yR=Sv.hasOwnProperty;function bw(y){if(!x9(y))return P9(y);var M=[];for(var U in Object(y))yR.call(y,U)&&U!="constructor"&&M.push(U);return M}var _w=bw;function M9(y){return z_(y)?xv(y):_w(y)}var qc=M9;function ww(y){var M=[];if(y!=null)for(var U in Object(y))M.push(U);return M}var Fh=ww,T9=Object.prototype,bR=T9.hasOwnProperty;function xw(y){if(!Bn(y))return Fh(y);var M=x9(y),U=[];for(var Z in y)Z=="constructor"&&(M||!bR.call(y,Z))||U.push(Z);return U}var _R=xw;function wR(y){return z_(y)?xv(y,!0):_R(y)}var k9=wR;function xR(y,M){for(var U=-1,Z=M.length,oe=y.length;++U<Z;)y[oe+U]=M[U];return y}var Sw=xR,Ew=yw(Object.getPrototypeOf,Object),A9=Ew,Cw="[object Object]",Pw=Function.prototype,SR=Object.prototype,Mw=Pw.toString,Tw=SR.hasOwnProperty,kw=Mw.call(Object);function Aw(y){if(!Rt(y)||Dt(y)!=Cw)return!1;var M=A9(y);if(M===null)return!0;var U=Tw.call(M,"constructor")&&M.constructor;return typeof U=="function"&&U instanceof U&&Mw.call(U)==kw}var ER=Aw;function CR(y,M,U){var Z=-1,oe=y.length;M<0&&(M=-M>oe?0:oe+M),U=U>oe?oe:U,U<0&&(U+=oe),oe=M>U?0:U-M>>>0,M>>>=0;for(var fe=Array(oe);++Z<oe;)fe[Z]=y[Z+M];return fe}var Ev=CR;function Iw(y,M,U){var Z=y.length;return U=U===void 0?Z:U,!M&&U>=Z?y:Ev(y,M,U)}var PR=Iw,Bh="\\ud800-\\udfff",Cv="\\u0300-\\u036f",MR="\\ufe20-\\ufe2f",TR="\\u20d0-\\u20ff",Rw=Cv+MR+TR,kR="\\ufe0e\\ufe0f",AR="\\u200d",T1=RegExp("["+AR+Bh+Rw+kR+"]");function I9(y){return T1.test(y)}var Pv=I9;function Dw(y){return y.split("")}var Ow=Dw,Mv="\\ud800-\\udfff",IR="\\u0300-\\u036f",RR="\\ufe20-\\ufe2f",Lw="\\u20d0-\\u20ff",DR=IR+RR+Lw,OR="\\ufe0e\\ufe0f",Nw="["+Mv+"]",Tv="["+DR+"]",kv="\\ud83c[\\udffb-\\udfff]",Fw="(?:"+Tv+"|"+kv+")",Bw="[^"+Mv+"]",Yc="(?:\\ud83c[\\udde6-\\uddff]){2}",Uh="[\\ud800-\\udbff][\\udc00-\\udfff]",R9="\\u200d",Av=Fw+"?",Zc="["+OR+"]?",Iv="(?:"+R9+"(?:"+[Bw,Yc,Uh].join("|")+")"+Zc+Av+")*",LR=Zc+Av+Iv,Uw="(?:"+[Bw+Tv+"?",Tv,Yc,Uh,Nw].join("|")+")",NR=RegExp(kv+"(?="+kv+")|"+Uw+LR,"g");function FR(y){return y.match(NR)||[]}var zw=FR;function BR(y){return Pv(y)?zw(y):Ow(y)}var UR=BR;function k1(y,M,U){return y===y&&(U!==void 0&&(y=y<=U?y:U),M!==void 0&&(y=y>=M?y:M)),y}var D9=k1;function zR(y,M,U){return U===void 0&&(U=M,M=void 0),U!==void 0&&(U=te(U),U=U===U?U:0),M!==void 0&&(M=te(M),M=M===M?M:0),D9(te(y),M,U)}var Rv=zR;function VR(){this.__data__=new zc,this.size=0}var jR=VR;function Vw(y){var M=this.__data__,U=M.delete(y);return this.size=M.size,U}var HR=Vw;function GR(y){return this.__data__.get(y)}var jw=GR;function $R(y){return this.__data__.has(y)}var WR=$R,Hw=200;function KR(y,M){var U=this.__data__;if(U instanceof zc){var Z=U.__data__;if(!Vc||Z.length<Hw-1)return Z.push([y,M]),this.size=++U.size,this;U=this.__data__=new Hc(Z)}return U.set(y,M),this.size=U.size,this}var zh=KR;function z0(y){var M=this.__data__=new zc(y);this.size=M.size}z0.prototype.clear=jR,z0.prototype.delete=HR,z0.prototype.get=jw,z0.prototype.has=WR,z0.prototype.set=zh;var Qc=z0;function Dv(y,M){return y&&P1(M,qc(M),y)}var Gw=Dv;function Ov(y,M){return y&&P1(M,k9(M),y)}var $w=Ov,Ww=e&&!e.nodeType&&e,Lv=Ww&&!0&&t&&!t.nodeType&&t,Kw=Lv&&Lv.exports===Ww,Xw=Kw?kt.Buffer:void 0,Nv=Xw?Xw.allocUnsafe:void 0;function qw(y,M){if(M)return y.slice();var U=y.length,Z=Nv?Nv(U):new y.constructor(U);return y.copy(Z),Z}var Yw=qw;function Zw(y,M){for(var U=-1,Z=y==null?0:y.length,oe=0,fe=[];++U<Z;){var Ie=y[U];M(Ie,U,y)&&(fe[oe++]=Ie)}return fe}var XR=Zw;function qR(){return[]}var A1=qR,Qw=Object.prototype,YR=Qw.propertyIsEnumerable,I1=Object.getOwnPropertySymbols,Fv=I1?function(y){return y==null?[]:(y=Object(y),XR(I1(y),function(M){return YR.call(y,M)}))}:A1,Bv=Fv;function Jw(y,M){return P1(y,Bv(y),M)}var Vh=Jw,R1=Object.getOwnPropertySymbols,ZR=R1?function(y){for(var M=[];y;)Sw(M,Bv(y)),y=A9(y);return M}:A1,D1=ZR;function Uv(y,M){return P1(y,D1(y),M)}var QR=Uv;function Jc(y,M,U){var Z=M(y);return pt(y)?Z:Sw(Z,U(y))}var jh=Jc;function JR(y){return jh(y,qc,Bv)}var O1=JR;function ex(y){return jh(y,k9,D1)}var eD=ex,zv=s0(kt,"DataView"),O9=zv,tD=s0(kt,"Promise"),L9=tD,tx=s0(kt,"Set"),Vv=tx,jv="[object Map]",nx="[object Object]",rx="[object Promise]",ix="[object Set]",Hv="[object WeakMap]",Gv="[object DataView]",sx=Ir(O9),$v=Ir(Vc),ox=Ir(L9),ax=Ir(Vv),N9=Ir(Uu),Vu=Dt;(O9&&Vu(new O9(new ArrayBuffer(1)))!=Gv||Vc&&Vu(new Vc)!=jv||L9&&Vu(L9.resolve())!=rx||Vv&&Vu(new Vv)!=ix||Uu&&Vu(new Uu)!=Hv)&&(Vu=function(y){var M=Dt(y),U=M==nx?y.constructor:void 0,Z=U?Ir(U):"";if(Z)switch(Z){case sx:return Gv;case $v:return jv;case ox:return rx;case ax:return ix;case N9:return Hv}return M});var L1=Vu,lx=Object.prototype,ux=lx.hasOwnProperty;function cx(y){var M=y.length,U=new y.constructor(M);return M&&typeof y[0]=="string"&&ux.call(y,"index")&&(U.index=y.index,U.input=y.input),U}var nD=cx,rD=kt.Uint8Array,N1=rD;function iD(y){var M=new y.constructor(y.byteLength);return new N1(M).set(new N1(y)),M}var Wv=iD;function xi(y,M){var U=M?Wv(y.buffer):y.buffer;return new y.constructor(U,y.byteOffset,y.byteLength)}var F9=xi,sD=/\w*$/;function dx(y){var M=new y.constructor(y.source,sD.exec(y));return M.lastIndex=y.lastIndex,M}var oD=dx,hx=Ut?Ut.prototype:void 0,Kv=hx?hx.valueOf:void 0;function aD(y){return Kv?Object(Kv.call(y)):{}}var lD=aD;function px(y,M){var U=M?Wv(y.buffer):y.buffer;return new y.constructor(U,y.byteOffset,y.length)}var uD=px,cD="[object Boolean]",fx="[object Date]",dD="[object Map]",hD="[object Number]",mx="[object RegExp]",gx="[object Set]",pD="[object String]",Hh="[object Symbol]",F1="[object ArrayBuffer]",vx="[object DataView]",fD="[object Float32Array]",yx="[object Float64Array]",mD="[object Int8Array]",gD="[object Int16Array]",bx="[object Int32Array]",vD="[object Uint8Array]",_x="[object Uint8ClampedArray]",wx="[object Uint16Array]",Xv="[object Uint32Array]";function xx(y,M,U){var Z=y.constructor;switch(M){case F1:return Wv(y);case cD:case fx:return new Z(+y);case vx:return F9(y,U);case fD:case yx:case mD:case gD:case bx:case vD:case _x:case wx:case Xv:return uD(y,U);case dD:return new Z;case hD:case pD:return new Z(y);case mx:return oD(y);case gx:return new Z;case Hh:return lD(y)}}var Sx=xx;function yD(y){return typeof y.constructor=="function"&&!x9(y)?N_(A9(y)):{}}var bD=yD,Ex="[object Map]";function _D(y){return Rt(y)&&L1(y)==Ex}var wD=_D,B9=zu&&zu.isMap,xD=B9?vv(B9):wD,Cx=xD,U9="[object Set]";function SD(y){return Rt(y)&&L1(y)==U9}var Px=SD,B1=zu&&zu.isSet,ED=B1?vv(B1):Px,Mx=ED,ed=1,Tx=2,qv=4,Yv="[object Arguments]",Zv="[object Array]",Qv="[object Boolean]",Jv="[object Date]",e8="[object Error]",t8="[object Function]",kx="[object GeneratorFunction]",Ax="[object Map]",Ix="[object Number]",n8="[object Object]",ju="[object RegExp]",r8="[object Set]",CD="[object String]",Rx="[object Symbol]",i8="[object WeakMap]",PD="[object ArrayBuffer]",MD="[object DataView]",Dx="[object Float32Array]",Ox="[object Float64Array]",TD="[object Int8Array]",kD="[object Int16Array]",Lx="[object Int32Array]",AD="[object Uint8Array]",z9="[object Uint8ClampedArray]",s8="[object Uint16Array]",Nx="[object Uint32Array]",ai={};ai[Yv]=ai[Zv]=ai[PD]=ai[MD]=ai[Qv]=ai[Jv]=ai[Dx]=ai[Ox]=ai[TD]=ai[kD]=ai[Lx]=ai[Ax]=ai[Ix]=ai[n8]=ai[ju]=ai[r8]=ai[CD]=ai[Rx]=ai[AD]=ai[z9]=ai[s8]=ai[Nx]=!0,ai[e8]=ai[t8]=ai[i8]=!1;function U1(y,M,U,Z,oe,fe){var Ie,qe=M&ed,Qe=M&Tx,xt=M&qv;if(U&&(Ie=oe?U(y,Z,oe,fe):U(y)),Ie!==void 0)return Ie;if(!Bn(y))return y;var ue=pt(y);if(ue){if(Ie=nD(y),!qe)return cR(y,Ie)}else{var Ue=L1(y),Zt=Ue==t8||Ue==kx;if(M1(y))return Yw(y,qe);if(Ue==n8||Ue==Yv||Zt&&!oe){if(Ie=Qe||Zt?{}:bD(y),!qe)return Qe?QR(y,$w(Ie,y)):Vh(y,Gw(Ie,y))}else{if(!ai[Ue])return oe?y:{};Ie=Sx(y,Ue,qe)}}fe||(fe=new Qc);var kn=fe.get(y);if(kn)return kn;fe.set(y,Ie),Mx(y)?y.forEach(function(sr){Ie.add(U1(sr,M,U,sr,y,fe))}):Cx(y)&&y.forEach(function(sr,Qn){Ie.set(Qn,U1(sr,M,U,Qn,y,fe))});var _n=xt?Qe?eD:O1:Qe?k9:qc,ir=ue?void 0:_n(y);return F_(ir||y,function(sr,Qn){ir&&(Qn=sr,sr=y[Qn]),Mh(Ie,Qn,U1(sr,M,U,Qn,y,fe))}),Ie}var ID=U1,RD=1,o8=4;function Fx(y){return ID(y,RD|o8)}var DD=Fx,Bx="__lodash_hash_undefined__";function Ux(y){return this.__data__.set(y,Bx),this}var a8=Ux;function zx(y){return this.__data__.has(y)}var OD=zx;function z1(y){var M=-1,U=y==null?0:y.length;for(this.__data__=new Hc;++M<U;)this.add(y[M])}z1.prototype.add=z1.prototype.push=a8,z1.prototype.has=OD;var LD=z1;function ND(y,M){for(var U=-1,Z=y==null?0:y.length;++U<Z;)if(M(y[U],U,y))return!0;return!1}var V9=ND;function l8(y,M){return y.has(M)}var FD=l8,Vx=1,jx=2;function Hx(y,M,U,Z,oe,fe){var Ie=U&Vx,qe=y.length,Qe=M.length;if(qe!=Qe&&!(Ie&&Qe>qe))return!1;var xt=fe.get(y),ue=fe.get(M);if(xt&&ue)return xt==M&&ue==y;var Ue=-1,Zt=!0,kn=U&jx?new LD:void 0;for(fe.set(y,M),fe.set(M,y);++Ue<qe;){var _n=y[Ue],ir=M[Ue];if(Z)var sr=Ie?Z(ir,_n,Ue,M,y,fe):Z(_n,ir,Ue,y,M,fe);if(sr!==void 0){if(sr)continue;Zt=!1;break}if(kn){if(!V9(M,function(Qn,Rr){if(!FD(kn,Rr)&&(_n===Qn||oe(_n,Qn,U,Z,fe)))return kn.push(Rr)})){Zt=!1;break}}else if(!(_n===ir||oe(_n,ir,U,Z,fe))){Zt=!1;break}}return fe.delete(y),fe.delete(M),Zt}var u8=Hx;function Gx(y){var M=-1,U=Array(y.size);return y.forEach(function(Z,oe){U[++M]=[oe,Z]}),U}var $x=Gx;function Wx(y){var M=-1,U=Array(y.size);return y.forEach(function(Z){U[++M]=Z}),U}var Kx=Wx,Xx=1,qx=2,Yx="[object Boolean]",Zx="[object Date]",Qx="[object Error]",c8="[object Map]",j9="[object Number]",Jx="[object RegExp]",BD="[object Set]",UD="[object String]",eS="[object Symbol]",tS="[object ArrayBuffer]",nS="[object DataView]",d8=Ut?Ut.prototype:void 0,h8=d8?d8.valueOf:void 0;function zD(y,M,U,Z,oe,fe,Ie){switch(U){case nS:if(y.byteLength!=M.byteLength||y.byteOffset!=M.byteOffset)return!1;y=y.buffer,M=M.buffer;case tS:return!(y.byteLength!=M.byteLength||!fe(new N1(y),new N1(M)));case Yx:case Zx:case j9:return ra(+y,+M);case Qx:return y.name==M.name&&y.message==M.message;case Jx:case UD:return y==M+"";case c8:var qe=$x;case BD:var Qe=Z&Xx;if(qe||(qe=Kx),y.size!=M.size&&!Qe)return!1;var xt=Ie.get(y);if(xt)return xt==M;Z|=qx,Ie.set(y,M);var ue=u8(qe(y),qe(M),Z,oe,fe,Ie);return Ie.delete(y),ue;case eS:if(h8)return h8.call(y)==h8.call(M)}return!1}var rS=zD,p8=1,f8=Object.prototype,V1=f8.hasOwnProperty;function iS(y,M,U,Z,oe,fe){var Ie=U&p8,qe=O1(y),Qe=qe.length,xt=O1(M),ue=xt.length;if(Qe!=ue&&!Ie)return!1;for(var Ue=Qe;Ue--;){var Zt=qe[Ue];if(!(Ie?Zt in M:V1.call(M,Zt)))return!1}var kn=fe.get(y),_n=fe.get(M);if(kn&&_n)return kn==M&&_n==y;var ir=!0;fe.set(y,M),fe.set(M,y);for(var sr=Ie;++Ue<Qe;){Zt=qe[Ue];var Qn=y[Zt],Rr=M[Zt];if(Z)var Xs=Ie?Z(Rr,Qn,Zt,M,y,fe):Z(Qn,Rr,Zt,y,M,fe);if(!(Xs===void 0?Qn===Rr||oe(Qn,Rr,U,Z,fe):Xs)){ir=!1;break}sr||(sr=Zt=="constructor")}if(ir&&!sr){var qs=y.constructor,Ys=M.constructor;qs!=Ys&&"constructor"in y&&"constructor"in M&&!(typeof qs=="function"&&qs instanceof qs&&typeof Ys=="function"&&Ys instanceof Ys)&&(ir=!1)}return fe.delete(y),fe.delete(M),ir}var m8=iS,sS=1,oS="[object Arguments]",g8="[object Array]",Gh="[object Object]",aS=Object.prototype,lS=aS.hasOwnProperty;function uS(y,M,U,Z,oe,fe){var Ie=pt(y),qe=pt(M),Qe=Ie?g8:L1(y),xt=qe?g8:L1(M);Qe=Qe==oS?Gh:Qe,xt=xt==oS?Gh:xt;var ue=Qe==Gh,Ue=xt==Gh,Zt=Qe==xt;if(Zt&&M1(y)){if(!M1(M))return!1;Ie=!0,ue=!1}if(Zt&&!ue)return fe||(fe=new Qc),Ie||wv(y)?u8(y,M,U,Z,oe,fe):rS(y,M,Qe,U,Z,oe,fe);if(!(U&sS)){var kn=ue&&lS.call(y,"__wrapped__"),_n=Ue&&lS.call(M,"__wrapped__");if(kn||_n){var ir=kn?y.value():y,sr=_n?M.value():M;return fe||(fe=new Qc),oe(ir,sr,U,Z,fe)}}return Zt?(fe||(fe=new Qc),m8(y,M,U,Z,oe,fe)):!1}var cS=uS;function v8(y,M,U,Z,oe){return y===M?!0:y==null||M==null||!Rt(y)&&!Rt(M)?y!==y&&M!==M:cS(y,M,U,Z,v8,oe)}var dS=v8,VD=1,y8=2;function hS(y,M,U,Z){var oe=U.length,fe=oe,Ie=!Z;if(y==null)return!fe;for(y=Object(y);oe--;){var qe=U[oe];if(Ie&&qe[2]?qe[1]!==y[qe[0]]:!(qe[0]in y))return!1}for(;++oe<fe;){qe=U[oe];var Qe=qe[0],xt=y[Qe],ue=qe[1];if(Ie&&qe[2]){if(xt===void 0&&!(Qe in y))return!1}else{var Ue=new Qc;if(Z)var Zt=Z(xt,ue,Qe,y,M,Ue);if(!(Zt===void 0?dS(ue,xt,VD|y8,Z,Ue):Zt))return!1}}return!0}var jD=hS;function pS(y){return y===y&&!Bn(y)}var fS=pS;function HD(y){for(var M=qc(y),U=M.length;U--;){var Z=M[U],oe=y[Z];M[U]=[Z,oe,fS(oe)]}return M}var b8=HD;function mS(y,M){return function(U){return U==null?!1:U[y]===M&&(M!==void 0||y in Object(U))}}var gS=mS;function vS(y){var M=b8(y);return M.length==1&&M[0][2]?gS(M[0][0],M[0][1]):function(U){return U===y||jD(U,y,M)}}var GD=vS;function $D(y,M){return y!=null&&M in Object(y)}var yS=$D;function WD(y,M,U){M=Lu(M,y);for(var Z=-1,oe=M.length,fe=!1;++Z<oe;){var Ie=Ba(M[Z]);if(!(fe=y!=null&&U(y,Ie)))break;y=y[Ie]}return fe||++Z!=oe?fe:(oe=y==null?0:y.length,!!oe&&iv(oe)&&v1(Ie,oe)&&(pt(y)||uv(y)))}var KD=WD;function bS(y,M){return y!=null&&KD(y,M,yS)}var XD=bS,qD=1,_S=2;function YD(y,M){return fn(y)&&fS(M)?gS(Ba(y),M):function(U){var Z=F0(U,y);return Z===void 0&&Z===M?XD(U,y):dS(M,Z,qD|_S)}}var ZD=YD;function wS(y){return function(M){return M==null?void 0:M[y]}}var _8=wS;function xS(y){return function(M){return $c(M,y)}}var QD=xS;function JD(y){return fn(y)?_8(Ba(y)):QD(y)}var SS=JD;function eO(y){return typeof y=="function"?y:y==null?_9:typeof y=="object"?pt(y)?ZD(y[0],y[1]):GD(y):SS(y)}var tO=eO;function ES(y){return function(M,U,Z){for(var oe=-1,fe=Object(M),Ie=Z(M),qe=Ie.length;qe--;){var Qe=Ie[y?qe:++oe];if(U(fe[Qe],Qe,fe)===!1)break}return M}}var nO=ES,rO=nO(),CS=rO;function iO(y,M){return y&&CS(y,M,qc)}var sO=iO,$h=function(){return kt.Date.now()},td=$h,oO="Expected a function",PS=Math.max,aO=Math.min;function lO(y,M,U){var Z,oe,fe,Ie,qe,Qe,xt=0,ue=!1,Ue=!1,Zt=!0;if(typeof y!="function")throw new TypeError(oO);M=te(M)||0,Bn(U)&&(ue=!!U.leading,Ue="maxWait"in U,fe=Ue?PS(te(U.maxWait)||0,M):fe,Zt="trailing"in U?!!U.trailing:Zt);function kn(ei){var Zs=Z,aa=oe;return Z=oe=void 0,xt=ei,Ie=y.apply(aa,Zs),Ie}function _n(ei){return xt=ei,qe=setTimeout(Qn,M),ue?kn(ei):Ie}function ir(ei){var Zs=ei-Qe,aa=ei-xt,H0=M-Zs;return Ue?aO(H0,fe-aa):H0}function sr(ei){var Zs=ei-Qe,aa=ei-xt;return Qe===void 0||Zs>=M||Zs<0||Ue&&aa>=fe}function Qn(){var ei=td();if(sr(ei))return Rr(ei);qe=setTimeout(Qn,ir(ei))}function Rr(ei){return qe=void 0,Zt&&Z?kn(ei):(Z=oe=void 0,Ie)}function Xs(){qe!==void 0&&clearTimeout(qe),xt=0,Z=Qe=oe=qe=void 0}function qs(){return qe===void 0?Ie:Rr(td())}function Ys(){var ei=td(),Zs=sr(ei);if(Z=arguments,oe=this,Qe=ei,Zs){if(qe===void 0)return _n(Qe);if(Ue)return clearTimeout(qe),qe=setTimeout(Qn,M),kn(Qe)}return qe===void 0&&(qe=setTimeout(Qn,M)),Ie}return Ys.cancel=Xs,Ys.flush=qs,Ys}var MS=lO;function uO(y){var M=y==null?0:y.length;return M?y[M-1]:void 0}var TS=uO;function kS(y,M){return M.length<2?y:$c(y,Ev(M,0,-1))}var cO=kS;function dO(y){return typeof y=="number"&&y==Cs(y)}var w8=dO;function AS(y,M){var U={};return M=tO(M),sO(y,function(Z,oe,fe){kl(U,oe,M(Z,oe,fe))}),U}var hO=AS;function IS(y,M){return M=Lu(M,y),y=cO(y,M),y==null||delete y[Ba(TS(M))]}var pO=IS,RS=9007199254740991,x8=Math.floor;function DS(y,M){var U="";if(!y||M<1||M>RS)return U;do M%2&&(U+=y),M=x8(M/2),M&&(y+=y);while(M);return U}var OS=DS,LS=_8("length"),fO=LS,NS="\\ud800-\\udfff",FS="\\u0300-\\u036f",mO="\\ufe20-\\ufe2f",BS="\\u20d0-\\u20ff",H9=FS+mO+BS,gO="\\ufe0e\\ufe0f",vO="["+NS+"]",G9="["+H9+"]",$9="\\ud83c[\\udffb-\\udfff]",US="(?:"+G9+"|"+$9+")",W9="[^"+NS+"]",S8="(?:\\ud83c[\\udde6-\\uddff]){2}",zS="[\\ud800-\\udbff][\\udc00-\\udfff]",VS="\\u200d",jS=US+"?",HS="["+gO+"]?",nd="(?:"+VS+"(?:"+[W9,S8,zS].join("|")+")"+HS+jS+")*",K9=HS+jS+nd,yO="(?:"+[W9+G9+"?",G9,S8,zS,vO].join("|")+")",E8=RegExp($9+"(?="+$9+")|"+yO+K9,"g");function C8(y){for(var M=E8.lastIndex=0;E8.test(y);)++M;return M}var bO=C8;function _O(y){return Pv(y)?bO(y):fO(y)}var P8=_O,GS=Math.ceil;function $S(y,M){M=M===void 0?" ":p9(M);var U=M.length;if(U<2)return U?OS(M,y):M;var Z=OS(M,GS(y/P8(M)));return Pv(M)?PR(UR(Z),0,y).join(""):Z.slice(0,y)}var wO=$S;function xO(y,M,U){y=f1(y),M=Cs(M);var Z=M?P8(y):0;return M&&Z<M?wO(M-Z,U)+y:y}var Wh=xO;function SO(y,M){return y==null?!0:pO(y,M)}var WS=SO,KS=5*1e3,XS=class{constructor(y){Y(this,"_cache",new Tl),Y(this,"_keepHotUntapDebounce"),At(this,y)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return ze(this).propsP}get sheet(){return ze(this).sheet.publicApi}get project(){return ze(this).sheet.project.publicApi}get address(){return R({},ze(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const y=ze(this);return(0,S1.prism)(()=>(0,S1.val)(y.getValues().getValue()))})}onValuesChange(y,M){return m3(this._valuesPrism(),y,M)}get value(){const y=this._valuesPrism();{if(!y.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const M=y.keepHot();this._keepHotUntapDebounce=MS(()=>{M(),this._keepHotUntapDebounce=void 0},KS)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return y.getValue()}set initialValue(y){ze(this).setInitialValue(y)}};function qS(y){const M=new WeakMap;return U=>(M.has(U)||M.set(U,y(U)),M.get(U))}function X9(y){return y.type==="compound"||y.type==="enum"}function M8(y,M){if(!y)return;const[U,...Z]=M;if(U===void 0)return y;if(!X9(y))return;const oe=y.type==="enum"?y.cases[U]:y.props[U];return M8(oe,Z)}function T8(y){return!X9(y)}var EO=class{constructor(y,M,U){this.sheet=y,this.template=M,this.nativeObject=U,Y(this,"$$isPointerToPrismProvider",!0),Y(this,"address"),Y(this,"publicApi"),Y(this,"_initialValue",new zr.Atom({})),Y(this,"_cache",new Tl),Y(this,"_logger"),Y(this,"_internalUtilCtx"),this._logger=y._logger.named("SheetObject",M.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=G(R({},M.address),{sheetInstanceId:y.address.sheetInstanceId}),this.publicApi=new XS(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,zr.prism)(()=>{const y=(0,zr.val)(this.template.getDefaultValues()),M=(0,zr.val)(this._initialValue.pointer),U=zr.prism.memo("withInitialCache",()=>new WeakMap,[]),Z=U0(y,M,U),oe=(0,zr.val)(this.template.getStaticValues()),fe=zr.prism.memo("withStatics",()=>new WeakMap,[]);let qe=U0(Z,oe,fe),Qe;{const ue=zr.prism.memo("seq",()=>this.getSequencedValues(),[]),Ue=zr.prism.memo("withSeqsCache",()=>new WeakMap,[]);Qe=(0,zr.val)((0,zr.val)(ue)),qe=U0(qe,Qe,Ue)}return x1("finalAtom",qe).pointer}))}getValueByPointer(y){const M=(0,zr.val)(this.getValues()),{path:U}=(0,zr.getPointerParts)(y);return(0,zr.val)(Kc(M,U))}pointerToPrism(y){const{path:M}=(0,zr.getPointerParts)(y);return(0,zr.prism)(()=>{const U=(0,zr.val)(this.getValues());return(0,zr.val)(Kc(U,M))})}getSequencedValues(){return(0,zr.prism)(()=>{const y=zr.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),M=(0,zr.val)(y),U=new zr.Atom({}),Z=(0,zr.val)(this.template.configPointer);return zr.prism.effect("processTracks",()=>{const oe=[];for(const{trackId:fe,pathToProp:Ie}of M){const qe=this._trackIdToPrism(fe),Qe=M8(Z,Ie),xt=Qe.deserializeAndSanitize,ue=Qe.interpolate,Ue=()=>{const kn=qe.getValue();if(!kn)return U.setByPointer(Rr=>Kc(Rr,Ie),void 0);const _n=xt(kn.left),ir=_n===void 0?Qe.default:_n;if(kn.right===void 0)return U.setByPointer(Rr=>Kc(Rr,Ie),ir);const sr=xt(kn.right),Qn=sr===void 0?Qe.default:sr;return U.setByPointer(Rr=>Kc(Rr,Ie),ue(ir,Qn,kn.progression))},Zt=qe.onStale(Ue);Ue(),oe.push(Zt)}return()=>{for(const fe of oe)fe()}},[Z,...M]),U.pointer})}_trackIdToPrism(y){const M=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[y],U=this.sheet.getSequence().positionPrism;return qg(this._internalUtilCtx,M,U)}get propsP(){return this._cache.get("propsP",()=>(0,zr.pointer)({root:this,path:[]}))}validateValue(y,M){}setInitialValue(y){this.validateValue(this.propsP,y),this._initialValue.set(y)}};function li(y){return function(U,Z){return y(U,Z())}}var Do={_hmm:sa(524),_todo:sa(522),_error:sa(521),errorDev:sa(529),errorPublic:sa(545),_kapow:sa(268),_warn:sa(265),warnDev:sa(273),warnPublic:sa(289),_debug:sa(137),debugDev:sa(145),_trace:sa(73),traceDev:sa(81)};function sa(y){return Object.freeze({audience:Hu(y,8)?"internal":Hu(y,16)?"dev":"public",category:Hu(y,4)?"troubleshooting":Hu(y,2)?"todo":"general",level:Hu(y,512)?512:Hu(y,256)?256:Hu(y,128)?128:64})}function Hu(y,M){return(y&M)===M}function Vr(y,M){return((M&32)===32?!0:(M&16)===16?y.dev:(M&8)===8?y.internal:!1)&&y.min<=M}var Al={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(y,M,U){return this.create({names:[...y.names,{name:M,key:U}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(y){if(y.length<5)return y;const M=y.replace(this.collapseOnRE,"");return this.cssMemo.has(M)||this.cssMemo.set(M,this.css(y)),M},css(y){var M,U,Z,oe;const fe=this.cssMemo.get(y);if(fe)return fe;let Ie="color:".concat((U=(M=this.color)==null?void 0:M.call(this,y))!=null?U:"hsl(".concat((y.charCodeAt(0)+y.charCodeAt(y.length-1))%360,", 100%, 60%)"));return(Z=this.bold)!=null&&Z.test(y)&&(Ie+=";font-weight:600"),(oe=this.italic)!=null&&oe.test(y)&&(Ie+=";font-style:italic"),this.cssMemo.set(y,Ie),Ie}}};function YS(y=console,M={}){const U=G(R({},Al),{includes:R({},Al.includes)}),Z={styled:CO.bind(U,y),noStyle:PO.bind(U,y)},oe=ZS.bind(U);function fe(){return U.loggingConsoleStyle&&U.loggerConsoleStyle?Z.styled:Z.noStyle}return U.create=fe(),{configureLogger(Ie){var qe;Ie==="console"?(U.loggerConsoleStyle=Al.loggerConsoleStyle,U.create=fe()):Ie.type==="console"?(U.loggerConsoleStyle=(qe=Ie.style)!=null?qe:Al.loggerConsoleStyle,U.create=fe()):Ie.type==="keyed"?(U.creatExt=Qe=>Ie.keyed(Qe.names),U.create=oe):Ie.type==="named"&&(U.creatExt=rd.bind(null,Ie.named),U.create=oe)},configureLogging(Ie){var qe,Qe,xt,ue,Ue;U.includes.dev=(qe=Ie.dev)!=null?qe:Al.includes.dev,U.includes.internal=(Qe=Ie.internal)!=null?Qe:Al.includes.internal,U.includes.min=(xt=Ie.min)!=null?xt:Al.includes.min,U.include=(ue=Ie.include)!=null?ue:Al.include,U.loggingConsoleStyle=(Ue=Ie.consoleStyle)!=null?Ue:Al.loggingConsoleStyle,U.create=fe()},getLogger(){return U.create({names:[]})}}}function rd(y,M){const U=[];for(let{name:Z,key:oe}of M.names)U.push(oe==null?Z:"".concat(Z," (").concat(oe,")"));return y(U)}function ZS(y){const M=R(R({},this.includes),this.include(y)),U=this.filtered,Z=this.named.bind(this,y),oe=this.creatExt(y),fe=Vr(M,524),Ie=Vr(M,522),qe=Vr(M,521),Qe=Vr(M,529),xt=Vr(M,545),ue=Vr(M,265),Ue=Vr(M,268),Zt=Vr(M,273),kn=Vr(M,289),_n=Vr(M,137),ir=Vr(M,145),sr=Vr(M,73),Qn=Vr(M,81),Rr=fe?oe.error.bind(oe,Do._hmm):U.bind(y,524),Xs=Ie?oe.error.bind(oe,Do._todo):U.bind(y,522),qs=qe?oe.error.bind(oe,Do._error):U.bind(y,521),Ys=Qe?oe.error.bind(oe,Do.errorDev):U.bind(y,529),ei=xt?oe.error.bind(oe,Do.errorPublic):U.bind(y,545),Zs=Ue?oe.warn.bind(oe,Do._kapow):U.bind(y,268),aa=ue?oe.warn.bind(oe,Do._warn):U.bind(y,265),H0=Zt?oe.warn.bind(oe,Do.warnDev):U.bind(y,273),G0=kn?oe.warn.bind(oe,Do.warnPublic):U.bind(y,273),cd=_n?oe.debug.bind(oe,Do._debug):U.bind(y,137),Bl=ir?oe.debug.bind(oe,Do.debugDev):U.bind(y,145),dd=sr?oe.trace.bind(oe,Do._trace):U.bind(y,73),hd=Qn?oe.trace.bind(oe,Do.traceDev):U.bind(y,81),ns={_hmm:Rr,_todo:Xs,_error:qs,errorDev:Ys,errorPublic:ei,_kapow:Zs,_warn:aa,warnDev:H0,warnPublic:G0,_debug:cd,debugDev:Bl,_trace:dd,traceDev:hd,lazy:{_hmm:fe?li(Rr):Rr,_todo:Ie?li(Xs):Xs,_error:qe?li(qs):qs,errorDev:Qe?li(Ys):Ys,errorPublic:xt?li(ei):ei,_kapow:Ue?li(Zs):Zs,_warn:ue?li(aa):aa,warnDev:Zt?li(H0):H0,warnPublic:kn?li(G0):G0,_debug:_n?li(cd):cd,debugDev:ir?li(Bl):Bl,_trace:sr?li(dd):dd,traceDev:Qn?li(hd):hd},named:Z,utilFor:{internal(){return{debug:ns._debug,error:ns._error,warn:ns._warn,trace:ns._trace,named(la,ui){return ns.named(la,ui).utilFor.internal()}}},dev(){return{debug:ns.debugDev,error:ns.errorDev,warn:ns.warnDev,trace:ns.traceDev,named(la,ui){return ns.named(la,ui).utilFor.dev()}}},public(){return{error:ns.errorPublic,warn:ns.warnPublic,debug(la,ui){ns._warn('(public "debug" filtered out) '.concat(la),ui)},trace(la,ui){ns._warn('(public "trace" filtered out) '.concat(la),ui)},named(la,ui){return ns.named(la,ui).utilFor.public()}}}}};return ns}function CO(y,M){const U=R(R({},this.includes),this.include(M)),Z=[];let oe="";for(let Qe=0;Qe<M.names.length;Qe++){const{name:xt,key:ue}=M.names[Qe];if(oe+=" %c".concat(xt),Z.push(this.style.css(xt)),ue!=null){const Ue="%c#".concat(ue);oe+=Ue,Z.push(this.style.css(Ue))}}const fe=this.filtered,Ie=this.named.bind(this,M),qe=[oe,...Z];return JS(fe,M,U,y,qe,QS(qe),Ie)}function QS(y){const M=y.slice(0);for(let U=1;U<M.length;U++)M[U]+=";background-color:#e0005a;padding:2px;color:white";return M}function PO(y,M){const U=R(R({},this.includes),this.include(M));let Z="";for(let qe=0;qe<M.names.length;qe++){const{name:Qe,key:xt}=M.names[qe];Z+=" ".concat(Qe),xt!=null&&(Z+="#".concat(xt))}const oe=this.filtered,fe=this.named.bind(this,M),Ie=[Z];return JS(oe,M,U,y,Ie,Ie,fe)}function JS(y,M,U,Z,oe,fe,Ie){const qe=Vr(U,524),Qe=Vr(U,522),xt=Vr(U,521),ue=Vr(U,529),Ue=Vr(U,545),Zt=Vr(U,265),kn=Vr(U,268),_n=Vr(U,273),ir=Vr(U,289),sr=Vr(U,137),Qn=Vr(U,145),Rr=Vr(U,73),Xs=Vr(U,81),qs=qe?Z.error.bind(Z,...oe):y.bind(M,524),Ys=Qe?Z.error.bind(Z,...oe):y.bind(M,522),ei=xt?Z.error.bind(Z,...oe):y.bind(M,521),Zs=ue?Z.error.bind(Z,...oe):y.bind(M,529),aa=Ue?Z.error.bind(Z,...oe):y.bind(M,545),H0=kn?Z.warn.bind(Z,...fe):y.bind(M,268),G0=Zt?Z.warn.bind(Z,...oe):y.bind(M,265),cd=_n?Z.warn.bind(Z,...oe):y.bind(M,273),Bl=ir?Z.warn.bind(Z,...oe):y.bind(M,273),dd=sr?Z.info.bind(Z,...oe):y.bind(M,137),hd=Qn?Z.info.bind(Z,...oe):y.bind(M,145),ns=Rr?Z.debug.bind(Z,...oe):y.bind(M,73),la=Xs?Z.debug.bind(Z,...oe):y.bind(M,81),ui={_hmm:qs,_todo:Ys,_error:ei,errorDev:Zs,errorPublic:aa,_kapow:H0,_warn:G0,warnDev:cd,warnPublic:Bl,_debug:dd,debugDev:hd,_trace:ns,traceDev:la,lazy:{_hmm:qe?li(qs):qs,_todo:Qe?li(Ys):Ys,_error:xt?li(ei):ei,errorDev:ue?li(Zs):Zs,errorPublic:Ue?li(aa):aa,_kapow:kn?li(H0):H0,_warn:Zt?li(G0):G0,warnDev:_n?li(cd):cd,warnPublic:ir?li(Bl):Bl,_debug:sr?li(dd):dd,debugDev:Qn?li(hd):hd,_trace:Rr?li(ns):ns,traceDev:Xs?li(la):la},named:Ie,utilFor:{internal(){return{debug:ui._debug,error:ui._error,warn:ui._warn,trace:ui._trace,named($0,l0){return ui.named($0,l0).utilFor.internal()}}},dev(){return{debug:ui.debugDev,error:ui.errorDev,warn:ui.warnDev,trace:ui.traceDev,named($0,l0){return ui.named($0,l0).utilFor.dev()}}},public(){return{error:ui.errorPublic,warn:ui.warnPublic,debug($0,l0){ui._warn('(public "debug" filtered out) '.concat($0),l0)},trace($0,l0){ui._warn('(public "trace" filtered out) '.concat($0),l0)},named($0,l0){return ui.named($0,l0).utilFor.public()}}}}};return ui}var k8=YS(console,{_debug:function(){},_error:function(){}});k8.configureLogging({dev:!0,min:64});var q9=k8.getLogger().named("Theatre.js (default logger)").utilFor.dev(),eE=new WeakMap;function tE(y){const M=eE.get(y);if(M)return M;const U=new Map;return eE.set(y,U),nE([],y,U),U}function nE(y,M,U){for(const[Z,oe]of Object.entries(M.props))if(!X9(oe)){const fe=[...y,Z];U.set(JSON.stringify(fe),U.size),rE(fe,oe,U)}for(const[Z,oe]of Object.entries(M.props))if(X9(oe)){const fe=[...y,Z];U.set(JSON.stringify(fe),U.size),rE(fe,oe,U)}}function rE(y,M,U){if(M.type==="compound")nE(y,M,U);else{if(M.type==="enum")throw new Error("Enums aren't supported yet");U.set(JSON.stringify(y),U.size)}}function A8(y){return typeof y=="object"&&y!==null&&Object.keys(y).length===0}var MO=class{constructor(y,M,U,Z,oe){this.sheetTemplate=y,Y(this,"address"),Y(this,"type","Theatre_SheetObjectTemplate"),Y(this,"_config"),Y(this,"_temp_actions_atom"),Y(this,"_cache",new Tl),Y(this,"project"),Y(this,"pointerToSheetState"),Y(this,"pointerToStaticOverrides"),this.address=G(R({},y.address),{objectKey:M}),this._config=new us.Atom(Z),this._temp_actions_atom=new us.Atom(oe),this.project=y.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(y,M,U){return this._config.set(U),new EO(y,this,M)}reconfigure(y){this._config.set(y)}_temp_setActions(y){this._temp_actions_atom.set(y)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,us.prism)(()=>{const y=(0,us.val)(this.configPointer);return Xg(y)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,us.prism)(()=>{var y;const M=(y=(0,us.val)(this.pointerToStaticOverrides))!=null?y:{};return(0,us.val)(this.configPointer).deserializeAndSanitize(M)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,us.prism)(()=>{const y=this.project.pointers.historic.sheetsById[this.address.sheetId],M=(0,us.val)(y.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!M)return Ne;const U=[];if(!M)return Ne;const Z=(0,us.val)(this.configPointer),oe=Object.entries(M);for(const[Ie,qe]of oe){const Qe=TO(Ie);if(!Qe)continue;const xt=M8(Z,Qe);xt&&T8(xt)&&U.push({pathToProp:Qe,trackId:qe})}const fe=tE(Z);return U.sort((Ie,qe)=>{const Qe=Ie.pathToProp,xt=qe.pathToProp,ue=fe.get(JSON.stringify(Qe)),Ue=fe.get(JSON.stringify(xt));return ue>Ue?1:-1}),U.length===0?Ne:U}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,us.prism)(()=>{const y=(0,us.val)(this.getArrayOfValidSequenceTracks());let M={};for(const{pathToProp:U,trackId:Z}of y)kh(M,U,Z);return M}))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",()=>(0,us.prism)(()=>{const y=(0,us.val)(this.getStaticValues()),M=(0,us.val)(this.getArrayOfValidSequenceTracks()),U=DD(y);for(const{pathToProp:Z}of M){WS(U,Z);let oe=Z.slice(0,-1);for(;oe.length>0;){const fe=m1(U,oe);if(!A8(fe))break;WS(U,oe),oe=oe.slice(0,-1)}}if(!A8(U))return U}))}getDefaultsAtPointer(y){const{path:M}=(0,us.getPointerParts)(y),U=this.getDefaultValues().getValue();return m1(U,M)}};function TO(y){try{return JSON.parse(y)}catch{q9.warn("property ".concat(JSON.stringify(y)," cannot be parsed. Skipping."));return}}var I8=Vt,kO=qS(y=>JSON.stringify(y));C(ae());var AO=class extends Error{},Kh=class extends AO{},iE=Vt,IO=Vt,sE=Vt,hs=Vt;function Il(){let y,M;const U=new Promise((oe,fe)=>{y=Ie=>{oe(Ie),Z.status="resolved"},M=Ie=>{fe(Ie),Z.status="rejected"}}),Z={resolve:y,reject:M,promise:U,status:"pending"};return Z}var RO=()=>{},Y9=RO,oE=Vt,DO=class{constructor(){Y(this,"_stopPlayCallback",Y9),Y(this,"_state",new oE.Atom({position:0,playing:!1})),Y(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=Y9}gotoPosition(y){this._updatePositionInState(y)}_updatePositionInState(y){this._state.setByPointer(M=>M.position,y)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(y){this._state.setByPointer(M=>M.playing,y)}play(y,M,U,Z,oe){this.playing&&this.pause(),this.playing=!0;const fe=M[1]-M[0];{const Zt=this.getCurrentPosition();Zt<M[0]||Zt>M[1]?Z==="normal"||Z==="alternate"?this._updatePositionInState(M[0]):(Z==="reverse"||Z==="alternateReverse")&&this._updatePositionInState(M[1]):Z==="normal"||Z==="alternate"?Zt===M[1]&&this._updatePositionInState(M[0]):Zt===M[0]&&this._updatePositionInState(M[1])}const Ie=Il(),qe=oe.time,Qe=fe*y;let xt=this.getCurrentPosition()-M[0];(Z==="reverse"||Z==="alternateReverse")&&(xt=M[1]-this.getCurrentPosition());const ue=Zt=>{const _n=Math.max(Zt-qe,0)/1e3,ir=Math.min(_n*U+xt,Qe);if(ir!==Qe){const sr=Math.floor(ir/fe);let Qn=ir/fe%1*fe;if(Z!=="normal")if(Z==="reverse")Qn=fe-Qn;else{const Rr=sr%2===0;Z==="alternate"?Rr||(Qn=fe-Qn):Rr&&(Qn=fe-Qn)}this._updatePositionInState(Qn+M[0]),Ue()}else{if(Z==="normal")this._updatePositionInState(M[1]);else if(Z==="reverse")this._updatePositionInState(M[0]);else{const sr=(y-1)%2===0;Z==="alternate"?sr?this._updatePositionInState(M[1]):this._updatePositionInState(M[0]):sr?this._updatePositionInState(M[0]):this._updatePositionInState(M[1])}this.playing=!1,Ie.resolve(!0)}};this._stopPlayCallback=()=>{oe.offThisOrNextTick(ue),oe.offNextTick(ue),this.playing&&Ie.resolve(!1)};const Ue=()=>oe.onNextTick(ue);return oe.onThisOrNextTick(ue),Ie.promise}playDynamicRange(y,M){this.playing&&this.pause(),this.playing=!0;const U=Il(),Z=y.keepHot();U.promise.then(Z,Z);let oe=M.time;const fe=qe=>{const Qe=Math.max(qe-oe,0);oe=qe;const xt=Qe/1e3,ue=this.getCurrentPosition(),Ue=y.getValue();if(ue<Ue[0]||ue>Ue[1])this.gotoPosition(Ue[0]);else{let Zt=ue+xt;Zt>Ue[1]&&(Zt=Ue[0]+(Zt-Ue[1])),this.gotoPosition(Zt)}Ie()};this._stopPlayCallback=()=>{M.offThisOrNextTick(fe),M.offNextTick(fe),U.resolve(!1)};const Ie=()=>M.onNextTick(fe);return M.onThisOrNextTick(fe),U.promise}},aE=Vt,lE="__TheatreJS_StudioBundle",R8="__TheatreJS_CoreBundle",uE="__TheatreJS_Notifications",j1=y=>(...M)=>{var U;switch(y){case"success":{q9.debug(M.slice(0,2).join(`
`));break}case"info":{q9.debug(M.slice(0,2).join(`
`));break}case"warning":{q9.warn(M.slice(0,2).join(`
`));break}}return typeof window<"u"?(U=window[uE])==null?void 0:U.notify[y](...M):void 0},Xh={warning:j1("warning"),success:j1("success"),info:j1("info"),error:j1("error")};typeof window<"u"&&(window.addEventListener("error",y=>{Xh.error("An error occurred","<pre>".concat(y.message,`</pre>

See **console** for details.`))}),window.addEventListener("unhandledrejection",y=>{Xh.error("An error occurred","<pre>".concat(y.reason,`</pre>

See **console** for details.`))}));var OO=class{constructor(y,M,U){this._decodedBuffer=y,this._audioContext=M,this._nodeDestination=U,Y(this,"_mainGain"),Y(this,"_state",new aE.Atom({position:0,playing:!1})),Y(this,"statePointer"),Y(this,"_stopPlayCallback",Y9),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(y,M){const U=Il();this._playing&&this.pause(),this._playing=!0;let Z;const oe=()=>{Z==null||Z(),Z=this._loopInRange(y.getValue(),M).stop},fe=y.onStale(oe);return oe(),this._stopPlayCallback=()=>{Z==null||Z(),fe(),U.resolve(!1)},U.promise}_loopInRange(y,M){let Z=this.getCurrentPosition();const oe=y[1]-y[0];Z<y[0]||Z>y[1]?this._updatePositionInState(y[0]):Z===y[1]&&this._updatePositionInState(y[0]),Z=this.getCurrentPosition();const fe=this._audioContext.createBufferSource();fe.buffer=this._decodedBuffer,fe.connect(this._mainGain),fe.playbackRate.value=1,fe.loop=!0,fe.loopStart=y[0],fe.loopEnd=y[1];const Ie=M.time;let qe=Z-y[0];fe.start(0,Z);const Qe=Ue=>{let ir=(Math.max(Ue-Ie,0)/1e3*1+qe)/oe%1*oe;this._updatePositionInState(ir+y[0]),xt()},xt=()=>M.onNextTick(Qe);return M.onThisOrNextTick(Qe),{stop:()=>{fe.stop(),fe.disconnect(),M.offThisOrNextTick(Qe),M.offNextTick(Qe)}}}get _playing(){return this._state.get().playing}set _playing(y){this._state.setByPointer(M=>M.playing,y)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=Y9}gotoPosition(y){this._updatePositionInState(y)}_updatePositionInState(y){this._state.reduce(M=>G(R({},M),{position:y}))}getCurrentPosition(){return this._state.get().position}play(y,M,U,Z,oe){this._playing&&this.pause(),this._playing=!0;let fe=this.getCurrentPosition();const Ie=M[1]-M[0];if(Z!=="normal")throw new Kh('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(Z,"' given."));fe<M[0]||fe>M[1]?this._updatePositionInState(M[0]):fe===M[1]&&this._updatePositionInState(M[0]),fe=this.getCurrentPosition();const qe=Il(),Qe=this._audioContext.createBufferSource();Qe.buffer=this._decodedBuffer,Qe.connect(this._mainGain),Qe.playbackRate.value=U,y>1e3&&(Xh.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(y,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),y=1e3),y>1&&(Qe.loop=!0,Qe.loopStart=M[0],Qe.loopEnd=M[1]);const xt=oe.time;let ue=fe-M[0];const Ue=Ie*y;Qe.start(0,fe,Ue-ue);const Zt=ir=>{const Qn=Math.max(ir-xt,0)/1e3,Rr=Math.min(Qn*U+ue,Ue);if(Rr!==Ue){let Xs=Rr/Ie%1*Ie;this._updatePositionInState(Xs+M[0]),_n()}else this._updatePositionInState(M[1]),this._playing=!1,kn(),qe.resolve(!0)},kn=()=>{Qe.stop(),Qe.disconnect()};this._stopPlayCallback=()=>{kn(),oe.offThisOrNextTick(Zt),oe.offNextTick(Zt),this._playing&&qe.resolve(!1)};const _n=()=>oe.onNextTick(Zt);return oe.onThisOrNextTick(Zt),qe.promise}},qh=Vt,Z9=0;function Q9(y){var M;const U=Ie=>{Z.tick(Ie)},Z=new qh.Ticker({onActive(){var Ie;(Ie=y==null?void 0:y.start)==null||Ie.call(y)},onDormant(){var Ie;(Ie=y==null?void 0:y.stop)==null||Ie.call(y)}}),oe={tick:U,id:Z9++,name:(M=y==null?void 0:y.name)!=null?M:"CustomRafDriver-".concat(Z9),type:"Theatre_RafDriver_PublicAPI"},fe={type:"Theatre_RafDriver_PrivateAPI",publicApi:oe,ticker:Z,start:y==null?void 0:y.start,stop:y==null?void 0:y.stop};return At(oe,fe),oe}function cE(){let y=null;const Z=Q9({name:"DefaultCoreRafDriver",start:()=>{if(typeof window<"u"){const oe=fe=>{Z.tick(fe),y=window.requestAnimationFrame(oe)};y=window.requestAnimationFrame(oe)}else Z.tick(0),setTimeout(()=>Z.tick(1),0)},stop:()=>{typeof window<"u"&&y!==null&&window.cancelAnimationFrame(y)}});return Z}var J9;function D8(){return J9||dE(cE()),J9}function O8(){return D8().ticker}function dE(y){if(J9)throw new Error("`setCoreRafDriver()` is already called.");J9=ze(y)}var LO=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(y){At(this,y)}play(y){const M=ze(this);if(M._project.isReady()){const U=y!=null&&y.rafDriver?ze(y.rafDriver).ticker:O8();return M.play(y??{},U)}else{const U=Il();return U.resolve(!0),U.promise}}pause(){ze(this).pause()}get position(){return ze(this).position}set position(y){ze(this).position=y}__experimental_getKeyframes(y){return ze(this).getKeyframesOfSimpleProp(y)}async attachAudio(y){const{audioContext:M,destinationNode:U,decodedBuffer:Z,gainNode:oe}=await NO(y),fe=new OO(Z,M,oe);return ze(this).replacePlaybackController(fe),{audioContext:M,destinationNode:U,decodedBuffer:Z,gainNode:oe}}get pointer(){return ze(this).pointer}};async function NO(y){function M(){if(y.audioContext)return Promise.resolve(y.audioContext);const xt=new AudioContext;return xt.state==="running"||typeof window>"u"?Promise.resolve(xt):new Promise(ue=>{const Ue=()=>{xt.resume().catch(_n=>{console.error(_n)})},Zt=["mousedown","keydown","touchstart"],kn={capture:!0,passive:!1};Zt.forEach(_n=>{window.addEventListener(_n,Ue,kn)}),xt.addEventListener("statechange",()=>{xt.state==="running"&&(Zt.forEach(_n=>{window.removeEventListener(_n,Ue,kn)}),ue(xt))})})}async function U(){if(y.source instanceof AudioBuffer)return y.source;const xt=Il();if(typeof y.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let ue;try{ue=await fetch(y.source)}catch(_n){throw console.error(_n),new Error("Could not fetch '".concat(y.source,"'. Network error logged above."))}let Ue;try{Ue=await ue.arrayBuffer()}catch(_n){throw console.error(_n),new Error("Could not read '".concat(y.source,"' as an arrayBuffer."))}(await Z).decodeAudioData(Ue,xt.resolve,xt.reject);let kn;try{kn=await xt.promise}catch(_n){throw console.error(_n),new Error("Could not decode ".concat(y.source," as an audio file."))}return kn}const Z=M(),oe=U(),[fe,Ie]=await Promise.all([Z,oe]),qe=y.destinationNode||fe.destination,Qe=fe.createGain();return Qe.connect(qe),{audioContext:fe,decodedBuffer:Ie,gainNode:Qe,destinationNode:qe}}var hE=pE("Theatre_SheetObject");function pE(y){return M=>typeof M=="object"&&!!M&&M.type===y}var FO=class{constructor(y,M,U,Z,oe){this._project=y,this._sheet=M,this._lengthD=U,this._subUnitsPerUnitD=Z,Y(this,"address"),Y(this,"publicApi"),Y(this,"_playbackControllerBox"),Y(this,"_prismOfStatePointer"),Y(this,"_positionD"),Y(this,"_positionFormatterD"),Y(this,"_playableRangeD"),Y(this,"pointer",(0,sE.pointer)({root:this,path:[]})),Y(this,"$$isPointerToPrismProvider",!0),Y(this,"_logger"),Y(this,"closestGridPosition",fe=>{const qe=1/this.subUnitsPerUnit;return parseFloat((Math.round(fe/qe)*qe).toFixed(3))}),this._logger=y._logger.named("Sheet",M.address.sheetId).named("Instance",M.address.sheetInstanceId),this.address=G(R({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new LO(this),this._playbackControllerBox=new IO.Atom(oe??new DO),this._prismOfStatePointer=(0,hs.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,hs.prism)(()=>{const fe=this._prismOfStatePointer.getValue();return(0,hs.val)(fe.position)}),this._positionFormatterD=(0,hs.prism)(()=>{const fe=(0,hs.val)(this._subUnitsPerUnitD);return new BO(fe)})}pointerToPrism(y){const{path:M}=(0,iE.getPointerParts)(y);if(M.length===0)return(0,hs.prism)(()=>({length:(0,hs.val)(this.pointer.length),playing:(0,hs.val)(this.pointer.playing),position:(0,hs.val)(this.pointer.position)}));if(M.length>1)return(0,hs.prism)(()=>{});const[U]=M;return U==="length"?this._lengthD:U==="position"?this._positionD:U==="playing"?(0,hs.prism)(()=>(0,hs.val)(this._prismOfStatePointer.getValue().playing)):(0,hs.prism)(()=>{})}getKeyframesOfSimpleProp(y){const{path:M,root:U}=(0,iE.getPointerParts)(y);if(!hE(U))throw new Kh("Argument prop must be a pointer to a SheetObject property");const Z=(0,hs.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[U.address.objectKey]);if(!Z)return[];const{trackData:oe,trackIdByPropPath:fe}=Z,Ie=kO(M),qe=fe[Ie];if(!qe)return[];const Qe=oe[qe];return Qe?Qe.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(y){let M=y;this.pause(),M>this.length&&(M=this.length);const U=this.length;this._playbackControllerBox.get().gotoPosition(M>U?U:M)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,hs.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,hs.prism)(()=>[0,(0,hs.val)(this._lengthD)])}playDynamicRange(y,M){return this._playbackControllerBox.get().playDynamicRange(y,M)}async play(y,M){const U=this.length,Z=y&&y.range?y.range:[0,U],oe=y&&typeof y.iterationCount=="number"?y.iterationCount:1,fe=y&&typeof y.rate<"u"?y.rate:1,Ie=y&&y.direction?y.direction:"normal";return await this._play(oe,[Z[0],Z[1]],fe,Ie,M)}_play(y,M,U,Z,oe){return this._playbackControllerBox.get().play(y,M,U,Z,oe)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(y){this.pause();const M=this._playbackControllerBox.get();this._playbackControllerBox.set(y);const U=M.getCurrentPosition();M.destroy(),y.gotoPosition(U)}},BO=class{constructor(y){this._fps=y}formatSubUnitForGrid(y){const M=y%1,U=1/this._fps;return Math.round(M/U)+"f"}formatFullUnitForGrid(y){let M=y,U="";if(M>=pi){const oe=Math.floor(M/pi);U+=oe+"h",M=M%pi}if(M>=id){const oe=Math.floor(M/id);U+=oe+"m",M=M%id}if(M>=Oo){const oe=Math.floor(M/Oo);U+=oe+"s",M=M%Oo}const Z=1/this._fps;if(M>=Z){const oe=Math.floor(M/Z);U+=oe+"f",M=M%Z}return U.length===0?"0s":U}formatForPlayhead(y){let M=y,U="";if(M>=pi){const oe=Math.floor(M/pi);U+=Wh(oe.toString(),2,"0")+"h",M=M%pi}if(M>=id){const oe=Math.floor(M/id);U+=Wh(oe.toString(),2,"0")+"m",M=M%id}else U.length>0&&(U+="00m");if(M>=Oo){const oe=Math.floor(M/Oo);U+=Wh(oe.toString(),2,"0")+"s",M=M%Oo}else U+="00s";const Z=1/this._fps;if(M>=Z){const oe=Math.round(M/Z);U+=Wh(oe.toString(),2,"0")+"f",M=M%Z}else M/Z>.98?(U+=Wh(1 .toString(),2,"0")+"f",M=M%Z):U+="00f";return U.length===0?"00s00f":U}formatBasic(y){return y.toFixed(2)+"s"}},Oo=1,id=Oo*60,pi=id*60,L8={};B(L8,{boolean:()=>z8,compound:()=>Dl,file:()=>nr,image:()=>o0,number:()=>H1,rgba:()=>Sn,string:()=>_E,stringLiteral:()=>xE});function fE(y,M){return y.length<=M?y:y.substr(0,M-3)+"..."}var Le=y=>typeof y=="string"?'string("'.concat(fE(y,10),'")'):typeof y=="number"?"number(".concat(fE(String(y),10),")"):y===null?"null":y===void 0?"undefined":typeof y=="boolean"?String(y):Array.isArray(y)?"array":typeof y=="object"?"object":"unknown",mE=Le;function UO(y,{removeAlphaIfOpaque:M=!1}={}){const U=(y.a*255|256).toString(16).slice(1),Z=(y.r*255|256).toString(16).slice(1)+(y.g*255|256).toString(16).slice(1)+(y.b*255|256).toString(16).slice(1)+(M&&U==="ff"?"":U);return"#".concat(Z)}function N8(y){return G(R({},y),{toString(){return UO(this,{removeAlphaIfOpaque:!0})}})}function Rl(y){return Object.fromEntries(Object.entries(y).map(([M,U])=>[M,Rv(U,0,1)]))}function zO(y){function M(U){return U>=.0031308?1.055*U**(1/2.4)-.055:12.92*U}return Rl({r:M(y.r),g:M(y.g),b:M(y.b),a:y.a})}function Xn(y){function M(U){return U>=.04045?((U+.055)/(1+.055))**2.4:U/12.92}return{r:M(y.r),g:M(y.g),b:M(y.b),a:y.a}}function gE(y){let M=.4122214708*y.r+.5363325363*y.g+.0514459929*y.b,U=.2119034982*y.r+.6806995451*y.g+.1073969566*y.b,Z=.0883024619*y.r+.2817188376*y.g+.6299787005*y.b,oe=Math.cbrt(M),fe=Math.cbrt(U),Ie=Math.cbrt(Z);return{L:.2104542553*oe+.793617785*fe-.0040720468*Ie,a:1.9779984951*oe-2.428592205*fe+.4505937099*Ie,b:.0259040371*oe+.7827717662*fe-.808675766*Ie,alpha:y.a}}function e3(y){let M=y.L+.3963377774*y.a+.2158037573*y.b,U=y.L-.1055613458*y.a-.0638541728*y.b,Z=y.L-.0894841775*y.a-1.291485548*y.b,oe=M*M*M,fe=U*U*U,Ie=Z*Z*Z;return{r:4.0767416621*oe-3.3077115913*fe+.2309699292*Ie,g:-1.2684380046*oe+2.6097574011*fe-.3413193965*Ie,b:-.0041960863*oe-.7034186147*fe+1.707614701*Ie,a:y.alpha}}var Ua=Symbol("TheatrePropType_Basic");function F8(y){return typeof y=="object"&&!!y&&y[Ua]==="TheatrePropType"}function Gu(y){if(typeof y=="number")return H1(y);if(typeof y=="boolean")return z8(y);if(typeof y=="string")return _E(y);if(typeof y=="object"&&y){if(F8(y))return y;if(ER(y))return Dl(y);throw new Kh("This value is not a valid prop type: ".concat(mE(y)))}else throw new Kh("This value is not a valid prop type: ".concat(mE(y)))}function vE(y){const M={};for(const U of Object.keys(y)){const Z=y[U];F8(Z)?M[U]=Z:M[U]=Gu(Z)}return M}var Dl=(y,M={})=>{const U=vE(y),Z=new WeakMap;return{type:"compound",props:U,valueType:null,[Ua]:"TheatrePropType",label:M.label,default:hO(U,fe=>fe.default),deserializeAndSanitize:fe=>{if(typeof fe!="object"||!fe)return;if(Z.has(fe))return Z.get(fe);const Ie={};let qe=!1;for(const[Qe,xt]of Object.entries(U))if(Object.prototype.hasOwnProperty.call(fe,Qe)){const ue=xt.deserializeAndSanitize(fe[Qe]);ue!=null&&(qe=!0,Ie[Qe]=ue)}if(Z.set(fe,Ie),qe)return Ie}}},nr=(y,M={})=>{const U=(Z,oe,fe)=>{var Ie;return{type:"file",id:((Ie=M.interpolate)!=null?Ie:Zh)(Z.id,oe.id,fe)}};return{type:"file",default:{type:"file",id:y},valueType:null,[Ua]:"TheatrePropType",label:M.label,interpolate:U,deserializeAndSanitize:B8}},B8=y=>{if(!y)return;let M=!0;if(typeof y.id!="string"&&![null,void 0].includes(y.id)&&(M=!1),y.type!=="file"&&(M=!1),!!M)return y},o0=(y,M={})=>{const U=(Z,oe,fe)=>{var Ie;return{type:"image",id:((Ie=M.interpolate)!=null?Ie:Zh)(Z.id,oe.id,fe)}};return{type:"image",default:{type:"image",id:y},valueType:null,[Ua]:"TheatrePropType",label:M.label,interpolate:U,deserializeAndSanitize:Yh}},Yh=y=>{if(!y)return;let M=!0;if(typeof y.id!="string"&&![null,void 0].includes(y.id)&&(M=!1),y.type!=="image"&&(M=!1),!!M)return y},H1=(y,M={})=>{var U;return G(R({type:"number",valueType:0,default:y,[Ua]:"TheatrePropType"},M||{}),{label:M.label,nudgeFn:(U=M.nudgeFn)!=null?U:GO,nudgeMultiplier:typeof M.nudgeMultiplier=="number"?M.nudgeMultiplier:void 0,interpolate:U8,deserializeAndSanitize:yE(M.range)})},yE=y=>y?M=>{if(typeof M=="number"&&isFinite(M))return Rv(M,y[0],y[1])}:bE,bE=y=>typeof y=="number"&&isFinite(y)?y:void 0,U8=(y,M,U)=>y+U*(M-y),Sn=(y={r:0,g:0,b:0,a:1},M={})=>{const U={};for(const Z of["r","g","b","a"])U[Z]=Math.min(Math.max(y[Z],0),1);return{type:"rgba",valueType:null,default:N8(U),[Ua]:"TheatrePropType",label:M.label,interpolate:jO,deserializeAndSanitize:VO}},VO=y=>{if(!y)return;let M=!0;for(const Z of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(y,Z)||typeof y[Z]!="number")&&(M=!1);if(!M)return;const U={};for(const Z of["r","g","b","a"])U[Z]=Math.min(Math.max(y[Z],0),1);return N8(U)},jO=(y,M,U)=>{const Z=gE(Xn(y)),oe=gE(Xn(M)),fe={L:(1-U)*Z.L+U*oe.L,a:(1-U)*Z.a+U*oe.a,b:(1-U)*Z.b+U*oe.b,alpha:(1-U)*Z.alpha+U*oe.alpha},Ie=zO(e3(fe));return N8(Ie)},z8=(y,M={})=>{var U;return{type:"boolean",default:y,valueType:null,[Ua]:"TheatrePropType",label:M.label,interpolate:(U=M.interpolate)!=null?U:Zh,deserializeAndSanitize:HO}},HO=y=>typeof y=="boolean"?y:void 0;function Zh(y){return y}var _E=(y,M={})=>{var U;return{type:"string",default:y,valueType:null,[Ua]:"TheatrePropType",label:M.label,interpolate:(U=M.interpolate)!=null?U:Zh,deserializeAndSanitize:wE}};function wE(y){return typeof y=="string"?y:void 0}function xE(y,M,U={}){var Z,oe;return{type:"stringLiteral",default:y,valuesAndLabels:R({},M),[Ua]:"TheatrePropType",valueType:null,as:(Z=U.as)!=null?Z:"menu",label:U.label,interpolate:(oe=U.interpolate)!=null?oe:Zh,deserializeAndSanitize(fe){if(typeof fe=="string"&&Object.prototype.hasOwnProperty.call(M,fe))return fe}}}var GO=({config:y,deltaX:M,deltaFraction:U,magnitude:Z})=>{var oe;const{range:fe}=y;return!y.nudgeMultiplier&&fe&&!fe.includes(1/0)&&!fe.includes(-1/0)?U*(fe[1]-fe[0])*Z:M*Z*((oe=y.nudgeMultiplier)!=null?oe:1)},$O=y=>y.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function t3(y,M){return $O(y)}C(ve());var WO=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(y){At(this,y)}object(y,M,U){const Z=ze(this),oe=t3(y),fe=Z.getObject(oe),Ie=null,qe=U==null?void 0:U.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(fe)return qe&&fe.template._temp_setActions(qe),fe.publicApi;{const Qe=Dl(M);return Z.createObject(oe,Ie,Qe,qe).publicApi}}get sequence(){return ze(this).getSequence().publicApi}get project(){return ze(this).project.publicApi}get address(){return R({},ze(this).address)}detachObject(y){const M=ze(this),U=t3(y);if(!M.getObject(U)){Xh.warning(`Couldn't delete object "`.concat(U,'"'),'There is no object with key "'.concat(U,`".

To fix this, make sure you are calling \`sheet.deleteObject("`).concat(U,'")` with the correct key.')),console.warn('Object key "'.concat(U,'" does not exist.'));return}M.deleteObject(U)}},Qh=Vt,SE=class{constructor(y,M){this.template=y,this.instanceId=M,Y(this,"_objects",new Qh.Atom({})),Y(this,"_sequence"),Y(this,"address"),Y(this,"publicApi"),Y(this,"project"),Y(this,"objectsP",this._objects.pointer),Y(this,"type","Theatre_Sheet"),Y(this,"_logger"),this._logger=y.project._logger.named("Sheet",M),this._logger._trace("creating sheet"),this.project=y.project,this.address=G(R({},y.address),{sheetInstanceId:this.instanceId}),this.publicApi=new WO(this)}createObject(y,M,U,Z={}){const fe=this.template.getObjectTemplate(y,M,U,Z).createInstance(this,M,U);return this._objects.setByPointer(Ie=>Ie[y],fe),fe}getObject(y){return this._objects.get()[y]}deleteObject(y){this._objects.reduce(M=>{const U=R({},M);return delete U[y],U})}getSequence(){if(!this._sequence){const y=(0,Qh.prism)(()=>{const U=(0,Qh.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return V8(U)}),M=(0,Qh.prism)(()=>{const U=(0,Qh.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return KO(U)});this._sequence=new FO(this.template.project,this,y,M)}return this._sequence}},V8=y=>typeof y=="number"&&isFinite(y)&&y>0?y:10,KO=y=>typeof y=="number"&&w8(y)&&y>=1&&y<=1e3?y:30,XO=class{constructor(y,M){this.project=y,Y(this,"type","Theatre_SheetTemplate"),Y(this,"address"),Y(this,"_instances",new I8.Atom({})),Y(this,"instancesP",this._instances.pointer),Y(this,"_objectTemplates",new I8.Atom({})),Y(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=G(R({},y.address),{sheetId:M})}getInstance(y){let M=this._instances.get()[y];return M||(M=new SE(this,y),this._instances.setByPointer(U=>U[y],M)),M}getObjectTemplate(y,M,U,Z){let oe=this._objectTemplates.get()[y];return oe||(oe=new MO(this,y,M,U,Z),this._objectTemplates.setByPointer(fe=>fe[y],oe)),oe}},j8=Vt,EE=Vt,a0=y=>new Promise(M=>setTimeout(M,y)),G1=a0;function oa(y){for(var M=arguments.length,U=Array(M>1?M-1:0),Z=1;Z<M;Z++)U[Z-1]=arguments[Z];throw Error("[Immer] minified error nr: "+y+(U.length?" "+U.map(function(oe){return"'"+oe+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ol(y){return!!y&&!!y[fo]}function ho(y){return!!y&&(function(M){if(!M||typeof M!="object")return!1;var U=Object.getPrototypeOf(M);if(U===null)return!0;var Z=Object.hasOwnProperty.call(U,"constructor")&&U.constructor;return Z===Object||typeof Z=="function"&&Function.toString.call(Z)===AE}(y)||Array.isArray(y)||!!y[c3]||!!y.constructor[c3]||Ll(y)||po(y))}function H8(y){return Ol(y)||oa(23,y),y[fo].t}function Jh(y,M,U){U===void 0&&(U=!1),sd(y)===0?(U?Object.keys:d3)(y).forEach(function(Z){U&&typeof Z=="symbol"||M(Z,y[Z],y)}):y.forEach(function(Z,oe){return M(oe,Z,y)})}function sd(y){var M=y[fo];return M?M.i>3?M.i-4:M.i:Array.isArray(y)?1:Ll(y)?2:po(y)?3:0}function $1(y,M){return sd(y)===2?y.has(M):Object.prototype.hasOwnProperty.call(y,M)}function CE(y,M){return sd(y)===2?y.get(M):y[M]}function G8(y,M,U){var Z=sd(y);Z===2?y.set(M,U):Z===3?(y.delete(M),y.add(U)):y[M]=U}function PE(y,M){return y===M?y!==0||1/y==1/M:y!=y&&M!=M}function Ll(y){return TE&&y instanceof Map}function po(y){return kE&&y instanceof Set}function Nl(y){return y.o||y.t}function ep(y){if(Array.isArray(y))return Array.prototype.slice.call(y);var M=q8(y);delete M[fo];for(var U=d3(M),Z=0;Z<U.length;Z++){var oe=U[Z],fe=M[oe];fe.writable===!1&&(fe.writable=!0,fe.configurable=!0),(fe.get||fe.set)&&(M[oe]={configurable:!0,writable:!0,enumerable:fe.enumerable,value:y[oe]})}return Object.create(Object.getPrototypeOf(y),M)}function $8(y,M){return M===void 0&&(M=!1),n3(y)||Ol(y)||!ho(y)||(sd(y)>1&&(y.set=y.add=y.clear=y.delete=ME),Object.freeze(y),M&&Jh(y,function(U,Z){return $8(Z,!0)},!0)),y}function ME(){oa(2)}function n3(y){return y==null||typeof y!="object"||Object.isFrozen(y)}function V0(y){var M=IE[y];return M||oa(18,y),M}function r3(){return rp}function Si(y,M){M&&(V0("Patches"),y.u=[],y.s=[],y.v=M)}function W1(y){i3(y),y.p.forEach(o3),y.p=null}function i3(y){y===rp&&(rp=y.l)}function s3(y){return rp={p:[],l:rp,h:y,m:!0,_:0}}function o3(y){var M=y[fo];M.i===0||M.i===1?M.j():M.O=!0}function od(y,M){M._=M.p.length;var U=M.p[0],Z=y!==void 0&&y!==U;return M.h.g||V0("ES5").S(M,y,Z),Z?(U[fo].P&&(W1(M),oa(4)),ho(y)&&(y=za(M,y),M.l||ad(M,y)),M.u&&V0("Patches").M(U[fo],y,M.u,M.s)):y=za(M,U,[]),W1(M),M.u&&M.v(M.u,M.s),y!==K1?y:void 0}function za(y,M,U){if(n3(M))return M;var Z=M[fo];if(!Z)return Jh(M,function(fe,Ie){return j0(y,Z,M,fe,Ie,U)},!0),M;if(Z.A!==y)return M;if(!Z.P)return ad(y,Z.t,!0),Z.t;if(!Z.I){Z.I=!0,Z.A._--;var oe=Z.i===4||Z.i===5?Z.o=ep(Z.k):Z.o;Jh(Z.i===3?new Set(oe):oe,function(fe,Ie){return j0(y,Z,oe,fe,Ie,U)}),ad(y,oe,!1),U&&y.u&&V0("Patches").R(Z,U,y.u,y.s)}return Z.o}function j0(y,M,U,Z,oe,fe){if(Ol(oe)){var Ie=za(y,oe,fe&&M&&M.i!==3&&!$1(M.D,Z)?fe.concat(Z):void 0);if(G8(U,Z,Ie),!Ol(Ie))return;y.m=!1}if(ho(oe)&&!n3(oe)){if(!y.h.F&&y._<1)return;za(y,oe),M&&M.A.l||ad(y,oe)}}function ad(y,M,U){U===void 0&&(U=!1),y.h.F&&y.m&&$8(M,U)}function a3(y,M){var U=y[fo];return(U?Nl(U):y)[M]}function W8(y,M){if(M in y)for(var U=Object.getPrototypeOf(y);U;){var Z=Object.getOwnPropertyDescriptor(U,M);if(Z)return Z;U=Object.getPrototypeOf(U)}}function l3(y){y.P||(y.P=!0,y.l&&l3(y.l))}function ld(y){y.o||(y.o=ep(y.t))}function ud(y,M,U){var Z=Ll(M)?V0("MapSet").N(M,U):po(M)?V0("MapSet").T(M,U):y.g?function(oe,fe){var Ie=Array.isArray(oe),qe={i:Ie?1:0,A:fe?fe.A:r3(),P:!1,I:!1,D:{},l:fe,t:oe,k:null,o:null,j:null,C:!1},Qe=qe,xt=Fl;Ie&&(Qe=[qe],xt=X1);var ue=Proxy.revocable(Qe,xt),Ue=ue.revoke,Zt=ue.proxy;return qe.k=Zt,qe.j=Ue,Zt}(M,U):V0("ES5").J(M,U);return(U?U.A:r3()).p.push(Z),Z}function tp(y){return Ol(y)||oa(22,y),function M(U){if(!ho(U))return U;var Z,oe=U[fo],fe=sd(U);if(oe){if(!oe.P&&(oe.i<4||!V0("ES5").K(oe)))return oe.t;oe.I=!0,Z=np(U,fe),oe.I=!1}else Z=np(U,fe);return Jh(Z,function(Ie,qe){oe&&CE(oe.t,Ie)===qe||G8(Z,Ie,M(qe))}),fe===3?new Set(Z):Z}(y)}function np(y,M){switch(M){case 2:return new Map(y);case 3:return Array.from(y)}return ep(y)}var K8,rp,u3=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",TE=typeof Map<"u",kE=typeof Set<"u",X8=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",K1=u3?Symbol.for("immer-nothing"):((K8={})["immer-nothing"]=!0,K8),c3=u3?Symbol.for("immer-draftable"):"__$immer_draftable",fo=u3?Symbol.for("immer-state"):"__$immer_state",AE=""+Object.prototype.constructor,d3=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(y){return Object.getOwnPropertyNames(y).concat(Object.getOwnPropertySymbols(y))}:Object.getOwnPropertyNames,q8=Object.getOwnPropertyDescriptors||function(y){var M={};return d3(y).forEach(function(U){M[U]=Object.getOwnPropertyDescriptor(y,U)}),M},IE={},Fl={get:function(y,M){if(M===fo)return y;var U=Nl(y);if(!$1(U,M))return function(oe,fe,Ie){var qe,Qe=W8(fe,Ie);return Qe?"value"in Qe?Qe.value:(qe=Qe.get)===null||qe===void 0?void 0:qe.call(oe.k):void 0}(y,U,M);var Z=U[M];return y.I||!ho(Z)?Z:Z===a3(y.t,M)?(ld(y),y.o[M]=ud(y.A.h,Z,y)):Z},has:function(y,M){return M in Nl(y)},ownKeys:function(y){return Reflect.ownKeys(Nl(y))},set:function(y,M,U){var Z=W8(Nl(y),M);if(Z!=null&&Z.set)return Z.set.call(y.k,U),!0;if(!y.P){var oe=a3(Nl(y),M),fe=oe==null?void 0:oe[fo];if(fe&&fe.t===U)return y.o[M]=U,y.D[M]=!1,!0;if(PE(U,oe)&&(U!==void 0||$1(y.t,M)))return!0;ld(y),l3(y)}return y.o[M]===U&&typeof U!="number"&&(U!==void 0||M in y.o)||(y.o[M]=U,y.D[M]=!0,!0)},deleteProperty:function(y,M){return a3(y.t,M)!==void 0||M in y.t?(y.D[M]=!1,ld(y),l3(y)):delete y.D[M],y.o&&delete y.o[M],!0},getOwnPropertyDescriptor:function(y,M){var U=Nl(y),Z=Reflect.getOwnPropertyDescriptor(U,M);return Z&&{writable:!0,configurable:y.i!==1||M!=="length",enumerable:Z.enumerable,value:U[M]}},defineProperty:function(){oa(11)},getPrototypeOf:function(y){return Object.getPrototypeOf(y.t)},setPrototypeOf:function(){oa(12)}},X1={};Jh(Fl,function(y,M){X1[y]=function(){return arguments[0]=arguments[0][0],M.apply(this,arguments)}}),X1.deleteProperty=function(y,M){return Fl.deleteProperty.call(this,y[0],M)},X1.set=function(y,M,U){return Fl.set.call(this,y[0],M,U,y[0])};var Y8=function(){function y(U){var Z=this;this.g=X8,this.F=!0,this.produce=function(oe,fe,Ie){if(typeof oe=="function"&&typeof fe!="function"){var qe=fe;fe=oe;var Qe=Z;return function(kn){var _n=this;kn===void 0&&(kn=qe);for(var ir=arguments.length,sr=Array(ir>1?ir-1:0),Qn=1;Qn<ir;Qn++)sr[Qn-1]=arguments[Qn];return Qe.produce(kn,function(Rr){var Xs;return(Xs=fe).call.apply(Xs,[_n,Rr].concat(sr))})}}var xt;if(typeof fe!="function"&&oa(6),Ie!==void 0&&typeof Ie!="function"&&oa(7),ho(oe)){var ue=s3(Z),Ue=ud(Z,oe,void 0),Zt=!0;try{xt=fe(Ue),Zt=!1}finally{Zt?W1(ue):i3(ue)}return typeof Promise<"u"&&xt instanceof Promise?xt.then(function(kn){return Si(ue,Ie),od(kn,ue)},function(kn){throw W1(ue),kn}):(Si(ue,Ie),od(xt,ue))}if(!oe||typeof oe!="object")return(xt=fe(oe))===K1?void 0:(xt===void 0&&(xt=oe),Z.F&&$8(xt,!0),xt);oa(21,oe)},this.produceWithPatches=function(oe,fe){return typeof oe=="function"?function(Qe){for(var xt=arguments.length,ue=Array(xt>1?xt-1:0),Ue=1;Ue<xt;Ue++)ue[Ue-1]=arguments[Ue];return Z.produceWithPatches(Qe,function(Zt){return oe.apply(void 0,[Zt].concat(ue))})}:[Z.produce(oe,fe,function(Qe,xt){Ie=Qe,qe=xt}),Ie,qe];var Ie,qe},typeof(U==null?void 0:U.useProxies)=="boolean"&&this.setUseProxies(U.useProxies),typeof(U==null?void 0:U.autoFreeze)=="boolean"&&this.setAutoFreeze(U.autoFreeze)}var M=y.prototype;return M.createDraft=function(U){ho(U)||oa(8),Ol(U)&&(U=tp(U));var Z=s3(this),oe=ud(this,U,void 0);return oe[fo].C=!0,i3(Z),oe},M.finishDraft=function(U,Z){var oe=U&&U[fo],fe=oe.A;return Si(fe,Z),od(void 0,fe)},M.setAutoFreeze=function(U){this.F=U},M.setUseProxies=function(U){U&&!X8&&oa(20),this.g=U},M.applyPatches=function(U,Z){var oe;for(oe=Z.length-1;oe>=0;oe--){var fe=Z[oe];if(fe.path.length===0&&fe.op==="replace"){U=fe.value;break}}var Ie=V0("Patches").$;return Ol(U)?Ie(U,Z):this.produce(U,function(qe){return Ie(qe,Z.slice(oe+1))})},y}(),ps=new Y8;ps.produce,ps.produceWithPatches.bind(ps),ps.setAutoFreeze.bind(ps),ps.setUseProxies.bind(ps),ps.applyPatches.bind(ps),ps.createDraft.bind(ps),ps.finishDraft.bind(ps);var Z8={currentProjectStateDefinitionVersion:"0.4.0"},h3=Z8;async function RE(y,M,U){await G1(0),y.transaction(({drafts:Z})=>{var oe;const fe=M.address.projectId;Z.ephemeral.coreByProject[fe]={lastExportedObject:null,loadingState:{type:"loading"}},Z.ahistoric.coreByProject[fe]={ahistoricStuff:""};function Ie(){Z.ephemeral.coreByProject[fe].loadingState={type:"loaded"},Z.historic.coreByProject[fe]={sheetsById:{},definitionVersion:h3.currentProjectStateDefinitionVersion,revisionHistory:[]}}function qe(Ue){Z.ephemeral.coreByProject[fe].loadingState={type:"loaded"},Z.historic.coreByProject[fe]=Ue}function Qe(){Z.ephemeral.coreByProject[fe].loadingState={type:"loaded"}}function xt(Ue){Z.ephemeral.coreByProject[fe].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:Ue}}const ue=(oe=H8(Z.historic))==null?void 0:oe.coreByProject[M.address.projectId];ue?U&&ue.revisionHistory.indexOf(U.revisionHistory[0])==-1?xt(U):Qe():U?qe(U):Ie()})}function Q8(){}function J8(y){var M,U;const Z=(M=y==null?void 0:y.logging)!=null&&M.internal?(U=y.logging.min)!=null?U:256:1/0,oe=Z<=128,fe=Z<=512,Ie=YS(void 0,{_debug:oe?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):Q8,_error:fe?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):Q8});if(y){const{logger:qe,logging:Qe}=y;qe&&Ie.configureLogger(qe),Qe?Ie.configureLogging(Qe):Ie.configureLogging({dev:!1})}return Ie.getLogger().named("Theatre")}var p3=class{constructor(y,M={},U){this.config=M,this.publicApi=U,Y(this,"pointers"),Y(this,"_pointerProxies"),Y(this,"address"),Y(this,"_studioReadyDeferred"),Y(this,"_assetStorageReadyDeferred"),Y(this,"_readyPromise"),Y(this,"_sheetTemplates",new EE.Atom({})),Y(this,"sheetTemplatesP",this._sheetTemplates.pointer),Y(this,"_studio"),Y(this,"assetStorage"),Y(this,"type","Theatre_Project"),Y(this,"_logger");var Z;this._logger=J8({logging:{dev:!0}}).named("Project",y),this._logger.traceDev("creating project"),this.address={projectId:y};const oe=new EE.Atom({ahistoric:{ahistoricStuff:""},historic:(Z=M.state)!=null?Z:{sheetsById:{},definitionVersion:h3.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=Il(),this.assetStorage={getAssetUrl:fe=>{var Ie;return"".concat((Ie=M.assets)==null?void 0:Ie.baseUrl,"/").concat(fe)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new j8.PointerProxy(oe.pointer.historic),ahistoric:new j8.PointerProxy(oe.pointer.ahistoric),ephemeral:new j8.PointerProxy(oe.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},xe.add(y,this),this._studioReadyDeferred=Il(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),M.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window>"u"?console.error('Argument config.state in Theatre.getProject("'.concat(y,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout(()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(y,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(y,`" will be empty.

`)+`To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(y){if(this._studio){if(this._studio!==y)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));return}this._studio=y,y.initialized.then(async()=>{var M;await RE(y,this,this.config.state),this._pointerProxies.historic.setPointer(y.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(y.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(y.atomP.ephemeral.coreByProject[this.address.projectId]),await y.createAssetStorage(this,(M=this.config.assets)==null?void 0:M.baseUrl).then(U=>{this.assetStorage=U,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)}).catch(M=>{throw console.error(M),M})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(y,M="default"){let U=this._sheetTemplates.get()[y];return U||(U=new XO(this,y),this._sheetTemplates.reduce(Z=>G(R({},Z),{[y]:U}))),U.getInstance(M)}},f3=class{get type(){return"Theatre_Project_PublicAPI"}constructor(y,M={}){At(this,new p3(y,M,this))}get ready(){return ze(this).ready}get isReady(){return ze(this).isReady()}get address(){return R({},ze(this).address)}getAssetUrl(y){if(!this.isReady){console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.");return}return y.id?ze(this).assetStorage.getAssetUrl(y.id):void 0}sheet(y,M="default"){const U=t3(y);return ze(this).getOrCreateSheet(U,M).publicApi}};C(ve());var e6=Vt,ip=Vt;function t6(y,M={}){const U=xe.get(y);if(U)return U.publicApi;const oe=J8().named("Project",y);return M.state?(OE(y,M.state),oe._debug("deep validated config.state on disk")):oe._debug("no config.state"),new f3(y,M)}var DE=(y,M)=>{if(Array.isArray(M)||M==null||M.definitionVersion!==h3.currentProjectStateDefinitionVersion)throw new Kh("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(y),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))},OE=(y,M)=>{DE(y,M)};function m3(y,M,U){const Z=U?ze(U).ticker:O8();if((0,e6.isPointer)(y))return(0,ip.pointerToPrism)(y).onChange(Z,M,!0);if((0,ip.isPrism)(y))return y.onChange(Z,M,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function n6(y){if((0,e6.isPointer)(y))return(0,ip.pointerToPrism)(y).getValue();throw new Error("Called val(p) where p is not a pointer.")}var r6=class{constructor(){Y(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.0"}getBitsForStudio(y,M){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=y;const U={projectsP:xe.atom.pointer.projects,privateAPI:ze,coreExports:se,getCoreRafDriver:D8};M(U)}};i6();function i6(){if(typeof window>"u")return;const y=window[R8];if(typeof y<"u")throw typeof y=="object"&&y&&typeof y.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(R8," seems to be already set by a module other than @theatre/core."));const M=new r6;window[R8]=M;const U=window[lE];U&&U!==null&&U.type==="Theatre_StudioBundle"&&U.registerCoreBundle(M)}/*! Bundled license information:

	lodash-es/lodash.js:
	  (**
	   * @license
	   * Lodash (Custom Build) <https://lodash.com/>
	   * Build: `lodash modularize exports="es" -o ./`
	   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
	   * Released under MIT license <https://lodash.com/license>
	   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
	   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
	   *)
	*/})(lI,lI.exports);var uI=lI.exports;class mrt{constructor(e,n,r){this.name=e,this.fg=n,this.bg=r,this.PR=Math.round(window.devicePixelRatio||1),this.WIDTH=90*this.PR,this.HEIGHT=48*this.PR,this.TEXT_X=3*this.PR,this.TEXT_Y=2*this.PR,this.GRAPH_X=3*this.PR,this.GRAPH_Y=15*this.PR,this.GRAPH_WIDTH=84*this.PR,this.GRAPH_HEIGHT=30*this.PR,this.canvas=document.createElement("canvas"),this.canvas.width=90*this.PR,this.canvas.height=48*this.PR,this.canvas.style.width="90px",this.canvas.style.position="absolute",this.canvas.style.height="48px",this.canvas.style.cssText="width:90px;height:48px",this.context=this.canvas.getContext("2d"),this.context&&(this.context.font="bold "+9*this.PR+"px Helvetica,Arial,sans-serif",this.context.textBaseline="top",this.context.fillStyle=this.bg,this.context.fillRect(0,0,this.WIDTH,this.HEIGHT),this.context.fillStyle=this.fg,this.context.fillText(this.name,this.TEXT_X,this.TEXT_Y),this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT))}update(e,n,r,i,o=0){let u=1/0,d=0;this.context&&(u=Math.min(u,e),d=Math.max(r,e),i=Math.max(i,n),this.context.fillStyle=this.bg,this.context.globalAlpha=1,this.context.fillRect(0,0,this.WIDTH,this.GRAPH_Y),this.context.fillStyle=this.fg,this.context.fillText(e.toFixed(o)+" "+this.name+" ("+u.toFixed(o)+"-"+parseFloat(d.toFixed(o))+")",this.TEXT_X,this.TEXT_Y),this.context.drawImage(this.canvas,this.GRAPH_X+this.PR,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT,this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT),this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,this.GRAPH_HEIGHT),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,(1-n/i)*this.GRAPH_HEIGHT))}}const U_e=class oA{constructor({logsPerSecond:e=20,samplesLog:n=100,samplesGraph:r=10,precision:i=2,minimal:o=!1,horizontal:u=!0,mode:d=0}={}){this.totalCpuDuration=0,this.totalGpuDuration=0,this.totalFps=0,this.activeQuery=null,this.gpuQueries=[],this.renderCount=0,this.mode=d,this.horizontal=u,this.dom=document.createElement("div"),this.dom.style.cssText="position:fixed;top:0;left:0;opacity:0.9;z-index:10000;",o&&(this.dom.style.cssText+="cursor:pointer"),this.gl=null,this.query=null,this.isRunningCPUProfiling=!1,this.minimal=o,this.beginTime=(performance||Date).now(),this.prevTime=this.beginTime,this.prevCpuTime=this.beginTime,this.frames=0,this.renderCount=0,this.threeRendererPatched=!1,this.averageCpu={logs:[],graph:[]},this.averageGpu={logs:[],graph:[]},this.queryCreated=!1,this.fpsPanel=this.addPanel(new oA.Panel("FPS","#0ff","#002"),0),this.msPanel=this.addPanel(new oA.Panel("CPU","#0f0","#020"),1),this.gpuPanel=null,this.samplesLog=n,this.samplesGraph=r,this.precision=i,this.logsPerSecond=e,this.minimal?(this.dom.addEventListener("click",m=>{m.preventDefault(),this.showPanel(++this.mode%this.dom.children.length)},!1),this.mode=d,this.showPanel(this.mode)):window.addEventListener("resize",()=>{this.resizePanel(this.fpsPanel,0),this.resizePanel(this.msPanel,1),this.gpuPanel&&this.resizePanel(this.gpuPanel,2)})}patchThreeRenderer(e){const n=e.render,r=this;e.render=function(i,o){r.begin(),n.call(this,i,o),r.end()},this.threeRendererPatched=!0}resizePanel(e,n){e.canvas.style.position="absolute",this.minimal?e.canvas.style.display="none":(e.canvas.style.display="block",this.horizontal?(e.canvas.style.top="0px",e.canvas.style.left=n*e.WIDTH/e.PR+"px"):(e.canvas.style.left="0px",e.canvas.style.top=n*e.HEIGHT/e.PR+"px"))}addPanel(e,n){return e.canvas&&(this.dom.appendChild(e.canvas),this.resizePanel(e,n)),e}showPanel(e){for(let n=0;n<this.dom.children.length;n++){const r=this.dom.children[n];r.style.display=n===e?"block":"none"}this.mode=e}init(e){if(!e){console.error('Stats: The "canvas" parameter is undefined.');return}if(e.isWebGLRenderer&&!this.threeRendererPatched){const n=e;this.patchThreeRenderer(n),this.gl=n.getContext()}if(!this.gl&&e instanceof WebGL2RenderingContext)this.gl=e;else if(!this.gl&&e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas){if(this.gl=e.getContext("webgl2"),!this.gl){console.error("Stats: Unable to obtain WebGL2 context.");return}}else if(!this.gl){console.error("Stats: Invalid input type. Expected WebGL2RenderingContext, HTMLCanvasElement, or OffscreenCanvas.");return}this.ext=this.gl.getExtension("EXT_disjoint_timer_query_webgl2"),this.ext&&(this.gpuPanel=this.addPanel(new oA.Panel("GPU","#ff0","#220"),2))}begin(){this.isRunningCPUProfiling||this.beginProfiling("cpu-started"),!(!this.gl||!this.ext)&&this.gl&&this.ext&&(this.activeQuery&&this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.activeQuery=this.gl.createQuery(),this.activeQuery!==null&&this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,this.activeQuery))}end(){this.renderCount++,this.gl&&this.ext&&this.activeQuery&&(this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.gpuQueries.push({query:this.activeQuery}),this.activeQuery=null)}processGpuQueries(){!this.gl||!this.ext||(this.totalGpuDuration=0,this.gpuQueries.forEach((e,n)=>{if(this.gl){const r=this.gl.getQueryParameter(e.query,this.gl.QUERY_RESULT_AVAILABLE),i=this.gl.getParameter(this.ext.GPU_DISJOINT_EXT);if(r&&!i){const u=this.gl.getQueryParameter(e.query,this.gl.QUERY_RESULT)*1e-6;this.totalGpuDuration+=u,this.gl.deleteQuery(e.query),this.gpuQueries.splice(n,1)}}}))}update(){this.processGpuQueries(),this.endProfiling("cpu-started","cpu-finished","cpu-duration"),this.addToAverage(this.totalCpuDuration,this.averageCpu),this.addToAverage(this.totalGpuDuration,this.averageGpu),this.renderCount=0,this.totalCpuDuration=0,this.totalGpuDuration=0,this.totalFps=0,this.beginTime=this.endInternal()}endInternal(){this.frames++;const e=(performance||Date).now();if(e>=this.prevCpuTime+1e3/this.logsPerSecond&&(this.updatePanel(this.msPanel,this.averageCpu),this.updatePanel(this.gpuPanel,this.averageGpu),this.prevCpuTime=e),e>=this.prevTime+1e3){const n=this.frames*1e3/(e-this.prevTime);this.fpsPanel.update(n,n,100,100,0),this.prevTime=e,this.frames=0}return e}addToAverage(e,n){n.logs.push(e),n.logs.length>this.samplesLog&&n.logs.shift(),n.graph.push(e),n.graph.length>this.samplesGraph&&n.graph.shift()}beginProfiling(e){window.performance&&(window.performance.mark(e),this.isRunningCPUProfiling=!0)}endProfiling(e,n,r){if(window.performance&&n&&this.isRunningCPUProfiling){window.performance.mark(n);const i=performance.measure(r,e,n);this.totalCpuDuration+=i.duration,this.isRunningCPUProfiling=!1}}updatePanel(e,n){if(n.logs.length>0){let r=0,i=.01;for(let d=0;d<n.logs.length;d++)r+=n.logs[d],n.logs[d]>i&&(i=n.logs[d]);let o=0,u=.01;for(let d=0;d<n.graph.length;d++)o+=n.graph[d],n.graph[d]>u&&(u=n.graph[d]);e&&e.update(r/Math.min(n.logs.length,this.samplesLog),o/Math.min(n.graph.length,this.samplesGraph),i,u,this.precision)}}get domElement(){return this.dom}get container(){return console.warn("Stats: Deprecated! this.container as been replaced to this.dom "),this.dom}};U_e.Panel=mrt;let grt=U_e;function vrt(t){return ut.useEffect(()=>{function e(d){let m=null;return t.three.scenes.forEach(v=>{d.search(v.uuid)>-1&&(m=v)}),m}const n=d=>{const m=d.value,v=e(m),x=v==null?void 0:v.getObjectByProperty("uuid",m);x!==void 0?t.three.setObject(x):console.log(`Hermes - can't find object: ${m}`,v)},r=(d,m,v)=>{const x=e(d),S=x==null?void 0:x.getObjectByProperty("uuid",d);S!==void 0?ws(S,m,v):console.log(`Hermes - can't set object: ${d}`,x)},i=d=>{const m=d.value,{key:v,value:x,uuid:S}=m;r(S,v,x)},o=d=>{const m=d.value,v=e(m.uuid),x=v==null?void 0:v.getObjectByProperty("uuid",m.uuid);if(x!==void 0){const S=T=>{const R=m.key.split(".");switch(R.length){case 1:x[R[0]]=T;break;case 2:x[R[0]][R[1]]=T;break;case 3:x[R[0]][R[1]][R[2]]=T;break;case 4:x[R[0]][R[1]][R[2]][R[3]]=T;break;case 5:x[R[0]][R[1]][R[2]][R[3]][R[4]]=T;break}x.material.needsUpdate=!0};m.value.src.length>0?zW(m.value.src).then(T=>{T.offset.set(m.value.offset[0],m.value.offset[1]),T.repeat.set(m.value.repeat[0],m.value.repeat[1]),S(T)}):S(null)}},u=d=>{const{key:m,uuid:v,value:x,subitem:S}=d.value,T=e(v),R=T==null?void 0:T.getObjectByProperty("uuid",v);if(R!==void 0)try{S!==void 0?MVe(R,S)[m](x):R[m](x)}catch(G){console.log("Error requesting method:"),console.log(G),console.log(m),console.log(x)}};return ur.addEventListener(cr.GET_OBJECT,n),ur.addEventListener(cr.UPDATE_OBJECT,i),ur.addEventListener(cr.CREATE_TEXTURE,o),ur.addEventListener(cr.REQUEST_METHOD,u),()=>{ur.removeEventListener(cr.GET_OBJECT,n),ur.removeEventListener(cr.UPDATE_OBJECT,i),ur.removeEventListener(cr.CREATE_TEXTURE,o),ur.removeEventListener(cr.REQUEST_METHOD,u)}},[]),null}let gu,bs,Gy="";br.editor=document.location.hash.search("editor")>-1;function yrt(){const t=ut.useRef(null),e=ut.useRef(null),n=br.components.get("theatre"),r=br.components.get("three");br.components.get("debug"),ut.useEffect(()=>{if(n===void 0)return;const d=t.current;d.style.visibility=br.editor?"hidden":"inherit",n.sheet("App");const m=n==null?void 0:n.sheetObject("App","Box",{x:uI.types.number(100,{range:[0,window.innerWidth]}),y:uI.types.number(100,{range:[0,window.innerHeight]})},v=>{d.style.left=`${v.x}px`,d.style.top=`${v.y}px`});return()=>{m!==void 0&&(n==null||n.unsubscribe(m)),br.dispose()}},[]),br.editor||ut.useEffect(()=>(gu=new h6e({canvas:e.current,stencil:!1}),gu.autoClear=!1,gu.shadowMap.enabled=!0,gu.setPixelRatio(devicePixelRatio),gu.setClearColor(0),r.renderer=gu,()=>{gu.dispose()}),[]),ut.useEffect(()=>{let d;br.editor||(d=new grt,d.init(gu),document.body.appendChild(d.dom));let m=-1;const v=()=>{const S=window.innerWidth,T=window.innerHeight;bs==null||bs.resize(S,T),gu.setSize(S,T)},x=()=>{var S;(S=cg.rafDriver)==null||S.tick(performance.now()),bs==null||bs.update(),d.begin(),bs==null||bs.draw(),d.end(),d.update(),m=requestAnimationFrame(x)};return br.editor||(window.addEventListener("resize",v),v(),x()),()=>{bs!==void 0&&(r.removeCamera(bs.camera),r.removeScene(bs),ug(bs)),window.removeEventListener("resize",v),cancelAnimationFrame(m),m=-1}},[]);const i=()=>{bs!==void 0&&(bs.camera!==void 0&&r.removeCamera(bs.camera),r.removeScene(bs),ug(bs)),Gy==="scene1"?bs=new N_e(gu):bs=new B_e(gu),bs.resize(window.innerWidth,window.innerHeight)},o=()=>{Gy!=="scene1"&&(Gy="scene1",i())},u=()=>{Gy!=="scene2"&&(Gy="scene2",i())};return ut.useEffect(()=>{const d=t.current;d.style.visibility=br.editor?"hidden":"inherit";const m=x=>{console.log("Custom:",x.value)},v=x=>{const S=x.value.value;S==="scene1"?o():S==="scene2"&&u()};return ur.addEventListener(cr.CUSTOM,m),ur.addEventListener(cr.SELECT_DROPDOWN,v),()=>{ur.removeEventListener(cr.CUSTOM,m),ur.removeEventListener(cr.SELECT_DROPDOWN,v)}},[]),Ve.jsxs(Ve.Fragment,{children:[br.isApp&&Ve.jsx("canvas",{ref:e}),Ve.jsx("div",{id:"box",ref:t,children:Ve.jsx("button",{onClick:()=>{n.playSheet("Scene1")},children:"Click"})}),br.isApp&&Ve.jsxs("div",{style:{position:"absolute",bottom:"20px",left:"20px"},children:[Ve.jsx("button",{onClick:o,children:"Scene 1"}),Ve.jsx("button",{onClick:u,children:"Scene 2"})]}),Ve.jsx(vrt,{three:r})]})}function brt(){const[t,e]=ut.useState(!1);return ut.useEffect(()=>{const n=()=>{t_.removeEventListener(n_.LOAD_COMPLETE,n);const r=br.components.get("theatre"),i=R_e.get("animation");r.project=uI.getProject("RemoteApp",{state:i}),r.project.ready.then(()=>{e(!0)})};t_.addEventListener(n_.LOAD_COMPLETE,n),hrt()},[e]),Ve.jsxs(Ve.Fragment,{children:[!t&&Ve.jsx("p",{children:"Loading..."}),t&&Ve.jsx(yrt,{})]})}cg.rafDriver=uI.createRafDriver();N8e.initialize({__experimental_rafDriver:cg.rafDriver});kH.createRoot(document.getElementById("root")).render(Ve.jsx(Ve.Fragment,{children:Ve.jsxs(Ve.Fragment,{children:[Ve.jsx(frt,{}),Ve.jsx(brt,{})]})}));
